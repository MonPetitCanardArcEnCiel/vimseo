{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"documentation |     examples VIMSEO is a framework for the demonstration of simulation credibility, enabling Qualification/Certification by Analysis supported by tests     Integrate your models and build analysis workflows to assess credibility of simulations to support critical decision-making."},{"location":"#why-vimseo","title":"Why VIMSEO?","text":"<p>Making decisions based on simulations is a key enabler for reducing product development lead-time and costs. However, Simulation-driven product development or Qualification/Certification by analysis approaches require credible simulations, particularly in the context of critical applications.</p> <p>Notably, the ASME V&amp;V 10-2019 guideline describes a framework for Verification, Validation and Uncertainty Quantification (VV&amp;UQ)  that should be considered for rigorous credibility assessment.</p> <p>While these guidelines provide a foundation for the assessment of simulations credibility, their practical application still requires significant effort and knowledge from engineers and experts, including the definition and implementation of suitable organisation, methodologies, and infrastructure. Experts from industry or academia, engineers and also decision makers should share knowledge, capabilities, information and evidences to build simulations credibility. They need an operational and extensible VV&amp;UQ framework.</p> <p>This is where VIMSEO comes into play.</p>"},{"location":"#installation","title":"Installation","text":"<p>Install the latest version with <code>pip install vimseo</code>.</p> <p>See pip for more information.</p>"},{"location":"#what-is-vimseo","title":"What is VIMSEO?","text":"<p>A Virtual Testing Framework to provide the foundational architecture and toolbox needed to integrate modelling and simulation capabilities, set up traceable analysis workflows and provide tailored visualisation to support decision-making.</p> <p>VIMSEO is a software library that supports the implementation of a Verification, Validation and Uncertainty Quantification (VV&amp;UQ) process for the credibility assessment of Modelling and Simulation (M&amp;S) capabilities. By providing a framework for the integration of M&amp;S capabilities, a toolbox for performing VV&amp;UQ analyses, a workflow engine to define and execute custom analysis processes, as well as a database to share and visualise results with stakeholders, VIMSEO is the perfect companion to set up simulation-driven decision-making.</p> <p>VIMSEO provides the following building blocks:</p> <ul> <li> <p>A wrapper for model integration. It is based on the Multi Disciplinary Optimisation (MDO) library GEMSEO. Since VIMSEO models derive from GEMSEO Disciplines, they can be readily use in MDO scenarios. VIMSEO model wrapper is particularly relevant for models based on Finite-Element Analysis (FEA) and in general any model using mesh discretisation. A wrapper specific to models based on Abaqus FEA software is available.</p> </li> <li> <p>A wrapper for analysis methods: standard analysis methods are already integrated to run VV&amp;UQ workflows (see figure below), namely code and solution verification, uncertainty quantification, sensitivity analysis, surrogate modelling or stochastic validation. Other analysis tools allows to exploit validated simulations to support design offices (e.g. generate virtual allowables).</p> </li> </ul> <p></p> <ul> <li> <p>Heavy models can be run on High Performance Computing (HPC) clusters, by selecting a specific model executor instead of the default interactive executor.</p> </li> <li> <p>Model and analysis settings can be arbitrarily complex thanks to Pydantic, which allows an Object-Oriented settings definition, and also ensures verification of the passed settings.</p> </li> <li> <p>Model and analysis wrappers integrate traceability and storage capabilities (database), based on MLflow tracking.</p> </li> </ul> <p>Using this framework ensures a consistent way of building and capitalising M&amp;S and analysis methodologies. It avoids (re)developing generic capabilities, in particular traceability and storage of simulation and analysis data which directly contributes to increasing the credibility of simulations.</p> <p>VIMSEO helps the model developers and analysis experts integrate VV&amp;UQ-ready capabilities, enabling them to set up and run tailored VV&amp;UQ processes to assess their credibility.</p>"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li>I want to capitalise modelling capabilities (analytical, FEM, CFD, ...)</li> <li>I want to execute a model remotely, possibly on HPC</li> <li>I want to assess the credibility of a model through the framework of VV&amp;UQ</li> <li>I want to identify model parameters based on a set of reference data, through a calibration sequence</li> <li>I want to propagate input uncertainties to model outputs</li> <li>I want to assess time/space discretisation error of a model</li> <li>I want to perform stochastic validation of a model (i.e. using stochastic error metrics) based on a set of reference data capturing input uncertainties</li> <li>I want to transfer modelling and analysis capabilities from experts to engineers</li> <li>I want to build a database of model results and analysis results, for a-posteriori analysis of   model accuracy and adequacy for a given application</li> </ul>"},{"location":"#quick-start","title":"\u26a1 Quick Start","text":""},{"location":"#model-exploration","title":"Model exploration","text":"<p>VIMSEO integrates (among others) a model that represents a straight beam subjected to different bending load cases and boundary conditions. It is based on Bernoulli hypothesis and a linear isotropic material.</p> <p>In this first quick start, the user entry point is scripting mode in Python. The model is first created. The <code>MLflowArchive</code> manager is chosen such that the results are store in a local MLflow database.</p> <p>Then, the material associated with the model, characterised by a stochastic Young modulus and Poisson's ratio, is sampled on 20 points with a Latin Hypercube.</p> <pre><code>from __future__ import annotations\n\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.doe.doe import DOEInputs\nfrom vimseo.tools.doe.doe import DOESettings\nfrom vimseo.tools.doe.doe import DOETool\n\nmodel_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"mlflow_archive/visualize_model_result\",\n        directory_scratch_root=f\"scratch/visualize_model_result\",\n        archive_manager=\"MlflowArchive\",\n    ),\n)\n\ntool = DOETool()\ntool.execute(\n    inputs=DOEInputs(\n        model=model, parameter_space=model.material.to_parameter_space()\n    ),\n    settings=DOESettings(n_samples=20),\n)\ntool.execute()\ntool.save_results()\ntool.plot_results(tool.result, show=True)\n</code></pre> <p>The database GUI is then opened to explore the results:</p> <pre><code>mlflow ui  --backend-store-uri file:\\\\\\\\\\\\C:\\\\Users\\\\john.doe\\\\sandbox\\\\mlflow_archive\\\\visualize_model_result\n</code></pre> <p></p> <p>All simulation runs have been stored. The GUI allows to query some runs based on a SQL-like syntax (see MLflow Tracking for more information).</p> <p></p> <p>The GUI also proposes basic exploration visualisations. In this contour plot, in the central region, we see vertical isolines, indicating that the beam's reaction force only depends on the Young modulus. It is effectively the case since in this simple analytical model, Poisson's ratio is not taken int account. The complex isolines on the right and left borders are artefacts due to a lack of sampling.</p>"},{"location":"#sensitivity-analysis","title":"Sensitivity analysis","text":"<p>In this second quick start, the user's entry points is a dashboard. The <code>dashboard_workflow</code> allows to define a workflow of model analysis:</p> <pre><code>dashboard_workflow\n</code></pre> <p>Here a sensitivity analysis on the above linear beam model is defined, exploring a parameter space defined by the geometry of the beam:</p> <p></p> <p>The workflow can be downloaded as a <code>JSON</code> file. It means that a workflow can be fully serialised in a human-readable format.</p> <p>Then, the workflow can be executed through the <code>workflow_executor</code> command, to which the path to the workflow <code>JSON</code> file is passed:</p> <pre><code>workflow_executor.exe C:\\\\Users\\\\john.doe\\\\Downloads\\\\john.doe_2025-10-03_T10-01-04_Workflow.json\nWorkflow results: {'model1': BendingTestAnalytical\n   Inputs: height, imposed_dplt, length, nu_p, relative_support_location, width, young_modulus\n   Outputs: cpu_time, date, description, directory_archive_job, directory_archive_root, directory_scratch_job, directory_scratch_root, dplt, dplt_at_force_location, dplt_grid, error_code, job_name, load_case, location_max_dplt, machine, maximum_dplt, model, moment, moment_grid, n_cpus, persistent_result_files, reaction_forces, user, vims_git_version, 'space1': Parameter space:\n+--------+-------------+-------------------+-------------+-------+--------------------------------------------------+--------------------+\n| Name   | Lower bound |       Value       | Upper bound | Type  |               Initial distribution               | Transformation(x)= |\n+--------+-------------+-------------------+-------------+-------+--------------------------------------------------+--------------------+\n| length |     570     | 604.0714700028468 |     630     | float | Triangular(lower=570.0, mode=600.0, upper=630.0) |      Trunc(x)      |\n| width  |     28.5    | 30.78498297907959 |     31.5    | float |  Triangular(lower=28.5, mode=30.0, upper=31.5)   |      Trunc(x)      |\n| height |      38     | 41.63483214184417 |      42     | float |  Triangular(lower=38.0, mode=40.0, upper=42.0)   |      Trunc(x)      |\n+--------+-------------+-------------------+-------------+-------+--------------------------------------------------+--------------------+,\n'indices1': MorrisAnalysis.SensitivityIndices(mu={'reaction_forces': [{'length': array([220.64039355]), 'width': array([-112.47100512]), 'height': array([-424.28003754])}]}, mu_star={'reaction_forces': [{'length': array([643.73448155]), 'width': array([112.47100512]), 'height': array([424.28003754])}]}, sigma={'reaction_forces': [{'length': array([678.48213518]), 'width': array([23.12801862]), 'height': array([132.24363825])}]}, relative_sigma={'reaction_forces': [{'length': array([1.05397824]), 'width': array([0.20563539]), 'height': array([0.31168951])}]}, min={'reaction_forces': [{'length': array([335.89282962]), 'width': array([92.30668277]), 'height': array([287.39919242])}]}, max={'reaction_forces': [{'length': array([1040.80989219]), 'width': array([148.73381196]), 'height': array([631.69372198])}]})}\n</code></pre> <p>The result of the analysis defined in each workflow step is stored on disk, in a directory having the name of the analysis.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Model wrapping: with specific approach for mesh-based models: a flexible pre-run-post approach allows to reuse pre or post-processings, that are defined separately of the model run on the built mesh. In addition to reducing the code-base for model integration, reusing pre and post-processing for several models ensures that the same meshing approach and boundary condition modelling is used, which is a key aspect when validating several models using the same model form declined for different geometries and boundary conditions.</li> <li>Storage: of model results and analysis results</li> <li>Scalability for heavy numerical models: with custom HPC executors for each HPC platform and solver.</li> <li>Building block analysis tools for UQ&amp;M and VV&amp;UQ workflows:</li> <li>Identification of model parameters through user-defined calibration sequence: with uncertainty information on the calibrated quantities and versatile calibration metrics taking scalar, vector or curve outputs.</li> <li>Easy creation of standard VV&amp;UQ workflows:</li> <li>Handling of scalar and vector quantities: probability distributions on vector quantities   can be finely defined, with dedicated marginals by component and copula.   It allows to define vector parameter space with a fine control of their parametric distribution.</li> <li>Dashboards: to define workflows and visualise results in the database.</li> </ul>"},{"location":"#using-vimseo","title":"Using VIMSEO","text":"<ul> <li>References and API: get the description and definition of concepts and API.</li> <li>How-to: solve practical problems by exploring runnable examples and how-to.</li> </ul>"},{"location":"#learning-vimseo","title":"Learning VIMSEO","text":"<ul> <li>Tutorials and Explanations: learn through discussions and tutorials about key topics.</li> </ul>"},{"location":"#roadmap","title":"Roadmap","text":"<p>Continue developing generic IT services like remote execution of simulations with monitoring.</p> <p>Use a workflow orchestration library, offering a GUI to setup the workflow graph, and live monitoring of the execution.</p> <p>Ensure lineage between reference data and simulation results, for example using MLflow Dataset traceability features.</p> <p>Facilitates model integration, which is a time-consuming task, by allowing to run the model under integration stage step by step, with proper error management.</p> <p>Ensure a coherence between the tools (verification, validation, calibration) in order to build robust model credibility indicators and reliable use of the models downstream.</p>"},{"location":"#license","title":"License","text":"<p>This software was developed by IRT Saint EXUPERY within the framework of the TRUST research project and the VITAL resarch project. VIMSEO is licensed by IRT SAINT EXUPERY under the GNU LESSER GENERAL PUBLIC LICENSE, version 3.0. A copy of this license is provided in the LICENSE file.</p>"},{"location":"#contribution","title":"Contribution","text":"<p>We welcome contributions! Please refer to the contribution guidelines.</p> <p>Please use the github issue tracker to submit bugs or questions.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>Refer to our contribution guide here: Contributing</p>"},{"location":"#contributors","title":"Contributors","text":"<ul> <li>VIMSEO developers</li> </ul>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#changelog","title":"Changelog","text":"<p>All notable changes of this project will be documented here.</p> <p>The format is based on Keep a Changelog and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#version-xxx-date","title":"Version X.X.X (date)","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>XXX</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>XXX</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>XXX</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#contributing","title":"Contributing","text":"<p>Since January 2026, VIMSEO is open source, under the LGPL v3 license. The project is hosted on github.</p>"},{"location":"contributing/#contributions","title":"Contributions","text":"<p>Anyone can contribute to the development of GEMSEO. The types of contributions are multiple:</p> <ul> <li>improving the documentation,</li> <li>declaring a bug, solving a bug,</li> <li>answering questions,</li> <li>proposing a new algorithm,</li> <li>suggesting a new feature,</li> <li>etc.</li> </ul> <p>[//]: # In order to elicit contributions, we invite you to read the Roadmap.</p>"},{"location":"contributing/#contact","title":"Contact","text":"<p>You can contact the VIMSEO team at sebastien.bocquet@irt-saintexupery.com for any question related to VIMSEO.</p>"},{"location":"contributing/#developer-certificate-of-origin","title":"Developer Certificate of Origin","text":"<p>Any contribution must be accompanied with a Developer Certificate of Origin (DCO), certifying that the contribution is compatible with VIMSEO software licence.</p> <p>By signing your git commit, you agree with the Developer Certificate of Origin. To do so, please add the <code>-s</code> option to you git commit command. This will add the following content at the end of your commit message:</p> <pre><code>Signed-off-by: Name &lt;email address&gt;\n</code></pre>"},{"location":"contributing/#development","title":"Development","text":"<p>For the technical aspects, we invite you to read: Developer information.</p>"},{"location":"credits/","title":"Credits","text":""},{"location":"credits/#exec-1--credits","title":"Credits","text":"<p>The developers thank all the open source libraries making <code>vimseo</code> possible.</p>"},{"location":"credits/#exec-1--external-dependencies","title":"External Dependencies","text":"<p><code>vimseo</code> depends on software with compatible licenses that are listed below.</p> Project License <code>Python</code> Python Software License <code>emcee</code> MIT <code>eval-type-backport</code> MIT <code>future</code> MIT <code>gemseo-vimseo</code> GNU Lesser General Public License v3 <code>gemseo_calibration-vimseo</code> GNU Lesser General Public License v3 <code>meshio</code> MIT License <code>mlflow</code> Apache Software License <code>nbformat</code> BSD License <code>openturns</code> LGPL <code>plotly</code> MIT <code>pydantic-settings</code> MIT License <code>pytest-csv</code> GPLv3 <code>pyyaml</code> MIT <code>seaborn</code> BSD License <code>statsmodels</code> BSD License <code>streamlit</code> Apache License 2.0 <code>streamlit-pydantic-sebastienbocquet</code> MIT License"},{"location":"credits/#exec-1--external-applications","title":"External applications","text":"<p>Some external applications are used by <code>vimseo</code>, but not linked with the application, for testing, documentation generation, training or example purposes.</p> Project License <code>commitizen</code> ? <code>docformatter</code> ? <code>insert-license</code> MIT <code>pre-commit</code> ? <code>pygrep-hooks</code> MIT <code>ruff</code> ? <code>setuptools</code> ? <code>setuptools-scm</code> ?"},{"location":"licenses/","title":"Licenses","text":""},{"location":"licenses/#licenses","title":"Licenses","text":""},{"location":"licenses/#gnu-lgpl-v30","title":"GNU LGPL v3.0","text":"<p>The <code>vimseo</code> source code is distributed under the GNU LGPL v3.0 license. <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis program is free software; you can redistribute it and/or\nmodify it under the terms of the GNU Lesser General Public\nLicense version 3 as published by the Free Software Foundation.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nLesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with this program; if not, write to the Free Software Foundation,\nInc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n</code></pre></p>"},{"location":"licenses/#bsd-0-clause","title":"BSD 0-Clause","text":"<p>The <code>vimseo</code> examples are distributed under the BSD 0-Clause <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis work is licensed under a BSD 0-Clause License.\n\nPermission to use, copy, modify, and/or distribute this software\nfor any purpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL\nWARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL\nTHE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT,\nOR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING\nFROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,\nNEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION\nWITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n</code></pre></p>"},{"location":"licenses/#cc-by-sa-40","title":"CC BY-SA 4.0","text":"<p>The <code>vimseo</code> documentation is distributed under the CC BY-SA 4.0 license. <pre><code>Copyright 2021 IRT Saint Exup\u00e9ry, https://www.irt-saintexupery.com\n\nThis work is licensed under the Creative Commons Attribution-ShareAlike 4.0\nInternational License. To view a copy of this license, visit\nhttp://creativecommons.org/licenses/by-sa/4.0/ or send a letter to Creative\nCommons, PO Box 1866, Mountain View, CA 94042, USA.\n</code></pre></p>"},{"location":"_draft_design/plugins/","title":"Plugins","text":""},{"location":"_draft_design/plugins/#mermaid","title":"```mermaid","text":""},{"location":"_draft_design/plugins/#title-vimseo-plugins","title":"title: VIMSEO Plugins","text":"<p>graph vimseo[\"vimseo\"] vimseo-dashboards[\"vimseo-dashboards\"] vimseo-abaqus[\"vimseo-abaqus\"] vimseo-projectXXX[\"vimseo-projectXXX\"] vimseo-projectXXX --&gt; vimseo vimseo-projectXXX --&gt; vimseo-abaqus vimseo-projectXXX --&gt; vimseo-dashboards</p>"},{"location":"explanations/decision_making_support/","title":"Decision making support","text":""},{"location":"explanations/decision_making_support/#decision-making-support","title":"Decision-making support","text":""},{"location":"explanations/decision_making_support/#introduction","title":"Introduction","text":"<p>This chapter elaborates on how VIMSEO can be used to consolidate credibility indicators to support simulation-based decision-making.</p>"},{"location":"explanations/decision_making_support/#prerequisites","title":"Prerequisites","text":""},{"location":"explanations/decision_making_support/#implementation-of-a-vvuq-process","title":"Implementation of a VV&amp;UQ process","text":""},{"location":"explanations/decision_making_support/#consolidation-of-credibility-indicators","title":"Consolidation of credibility indicators","text":""},{"location":"explanations/decision_making_support/#gaprisk-analysis","title":"Gap/risk analysis","text":""},{"location":"explanations/decision_making_support/#conclusion","title":"Conclusion","text":""},{"location":"explanations/model_validation/","title":"Model Validation","text":""},{"location":"explanations/model_validation/#model-validation-under-uncertainty","title":"Model Validation under Uncertainty","text":""},{"location":"explanations/model_validation/#introduction","title":"Introduction","text":"<p>This document aims at summarizing concepts about the validation of computational physics type model, and ideally draft an implementable procedure to evaluate model accuracy and adequacy. We choose to focus on the concepts provided by Romero <sup>1</sup>, rather than making a review of the stochastic validation metrics.</p> <p>We also choose, as proposed by Romero, to put at the centre the evaluation of the risk of making erroneous extrapolative predictions for downstream applications. Indeed, the aim of model validation is to generate knowledge for downstream applications, in order to condition the model to minimize extrapolation errors. These knowledge go beyond deterministic accuracy criteria (the model should be close the experiment to less than \\(10 \\%\\)).</p> <p>For instance, if a model is validated from a deterministic point of view (in the mean sense) with respect to four experimental data, and that the model accuracy for a scalar output is found to be \\([2\\%, 5\\%, -10\\%, 8\\%]\\), how can this result be used to gain confidence in the model for extrapolations further away than a small variation around the validation points?</p> <p>Once model predictions are performed beyond the validation points, we cannot bound the obtained error. However, assessing the risk of obtaining a large error is useful information. The approach in this document is to gather procedures, even if they are qualitative criteria, allowing to bring useful information for the use of the model for downstream extrapolative applications, and go beyond an accuracy evaluation.</p> <p>Indeed, how to justify the expensive cost of validation experiments and model development if they have no effect on the downstream extrapolative predictions? So validation should be carried out such that the model can be modified regarding a given downstream application (see model conditioning<sup>2</sup>) It requires more than just accuracy evaluation.</p> <p>In terms of terminology, model validation is defined by the Society for modelling and Simulation International <sup>3</sup> like this:</p> <p>Quote</p> <p>\u201cModel Validation is the substantiation that a computerized model within its domain of applicability possesses a satisfactory range of accuracy consistent with the intended application of the model.\u201d</p> <p>Romero<sup>1</sup> proposes a more operational definition:</p> <p>Quote</p> <p>Validation is the compilation of useful indicators regarding the accuracy and adequacy of a model\u2019s predictive capability for output quantities (possibly filtered and transformed) that are important to predict for an identified purpose, where meaningful comparisons of experiment and simulation results are conducted at points in the modelling space that present significant prediction tests for the model use purpose.</p> <p>Since validation basically consists in comparing evaluated accuracy to an accuracy requirement, we will also briefly discuss the evaluation of adequacy requirements, including the case of allocating accuracy and uncertainty budgets from system-level to component level.</p>"},{"location":"explanations/model_validation/#1-validation-framework","title":"1. Validation framework","text":"<p>As denoted by the title of this document, the validation activity discussed here considers that the observed real system has:</p> <ul> <li>stochastic inputs (such as a material property)</li> <li>measurement errors (measurement of system outputs is uncertain and possibly biased due to type A and B errors</li> </ul> <p>Note</p> <p>It does not mean that the model itself is stochastic. All models considered in VIMSEO have a deterministic form (same inputs give same outputs). This document considers deterministic model form.</p> <p>It means that we are in the framework of stochastic validation.</p>"},{"location":"explanations/model_validation/#sources-of-uncertainty","title":"Sources of uncertainty","text":"<p>Since we are performing a stochastic validation activity, we now describe the sources of uncertainty, both from the experiments and the simulations.</p> <p>In general the net experimental uncertainty may include contributions from (Romero 2011):</p> <ul> <li>A. test-to-test stochastic variability, including:<ul> <li>the tested systems and/or phenomena (e.g. part geometries, material properties, stochastic behaviour, etc.);</li> <li>measurement and processing errors on system outputs;</li> <li>measurement and processing errors on system inputs (environmental conditions, applied loading/excitation, etc.);</li> </ul> </li> <li>B. epistemic uncertainty on applicable response statistics or quantities determined from limited sampling of the above stochastic factors in a limited number of repeated experiments;</li> <li>C. systematic bias uncertainties associated with measurement of system outputs and any procedures and models used to process, correct, and/or interpret the measured data;</li> <li>D. systematic measurement and processing uncertainty on system inputs and experimental factors, including apparatus/setup, test conditions, and boundary conditions.</li> </ul> <p>Now regarding simulation uncertainty, they issue from:</p> <ul> <li>uncertainties from numerical discretization effects</li> <li>results processing</li> <li>input uncertainties in the model simulations (e.g. uncertainty in the experimental conditions)</li> <li>model-intrinsic uncertainties, including model-form and model parameters (uncertainties     on the calibrated parameters).     Note that model-intrinsic uncertainties are a-priori uncertainties of the validation,     since we validate a conditioned (calibrated) model.</li> </ul>"},{"location":"explanations/model_validation/#stochastic_validation","title":"Stochastic validation","text":"<p>We introduce the concept of validation domain <sup>4</sup>, which is a key notion in VV&amp;UQ framework, in relation with the verification domain and application domain. The comparison of these domains indicates if the model is used in interpolation or extrapolation regarding a given application.</p> <p></p> <p>A validation domain is composed of validation points, themselves composed of several observations, denoted as samples in the following (because in the simulations, we reproduce the experimental observations but we cannot denote these simulation conditions as observations).</p> <p></p> <p>We introduce the notation of \"validation case\" to denote a set of validation points corresponding to a given experiment.</p> <p>Following the notations of <sup>4</sup>, the relationship between the experimental observations and the model for each observation is:</p> \\[ y_{true} = g_s(x) - e_{y,obs} = g_m(x, \\theta, h) - (e_m + e_x + e_{\\theta} + e_h) \\] <p>where:</p> <ul> <li>\\(e_{y,obs}\\) is the observational, or measurement error</li> <li>\\(e_m\\) is the model form error</li> <li>\\(e_x\\) is the input errors. We have not found its definition in Riedmaier paper. We assume that this term includes:<ul> <li>measurement errors of the inputs</li> <li>error when mapping observed input samples to simulation input samples.   Indeed, at a validation point, we have in general a small number of   experimental observations. From these samples, we infer a probability distribution   of the input, and sample this distribution with possibly a large number of   points, before propagating through the model.   This operation can lead to errors, in the sense that the simulation input points   may not accurately represent the experimental stochastic input.</li> </ul> </li> <li>\\(e_{\\theta}\\) is the parameter error. We assume that this error corresponds to calibration error</li> <li>\\(e_h\\) is the discretization error (including mesh resolution error, numerical truncature, numerical cancelation etc...)</li> </ul> <p>Note</p> <p>As described by the standard VV&amp;UQ workflows (verification -&gt; calibration -&gt; validation), we are not seeking to demonstrate that the model form and parameter calibration are each correct, but rather consider the effectiveness of the whole (calibration and model form) for downstream extrapolative predictions. So \\(e_m\\) and \\(e_{\\theta}\\) can be fused as a model form error.</p> <p>Considering the response of the system, we have on the simulation side:</p> \\[ gm: (x_{mod}, \\theta) \\rightarrow y_m \\] <p>where \\(x_{mod}\\) are the inputs considered to affect the system behaviour, and \\(\\theta\\) are the model parameters. And on the experimental side:</p> \\[ gs: (x_{con}, x_{unc}) \\rightarrow y_s \\] <p>where \\(x_{con}\\) are the controlled inputs, and \\(x_{unc}\\) the uncontrolled inputs. \\(x_{mod}\\) is a subset of the union of \\(x_{con}\\) and \\(x_{unc}\\).</p>"},{"location":"explanations/model_validation/#test-pyramid","title":"Test pyramid","text":"<p>We also assume that we are working in the context of a test pyramid, supported by the VV&amp;UQ concepts. To make this concept effective for accumulating knowledge on some modelling approach with a final objective of performing predictive applications with a model, then an underlying concept is necessary. It is called the travelling model and will be discussed in the next section. The idea is that the subject of the validation are not the individual strong models composing the pyramid, but the travelling model, which is progressively calibrated and validated on the load cases of the pyramid, thus accumulating knowledge on this travelling model that will help to assess the confidence in downstream extrapolative predictions.</p>"},{"location":"explanations/model_validation/#traveling-model-and-experimental-model","title":"Traveling Model and Experimental Model","text":"<p>A first question regarding validation is what is the subject of the validation. Let's consider the example given by <sup>1</sup>, in which a different conclusions on model adequacy are drawn due to a lack of definition of what is validated.</p> <p>Consider a model that returns the recharge rate of groundwater, taking as input, among others, the precipitations and the stream recharge. The validation uses reference data over period 2010-2020. The stream recharge is evaluated from a calibration over period 2000-2010. Then, including or not the stream recharge into the model under validation (which means, consider that the calibrated value holds or that it is an input of the validation) will change the conclusions on the model adequacy. Indeed, if it is included in the model, then the model will be considered adequate only if the stream recharge is sufficiently close between periods 2000-2010 and 2010-2020, which is a very hazardous hypothesis.</p> <p>So the travelling model must be precisely contoured before the validation activity.</p> <p>The travelling model concept is useful because it allows to compare discrepancies for several load cases, thus increasing the amount of knowledge, which makes more robust the downstream use of the model for an application. The validation of a travelling model on several load case is also natural in the context of the test pyramid approach, where the lower level includes a large range of load cases necessary to calibrate the model.</p> <p>Since the travelling model interface must be common to several load cases, a travelling model cannot be directly compared to an experiment. Indeed, if the load cases involve different boundary conditions, then additional models (called auxiliary model) are necessary to map the experiment inputs and outputs.</p> <p>The leads us to the concept of strong and weak models.</p> <p>A weak model is a model which cannot directly represent a physical system. On the contrary, a strong model does.</p> <p></p> <p>In the above figure, the travelling model is the L-shape specimen, and the surrounding layer necessary to substantiate this \"model\" into a runnable experiment is all the surrounding apparatus. This surrounding layer, both in the simulation or experimental context, may be called auxiliary models. The final system is an experimental model (e-model), which by definition is a strong model.</p> <p>The idea that a substantiated model (a simulation that can be compared to an experiment) can be decomposed into a travelling model and a surrounding layer (the union of both being a strong model), can also be applied to an experiment. The notion of e-model (experimental-model) is useful since it allows to draw a parallel with the simulation counterpart (how the modelled and physical auxiliary models compose).</p> <p></p> <p>The above figure illustrates this decomposition. Here, for simplicity, the simulated and reference travelling models are considered equal. So the travelling model perfectly matches the experiment (validation should return zero discrepancy). However, to be compared to an experimental reference, the simulated travelling model must be instantiated (substantiated) as a strong model. As a result, even if the experimental and simulated travelling model are the same, a mismatch between prediction and experiment can still be observed, due to the fact that the auxiliary models in the simulation and experiment are different.</p> <p>The travelling model can contain uncertainties that are inherently affiliated with the travelling model, such as an uncertainty range on parameter values in a turbulence or material model. These uncertainties are defined prior to the current experiment (they are not determined by the experiment) and come to the experiment model as a priori uncertainties in model form and/or parameter values.</p> <p>To obtain a useful validation, one requirement is that the auxiliary models yield a bias and an uncertainty smaller than the ones due to the travelling model. As a result, it is crucial to carefully document the auxiliary models in the simulations and the experiment. This aspect is often not sufficiently handled.</p> <p>Another question is whether we should include the mesh in the travelling model. If not included, then solution verification should be carried out for each geometry change. If included, it is not necessary. In the latter case, it is assumed that a geometry-adaptive automatic mesh generation is performed, and that this mesh generation strategy is part of the travelling model. The underlying hypothesis is that the mesh quality is uniform over the validation and application spaces. This approach is the one adopted for the models integrated in the <code>vimseo-composites</code> plug-in.</p> <p>It seems attractive to use the fact that the travelling model input and output spaces remain the same during the whole validation activity for all strong models built on it. As a result, we may consider gathering on a scatter matrix plot the travelling model input versus the discrepancy to the experiments for all the samples of the validation points, and for each strong model validation. This plot may show regions where the travelling model shows large or small discrepancy, which would be useful knowledge for model downstream predictions, and for model error inference/ bias correction for applications.</p> <p>This approach is possible only if the travelling model input (resp. output) space can be mapped onto the experiment input (resp. output) space Indeed, in the end, the discrepancy must be computed in the experiment output space (and thus the strong model output space).</p> <p>It is not always possible. For example, if the travelling model is a material damage subroutine, and the subroutine is used in a Finite Element solver, then the input space of the travelling model is the stress or strain values at the Gauss points in each finite element of the strong model mesh, and its output space is a displacement value at each Gauss point. As a result, the travelling model output space cannot be directly compared to the experiment output, and thus a discrepancy cannot be computed. In this case, the discrepancy scatter plot matrix can only be plotted per strong model (one for each strong model), thus reducing the number of points per plot and weakening the analysis of model error behaviour.</p> <p>Note</p> <p>As a result, the definition of a mapping of the travelling to the strong model spaces is a key question. While it does not seem obvious at first sight, we can note that if we were able to detect the regions in the specimen that mostly control the discrepancy, then we could extract the input values of the travelling model in this region and associate them to the discrepancy. Assuming that the region of interest reduces to single or a few points, this procedure could be applied to all strong models, and finally a global scatter matrix of discrepancy over the input space could be plotted for all strong model validation cases.</p>"},{"location":"explanations/model_validation/#3-adequacy-requirements","title":"3. Adequacy requirements","text":"<p>Before proceeding to model-versus-experiment discrepancy evaluation, we briefly discuss adequacy requirements. Indeed, one typical criterion (error \\(&lt; 10 \\%\\)), and is it sufficient to assess a risk of model extrapolation error.</p> <p>We may distinguish between model accuracy and model adequacy:</p> <ul> <li>accuracy:</li> </ul> <p>Quote</p> <p>\u2018accuracy\u2019 pertains to the model\u2019s mapping of inputs to output results, not to accuracy/correctness of the model\u2019s internal representations of reality.</p> <ul> <li>adequacy pertains to how the model is satisfactory, or effective, or acceptable for downstream applications.</li> </ul> <p>Adequacy is certainly more than an accuracy criterion (a threshold on a scalar metric). In the adequacy criteria section, we will attempt to provide adequacy criteria, either quantitative or not.</p>"},{"location":"explanations/model_validation/#case-of-single-model-validation","title":"Case of single model validation","text":"<p>To illustrate the importance of adequacy criterion, we consider the case where a single (strong) model is validated, and that the adequacy requirement is reduced to a lower bound accuracy criterion.</p> <p>Romero (2011) argues that setting a-priori accuracy criteria is counter-productive. Indeed, imagine that we set a \\(2 \\%\\) maximum error on the model. Then, we need an experiment to evaluate the error. Since the model cannot be validated to better accuracy than the experiment, the a-priori maximum error criterion means that the experimental uncertainty must be less than \\(2 \\%\\). This constraint directly drives the cost of the experiment, and the experiment may be found unfeasible to conceive for a given budget with such a low uncertainty. So, when setting adequacy criterion, one main driver is the experiment cost and feasibility regarding its repeatability. These aspects are thus to be considered prior considering model adequacy criterion.</p>"},{"location":"explanations/model_validation/#adequacy-requirements-in-multi-level-systems","title":"Adequacy requirements in multi-level systems","text":"<p>In the context of a travelling model being substantiated in several strong models for various applications, the validation of the travelling model necessarily involves the definition of a hierarchy of strong models, the so-called test pyramid.</p> <p>A bottom-up validation approach is considered as the standard process, where sub-models are progressively validated from the lower level to the higher level. However, as mentioned in the previous section, a-priori adequacy criteria should be avoided at sub-model level.</p> <p>We can assume that adequacy criteria can be defined at system level. Examples of quantitative adequacy criteria may be accuracy criterion (the mean value of the prediction should be close to the experimental mean value to within less than \\(10 \\%\\)), or uncertainty criterion (the interval of uncertainty defined as the $25 \\% and 75\\% percentiles should be less than \\(10 \\%\\) of the mean value). The question is then how to allocate this system-level accuracy and uncertainty budgets to each sub-models. In other words, is it possible to cascade (top-down) adequacy criteria in a test pyramid? As mentioned by Romero (2011), there is a non-uniqueness issue and the associated technical problems and trial-and-error difficulty involved with trying to parse a system-level modelling accuracy budget to corresponding budgets of the individual submodels. Another difficulty is to find a mapping for the adequacy criteria determined on the system to the sub-model validation experiment (which may not have the same geometry, input conditions etc...)</p> <p>Note</p> <p>Romero proposes to see all submodels of a system, and aggregate their discrepancy (in real-space). Thus, we let the sub-model errors cancel or superpose, avoiding too strict sub-model adequacy requirements (since their errors may cancel at system-level). Then, determining if the submodel group fulfills the system adequacy criterion does not require validating each submodel (as would be done in a bottom-up approach). This reasoning seems to go against the travelling model concept, where the idea is to validate a hierarchy a strong models to accumulate knowledge on the common underlying travelling model.</p> <p>The problem of allocating accuracy and uncertainty to sub-models can be seen as an optimisation problem, with a balance between:</p> <ul> <li>experiment cost for a given uncertainty on the outputs     This subject of experiment design may be linked to the work of Marie Guerder     on experiment optimisation for parameter identification.</li> <li>the impact at system level of the accuracy criterion imposed on each sub-models.     In other words, what is the impact if a given sub-model has a large model-form     error or uncertainty?     If the impact is small, then the accuracy criterion for this model can be loosened,     and the requirement for the corresponding experimental uncertainty loosened as well.     Sensitivity analysis of system-level error to sub-models error may be useful.</li> </ul> <p>Link to PIRT. Helps in identifying where resources should be allocated (when there is a mismatch between importance of the phenomenon and modelling capability or data availability).</p> <p>We can retain that the experiments involved in the validation activity should be considered before setting adequacy criteria on the model, and that setting accuracy and uncertainty at sub-model level may be posed as an optimisation problem.</p>"},{"location":"explanations/model_validation/#4-evaluating-model-discrepancy-to-experimental-data","title":"4. Evaluating model discrepancy to experimental data","text":"<p>We now arrive at another central aspect of validation: determining the discrepancy between model and experiment, and more importantly which conclusion can be drawn for the risk assessment of model extrapolation error. Here the discrepancy includes model bias, but also considers model and experiment uncertainties, and also criteria of adequacy (possibly qualitative).</p>"},{"location":"explanations/model_validation/#discrepancy-transform","title":"Discrepancy transform","text":"<p>It should be realised that a transformation is necessary when converting simulation outputs and experiment outputs to an error metric.</p> <p>At a validation point, in the most general sense, a metric can be computed from the results, both for the simulations:</p> <p>\\(M_m[gm(x_{mod}, \\theta)]\\)</p> <p>and the experiment:</p> <p>\\(M_s[gs(x_{con}, x_{unc})]\\)</p> <p>We deliberately do not directly consider a subtractive metric, as would be the well-known area metric. Indeed, the real space approach introduced by Romero<sup>1</sup> recommends to keep the simulation and experiment result spaces separate. Also, the metrics \\(M_m\\) and \\(M_s\\) may not be the same functions, since the simulation result metric may include uncertainties and bias from source specific to the simulation (like mesh-discretization errors).</p>"},{"location":"explanations/model_validation/#real_space_discrepancy_definition","title":"A procedure to build the real-space discrepancy characterisation","text":"<p>In this section, we attempt to define and draw a procedure to obtain the Real Space discrepancy formulated by Romero<sup>1</sup>. This procedure will be incomplete since, to our knowledge, all ingredients are not described with sufficient details, and we do our best to gather all indications to progress towards an applicable procedure.</p> <p></p> <p>The above figure shows how a subtractive metric like the area metric can hide some trends in the model to experiment discrepancy. Here, a zero-bias model prediction versus experiment is chosen, but the simulated versus experimental uncertainties are different. The area metric is indifferent to this trend. However, the real space characterisation, by keeping the simulated and experimental results in their space, allows to assess different risks in using this model for downstream extrapolations (see below discussion on the comparison of simulated and experiment uncertainty magnitude).</p> <p>According to Romero, an important contribution of the real-space discrepancy characterisation is its end-to-end project perspective toward the objectives of Best Estimate With Uncertainty (BEWU) model calibration (named \"model conditioning\" in the following), validation, hierarchical modelling, and extrapolative prediction.</p> <p>Quote</p> <p>Importantly, the uncertainty representation, propagation, and aggregation procedures are versatile and practical for the varieties of uncertainties found in experimentation and modelling.</p> <p>According to Romero, the real-space comparison is based on uncertainty intervals: distributional uncertainty for all sources of uncertainty is not mandatory, and even not possible to define for all sources of uncertainties. Indeed, Romero argues that a validation framework relying necessarily on probabilistic uncertainty distribution is a too strong hypothesis, and in general not realistic. The framework should handle non-probabilistic uncertainties, and thus interval uncertainty. Distributional uncertainties should be processed as interval uncertainties and aggregated to other uncertainties. If some uncertainty sources are distributional, corresponding uncertainty intervals are computed based on two percentile values.</p>"},{"location":"explanations/model_validation/#construction-of-the-experimental-uncertainty-intervals","title":"Construction of the experimental uncertainty intervals","text":"<p>The experimental uncertainty intervals is typically based on the systematic uncertainty that can be deduced from the output measurements. A distribution of the output quantity of interest can be inferred (either using a parametric method or a Bayesian approach), and two percentiles can be used to compute the bounds. As shown in the below figure, measurement uncertainty can then be added to this uncertainty interval.</p> <p></p>"},{"location":"explanations/model_validation/#data-conditioning","title":"Data conditioning","text":"<p>Systematic experimental uncertainty must be taken into account when assessing model bias risk<sup>2</sup>. Consider that the 'true' value of a scalar output of a system is \\(1000\\) with an uncertainty of \\(\\pm 10\\). Then, we perform an experiment and perform only one measurement, which is found to be \\(1010\\). Then, if the model output is \\(1010\\), the model is considered to have zero bias, while it has a bias of \\(10\\). So, in the case of a low (or even single) experiment realization, this bias risk cannot be directly mitigated, and model bias can be underestimated to a magnitude equal to the experimental uncertainty. Conversely, purely due to the aleatory behaviour of the experiment, the experimental output value could lead to the conclusion that the model is inappropriate, while its bias would be within the accuracy criterion. As summarized by Romero (2008), changing the adequacy criterion (under the form of an interval for the model bias, in other words and allowable error range) can lead to an ambiguous or unambiguous adequacy characterisation (so-called \"region of ambiguity\" in the allowable error range).</p> <p></p> <p>As shown in the above figure, Romero proposes to use the model uncertainty to add uncertainty interval on the measured value. It allows more secure assessment of model bias risk.</p> <p>Note</p> <p>In <sup>2</sup>, Romero uses a cantilever beam problem    to show how type X and Y errors can occur, and uses the method of    model and data conditioning to better assess model bias and    improve downstream extrapolative predictions.</p>"},{"location":"explanations/model_validation/#construction-of-the-simulated-uncertainty-intervals","title":"Construction of the simulated uncertainty intervals","text":""},{"location":"explanations/model_validation/#model-intrinsic-versus-total-uncertainty","title":"Model-intrinsic versus total uncertainty","text":"<p>It is important to discriminate between model-intrinsic uncertainty (relative to the travelling model) from the uncertainty brought by the strong model substantiation.</p> <p>Note</p> <p>VIMSEO <code>StochasticValidation</code> takes into account the input uncertainties, so uncertainty intervals computed from model outputs from the <code>StochasticValidation</code> contain the sum of the model-intrinsic uncertainties and the uncertainties relative to the strong model layer (due to uncertainties from the measured inputs, and experiment systematic uncertainties).</p> <p>Assuming that the total experimental uncertainty is estimated, one interesting analysis that can be done at each nominal validation point conditions is to propagate only the model-intrinsic uncertainties (so the uncertainty of the travelling model parameters). In the frame of <code>vimseo-composites</code>, it could be done through an RVE (Representative Volume Element) model. It would allow to compare the total and model-intrinsic uncertainties. As previously mentioned, if the simulated uncertainty mostly come from the substantiation of the travelling model into the strong model, then the reliability of these validation points can be considered as low to evaluate the risk of carrying model extrapolations for downstream applications.</p> <p>Note</p> <p>The underlying method is to propagate uncertainty through a model. This task is in general very computaional demanding for FEA models. As the Real Space metric are uncertainty intervals, that can be computed by defining two percentiles on a probability distribution, then active learning methods that target percentiles can be useful to efficiently approximate the model response by a surrogate model (goal-oriented surrogate).</p>"},{"location":"explanations/model_validation/#case-of-mesh-discretization-error","title":"Case of mesh-discretization error","text":"<p>Similarly to performing systematic uncertainty propagation of travelling model parameters at the nominal validation point conditions, It also makes sense to perform systematic mesh-discretization error evaluation, since the additional cost is of three computations. It allows to assess the magnitude of the mesh convergence uncertainty and bias compared to the model-intrinsic uncertainty.</p> <p>The method proposed by Romero (2008) is to:</p> <ul> <li> <p>build the simulated uncertainty interval around the Richardson extrapolated output value (if Richardson extrapolation is feasible). The uncertainty magnitude can be evaluated using the method provided by Krysl<sup>5</sup>.</p> </li> <li> <p>build two uncertainty interval around the nominal interval, having same length and being shifted by \\(\\pm 0.5 \\Delta_{sol}\\), with \\(\\Delta_{sol}\\) an estimate of the mesh discretisation uncertainty.</p> </li> </ul> <p>Note</p> <p>If Richardson extrapolation cannot be computed, estimating solution convergence uncertainty is not trivial. Superposing several convergence trajectories from various validation points may be helpful in order to increase the number of samples and estimate a standard deviation at a given mesh size. This method also allows to select the best error versus computational time compromise. Similarly to choosing Richardons extrapolated value as the centre of the simulated interval, a bias correction can be applied when Richardson extrapolation is not available, by considering a delta between the output value at the most refined meshes and the values at the chosen nominal mesh size.</p> <p>Note</p> <p>Mesh discretisation error should not be overlooked, because on practical FEA models (or finite difference or finite volume mesh for CFD), VV&amp;UQ studies are generally computational cost bounded. Since mesh discretization error directly drive CPU cost, the mesh discretization error cannot be considered as negligible, and is expected to be a significant source of uncertainty.</p>"},{"location":"explanations/model_validation/#adequacy_criteria","title":"Practical use of the Real Space methodology for model adequacy determination","text":"<p>Once the real space comparison is built, a procedure is necessary to assess model adequacy.</p> <p>The real space methodology does not provide a single error value.</p> <p>Instead, it provides:</p> <ol> <li>prerequisites for using the real space comparison</li> <li>qualitative criteria that characterise the risk of not finding an actual model bias (under-estimation of model bias), and the risk of over-estimating model bias.</li> </ol> <p>Then, when the real space comparison is usable, and the risk of missing model bias is assessed, the real space methodology provides in essence an uncertainty interval of the model bias.</p> <p>Note</p> <p>Romero proposes to use the real-space discrepancy approach also for parameter identification. So instead of relying on a transform space metric (subtractive), we would compare the reference and simulated uncertainties in their respective space. We may wonder how this method could be used in an optimisation loop to find the best parameters. Indeed, we need to build an objective function for the optimizer.</p> <p>Note that Romero provides criteria for assessing model adequacy, rather than evaluating model accuracy.</p>"},{"location":"explanations/model_validation/#prerequisites-for-reliable-validation-point-to-assess-model-risk-extrapolations","title":"Prerequisites for reliable validation point to assess model risk extrapolations","text":"<p>To ensure reliable risk assessment for model extrapolative activities, two prerequisites are required.</p> <p>Note</p> <p>Note that the uncertainty intervals considered in this section assume a large number of simulated and experimental samples, such that the uncertainty interval is not biased by a lack of sampling. Taking into account such bias is not part of this discussion but is certainly an important concern.</p> <p>The first one is that the simulated uncertainty must be larger than experimental one. but not too large. This property avoids 'free lunch' validation, where the larger the experimental uncertainty, the higher chance of finding the model accurate. Instead, experimental uncertainty is bounded by simulated uncertainty. From Romero (2011), a rational validation criterion can be:</p> <p>Quote</p> <p>the net uncertainty range of the experimental data should lie within the uncertainty bounds of the model prediction. That is, the model prediction bounds should be validated to encompass reality, rather than the other way around.</p> <p>However, if the data conditioning procedure is applied (in case of very low number of experimental repeats), then the experimental uncertainty is set to twice the simulated uncertainty. So the criterion used here to detect a risky comparison could be: simulated uncertainty is at least half the experimental one.</p> <p>The assumption that the model overshoot errors are not so large is also required, because it can become troublesome in downstream predictions Indeed, if too large, most of the predicted points may be outside the reference interval bounds.</p> <p>The second one is the relative magnitude of the uncertainties composing the simulated uncertainty.</p> Ideal simulated uncertainties Too large auxiliary model uncertainty Tool large mesh convergence uncertainty <p>Consider first the nominal situation on the left, where:</p> <ul> <li>the mesh convergence uncertainty is small compared to the total simulated uncertainty</li> <li>the auxiliary model uncertainty is small compared to the total uncertainty, or in other word, the model-intrinsic uncertainty is close to the total uncertainty. model-intrinsic uncertainty compared to total simulated uncertainty and mesh convergence uncertainty.</li> </ul> <p>Two situations where prerequisites are not met can occur:</p> <ul> <li>total uncertainty is large compared to the model-intrinsic uncertainty     (middle image)</li> <li>mesh convergence uncertainty is significant compared to the total uncertainty     (left image)</li> </ul>"},{"location":"explanations/model_validation/#risk-assessment-for-incorrect-model-bias-estimate","title":"Risk assessment for incorrect model bias estimate","text":"<p>Once the previous prerequisites are met, the Real Space methodology procedure then focuses on the assessment of the risk of evaluating an incorrect model bias.</p> <p>Consider first unrisky situations.</p> Unrisky comparison: model bias is certainly low Unrisky comparison: model bias is certaintly high <p>In these examples, the property that the simulated uncertainty is larger than the experimental one is respected. In the left case, the model bias is certainly low, while in the right case, it is certainly high. So we are confident in the model bias assessment, whether it is high or low.</p> <p>Consider now risky situations. This situation is in-between the two unrisky situations, where there is a partial overlapping of the simulated and experimental intervals.</p> Risk of underestimating model bias Risk of underestimating model bias <p>Indeed, consider that the experimental point is sampled with a low number of samples. There is the risk of biasing the experimental uncertainty interval, as shown on the left. In such case, the model bias can be under-estimated, which is a risky situation for assessing model extrapolations. As shown on the right, the simulation uncertainty can also be constructed on a small number of samples (for example due to a high computational cost of each run). Then, an additional under-estimation of model bias can occur.</p>"},{"location":"explanations/model_validation/#towards-a-single-metric-value-based-on-the-real-space-methodology","title":"Towards a single metric value based on the Real Space methodology","text":"<p>The Real Space methodology provides heterogeneous metrics:</p> <ol> <li>qualitative criterion for acceptance of the validation point (prerequisites criteria are met or not)</li> <li>qualitative criteria to assess risk of model bias under-estimation</li> <li>quantitative uncertainty interval of the model bias</li> </ol> <p>To go toward a single metric value, scores could be associated to points 1. and 2. This task remains very prospective.</p>"},{"location":"explanations/model_validation/#possible-evolutions-of-vimseo-regarding-the-real-space-methodology","title":"Possible evolutions of VIMSEO regarding the Real Space methodology","text":"<p>Gather and properly store all possible information about the experimental facility, and specific tests apparatus for each validation data. The idea is that the auxiliary models (rollers, grips, tolerance on their position, lack of symmetry etc...) and environment conditions are quantitatively tracked (indicators stored in a database), because they can lead to systematic experimental bias.</p> <p>Implement plots dedicated to Real Space uncertainty interval visualization. In the experimental intervals, isolate:</p> <ul> <li>experimental systematic uncertainty,</li> <li>output measurement uncertainty,</li> <li>data conditioning</li> </ul> <p>In the simulated intervals, isolate:</p> <ul> <li>numerical errors</li> <li>mesh discretization uncertainty</li> </ul> <p>A possible synthetic view of a Real Space comparison at a validation point could be:</p> <p></p> <p>And on a validation case, with respect to a given input variable:</p> <p></p> <p>Here, at the middle validation point, no solution convergence was conducted. As argued by Romero, this view is expected to provide richer information compared to a subtractive stochastic metric, to build-up knowledge to assess extrapolation error risk.</p>"},{"location":"explanations/model_validation/#workflow-approach-to-implement-the-real-space-methodology","title":"Workflow approach to implement the Real Space methodology","text":"<p>Here, only the validation activity and model conditioning are specific to the Real Space methodology. The initial model conditioning (calibration) is a classical VV&amp;UQ step, but is recalled here to illustrate that it is the initially conditioned model which is the subject of the validation.</p> <p>Uncertainty interval are at the core of the Real Space validation activity and downstream model conditioning. Thus, several UQ and surrogate with active learning methods are involved in the workflow. In addition, in the Real Space methodology, the model conditioning step targeting a given application consists in modifying the probability distribution of the model parameters such that output uncertainty interval matches experimental interval. Again, it involves specific inverse problem methods like Bayesian calibration which intrinsically handle uncertainties. Maybe more pragmatic methods like applying a shift on the model parameters based on the central value of the uncertainty interval could be used.</p> <p>Note</p> <p>Even if the meshing strategy is part of the travelling model, solution verification should be conducted at each validation point (either as part of the validation activity process, or as a separate (mandatory) preparatory step of the validation to find a mesh size / CPU time compromise). In any case, it leads to the same amount of computations.</p>"},{"location":"explanations/model_validation/#conclusion","title":"Conclusion","text":"<p>We have seen that the Real Space methodology for model validation links several concepts and methods of VV&amp;UQ, like solution verification, active learning for efficiently estimate percentiles on an output variable and Bayesian calibration.</p> <p>It is also tightly linked with model conditioning, which is a process that is put in central position in the Romero's view. Indeed, performing model conditioning aims at maximizing the accuracy of model extrapolations in downstream applications, which in essence is why money is spent on model development and experiments. Conversely, it seems difficult to justify spending money on model development and experiments without conditioning the model for applications.</p> <p>Romero's approach is to consider first what is needed for a good model conditioning (lower the risk of performing erroneous model extrapolation), and then devise a validation framework that gathers indicators and knowledge to perform the model conditioning. Its Real Space validation framework is based on uncertainty intervals, placing at centre stage uncertainty quantification.</p> <p>This framework can be implemented in practice. The computation of the uncertainty intervals can be done with existing VIMSEO tools. It requires to define ad-hoc workflows involving solution verification and additional uncertainty propagation within the validation. Once this workflow is computed, the uncertainty interval comparisons can be seen as implementing a qualitative error metric with a visual output rather than a single value.</p> <p>Since it is based on uncertainty intervals, whether these intervals are biased by a too small number of samples (either on the simulation or experimental side) becomes central. It would require the development of specific methods and an adaptation of the above workflow.</p>"},{"location":"explanations/model_validation/#glossary","title":"Glossary","text":"<ul> <li> <p>Type I error: incorrect rejection of the model, associated to a Model Builder\u2019s risk.</p> </li> <li> <p>Type II error: Non-rejection does not necessarily imply model goodness because noisy and uncertain data can leave much room for model bias error to go undetected. This is the classical Type II. It is associated with Users's model risk. Type II error occurs when a biased hypothesis/model is accepted, where imprecision error from sampling of random uncertainty of output data of a system obscures the fact that the model/hypothesis is biased.</p> </li> <li> <p>Type X error: model bias is obscured by systematic uncertainty in one or more inputs to the experiment.</p> </li> <li> <p>Type Y error: a small model bias is over-estimated due to the fact that the bias cannot be found lower than the experimental uncertainty.</p> </li> <li> <p>Systematic uncertainty: Uncertainty that cannot be reduced, like an interval of tolerance for the output of a sensor.</p> </li> <li> <p>Type A&amp;B errors: relative to data measurement uncertainties</p> </li> </ul> <ol> <li> <p>Vicente Romero. Comparison of several model validation conceptions against a \"real space\" end-to-end approach. SAE International, 4:396\u2013420, 2011. URL: https://www.jstor.org/stable/10.2307/26273778.\u00a0\u21a9\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>Romero Vicente Jose. Type x and y errors and data and model conditioning for systematic uncertainty in model calibration validation and extrapolation. Technical Report, SAE Technical Paper, 01 2008. URL: https://www.osti.gov/biblio/1146297.\u00a0\u21a9\u21a9\u21a9</p> </li> <li> <p>Schlesinger S. R. ; Crosbie R. ; Gagne R. ; Innis GS S. ; Lalwani C. S. ; Loch J. ; Sylvester R. J. ; Wright R. D. ; Kheir N. ; Bartos B. Terminology for model credibility. SIMULATION, 32(3):103\u2013104, 1979. URL: https://doi.org/10.1177/003754977903200304, arXiv:https://doi.org/10.1177/003754977903200304, doi:10.1177/003754977903200304.\u00a0\u21a9</p> </li> <li> <p>Stefan Riedmaier, Benedikt Danquah, Bernhard Schick, and Frank Diermeyer. Unified framework and survey for model verification, validation and uncertainty quantification. Computational Methods in Engineering, 28:2655\u20132688, 2020. doi:10.1007/s11831-020-09473-7.\u00a0\u21a9\u21a9</p> </li> <li> <p>Petr Krysl. Confidence intervals for richardson extrapolation in solid mechanics. J. Verif. Valid. Uncert., 7(3):031005, 2022. doi:https://doi.org/10.1115/1.4055728.\u00a0\u21a9</p> </li> </ol>"},{"location":"explanations/asme2025/abstract/","title":"ASME 2025","text":""},{"location":"explanations/asme2025/abstract/#abstract-for-asme-2025","title":"Abstract for ASME 2025","text":"<p>To face the challenge of developing disruptive designs and reduce time-to-market, one key enabler is to make part of the development process virtual. This process necessarily includes iterations where the current design is tested, like the test pyramid approach in the domain of the design of structure (<sup>1</sup>, <sup>2</sup>). Obtaining an efficient hybrid testing process relies on optimizing the complementarity between the physical and virtual tests. Indeed, they both represent the real system with different sources of errors and uncertainties. The physical tests may serve to verify, validate or participate to data-driven models, and virtual tests may serve to provide complementary measures on the real system (inaccessible to physical sensors) as well as optimizing the test matrix and test setups. As a result, virtual testing processes shall not only include numerical models, but also mathematical methods from, not exhaustively, the fields of uncertainty quantification and optimization.</p> <p>It is proposed that to foster an efficient transfer of such academic methods and modelling towards industry, a virtual testing platform shall meet the following high level requirements:   - fit to several types of users, including web user engineer, advanced script user engineer,     mathematical method experts, numerical model experts,     physics experts, decision-makers, model and method integrators.   - be user-friendly to non-software specialists to allow efficient integration     of new mathematical methods and numerical models,   - allow a reliable assessment of the credibility of the virtual process,   - ensure flexibility and scalability on usage of computational ressources to target a given lead time</p> <p>For a successful integration in a given organization, the virtual testing platform must also comply to organization-specific requirements and application field specificities, including expected lead time, availability of modelling tools and methods, computational ressources and available test data. Indeed, the choice of a mathematical method for uncertainty quantificaiton, the model features (input and output space dimensionality, non-linearity, computational cost) and the available test data are intricated. For instance, validating models with very sparse reference data with very few repeats, or using a heavy numerical model for which each simulation runs during several hours requires specific UQ methods.</p> <p>It is argued that an efficient way of making sure that the platform implements all the necessary analysis bricks and models regarding the industrial specification (in terms of input output interface, UQ method and computational load management) is to allow a fast prototyping of typical end-to-end workflows.</p> <p>The VIMSEO platform under development at IRT Saint Exupery implements such a workflow approach based on the workflow engine of GEMSEO. VIMSEO integrates VV&amp;UQ scenarios such as solution verification, code verification stochastic validation, efficient design value estimation, together with more generic bricks (sensitivity analysis, design of experiment, surrogate modelling). Since compatible with GEMSEO <sup>3</sup>, it can seamlessly integrate advanced optimization algortihms and multi-disciplinary optimization bricks in the workflows.</p> <p>To assess the capability of VIMSEO to generate and execute realistic VV&amp;UQ workflows, one of its plugins is dedicated to composite damage modelling, and integrates several state-of-the-art parametric models of composite coupons and basic structure components. End-to-end VV&amp;UQ workflows involving these composite damage models are presented, from the workflow-prototyping interface to the dashboards for result exploration.</p> <p>Still, several features are in-progress, like database storage for traceability, the definition of global taxonomy to ease interoperability between models, data and UQ methods, and the development of efficient intrusive and non-intrusive stochastic analysis for heavy models.</p> <ol> <li> <p>Wim Doeland. Modelling &amp; Simulation \u2013 CS-25 Structural Certification Specifications. Technical Report, EASA, 07 2020. URL: https://www.easa.europa.eu/en/document-library/product-certification-consultations/proposed-certification-memorandum-modelling#group-easa-downloads.\u00a0\u21a9</p> </li> <li> <p>Christopher J Freitas. Standards and methods for verification, validation, and uncertainty assessments in modeling and simulation. Journal of Verification, Validation and Uncertainty Quantification, 5(2):021001, 2020.\u00a0\u21a9</p> </li> <li> <p>Fran\u00e7ois Gallard, Charlie Vanaret, Damien Gu\u00e9not, Vincent Gachelin, R\u00e9mi Lafage, Beno\u00eet Pauwels, Pierre-Jean Barjhoux, and Anne Gazaix. Gems: a python library for automation of multidisciplinary design optimization process generation. In 01 2018. doi:10.2514/6.2018-0657.\u00a0\u21a9</p> </li> </ol>"},{"location":"explanations/eccomas2024/abstract/","title":"ECCOMAS 2024","text":""},{"location":"explanations/eccomas2024/abstract/#abstract-for-eccomas-2024","title":"Abstract for ECCOMAS 2024","text":"<p>Key Words: Composite structures, VV&amp;UQ platform, Parametric Finite-Element model</p> <p>The Aerospace Industry is facing the challenge of developing and integrating disruptive technological innovations by 2035-2050. It means that disruptive design or designs with limited in-service experience need to be integrated in shorter times with high levels of safety and reliability. Composite structures play a major role in this transition, but have to adapt to new designs, new threats (cryogenic temperatures), new material (bio-sourced) and new manufacturing and assembly processes. A key enabler for the reduction of development cycle time and cost is the integration of more simulations in the certification test pyramid. As a result, the simulation of composite structures must reach a high level of credibility.</p> <p>VV&amp;UQ builds and assesses credibility of models through methodologies ([1], [2]) which bring to play several components like Numerical Simulation tools and Mathematical algorithms, High Performance Computing submission and monitoring, and so forth. The notions of traceability (of both functional capabilities (like models) and data), data visualisation and standardized taxonomy to describe the manipulated quantities and methods are also significantly contributing to the credibility and the decision-making process. Note that some components may already exist and can be re-used off-the-shelf (UQ methodologies, FE software).</p> <p>The present work focuses on an efficient software implementation of the VV&amp;UQ process to support the above challenges. VIMSEO (Virtual testing Integration platform for decision-Making Support) is a Python library (still under construction) developed from the translation of VV&amp;UQ processes into software requirements. Some of them are listed hereafter:</p> <ul> <li>The integration of state-of-the-art simulation models and methodologies for Uncertainty   Quantification requires interfacing experts in these domains.</li> <li>Decision-makers must also interface to the platform to validate the process establishing   credibility. Thus, relevant data visualisation and an effective User Interface is necessary.</li> <li>Traceability of models and associated analysis methods is also necessary both for   credibility assessment and further use of the models and methodologies for   optimisation, calculation of design values and structural sizing. The platform should   then be closely linked with databases.</li> <li>Model standardization through a global taxonomy or ontology and a semantic layer is   also a key feature since it allows to seamlessly change models and analysis   methodologies, and also use the verified models in other frameworks like MultiDisciplinary Optimisation (MDO) processes, without re-implementing the model.</li> </ul> <p>While generic, the VIMSEO platform is extended for applications to composite structures [3] in a plug-in integrating Composite Damage Models (OPFM <sup>1</sup> and PG <sup>2</sup>) at coupons and element levels. Several parametric FE models are integrated under a consistent model template, compatible with the MDO platform GEMSEO <sup>3</sup>. Each FE model integrated in the platform is decomposed in bricks allowing to inter-change different load cases and material definition while making sure that we keep the same numerical model (FE method and material law). The latter constitutes the Travelling Model <sup>4</sup>. We will focus on the model Verification and Validation bricks, including an example of stochastic validation.</p> <p>References:</p> <ul> <li>[1] ASME V&amp;V 10.3 Validation Metrics</li> <li>[2] ASME V&amp;V 10-2019 Standard Verification and Validation in Computational Solid   Mechanics</li> <li>[3] J. Fatemi, G. Poort, Towards Qualification of Composite Launcher Structures by   Simulation, 17th ECCSMET Proceedings, 28-30 March 20203, Toulouse.</li> </ul> <p><sup>5</sup></p> <ol> <li> <p>F. Laurin, N. Carr\u00e8re, and J.-F. Maire. A multiscale progressive failure approach for composite laminates based on thermodynamical viscoelastic and damage models. Composites Part A: Applied Science and Manufacturing, 38(1):198\u2013209, 2007. URL: https://www.sciencedirect.com/science/article/pii/S1359835X0600025X, doi:https://doi.org/10.1016/j.compositesa.2006.01.018.\u00a0\u21a9</p> </li> <li> <p>P. Maim\u00ed, P.P. Camanho, J.A. Mayugo, and C.G. D\u00e1vila. A continuum damage model for composite laminates: part i \u2013 constitutive model. Mechanics of Materials, 39(10):897\u2013908, 2007. URL: https://www.sciencedirect.com/science/article/pii/S0167663607000543, doi:https://doi.org/10.1016/j.mechmat.2007.03.005.\u00a0\u21a9</p> </li> <li> <p>Fran\u00e7ois Gallard, Charlie Vanaret, Damien Gu\u00e9not, Vincent Gachelin, R\u00e9mi Lafage, Beno\u00eet Pauwels, Pierre-Jean Barjhoux, and Anne Gazaix. Gems: a python library for automation of multidisciplinary design optimization process generation. In 01 2018. doi:10.2514/6.2018-0657.\u00a0\u21a9</p> </li> <li> <p>Vicente Romero. Comparison of several model validation conceptions against a \"real space\" end-to-end approach. SAE International, 4:396\u2013420, 2011. URL: https://www.jstor.org/stable/10.2307/26273778.\u00a0\u21a9</p> </li> <li> <p>Stefan Riedmaier, Benedikt Danquah, Bernhard Schick, and Frank Diermeyer. Unified framework and survey for model verification, validation and uncertainty quantification. Computational Methods in Engineering, 28:2655\u20132688, 2020. doi:10.1007/s11831-020-09473-7.\u00a0\u21a9</p> </li> </ol>"},{"location":"explanations/model_integration/model_integration/","title":"Model Integration","text":""},{"location":"explanations/model_integration/model_integration/#a-component-based-model-integration-for-model-verification","title":"A component-based model integration for model verification","text":"<p>As we expect to integrate a large number of models, it is interesting to define a strategy for model integration that will ease the verification and maintainability of these models. We rely on the concept of Travelling Model. A Travelling Model means:</p> <ul> <li>Same physics (e.g. damage law)</li> <li>Same geometrical idealisation</li> <li>Same numerical approximations (e.g. meshing rules)</li> </ul> <p>As a result, it makes sense to define components corresponding to each above bullets, and build the models by assembling these components. Then, verifying a component (through a given model) will ensure the verification of this component for all the model using it. In terms of maintainability, it is also more efficient to share components across models to reduce the code base.</p> <p></p> <p>Regarding model implementation, the models are composed of three components: a pre-processor, a run-processor and a post-processor. Pre-processor and post-processor embed the meshing strategy, while the run-processor uses the damage law and implements a given modelling strategy, as explained below.</p>"},{"location":"explanations/model_integration/model_integration/#modelling-strategies","title":"Modelling strategies","text":"<p>Defining different modelling approach having different fidelity level eases model calibration and validation, because the best compromise in terms of fidelity versus computational time can be chosen. Indeed these two activities involve a large number of model runs: - calibration is based on several gradient-free optimizations with a design space composed   of around five to ten variables - stochastic validation involves a Monte-Carlo uncertainty propagation at each validation point</p> <p></p> <p>The three following modelling approaches have been developped:</p> <ul> <li> <p>The OpfmUnitCell model. It does not require a finite-element solver and it     does not account for the geometry or the stacking sequence.     This model runs the material law within a convergence loop that is developed in     a specific <code>run-processor</code> (see TODO insert link to vimseo doc).     It considers a pure loading mode only.     Its computational time is less than one min on a single CPU, except for the PureShear load case.     It is useful for calibration, sensitivity analysis and     load cases with uniform stress distribution (pure tension/ compression/shear).</p> <p></p> </li> <li> <p>The OpfmCube model.     It is based on the RVE (Representative Volume Element) approach.     It only accounts for the thickness of the specimen,     and considers a uniform stress distribution per ply.     So it does account for the stacking sequence.     It requires Abaqus as a finite-element solver and     uses the single 3D solid element approach with multiple integration points     through the thickness.     Its computational time is a few minutes on a single CPU.     It is useful for calibration, sensitivity analysis and     load cases with uniform stress distribution (some PS)</p> </li> <li> <p>The OpfmPlate model.     It accounts for the actual geometry of the specimen     and for the stacking sequence.     The PS geometries are modelled with ply-by-ply with 3D solid elements,     while the OH is modelled with laminated shell.     The computational time is at least one order of magnitude larger     than the OpfmCube model.</p> <p></p> </li> </ul>"},{"location":"explanations/paper_q1_2025/paper/","title":"Paper","text":""},{"location":"explanations/paper_q1_2025/paper/#a-software-library-for-model-credibility-demonstration-and-certification-by-analysis","title":"A software library for Model Credibility Demonstration and Certification by Analysis","text":"<p>Intro:</p> <p>Vvuq blabla, cr\u00e9dibilit\u00e9 des mod\u00e8les.</p> <p>Besoin framework, plateforme, collaboration Besoin Description commune d'un workflow, qui est la d\u00e9clinaison d'un scenario vvuq en m&amp;t.</p> <p>Proposition de vimseo, pour offrir cette capacit\u00e9 de d\u00e9finition de workflow et capitaliser les capacit\u00e9s de mod\u00e9lisation (a la fois mod\u00e8le lourd et surrogate) et d'analyse math\u00e9matiques (incertitude, uq).</p> <p>D\u00e9roulement d'un sc\u00e9nario type, mettant en \u0153uvre des approches innovantes sur la calibration, estimation de quantit\u00e9, validation. Description en parall\u00e8le des composants impliqu\u00e9s dans l'\u00e9tape de workflow, et des m\u00e9thodes et mod\u00e8les en jeu, et des r\u00e9sultats obtenus.</p> <p>D\u00e9marche : unitcell, cube, plate pour la v\u00e9rif et la calibration</p> <p>Formalisation workflow</p> <p>Formalisation calibration s\u00e9quentielle</p> <p>Aggr\u00e9gation r\u00e9utilisation des incertitudes</p> <p>1) Architecture g\u00e9n\u00e9rale Approche d'impl\u00e9mentation des mod\u00e8les. Wrapping de mod\u00e8le et int\u00e9r\u00eat d'un wrapper coherent avec les m\u00e9thodes d'analyse.</p> <p>2) Exploration de mod\u00e8le, int\u00e9r\u00eat de la v\u00e9rification de solution</p> <p>3) Calibration</p> <p>4) Validation</p> <p>5) Design value</p>"},{"location":"generated/runnable_examples/01_models/","title":"Available Models","text":""},{"location":"generated/runnable_examples/01_models/#overview-of-the-available-models","title":"Overview of the available models","text":"<p>Each of the available models, declined for each of its load cases, is executed and its result plotted.</p> <p> Overview of the MockModel for load case LC1 </p> <p> Overview of the MockModelFields for load case LC1 </p> <p> Overview of the MockConvergence for load case Dummy </p> <p> Overview of the MockModelPersistent for load case LC1 </p> <p> Overview of the MockModelWithMaterial for load case LC1 </p> <p> Overview of the MockModel for load case LC2 </p> <p> Overview of the MockCurves for load case Dummy </p> <p> Overview of the MockCurvesXRange for load case Dummy </p> <p> Overview of the MockModelWithMaterial for load case LC2 </p> <p> Overview of the BendingTestAnalytical for load case Cantilever </p> <p> Overview of the BendingTestAnalytical for load case ThreePoints </p> <p> Download all examples in Python source code: 01_models_python.zip</p> <p> Download all examples in Jupyter notebooks: 01_models_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/mg_execution_times/","title":"Computation times","text":"<p>00:05.904 total execution time for generated_runnable_examples_01_models files:</p> <p>+--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_BendingTestAnalytical_Cantilever (docs/runnable_examples/01_models/plot_BendingTestAnalytical_Cantilever.py)    | 00:01.913 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_BendingTestAnalytical_ThreePoints (docs/runnable_examples/01_models/plot_BendingTestAnalytical_ThreePoints.py) | 00:01.491 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockCurvesXRange_Dummy (docs/runnable_examples/01_models/plot_MockCurvesXRange_Dummy.py)                                  | 00:00.827 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModelWithMaterial_LC2 (docs/runnable_examples/01_models/plot_MockModelWithMaterial_LC2.py)                         | 00:00.634 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockCurves_Dummy (docs/runnable_examples/01_models/plot_MockCurves_Dummy.py)                                                    | 00:00.560 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModel_LC2 (docs/runnable_examples/01_models/plot_MockModel_LC2.py)                                                             | 00:00.340 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModel_LC1 (docs/runnable_examples/01_models/plot_MockModel_LC1.py)                                                             | 00:00.033 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModelWithMaterial_LC1 (docs/runnable_examples/01_models/plot_MockModelWithMaterial_LC1.py)                         | 00:00.033 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockConvergence_Dummy (docs/runnable_examples/01_models/plot_MockConvergence_Dummy.py)                                     | 00:00.029 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModelFields_LC1 (docs/runnable_examples/01_models/plot_MockModelFields_LC1.py)                                           | 00:00.024 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_MockModelPersistent_LC1 (docs/runnable_examples/01_models/plot_MockModelPersistent_LC1.py)                               | 00:00.020 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/01_models/plot_BendingTestAnalytical_Cantilever/","title":"Overview of the BendingTestAnalytical for load case Cantilever","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_BendingTestAnalytical_Cantilever/#overview-of-the-bendingtestanalytical-for-load-case-cantilever","title":"Overview of the BendingTestAnalytical for load case Cantilever","text":"<p>An analytical model for the bending of a parallelepipedic beam</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n\nLoad case:\n   Load case Cantilever: A cantilever load case.\n\n   Boundary condition variables:\n   ['imposed_dplt', 'relative_dplt_location']\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"height\": [\n        40.0\n    ],\n    \"length\": [\n        600.0\n    ],\n    \"width\": [\n        30.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {\n    \"imposed_dplt\": [\n        -5.0\n    ],\n    \"relative_dplt_location\": [\n        1.0\n    ]\n}\n\n   Default material variables:\n   {\n    \"nu_p\": [\n        0.3\n    ],\n    \"young_modulus\": [\n        210000.0\n    ]\n}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p></p> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'cpu_time': array([0.01279211]), 'date': array(['2026-02-09 15:48:01.088302'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/BendingTestAnalytical/Cantilever/1'],\n      dtype='&lt;U76'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_at_force_location': array([-5.]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'location_max_dplt': array([600.]), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'maximum_dplt': array([-5.]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'moment': array([1400000.,       0.]), 'moment_grid': array([  0., 600.]), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'reaction_forces': array([-2333.33333333]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40')}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of dplt_vs_dplt_grid</p> <pre><code>figures[\"dplt_vs_dplt_grid\"]\n</code></pre> <p>Plot of moment_vs_moment_grid</p> <pre><code>figures[\"moment_vs_moment_grid\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  1.913 seconds)</p> <p> Download Python source code: plot_BendingTestAnalytical_Cantilever.py</p> <p> Download Jupyter notebook: plot_BendingTestAnalytical_Cantilever.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_BendingTestAnalytical_ThreePoints/","title":"Overview of the BendingTestAnalytical for load case ThreePoints","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_BendingTestAnalytical_ThreePoints/#overview-of-the-bendingtestanalytical-for-load-case-threepoints","title":"Overview of the BendingTestAnalytical for load case ThreePoints","text":"<p>An analytical model for the bending of a parallelepipedic beam</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"ThreePoints\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n\nLoad case:\n   Load case ThreePoints: A three-points load case.\n\n   Boundary condition variables:\n   ['imposed_dplt', 'relative_support_location']\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"height\": [\n        40.0\n    ],\n    \"length\": [\n        600.0\n    ],\n    \"width\": [\n        30.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {\n    \"imposed_dplt\": [\n        -5.0\n    ],\n    \"relative_support_location\": [\n        0.5\n    ]\n}\n\n   Default material variables:\n   {\n    \"nu_p\": [\n        0.3\n    ],\n    \"young_modulus\": [\n        210000.0\n    ]\n}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p></p> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_support_location': array([0.5]), 'cpu_time': array([0.01315355]), 'date': array(['2026-02-09 15:48:03.154743'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/BendingTestAnalytical/ThreePoints/1'],\n      dtype='&lt;U77'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'dplt': array([ 0.00000000e+00, -1.51499692e-01, -3.02875712e-01, -4.54004384e-01,\n       -6.04762037e-01, -7.55024997e-01, -9.04669592e-01, -1.05357215e+00,\n       -1.20160899e+00, -1.34865645e+00, -1.49459084e+00, -1.63928851e+00,\n       -1.78262577e+00, -1.92447895e+00, -2.06472438e+00, -2.20323838e+00,\n       -2.33989729e+00, -2.47457742e+00, -2.60715511e+00, -2.73750669e+00,\n       -2.86550847e+00, -2.99103678e+00, -3.11396796e+00, -3.23417833e+00,\n       -3.35154421e+00, -3.46594194e+00, -3.57724784e+00, -3.68533823e+00,\n       -3.79008945e+00, -3.89137781e+00, -3.98907965e+00, -4.08307130e+00,\n       -4.17322908e+00, -4.25942931e+00, -4.34154833e+00, -4.41946245e+00,\n       -4.49304802e+00, -4.56218135e+00, -4.62673877e+00, -4.68659661e+00,\n       -4.74163119e+00, -4.79171884e+00, -4.83673589e+00, -4.87655867e+00,\n       -4.91106350e+00, -4.94012670e+00, -4.96362461e+00, -4.98143356e+00,\n       -4.99342986e+00, -4.99948985e+00, -4.99948985e+00, -4.99342986e+00,\n       -4.98143356e+00, -4.96362461e+00, -4.94012670e+00, -4.91106350e+00,\n       -4.87655867e+00, -4.83673589e+00, -4.79171884e+00, -4.74163119e+00,\n       -4.68659661e+00, -4.62673877e+00, -4.56218135e+00, -4.49304802e+00,\n       -4.41946245e+00, -4.34154833e+00, -4.25942931e+00, -4.17322908e+00,\n       -4.08307130e+00, -3.98907965e+00, -3.89137781e+00, -3.79008945e+00,\n       -3.68533823e+00, -3.57724784e+00, -3.46594194e+00, -3.35154421e+00,\n       -3.23417833e+00, -3.11396796e+00, -2.99103678e+00, -2.86550847e+00,\n       -2.73750669e+00, -2.60715511e+00, -2.47457742e+00, -2.33989729e+00,\n       -2.20323838e+00, -2.06472438e+00, -1.92447895e+00, -1.78262577e+00,\n       -1.63928851e+00, -1.49459084e+00, -1.34865645e+00, -1.20160899e+00,\n       -1.05357215e+00, -9.04669592e-01, -7.55024997e-01, -6.04762037e-01,\n       -4.54004384e-01, -3.02875712e-01, -1.51499692e-01, -1.55752418e-17]), 'dplt_at_force_location': array([-4.99948985]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['ThreePoints'], dtype='&lt;U11'), 'location_max_dplt': array([296.96969697]), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'maximum_dplt': array([-4.99948985]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'moment': array([       0., -5600000.,        0.]), 'moment_grid': array([  0., 300., 600.]), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'reaction_forces': array([-37333.33333333]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40')}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of dplt_vs_dplt_grid</p> <pre><code>figures[\"dplt_vs_dplt_grid\"]\n</code></pre> <p>Plot of moment_vs_moment_grid</p> <pre><code>figures[\"moment_vs_moment_grid\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  1.491 seconds)</p> <p> Download Python source code: plot_BendingTestAnalytical_ThreePoints.py</p> <p> Download Jupyter notebook: plot_BendingTestAnalytical_ThreePoints.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockConvergence_Dummy/","title":"Overview of the MockConvergence for load case Dummy","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockConvergence_Dummy/#overview-of-the-mockconvergence-for-load-case-dummy","title":"Overview of the MockConvergence for load case Dummy","text":"<pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockConvergence\"\nload_case = \"Dummy\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockConvergence: \n\nLoad case:\n   Load case Dummy: A dummy load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"a\": [\n        1.0\n    ],\n    \"a_m\": [\n        0.0\n    ],\n    \"a_n\": [\n        0.1\n    ],\n    \"h\": [\n        2\n    ],\n    \"m\": [\n        3\n    ],\n    \"n\": [\n        2\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'a': array([1.]), 'a_n': array([0.1]), 'h': array([2]), 'n': array([2]), 'a_m': array([0.]), 'm': array([3]), 'a_h': array([0.6]), 'cpu_time': array([0.00335097]), 'date': array(['2026-02-09 15:47:56.547359'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockConvergence/Dummy/1'],\n      dtype='&lt;U65'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['Dummy'], dtype='&lt;U5'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockConvergence'], dtype='&lt;U15'), 'n_cpus': array([1]), 'n_dof': array([0.125]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40')}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.029 seconds)</p> <p> Download Python source code: plot_MockConvergence_Dummy.py</p> <p> Download Jupyter notebook: plot_MockConvergence_Dummy.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockCurvesXRange_Dummy/","title":"Overview of the MockCurvesXRange for load case Dummy","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockCurvesXRange_Dummy/#overview-of-the-mockcurvesxrange-for-load-case-dummy","title":"Overview of the MockCurvesXRange for load case Dummy","text":"<pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockCurvesXRange\"\nload_case = \"Dummy\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockCurvesXRange: \n\nLoad case:\n   Load case Dummy: A dummy load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x_left\": [\n        -0.5\n    ],\n    \"x_right\": [\n        0.5\n    ],\n    \"y_max\": [\n        1.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x_left': array([-0.5]), 'x_right': array([0.5]), 'y_max': array([1.]), 'cpu_time': array([0.2298162]), 'date': array(['2026-02-09 15:47:59.122695'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockCurvesXRange/Dummy/1'],\n      dtype='&lt;U66'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['Dummy'], dtype='&lt;U5'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockCurvesXRange'], dtype='&lt;U16'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y': array([4.99223491e-01, 4.80104069e-01, 4.61190193e-01, 4.42504527e-01,\n       4.24068265e-01, 4.05901175e-01, 3.88021655e-01, 3.70446778e-01,\n       3.53192344e-01, 3.36272932e-01, 3.19701952e-01, 3.03491697e-01,\n       2.87653389e-01, 2.72197236e-01, 2.57132480e-01, 2.42467444e-01,\n       2.28209582e-01, 2.14365527e-01, 2.00941134e-01, 1.87941527e-01,\n       1.75371140e-01, 1.63233761e-01, 1.51532568e-01, 1.40270170e-01,\n       1.29448643e-01, 1.19069560e-01, 1.09134027e-01, 9.96427143e-02,\n       9.05958775e-02, 8.19933888e-02, 7.38347566e-02, 6.61191462e-02,\n       5.88453963e-02, 5.20120329e-02, 4.56172794e-02, 3.96590627e-02,\n       3.41350144e-02, 2.90424673e-02, 2.43784445e-02, 2.01396407e-02,\n       1.63223933e-02, 1.29226389e-02, 9.93585077e-03, 7.35694796e-03,\n       5.18016101e-03, 3.39882650e-03, 2.00505438e-03, 9.89139398e-04,\n       3.38357018e-04, 3.36837598e-05, 3.54172010e-05, 3.55769622e-04,\n       1.04004269e-03, 2.10823879e-03, 3.57373695e-03, 5.44674104e-03,\n       7.73554550e-03, 1.04471536e-02, 1.35876267e-02, 1.71622995e-02,\n       2.11759202e-02, 2.56327453e-02, 3.05366039e-02, 3.58909420e-02,\n       4.16988515e-02, 4.79630884e-02, 5.46860818e-02, 6.18699362e-02,\n       6.95164275e-02, 7.76269944e-02, 8.62027254e-02, 9.52443412e-02,\n       1.04752174e-01, 1.14726146e-01, 1.25165736e-01, 1.36069958e-01,\n       1.47437323e-01, 1.59265805e-01, 1.71552805e-01, 1.84295110e-01,\n       1.97488850e-01, 2.11129455e-01, 2.25211612e-01, 2.39729210e-01,\n       2.54675297e-01, 2.70042025e-01, 2.85820598e-01, 3.02001218e-01,\n       3.18573030e-01, 3.35524066e-01, 3.52841188e-01, 3.70510029e-01,\n       3.88514937e-01, 4.06838915e-01, 4.25463565e-01, 4.44369031e-01,\n       4.63533940e-01, 4.82935348e-01, 5.02548687e-01, 5.22347711e-01]), 'y_axis': array([-0.5       , -0.48989899, -0.47979798, -0.46969697, -0.45959596,\n       -0.44949495, -0.43939394, -0.42929293, -0.41919192, -0.40909091,\n       -0.3989899 , -0.38888889, -0.37878788, -0.36868687, -0.35858586,\n       -0.34848485, -0.33838384, -0.32828283, -0.31818182, -0.30808081,\n       -0.2979798 , -0.28787879, -0.27777778, -0.26767677, -0.25757576,\n       -0.24747475, -0.23737374, -0.22727273, -0.21717172, -0.20707071,\n       -0.1969697 , -0.18686869, -0.17676768, -0.16666667, -0.15656566,\n       -0.14646465, -0.13636364, -0.12626263, -0.11616162, -0.10606061,\n       -0.0959596 , -0.08585859, -0.07575758, -0.06565657, -0.05555556,\n       -0.04545455, -0.03535354, -0.02525253, -0.01515152, -0.00505051,\n        0.00505051,  0.01515152,  0.02525253,  0.03535354,  0.04545455,\n        0.05555556,  0.06565657,  0.07575758,  0.08585859,  0.0959596 ,\n        0.10606061,  0.11616162,  0.12626263,  0.13636364,  0.14646465,\n        0.15656566,  0.16666667,  0.17676768,  0.18686869,  0.1969697 ,\n        0.20707071,  0.21717172,  0.22727273,  0.23737374,  0.24747475,\n        0.25757576,  0.26767677,  0.27777778,  0.28787879,  0.2979798 ,\n        0.30808081,  0.31818182,  0.32828283,  0.33838384,  0.34848485,\n        0.35858586,  0.36868687,  0.37878788,  0.38888889,  0.3989899 ,\n        0.40909091,  0.41919192,  0.42929293,  0.43939394,  0.44949495,\n        0.45959596,  0.46969697,  0.47979798,  0.48989899,  0.5       ])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of y_vs_y_axis</p> <pre><code>figures[\"y_vs_y_axis\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.827 seconds)</p> <p> Download Python source code: plot_MockCurvesXRange_Dummy.py</p> <p> Download Jupyter notebook: plot_MockCurvesXRange_Dummy.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockCurves_Dummy/","title":"Overview of the MockCurves for load case Dummy","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockCurves_Dummy/#overview-of-the-mockcurves-for-load-case-dummy","title":"Overview of the MockCurves for load case Dummy","text":"<pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockCurves\"\nload_case = \"Dummy\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockCurves: \n\nLoad case:\n   Load case Dummy: A dummy load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x\": [\n        1.0\n    ],\n    \"x_1\": [\n        1.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x': array([1.]), 'x_1': array([1.]), 'cpu_time': array([0.00298429]), 'date': array(['2026-02-09 15:47:58.038284'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockCurves/Dummy/1'],\n      dtype='&lt;U60'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['Dummy'], dtype='&lt;U5'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockCurves'], dtype='&lt;U10'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y': array([1.        , 1.01010101, 1.02020202, 1.03030303, 1.04040404,\n       1.05050505, 1.06060606, 1.07070707, 1.08080808, 1.09090909,\n       1.1010101 , 1.11111111, 1.12121212, 1.13131313, 1.14141414,\n       1.15151515, 1.16161616, 1.17171717, 1.18181818, 1.19191919,\n       1.2020202 , 1.21212121, 1.22222222, 1.23232323, 1.24242424,\n       1.25252525, 1.26262626, 1.27272727, 1.28282828, 1.29292929,\n       1.3030303 , 1.31313131, 1.32323232, 1.33333333, 1.34343434,\n       1.35353535, 1.36363636, 1.37373737, 1.38383838, 1.39393939,\n       1.4040404 , 1.41414141, 1.42424242, 1.43434343, 1.44444444,\n       1.45454545, 1.46464646, 1.47474747, 1.48484848, 1.49494949,\n       1.50505051, 1.51515152, 1.52525253, 1.53535354, 1.54545455,\n       1.55555556, 1.56565657, 1.57575758, 1.58585859, 1.5959596 ,\n       1.60606061, 1.61616162, 1.62626263, 1.63636364, 1.64646465,\n       1.65656566, 1.66666667, 1.67676768, 1.68686869, 1.6969697 ,\n       1.70707071, 1.71717172, 1.72727273, 1.73737374, 1.74747475,\n       1.75757576, 1.76767677, 1.77777778, 1.78787879, 1.7979798 ,\n       1.80808081, 1.81818182, 1.82828283, 1.83838384, 1.84848485,\n       1.85858586, 1.86868687, 1.87878788, 1.88888889, 1.8989899 ,\n       1.90909091, 1.91919192, 1.92929293, 1.93939394, 1.94949495,\n       1.95959596, 1.96969697, 1.97979798, 1.98989899, 2.        ]), 'y_axis': array([0.        , 0.01010101, 0.02020202, 0.03030303, 0.04040404,\n       0.05050505, 0.06060606, 0.07070707, 0.08080808, 0.09090909,\n       0.1010101 , 0.11111111, 0.12121212, 0.13131313, 0.14141414,\n       0.15151515, 0.16161616, 0.17171717, 0.18181818, 0.19191919,\n       0.2020202 , 0.21212121, 0.22222222, 0.23232323, 0.24242424,\n       0.25252525, 0.26262626, 0.27272727, 0.28282828, 0.29292929,\n       0.3030303 , 0.31313131, 0.32323232, 0.33333333, 0.34343434,\n       0.35353535, 0.36363636, 0.37373737, 0.38383838, 0.39393939,\n       0.4040404 , 0.41414141, 0.42424242, 0.43434343, 0.44444444,\n       0.45454545, 0.46464646, 0.47474747, 0.48484848, 0.49494949,\n       0.50505051, 0.51515152, 0.52525253, 0.53535354, 0.54545455,\n       0.55555556, 0.56565657, 0.57575758, 0.58585859, 0.5959596 ,\n       0.60606061, 0.61616162, 0.62626263, 0.63636364, 0.64646465,\n       0.65656566, 0.66666667, 0.67676768, 0.68686869, 0.6969697 ,\n       0.70707071, 0.71717172, 0.72727273, 0.73737374, 0.74747475,\n       0.75757576, 0.76767677, 0.77777778, 0.78787879, 0.7979798 ,\n       0.80808081, 0.81818182, 0.82828283, 0.83838384, 0.84848485,\n       0.85858586, 0.86868687, 0.87878788, 0.88888889, 0.8989899 ,\n       0.90909091, 0.91919192, 0.92929293, 0.93939394, 0.94949495,\n       0.95959596, 0.96969697, 0.97979798, 0.98989899, 1.        ])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of y_vs_y_axis</p> <pre><code>figures[\"y_vs_y_axis\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.560 seconds)</p> <p> Download Python source code: plot_MockCurves_Dummy.py</p> <p> Download Jupyter notebook: plot_MockCurves_Dummy.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelFields_LC1/","title":"Overview of the MockModelFields for load case LC1","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelFields_LC1/#overview-of-the-mockmodelfields-for-load-case-lc1","title":"Overview of the MockModelFields for load case LC1","text":"<pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModelFields\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModelFields: \n\nLoad case:\n   Load case LC1: A first mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        2.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x1': array([2.]), 'cpu_time': array([0.00569558]), 'date': array(['2026-02-09 15:47:56.278148'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModelFields/LC1/1'],\n      dtype='&lt;U63'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array(['../../../model_runs/scratch/model_gallery/MockModelFields/LC1/1'],\n      dtype='&lt;U63'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC1'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModelFields'], dtype='&lt;U15'), 'n_cpus': array([1]), 'persistent_result_files': array(['Pyramid.vtk'], dtype='&lt;U11'), 'pyramid': array(['Pyramid.vtk'], dtype='&lt;U11'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': array([2.])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.024 seconds)</p> <p> Download Python source code: plot_MockModelFields_LC1.py</p> <p> Download Jupyter notebook: plot_MockModelFields_LC1.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelPersistent_LC1/","title":"Overview of the MockModelPersistent for load case LC1","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelPersistent_LC1/#overview-of-the-mockmodelpersistent-for-load-case-lc1","title":"Overview of the MockModelPersistent for load case LC1","text":"<p>A toy model for testing purpose of persistent data - mono-component version</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModelPersistent\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModelPersistent:  A toy model for testing purpose of persistent data - mono-component version\n\nLoad case:\n   Load case LC1: A first mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        2.0\n    ],\n    \"x2\": [\n        5.0\n    ],\n    \"x3\": [\n        1.0,\n        2.0,\n        3.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x1': array([2.]), 'x2': array([5.]), 'x3': array([1., 2., 3.]), 'cpu_time': array([0.00386357]), 'date': array(['2026-02-09 15:47:56.809829'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModelPersistent/LC1/1'],\n      dtype='&lt;U67'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array(['../../../model_runs/scratch/model_gallery/MockModelPersistent/LC1/1'],\n      dtype='&lt;U67'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC1'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModelPersistent'], dtype='&lt;U19'), 'n_cpus': array([1]), 'persistent_result_files': array(['green_ellipse.png', 'blue_line.png'], dtype='&lt;U17'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': 7.0, 'y2': array([1, 2, 3, 4, 5]), 'y3': array(['mock_string'], dtype='&lt;U11'), 'y4': array([6.]), 'y5': array([  6.,  36., 216.])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.020 seconds)</p> <p> Download Python source code: plot_MockModelPersistent_LC1.py</p> <p> Download Jupyter notebook: plot_MockModelPersistent_LC1.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelWithMaterial_LC1/","title":"Overview of the MockModelWithMaterial for load case LC1","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelWithMaterial_LC1/#overview-of-the-mockmodelwithmaterial-for-load-case-lc1","title":"Overview of the MockModelWithMaterial for load case LC1","text":"<p>A toy model loading a material</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModelWithMaterial\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModelWithMaterial: A toy model loading a material\n\nLoad case:\n   Load case LC1: A first mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        0.1\n    ],\n    \"x1_maximum_only\": [\n        0.1\n    ],\n    \"x1_minimum_only\": [\n        0.1\n    ],\n    \"x1_no_bounds\": [\n        0.1\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {\n    \"E1\": [\n        150000.0\n    ]\n}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'E1': array([150000.]), 'x1': array([0.1]), 'x1_maximum_only': array([0.1]), 'x1_minimum_only': array([0.1]), 'x1_no_bounds': array([0.1]), 'cpu_time': array([0.00598192]), 'date': array(['2026-02-09 15:47:57.088623'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModelWithMaterial/LC1/1'],\n      dtype='&lt;U69'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC1'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModelWithMaterial'], dtype='&lt;U21'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': array([5.2])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.033 seconds)</p> <p> Download Python source code: plot_MockModelWithMaterial_LC1.py</p> <p> Download Jupyter notebook: plot_MockModelWithMaterial_LC1.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelWithMaterial_LC2/","title":"Overview of the MockModelWithMaterial for load case LC2","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModelWithMaterial_LC2/#overview-of-the-mockmodelwithmaterial-for-load-case-lc2","title":"Overview of the MockModelWithMaterial for load case LC2","text":"<p>A toy model loading a material</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModelWithMaterial\"\nload_case = \"LC2\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModelWithMaterial: A toy model loading a material\n\nLoad case:\n   Load case LC2: A second mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": [\n        [\n            \"y1\",\n            \"y1_2\"\n        ]\n    ]\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        0.1\n    ],\n    \"x1_2\": [\n        0.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {\n    \"E1\": [\n        150000.0\n    ]\n}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'E1': array([150000.]), 'x1': array([0.1]), 'x1_2': array([0.]), 'cpu_time': array([0.006253]), 'date': array(['2026-02-09 15:47:59.986898'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModelWithMaterial/LC2/1'],\n      dtype='&lt;U69'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC2'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModelWithMaterial'], dtype='&lt;U21'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': array([5.2]), 'y1_2': array([6.2])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of y1_2_vs_y1</p> <pre><code>figures[\"y1_2_vs_y1\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.634 seconds)</p> <p> Download Python source code: plot_MockModelWithMaterial_LC2.py</p> <p> Download Jupyter notebook: plot_MockModelWithMaterial_LC2.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModel_LC1/","title":"Overview of the MockModel for load case LC1","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModel_LC1/#overview-of-the-mockmodel-for-load-case-lc1","title":"Overview of the MockModel for load case LC1","text":"<p>A toy model implementing an unphysical analytical law; used for testing purpose</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModel\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModel:  A toy model implementing an unphysical analytical law; used for testing purpose\n\nLoad case:\n   Load case LC1: A first mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        0.1\n    ],\n    \"x1_maximum_only\": [\n        0.1\n    ],\n    \"x1_minimum_only\": [\n        0.1\n    ],\n    \"x1_no_bounds\": [\n        0.1\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x1': array([0.1]), 'x1_maximum_only': array([0.1]), 'x1_minimum_only': array([0.1]), 'x1_no_bounds': array([0.1]), 'cpu_time': array([0.00658226]), 'date': array(['2026-02-09 15:47:56.004781'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModel/LC1/1'],\n      dtype='&lt;U57'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC1'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModel'], dtype='&lt;U9'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': array([5.2])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.033 seconds)</p> <p> Download Python source code: plot_MockModel_LC1.py</p> <p> Download Jupyter notebook: plot_MockModel_LC1.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModel_LC2/","title":"Overview of the MockModel for load case LC2","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/01_models/plot_MockModel_LC2/#overview-of-the-mockmodel-for-load-case-lc2","title":"Overview of the MockModel for load case LC2","text":"<p>A toy model implementing an unphysical analytical law; used for testing purpose</p> <pre><code>from __future__ import annotations\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n</code></pre> <p>First, let's instantiate the model for a given load case:</p> <pre><code>model_name = \"MockModel\"\nload_case = \"LC2\"\nmodel = create_model(\n    model_name,\n    load_case,\n    check_subprocess=True,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/model_gallery\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/model_gallery\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/model_gallery/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The model description can be accessed like this:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model MockModel:  A toy model implementing an unphysical analytical law; used for testing purpose\n\nLoad case:\n   Load case LC2: A second mock load case.\n\n   Boundary condition variables:\n   []\n\n   Plot parameters:\n   {\n    \"curves\": [\n        [\n            \"y1\",\n            \"y1_2\"\n        ]\n    ]\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"x1\": [\n        0.1\n    ],\n    \"x1_2\": [\n        0.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {}\n\n   Default material variables:\n   {}\n</code></pre> <p>An illustration of the load case:</p> <pre><code>model.show_image()\n</code></pre> <p>The model is executed with its default input values:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>{'x1': array([0.1]), 'x1_2': array([0.]), 'cpu_time': array([0.00495815]), 'date': array(['2026-02-09 15:47:57.371490'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['../../../model_runs/archive/model_gallery/MockModel/LC2/1'],\n      dtype='&lt;U57'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/model_gallery'],\n      dtype='&lt;U77'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/model_gallery'],\n      dtype='&lt;U77'), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['LC2'], dtype='&lt;U3'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'model': array(['MockModel'], dtype='&lt;U9'), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40'), 'y1': array([5.2]), 'y1_2': array([6.2])}\n</code></pre> <p>And the results are visualised with the pre-defined plots:</p> <pre><code>figures = model.plot_results(show=True)\n</code></pre> <p>Plot of y1_2_vs_y1</p> <pre><code>figures[\"y1_2_vs_y1\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.340 seconds)</p> <p> Download Python source code: plot_MockModel_LC2.py</p> <p> Download Jupyter notebook: plot_MockModel_LC2.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/","title":"Use a model","text":""},{"location":"generated/runnable_examples/02_integrated_models/#model_gallery","title":"Examples of integrated model usage","text":"<p>Below is a gallery of examples about usage of integrated models.</p> <p> A model composition that adds a post-processor to a model. </p> <p> Usage of the BendingTestAnalytical </p> <p> Patch a pre-processor to apply transformation on input variables. </p> <p> Visualize and compare model results </p> <p> Manage model results </p> <p> Download all examples in Python source code: 02_integrated_models_python.zip</p> <p> Download all examples in Jupyter notebooks: 02_integrated_models_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/mg_execution_times/","title":"Computation times","text":"<p>04:14.464 total execution time for generated_runnable_examples_02_integrated_models files:</p> <p>+----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_01_basic_usage (docs/runnable_examples/02_integrated_models/plot_01_basic_usage.py)                                     | 04:08.169 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_02_visualize-model_result (docs/runnable_examples/02_integrated_models/plot_02_visualize-model_result.py)    | 00:03.510 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_03_model_result_management (docs/runnable_examples/02_integrated_models/plot_03_model_result_management.py) | 00:02.682 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_04_input_space_transform (docs/runnable_examples/02_integrated_models/plot_04_input_space_transform.py)       | 00:00.056 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_041_post_processing_patch (docs/runnable_examples/02_integrated_models/plot_041_post_processing_patch.py)    | 00:00.048 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_01_basic_usage/","title":"Usage of the BendingTestAnalytical","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_01_basic_usage/#usage-of-the-bendingtestanalytical","title":"Usage of the BendingTestAnalytical","text":"<p>BendingTestAnalytical is a simple model implemented for testing and training purpose.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo.core.discipline import Discipline\nfrom numpy import array\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>Introduction</p> <p>BendingTestAnalytical is based on Bernoulli beam theory. It is configured on imposed displacement. It computes the reaction forces and the displacement and moment along the beam.</p> <p>First, let's instantiate the model from the API:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/basic_usage\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/basic_usage\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/basic_usage/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\nmodel.set_cache(Discipline.CacheType.NONE)\nmodel.archive_manager._accept_overwrite_job_dir = True\n</code></pre> <p>The model description can be accessed like this: Note that the load case contains the names of the boundary conditions, and the output variables to be plotted on x-y plots:</p> <pre><code>print(model.description)\n</code></pre> <p>Out:</p> <pre><code>Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n\nLoad case:\n   Load case Cantilever: A cantilever load case.\n\n   Boundary condition variables:\n   ['imposed_dplt', 'relative_dplt_location']\n\n   Plot parameters:\n   {\n    \"curves\": []\n}\n   Load:\n   Load(direction='', sign='', type='')\n\nDefault values:\n\n   Default geometrical variables:\n   {\n    \"height\": [\n        40.0\n    ],\n    \"length\": [\n        600.0\n    ],\n    \"width\": [\n        30.0\n    ]\n}\n\n   Default numerical variables:\n   {}\n\n   Default boundary conditions variables:\n   {\n    \"imposed_dplt\": [\n        -5.0\n    ],\n    \"relative_dplt_location\": [\n        1.0\n    ]\n}\n\n   Default material variables:\n   {\n    \"nu_p\": [\n        0.3\n    ],\n    \"young_modulus\": [\n        210000.0\n    ]\n}\n</code></pre> <p>An illustration of the model can be shown:</p> <pre><code>model.show_image()\n# and the path to the image accessed like this:\nmodel.image_path\n</code></pre> <p></p> <p>Out:</p> <pre><code>PosixPath('/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/problems/load_cases/Beam_Cantilever.png')\n</code></pre> <p>Specific image can also be associated with the load case:</p> <pre><code>model.load_case.show_image()\n</code></pre> <p></p> <p>Executing the model with default parameters is straightforward:</p> <pre><code>model.execute()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:39:44: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/archive/basic_usage.\n\n{'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'reaction_forces': array([-2333.33333333]), 'moment': array([1400000.,       0.]), 'moment_grid': array([  0., 600.]), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'dplt_at_force_location': array([-5.]), 'maximum_dplt': array([-5.]), 'location_max_dplt': array([600.]), 'error_code': array([0]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array([''], dtype='&lt;U1'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:39:44.017465'], dtype='&lt;U26'), 'cpu_time': array([0.01507473]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/basic_usage'],\n      dtype='&lt;U75'), 'directory_archive_job': array(['../../../model_runs/archive/basic_usage/BendingTestAnalytical/Cantilever/5'],\n      dtype='&lt;U74'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/basic_usage'],\n      dtype='&lt;U75'), 'directory_scratch_job': array([''], dtype='&lt;U1')}\n</code></pre> <p>And input parameters could also be redefined. First get the list of parameters:</p> <pre><code>model.get_input_data_names()\n</code></pre> <p>Out:</p> <pre><code>['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p']\n</code></pre> <p>Then modify inputs, for instance, Young's modulus:</p> <pre><code>model.execute({\"young_modulus\": array([195000.0])})\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:39:44: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/archive/basic_usage.\n\n{'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'young_modulus': array([195000.]), 'nu_p': array([0.3]), 'reaction_forces': array([-2166.66666667]), 'moment': array([1300000.,       0.]), 'moment_grid': array([  0., 600.]), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'dplt_at_force_location': array([-5.]), 'maximum_dplt': array([-5.]), 'location_max_dplt': array([600.]), 'error_code': array([0]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array([''], dtype='&lt;U1'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:39:44.027967'], dtype='&lt;U26'), 'cpu_time': array([0.00238848]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/basic_usage'],\n      dtype='&lt;U75'), 'directory_archive_job': array(['../../../model_runs/archive/basic_usage/BendingTestAnalytical/Cantilever/6'],\n      dtype='&lt;U74'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/basic_usage'],\n      dtype='&lt;U75'), 'directory_scratch_job': array([''], dtype='&lt;U1')}\n</code></pre> <p>Switching load cases: A new model must be created to switch to another load case:</p> <pre><code>model = create_model(\"BendingTestAnalytical\", \"ThreePoints\")\n\n# It is also possible to specify values for other inputs:\noutput_data = model.execute({\"height\": array([20.0])})\nprint(output_data)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:39:44: Found 2 entries in the cache file : BendingTestAnalytical_ThreePoints_cache.hdf node : node\n{'length': array([600.]), 'width': array([30.]), 'height': array([20.]), 'imposed_dplt': array([-5.]), 'relative_support_location': array([0.5]), 'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'cpu_time': array([0.02207899]), 'date': array(['2026-02-09 15:47:44.722597'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['default_archive/BendingTestAnalytical/ThreePoints/3'],\n      dtype='&lt;U51'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_archive'],\n      dtype='&lt;U104'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_scratch'],\n      dtype='&lt;U104'), 'dplt': array([ 0.00000000e+00, -1.51499692e-01, -3.02875712e-01, -4.54004384e-01,\n       -6.04762037e-01, -7.55024997e-01, -9.04669592e-01, -1.05357215e+00,\n       -1.20160899e+00, -1.34865645e+00, -1.49459084e+00, -1.63928851e+00,\n       -1.78262577e+00, -1.92447895e+00, -2.06472438e+00, -2.20323838e+00,\n       -2.33989729e+00, -2.47457742e+00, -2.60715511e+00, -2.73750669e+00,\n       -2.86550847e+00, -2.99103678e+00, -3.11396796e+00, -3.23417833e+00,\n       -3.35154421e+00, -3.46594194e+00, -3.57724784e+00, -3.68533823e+00,\n       -3.79008945e+00, -3.89137781e+00, -3.98907965e+00, -4.08307130e+00,\n       -4.17322908e+00, -4.25942931e+00, -4.34154833e+00, -4.41946245e+00,\n       -4.49304802e+00, -4.56218135e+00, -4.62673877e+00, -4.68659661e+00,\n       -4.74163119e+00, -4.79171884e+00, -4.83673589e+00, -4.87655867e+00,\n       -4.91106350e+00, -4.94012670e+00, -4.96362461e+00, -4.98143356e+00,\n       -4.99342986e+00, -4.99948985e+00, -4.99948985e+00, -4.99342986e+00,\n       -4.98143356e+00, -4.96362461e+00, -4.94012670e+00, -4.91106350e+00,\n       -4.87655867e+00, -4.83673589e+00, -4.79171884e+00, -4.74163119e+00,\n       -4.68659661e+00, -4.62673877e+00, -4.56218135e+00, -4.49304802e+00,\n       -4.41946245e+00, -4.34154833e+00, -4.25942931e+00, -4.17322908e+00,\n       -4.08307130e+00, -3.98907965e+00, -3.89137781e+00, -3.79008945e+00,\n       -3.68533823e+00, -3.57724784e+00, -3.46594194e+00, -3.35154421e+00,\n       -3.23417833e+00, -3.11396796e+00, -2.99103678e+00, -2.86550847e+00,\n       -2.73750669e+00, -2.60715511e+00, -2.47457742e+00, -2.33989729e+00,\n       -2.20323838e+00, -2.06472438e+00, -1.92447895e+00, -1.78262577e+00,\n       -1.63928851e+00, -1.49459084e+00, -1.34865645e+00, -1.20160899e+00,\n       -1.05357215e+00, -9.04669592e-01, -7.55024997e-01, -6.04762037e-01,\n       -4.54004384e-01, -3.02875712e-01, -1.51499692e-01, -1.55752418e-17]), 'dplt_at_force_location': array([-4.99948985]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['ThreePoints'], dtype='&lt;U11'), 'location_max_dplt': array([296.96969697]), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'maximum_dplt': array([-4.99948985]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'moment': array([      0., -700000.,       0.]), 'moment_grid': array([  0., 300., 600.]), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'reaction_forces': array([-4666.66666667]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40')}\n</code></pre>"},{"location":"generated/runnable_examples/02_integrated_models/plot_01_basic_usage/#post-treatment-of-the-results","title":"Post-treatment of the results","text":"<p>The BendingTestAnalytical provides the following outputs:</p> <ul> <li>reaction_forces: a scalar value giving the reaction forces calculated at the</li> <li>maximum_dplt: a scalar value giving the maximum displacement of the beam</li> <li>location_max_dplt: a scalar value giving the location of the maximum displacement along the beam</li> <li>displacement: an array of displacement values</li> <li>displacement_grid: an array of sorted coordinates along the beam at which displacement are computed</li> <li>moment: an array of moment values</li> <li>moment_grid: an array of sorted coordinates along the beam at which</li> </ul> <pre><code># The value of the maximum displacement along the beam can be obtained like this:\n\nmodel.get_output_data()[\"maximum_dplt\"]\n</code></pre> <p>Out:</p> <pre><code>array([-4.99948985])\n</code></pre> <p>And the outputs plotted like this:</p> <pre><code>figures = model.plot_results(save=True, show=True)\n\nfigures[\"dplt_vs_dplt_grid\"]\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:39:44: Saving plots to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models\n    INFO - 15:39:44: Plot BendingTestAnalytical_ThreePoints_dplt_vs_dplt_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_ThreePoints_dplt_vs_dplt_grid.html\n    INFO - 15:43:49: Plot BendingTestAnalytical_ThreePoints_moment_vs_moment_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_ThreePoints_moment_vs_moment_grid.html\n</code></pre> <p>And now, we want to change the support location. By default, it is located at both ends of the beam. It is now positioned at 0.3 times the half length of the beam.</p> <pre><code>output_data = model.execute({\"relative_support_location\": array([0.3])})\n</code></pre> <p>Note that the reaction force has increased compared to the previous simulation, because the support are closer to the beam center.</p> <pre><code>print(output_data)\n</code></pre> <p>Out:</p> <pre><code>{'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_support_location': array([0.3]), 'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'cpu_time': array([0.00273824]), 'date': array(['2026-02-09 15:47:46.723058'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['default_archive/BendingTestAnalytical/ThreePoints/4'],\n      dtype='&lt;U51'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_archive'],\n      dtype='&lt;U104'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_scratch'],\n      dtype='&lt;U104'), 'dplt': array([ 0.00000000e+00, -1.51499692e-01, -3.02875712e-01, -4.54004384e-01,\n       -6.04762037e-01, -7.55024997e-01, -9.04669592e-01, -1.05357215e+00,\n       -1.20160899e+00, -1.34865645e+00, -1.49459084e+00, -1.63928851e+00,\n       -1.78262577e+00, -1.92447895e+00, -2.06472438e+00, -2.20323838e+00,\n       -2.33989729e+00, -2.47457742e+00, -2.60715511e+00, -2.73750669e+00,\n       -2.86550847e+00, -2.99103678e+00, -3.11396796e+00, -3.23417833e+00,\n       -3.35154421e+00, -3.46594194e+00, -3.57724784e+00, -3.68533823e+00,\n       -3.79008945e+00, -3.89137781e+00, -3.98907965e+00, -4.08307130e+00,\n       -4.17322908e+00, -4.25942931e+00, -4.34154833e+00, -4.41946245e+00,\n       -4.49304802e+00, -4.56218135e+00, -4.62673877e+00, -4.68659661e+00,\n       -4.74163119e+00, -4.79171884e+00, -4.83673589e+00, -4.87655867e+00,\n       -4.91106350e+00, -4.94012670e+00, -4.96362461e+00, -4.98143356e+00,\n       -4.99342986e+00, -4.99948985e+00, -4.99948985e+00, -4.99342986e+00,\n       -4.98143356e+00, -4.96362461e+00, -4.94012670e+00, -4.91106350e+00,\n       -4.87655867e+00, -4.83673589e+00, -4.79171884e+00, -4.74163119e+00,\n       -4.68659661e+00, -4.62673877e+00, -4.56218135e+00, -4.49304802e+00,\n       -4.41946245e+00, -4.34154833e+00, -4.25942931e+00, -4.17322908e+00,\n       -4.08307130e+00, -3.98907965e+00, -3.89137781e+00, -3.79008945e+00,\n       -3.68533823e+00, -3.57724784e+00, -3.46594194e+00, -3.35154421e+00,\n       -3.23417833e+00, -3.11396796e+00, -2.99103678e+00, -2.86550847e+00,\n       -2.73750669e+00, -2.60715511e+00, -2.47457742e+00, -2.33989729e+00,\n       -2.20323838e+00, -2.06472438e+00, -1.92447895e+00, -1.78262577e+00,\n       -1.63928851e+00, -1.49459084e+00, -1.34865645e+00, -1.20160899e+00,\n       -1.05357215e+00, -9.04669592e-01, -7.55024997e-01, -6.04762037e-01,\n       -4.54004384e-01, -3.02875712e-01, -1.51499692e-01, -1.21972744e-19]), 'dplt_at_force_location': array([-4.99948985]), 'dplt_grid': array([120.        , 123.63636364, 127.27272727, 130.90909091,\n       134.54545455, 138.18181818, 141.81818182, 145.45454545,\n       149.09090909, 152.72727273, 156.36363636, 160.        ,\n       163.63636364, 167.27272727, 170.90909091, 174.54545455,\n       178.18181818, 181.81818182, 185.45454545, 189.09090909,\n       192.72727273, 196.36363636, 200.        , 203.63636364,\n       207.27272727, 210.90909091, 214.54545455, 218.18181818,\n       221.81818182, 225.45454545, 229.09090909, 232.72727273,\n       236.36363636, 240.        , 243.63636364, 247.27272727,\n       250.90909091, 254.54545455, 258.18181818, 261.81818182,\n       265.45454545, 269.09090909, 272.72727273, 276.36363636,\n       280.        , 283.63636364, 287.27272727, 290.90909091,\n       294.54545455, 298.18181818, 301.81818182, 305.45454545,\n       309.09090909, 312.72727273, 316.36363636, 320.        ,\n       323.63636364, 327.27272727, 330.90909091, 334.54545455,\n       338.18181818, 341.81818182, 345.45454545, 349.09090909,\n       352.72727273, 356.36363636, 360.        , 363.63636364,\n       367.27272727, 370.90909091, 374.54545455, 378.18181818,\n       381.81818182, 385.45454545, 389.09090909, 392.72727273,\n       396.36363636, 400.        , 403.63636364, 407.27272727,\n       410.90909091, 414.54545455, 418.18181818, 421.81818182,\n       425.45454545, 429.09090909, 432.72727273, 436.36363636,\n       440.        , 443.63636364, 447.27272727, 450.90909091,\n       454.54545455, 458.18181818, 461.81818182, 465.45454545,\n       469.09090909, 472.72727273, 476.36363636, 480.        ]), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['ThreePoints'], dtype='&lt;U11'), 'location_max_dplt': array([298.18181818]), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'maximum_dplt': array([-4.99948985]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'moment': array([        0.        , -15555555.55555555,         0.        ]), 'moment_grid': array([120., 300., 480.]), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'reaction_forces': array([-172839.50617284]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['4ebc5ee140af2486f75b407258c24b6bf4d74702'], dtype='&lt;U40')}\n</code></pre> <p>The outputs can be plotted again. Note that the displcement curve support now corresponds to +/- 0.3 times the half length of the beam:</p> <pre><code>figures = model.plot_results(show=True)\n\nfigures[\"dplt_vs_dplt_grid\"]\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:49: Saving plots to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models\n    INFO - 15:43:51: Plot BendingTestAnalytical_ThreePoints_dplt_vs_dplt_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_ThreePoints_dplt_vs_dplt_grid.html\n    INFO - 15:43:52: Plot BendingTestAnalytical_ThreePoints_moment_vs_moment_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_ThreePoints_moment_vs_moment_grid.html\n</code></pre> <p>For a model running an external solver, the options of the job can be modified. The basic job options are defined in the pydantic model <code>BaseUserJobSettings()</code> and passed to the model's job executor. To set the number of CPUs to 2, the following command can be used: <code>model.run.job_executor.set_options(BaseUserJobSettings(n_cpus=2))</code>.</p> <p>Total running time of the script: ( 4 minutes  8.169 seconds)</p> <p> Download Python source code: plot_01_basic_usage.py</p> <p> Download Jupyter notebook: plot_01_basic_usage.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_02_visualize-model_result/","title":"Visualize and compare model results","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_02_visualize-model_result/#visualize-and-compare-model-results","title":"Visualize and compare model results","text":"<p>Visualize model results and compare to other model results or reference data.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo.datasets.dataset import Dataset\nfrom gemseo.post.dataset.bars import BarPlot\nfrom gemseo.post.dataset.scatter_plot_matrix import ScatterMatrix\nfrom numpy import atleast_1d\nfrom pandas import DataFrame\nfrom pandas import concat\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_result import ModelResult\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.utilities.plotting_utils import plot_curves\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>After execution, the results of a model can be visualized. The curves are shown by default:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/visualize_model_result\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/visualize_model_result\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/visualize_model_result/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\nmodel.cache = None\nmodel.archive_manager._accept_overwrite_job_dir = True\nmodel.execute()\nresult = ModelResult.from_data({\n    \"inputs\": model.get_input_data(),\n    \"outputs\": model.get_output_data(),\n})\nfigs = model.plot_results(show=True, save=False)\nfigs[\"dplt_vs_dplt_grid\"]\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:52: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/archive/visualize_model_result.\n    INFO - 15:43:52: Found 1 entries in the cache file : BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:43:52: Saving plots to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models\n    INFO - 15:43:52: Plot BendingTestAnalytical_Cantilever_dplt_vs_dplt_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_Cantilever_dplt_vs_dplt_grid.html\n    INFO - 15:43:54: Plot BendingTestAnalytical_Cantilever_moment_vs_moment_grid.html is saved to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/BendingTestAnalytical_Cantilever_moment_vs_moment_grid.html\n</code></pre> <pre><code>figs[\"moment_vs_moment_grid\"]\n</code></pre> <p>Scalar outputs can be visualized in a scatter matrix:</p> <pre><code>figs = model.plot_results(\n    show=True,\n    save=True,\n    data=\"SCALARS\",\n    scalar_names=[\"young_modulus\", \"reaction_forces\"],\n)\nfigs[\"scalars\"]\n</code></pre> <p></p> <p>Out:</p> <pre><code>    INFO - 15:43:54: Saving plots to /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:91: UserWarning:\n\nAttempting to set identical low and high xlims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:100: UserWarning:\n\nAttempting to set identical low and high xlims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:101: UserWarning:\n\nAttempting to set identical low and high ylims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n[&lt;Figure size 640x480 with 4 Axes&gt;]\n</code></pre> <p>Results can be obtained by querying the archive. For a <code>DirectoryArchive</code>, the path to access to the current result is:</p> <pre><code>model.archive_manager.job_directory\n</code></pre> <p>Out:</p> <pre><code>PosixPath('../../../model_runs/archive/visualize_model_result/BendingTestAnalytical/Cantilever/5')\n</code></pre> <p>A result can be retrieved from this path:</p> <pre><code>result = ModelResult.from_data(\n    model.archive_manager.get_result(model.archive_manager.job_directory)\n)\nprint(result)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:54: Found 1 entries in the cache file : BendingTestAnalytical_Cantilever_cache.hdf node : node\n\nScalars:\n{'young_modulus': 210000.0, 'nu_p': 0.3, 'length': 600.0, 'width': 30.0, 'height': 40.0, 'imposed_dplt': -5.0, 'relative_dplt_location': 1.0, 'reaction_forces': -2333.3333333333335, 'dplt_at_force_location': -4.999999999999994, 'maximum_dplt': -4.999999999999994, 'location_max_dplt': 600.0}\n\nVectors:\n{}\n\nCurves:\n   ('dplt_grid', 'dplt')\n               0         1          2          3          4          5          6          7          8          9          10         11         12         13         14         15         16          17          18          19          20          21          22          23          24          25          26          27          28          29          30          31          32          33          34          35          36          37         38          39          40          41          42          43          44          45          46          47          48          49          50          51          52          53          54          55          56          57          58          59          60          61          62          63          64          65          66          67          68          69          70          71          72          73          74          75          76          77          78          79          80          81          82          83          84          85          86          87          88          89          90          91          92          93          94          95          96          97          98     99\ndplt_grid  0.0  6.060606  12.121212  18.181818  24.242424  30.303030  36.363636  42.424242  48.484848  54.545455  60.606061  66.666667  72.727273  78.787879  84.848485  90.909091  96.969697  103.030303  109.090909  115.151515  121.212121  127.272727  133.333333  139.393939  145.454545  151.515152  157.575758  163.636364  169.696970  175.757576  181.818182  187.878788  193.939394  200.000000  206.060606  212.121212  218.181818  224.242424  230.30303  236.363636  242.424242  248.484848  254.545455  260.606061  266.666667  272.727273  278.787879  284.848485  290.909091  296.969697  303.030303  309.090909  315.151515  321.212121  327.272727  333.333333  339.393939  345.454545  351.515152  357.575758  363.636364  369.696970  375.757576  381.818182  387.878788  393.939394  400.000000  406.060606  412.121212  418.181818  424.242424  430.303030  436.363636  442.424242  448.484848  454.545455  460.606061  466.666667  472.727273  478.787879  484.848485  490.909091  496.969697  503.030303  509.090909  515.151515  521.212121  527.272727  533.333333  539.393939  545.454545  551.515152  557.575758  563.636364  569.696970  575.757576  581.818182  587.878788  593.939394  600.0\ndplt       0.0 -0.000763  -0.003040  -0.006817  -0.012079  -0.018809  -0.026992  -0.036612  -0.047655  -0.060105  -0.073946  -0.089163  -0.105741  -0.123663  -0.142915  -0.163481  -0.185345   -0.208492   -0.232908   -0.258575   -0.285479   -0.313604   -0.342936   -0.373457   -0.405153   -0.438009   -0.472009   -0.507137   -0.543379   -0.580718   -0.619139   -0.658627   -0.699166   -0.740741   -0.783336   -0.826936   -0.871525   -0.917088   -0.96361   -1.011075   -1.059467   -1.108772   -1.158973   -1.210055   -1.262003   -1.314801   -1.368434   -1.422886   -1.478142   -1.534187   -1.591004   -1.648579   -1.706897   -1.765940   -1.825695   -1.886145   -1.947276   -2.009071   -2.071516   -2.134595   -2.198291   -2.262591   -2.327478   -2.392938   -2.458953   -2.525510   -2.592593   -2.660185   -2.728272   -2.796839   -2.865869   -2.935348   -3.005259   -3.075588   -3.146319   -3.217436   -3.288924   -3.360768   -3.432952   -3.505461   -3.578278   -3.651390   -3.724780   -3.798432   -3.872332   -3.946464   -4.020812   -4.095361   -4.170096   -4.245001   -4.320060   -4.395259   -4.470581   -4.546011   -4.621534   -4.697135   -4.772797   -4.848505   -4.924245   -5.0\n\n   ('moment_grid', 'moment')\n                        0      1\nmoment_grid        0.0  600.0\nmoment       1400000.0    0.0\n\nFields:\n{}\n</code></pre> <p>Two model results can be compared. We first generate a second result:</p> <pre><code>model.execute({\"young_modulus\": atleast_1d(1.95e5), \"imposed_dplt\": atleast_1d(-10.0)})\nresult_1 = ModelResult.from_data({\n    \"inputs\": model.get_input_data(),\n    \"outputs\": model.get_output_data(),\n})\nresult_1\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:54: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/archive/visualize_model_result.\n    INFO - 15:43:54: Found 1 entries in the cache file : BendingTestAnalytical_Cantilever_cache.hdf node : node\n\nModelResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-43-54', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={}, report={&lt;MetaDataNames.model: 'model'&gt;: 'BendingTestAnalytical', &lt;MetaDataNames.load_case: 'load_case'&gt;: 'Cantilever', &lt;MetaDataNames.error_code: 'error_code'&gt;: 0, &lt;MetaDataNames.description: 'description'&gt;: '', &lt;MetaDataNames.job_name: 'job_name'&gt;: '', &lt;MetaDataNames.persistent_result_files: 'persistent_result_files'&gt;: '', &lt;MetaDataNames.n_cpus: 'n_cpus'&gt;: 1, &lt;MetaDataNames.date: 'date'&gt;: '2026-02-13 15:43:54.167029', &lt;MetaDataNames.cpu_time: 'cpu_time'&gt;: 0.0023894309997558594, &lt;MetaDataNames.user: 'user'&gt;: 'charles-thoulon', &lt;MetaDataNames.machine: 'machine'&gt;: 'PCCM20250002', &lt;MetaDataNames.vims_git_version: 'vims_git_version'&gt;: 'da5deed25978136ce4f1ce89eb4e38ec44422c8c', &lt;MetaDataNames.directory_archive_root: 'directory_archive_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/visualize_model_result', &lt;MetaDataNames.directory_archive_job: 'directory_archive_job'&gt;: '../../../model_runs/archive/visualize_model_result/BendingTestAnalytical/Cantilever/6', &lt;MetaDataNames.directory_scratch_root: 'directory_scratch_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result', &lt;MetaDataNames.directory_scratch_job: 'directory_scratch_job'&gt;: ''}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), scalars={'length': 600.0, 'width': 30.0, 'height': 40.0, 'imposed_dplt': -10.0, 'relative_dplt_location': 1.0, 'young_modulus': 195000.0, 'nu_p': 0.3, 'reaction_forces': -4333.333333333333, 'dplt_at_force_location': -9.999999999999991, 'maximum_dplt': -9.999999999999991, 'location_max_dplt': 600.0}, vectors={}, curves=[&lt;vimseo.utilities.curves.Curve object at 0x7d5202229390&gt;, &lt;vimseo.utilities.curves.Curve object at 0x7d520222a650&gt;], fields={}, snapshots=[])\n</code></pre> <p>The scalars can be compared in a scatter matrix:</p> <pre><code>variable_names = [\"young_modulus\", \"reaction_forces\"]\ndf = DataFrame([\n    result.get_numeric_scalars(variable_names=variable_names),\n    result_1.get_numeric_scalars(variable_names=variable_names),\n])\ndf[\"color\"] = range(len(df))\nplot = ScatterMatrix(Dataset.from_dataframe(df), coloring_variable=\"color\")\nplot.labels = [\"result\", \"result 1\"]\nfig = plot.execute(\n    save=False,\n    show=True,\n)\nfig\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n[&lt;Figure size 640x480 with 4 Axes&gt;]\n</code></pre> <p>.. note::</p> <pre><code>Since the compared data are in a ``Pandas.DataFrame``,\nother plotting library can be used, like ``Seaborn``:\n``sns.pairplot(df)``\n</code></pre> <p>The curves can also be compared:</p> <pre><code>plot_curves(\n    [\n        result.get_curve((\"dplt_grid\", \"dplt\")),\n        result_1.get_curve((\"dplt_grid\", \"dplt\")),\n    ],\n    labels=[\"result\", \"result 1\"],\n)\n</code></pre> <p>A model result can be compared to a data. A synthetic data is generated as a <code>Pandas.DataFrame</code>:</p> <pre><code>df = DataFrame.from_dict({\n    \"young_modulus\": atleast_1d(9e4),\n    \"nu_p\": atleast_1d(0.25),\n    \"reaction_forces\": atleast_1d(1e3),\n})\nvariable_names = list(df.columns.values)\n</code></pre> <p>The model result is added to the <code>DataFrame</code>, and the latter is plotted:</p> <pre><code>df = concat(\n    [\n        df,\n        DataFrame([result.get_numeric_scalars(variable_names=variable_names)]),\n    ],\n    ignore_index=True,\n)\n</code></pre> <p>The dataframe is plotted to compare the model result to the synthetic result. First, we compare with a bar plot:</p> <pre><code>plot = BarPlot(Dataset.from_dataframe(df))\nplot.title = \"Comparison of model result with data\"\nplot.font_size = 20\nplot.labels = [\"data\", \"model result\"]\nfig = plot.execute(save=True, show=True, file_format=\"html\")[0]\nfig\n</code></pre> <p>And with a scatter matrix. For a small number of data to compare (two here), it is less relevant than the bar plot, It may become more interesting for a larger number of data to compare:</p> <pre><code>df[\"color\"] = range(len(df))\nplot = ScatterMatrix(Dataset.from_dataframe(df), coloring_variable=\"color\")\nplot.labels = [\"data\", \"model result\"]\nfig = plot.execute(\n    save=False,\n    show=True,\n)\nfig\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n[&lt;Figure size 640x480 with 9 Axes&gt;]\n</code></pre> <p>Total running time of the script: ( 0 minutes  3.510 seconds)</p> <p> Download Python source code: plot_02_visualize-model_result.py</p> <p> Download Jupyter notebook: plot_02_visualize-model_result.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_03_model_result_management/","title":"Manage model results","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_03_model_result_management/#manage-model-results","title":"Manage model results","text":"<p>Manage model results using several result managers.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nimport mlflow\nfrom gemseo.datasets.dataset import Dataset\nfrom gemseo.post.dataset.bars import BarPlot\nfrom mlflow import delete_run\nfrom numpy import atleast_1d\nfrom pandas import DataFrame\nfrom pandas import concat\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_result import ModelResult\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.storage_management.base_storage_manager import PersistencyPolicy\nfrom vimseo.utilities.plotting_utils import plot_curves\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>Properly storing model results when running hundreds of simulations with possibly several users and several studies at the same time is a key aspect, especially if model credibility demonstration is targeted. Our strategy is to separate the following concepts:  - scratch results: these are specific to models relying on external solvers. A scratch directory contains the data    read or written by the solver.  - archive results: these are the data we want to keep after the simulation. They comprise the input and output data,    metadata and files generated in the scratch directory that we want to conserve.  - a cache: while a cache could be seen as a way of archiving results, we prefer to separate cache and archiving.    However, a bridge is available between both: a cache can be generated from an archive or part of an archive.</p> <p>An archive manager can be chosen among <code>DirectoryArchive</code> or <code>MlflowArchive</code>. In the first case, an arborescence of directories is generated under a directory <code>default_archive</code> created in the current working directory. In the second case, an MLflow database is created. By default the database is file-based and is created under a directory <code>mlflow_archive</code> in the current working directory. The root directory of the archive can be specified with argument <code>directory_archive_root</code> passed to the constructor of the model or to <code>create_model()</code>.</p> <p>The scratch results are stored in an arborescence of directories similarly to a <code>DirectoryArchive</code>.</p> <p>The persistency policy of the scratch and the archive can be specified independently.</p> <p>By default, the storage generates unique directories at each new model execution. For a <code>DirectoryArchive</code>, the argument <code>job_name</code> allows to store the result in a specific directory without creating unique directories.</p> <p>Here, a model is created with the default <code>DirectoryArchive</code> manager, and a specific job directory is used to store the archive result. The <code>_accept_overwrite_job_dir</code> attribute must be explicitly set to <code>True</code>. The <code>MockModelPersistent</code> model has the specificity of requiring to store some generated files to the archive. The archive manager automatically handles the copy of these files from the scratch to the archive. Here, the scratch directories are kept such that the user can look into them:</p> <pre><code>model_name = \"MockModelPersistent\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    IntegratedModelSettings(\n        directory_scratch_persistency=PersistencyPolicy.DELETE_NEVER,\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/visualize_model_result\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/visualize_model_result\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/visualize_model_result/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\nmodel.archive_manager._accept_overwrite_job_dir = True\nmodel.cache = None\n</code></pre> <p>An execution is then performed. A <code>JSON</code> file is written in the directory <code>my_experiment</code> of the archive. It contains the input data, output data and metadata. Two files identified at model-level as being persistent have also been copied from the scratch to the archive.</p> <pre><code>model.execute({\"x1\": atleast_1d(2.0), \"x2\": atleast_1d(-2.0)})\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:56: Current root directory of scratch directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/scratch/visualize_model_result.\n    INFO - 15:43:56: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/archive/visualize_model_result.\n\n{'x1': array([2.]), 'x2': array([-2.]), 'x3': array([1., 2., 3.]), 'y1': 0.0, 'y2': array([1, 2, 3, 4, 5]), 'y3': array(['mock_string'], dtype='&lt;U11'), 'y4': array([6.]), 'y5': array([  6.,  36., 216.]), 'error_code': array([0]), 'model': array(['MockModelPersistent'], dtype='&lt;U19'), 'load_case': array(['LC1'], dtype='&lt;U3'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array(['green_ellipse.png', 'blue_line.png'], dtype='&lt;U17'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:43:56.370271'], dtype='&lt;U26'), 'cpu_time': array([0.00627017]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/archive/visualize_model_result'],\n      dtype='&lt;U86'), 'directory_archive_job': array(['../../../model_runs/archive/visualize_model_result/MockModelPersistent/LC1/3'],\n      dtype='&lt;U76'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result'],\n      dtype='&lt;U86'), 'directory_scratch_job': array(['../../../model_runs/scratch/visualize_model_result/MockModelPersistent/LC1/3'],\n      dtype='&lt;U76')}\n</code></pre> <p>It often occurs that a cache becomes unusable due to:  - a change of VIMSEO version, altering the input, output or metadata of a model,  - a mix of successful and failed simulations (by fail, we mean that models may be fault tolerant and    outputs NaNs in the output data in case of errors). In general, we want to filter out failed runs.  - a large number of results, and for part of them, we have no traceability about and we do not trust the    results. Then, a useful feature is to generate a cache file from an archive. <code>create_cache_from_archive()</code> generates a cache file with same name as the current cache suffixed by '_from_archive'. For a <code>DirectoryArchive</code>, the whole archive is considered (no filtering possible):</p> <pre><code>cache_from_archive = model.create_cache_from_archive()\nprint(cache_from_archive)\n</code></pre> <p>Out:</p> <pre><code>Name: node\n   Type: HDF5Cache\n   Tolerance: 1e-10\n   Input names: ['x1', 'x2', 'x3']\n   Output names: ['cpu_time', 'date', 'description', 'directory_archive_job', 'directory_archive_root', 'directory_scratch_job', 'directory_scratch_root', 'error_code', 'job_name', 'load_case', 'machine', 'model', 'n_cpus', 'persistent_result_files', 'user', 'vims_git_version', 'y1', 'y2', 'y3', 'y4', 'y5']\n   Length: 1\n   HDF file path: ../../../model_runs/caches/visualize_model_result/MockModelPersistent_LC1_from_archive.hdf\n   HDF node path: node\n</code></pre> <p>An archive storage based on MLflow is also available. MLflow stores the runs by so-called 'Experiments'. The default experiment name is <code>{model_name}_{load_case}</code>. Again, we create a model instance:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/mlflow_archive/visualize_model_result\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/visualize_model_result\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/visualize_model_result/{model_name}_{load_case}_cache.hdf\",\n        archive_manager=\"MlflowArchive\",\n    ),\n)\nmodel.cache = None\n</code></pre> <p>All runs for the default and specific (specified below as <code>my_experiment</code>) experiment name are first deleted:</p> <pre><code>runs = mlflow.search_runs(\n    experiment_names=[\"BendingTestAnalytical_Cantilever\", \"my_experiment\"]\n)\nfor id in runs[\"run_id\"]:\n    delete_run(id)\n\n# A first execution is done. Its result is stored under the default experiment name,\n# which is ``{model_name}_{load_case}``:\nmodel.execute({\"height\": atleast_1d(40.0)})\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:56: Current root directory of job directory is file:////home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result.\n\n{'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'reaction_forces': array([-2333.33333333]), 'moment': array([1400000.,       0.]), 'moment_grid': array([  0., 600.]), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'dplt_at_force_location': array([-5.]), 'maximum_dplt': array([-5.]), 'location_max_dplt': array([600.]), 'error_code': array([0]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array([''], dtype='&lt;U1'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:43:56.476750'], dtype='&lt;U26'), 'cpu_time': array([0.01101518]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/mlflow_archive/visualize_model_result'],\n      dtype='&lt;U93'), 'directory_archive_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result'],\n      dtype='&lt;U86'), 'directory_scratch_job': array([''], dtype='&lt;U1')}\n</code></pre> <p>Then, another experiment is defined. It can be useful to group runs for a given study. The model is then executed for two different beam height:</p> <pre><code>model.archive_manager.set_experiment(\"my_experiment\")\nmodel.execute({\"height\": atleast_1d(50.0)})\nmodel.execute({\"height\": atleast_1d(60.0)})\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:56: Current root directory of job directory is file:////home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result.\n    INFO - 15:43:56: Current root directory of job directory is file:////home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result.\n\n{'length': array([600.]), 'width': array([30.]), 'height': array([60.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'reaction_forces': array([-7875.]), 'moment': array([4725000.,       0.]), 'moment_grid': array([  0., 600.]), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'dplt_at_force_location': array([-5.]), 'maximum_dplt': array([-5.]), 'location_max_dplt': array([600.]), 'error_code': array([0]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array([''], dtype='&lt;U1'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:43:56.742001'], dtype='&lt;U26'), 'cpu_time': array([0.00149894]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/mlflow_archive/visualize_model_result'],\n      dtype='&lt;U93'), 'directory_archive_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result'],\n      dtype='&lt;U86'), 'directory_scratch_job': array([''], dtype='&lt;U1')}\n</code></pre> <p>The archive results can be visualized through the MLflow User Interface. The <code>uri</code> of the MLflow database must be specified to the UI:  - For exemple, Under Windows:    <code>mlflow ui --backend-store-uri file:\\\\\\\\\\\\C:\\\\Users\\\\sebastien.bocquet\\\\PycharmProjects\\\\vimseo\\\\tests\\\\storage_management\\\\my_experiment</code>  - Or under Linux:    <code>mlflow ui --backend-store-uri file:////home/sebastien.bocquet/PycharmProjects/vims_only/doc_src/_examples/02-integrated_models/mlflow_archive</code> The uri can be retrieved with <code>model._storage_manager.uri</code>.</p> <p>The mapping from model raw results (input, output, metadata) and MLflow result tracking framework is done as follows:  - all numbers among the input and output data (including arrays of size one, from which the number is extracted),    are stored as MLflow <code>metrics</code>. Inputs are distinguished by prefixing their name by <code>inputs.</code>,  - all other type of data among the input and output data are considered as MLflow <code>params</code>. They are jsonified    and stored as strings,  - the metadata are stored as MLflow <code>tags</code>. The UI segregates the runs by experiment, and provides a searching functionality. MLflow is compatible with several databases (remote PostgreSql, Amazon S3 etc...), allowing the archive storage to scale (company level or project level).</p> <p>Runs can also be searched programmatically, here by experiment and for a given input range.</p> <pre><code>runs = mlflow.search_runs(\n    experiment_names=[\"my_experiment\"],\n    filter_string=\"metrics.inputs.height &gt; 50.0\",\n)\nassert len(runs) == 1\nruns\n</code></pre> run_id experiment_id status artifact_uri start_time end_time metrics.inputs.imposed_dplt metrics.reaction_forces metrics.moment metrics.inputs.width metrics.inputs.length metrics.cpu_time metrics.location_max_dplt metrics.dplt metrics.inputs.height metrics.inputs.young_modulus metrics.dplt_at_force_location metrics.inputs.relative_dplt_location metrics.inputs.nu_p metrics.moment_grid metrics.maximum_dplt metrics.dplt_grid params.dplt_grid params.moment_grid params.dplt params.moment tags.load_case tags.date tags.directory_archive_job tags.vims_git_version tags.job_name tags.directory_scratch_root tags.mlflow.source.type tags.n_cpus tags.mlflow.user tags.description tags.user tags.error_code tags.directory_archive_root tags.machine tags.directory_scratch_job tags.mlflow.source.git.commit tags.persistent_result_files tags.mlflow.runName tags.model tags.mlflow.source.name 0 a62104786fa04a10800554cf943666b9 143977855976926679 FINISHED file:////home/charles-thoulon/Documents/softs/... 2026-02-13 14:43:56.743000+00:00 2026-02-13 14:43:56.831000+00:00 -5.0 -7875.0 0.0 30.0 600.0 0.001499 600.0 -5.0 60.0 210000.0 -5.0 1.0 0.3 600.0 -5.0 600.0 [0.0, 6.0606060606060606, 12.121212121212121, ... [0.0, 600.0] [0.0, -0.0007626515125749894, -0.0030402999487... [4725000.0, 0.0] Cantilever 2026-02-13 15:43:56.742001 da5deed25978136ce4f1ce89eb4e38ec44422c8c /home/charles-thoulon/Documents/softs/vimseo/m... LOCAL 1 charles-thoulon charles-thoulon 0 /home/charles-thoulon/Documents/softs/vimseo/m... PCCM20250002 da5deed25978136ce4f1ce89eb4e38ec44422c8c \"\" aged-wasp-168 BendingTestAnalytical /home/charles-thoulon/Documents/softs/vimseo/d... <p>Metadata could also be used in the query, for instance <code>tags.user = \"a_user\"</code>. Note that the result returned by <code>get_result()</code> has the following format: <code>{\"inputs\": input_data, \"output\": output_data}</code>.</p> <pre><code>archive_result = model.archive_manager.get_result(runs[\"run_id\"][0])\narchive_result\n</code></pre> <p>Out:</p> <pre><code>{'inputs': {'relative_dplt_location': array([1.]), 'width': array([30.]), 'height': array([60.]), 'nu_p': array([0.3]), 'young_modulus': array([210000.]), 'length': array([600.]), 'imposed_dplt': array([-5.])}, 'outputs': {'dplt_at_force_location': array([-5.]), 'moment': array([4725000.,       0.]), 'reaction_forces': array([-7875.]), 'moment_grid': array([  0., 600.]), 'maximum_dplt': array([-5.]), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'cpu_time': array([0.00149894]), 'location_max_dplt': array([600.]), 'n_cpus': array([1]), 'error_code': array([0]), 'directory_archive_job': array(['//home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result/143977855976926679/a62104786fa04a10800554cf943666b9/artifacts'],\n      dtype='&lt;U209'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/mlflow_archive/visualize_model_result'],\n      dtype='&lt;U93'), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'date': array(['2026-02-13 15:43:56.742001'], dtype='&lt;U26'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result'],\n      dtype='&lt;U86'), 'directory_scratch_job': array([''], dtype='&lt;U1'), &lt;MetaDataNames.persistent_result_files: 'persistent_result_files'&gt;: array([''], dtype='&lt;U1')}}\n</code></pre> <p>It can be converted to a user-friendly result format ModelResult that can be easily visualized and compared:</p> <pre><code>result = ModelResult.from_data(archive_result)\nresult\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:56: Found 1 entries in the cache file : BendingTestAnalytical_Cantilever_cache.hdf node : node\n\nModelResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-43-56', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={}, report={&lt;MetaDataNames.model: 'model'&gt;: 'BendingTestAnalytical', &lt;MetaDataNames.load_case: 'load_case'&gt;: 'Cantilever', &lt;MetaDataNames.error_code: 'error_code'&gt;: 0, &lt;MetaDataNames.description: 'description'&gt;: '', &lt;MetaDataNames.job_name: 'job_name'&gt;: '', &lt;MetaDataNames.persistent_result_files: 'persistent_result_files'&gt;: '', &lt;MetaDataNames.n_cpus: 'n_cpus'&gt;: 1, &lt;MetaDataNames.date: 'date'&gt;: '2026-02-13 15:43:56.742001', &lt;MetaDataNames.cpu_time: 'cpu_time'&gt;: 0.0014989376068115234, &lt;MetaDataNames.user: 'user'&gt;: 'charles-thoulon', &lt;MetaDataNames.machine: 'machine'&gt;: 'PCCM20250002', &lt;MetaDataNames.vims_git_version: 'vims_git_version'&gt;: 'da5deed25978136ce4f1ce89eb4e38ec44422c8c', &lt;MetaDataNames.directory_archive_root: 'directory_archive_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/mlflow_archive/visualize_model_result', &lt;MetaDataNames.directory_archive_job: 'directory_archive_job'&gt;: '//home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result/143977855976926679/a62104786fa04a10800554cf943666b9/artifacts', &lt;MetaDataNames.directory_scratch_root: 'directory_scratch_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result', &lt;MetaDataNames.directory_scratch_job: 'directory_scratch_job'&gt;: ''}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), scalars={'relative_dplt_location': 1.0, 'width': 30.0, 'height': 60.0, 'nu_p': 0.3, 'young_modulus': 210000.0, 'length': 600.0, 'imposed_dplt': -5.0, 'dplt_at_force_location': -4.999999999999994, 'reaction_forces': -7875.0, 'maximum_dplt': -4.999999999999994, 'location_max_dplt': 600.0}, vectors={}, curves=[&lt;vimseo.utilities.curves.Curve object at 0x7d5201da4810&gt;, &lt;vimseo.utilities.curves.Curve object at 0x7d5201da5550&gt;], fields={}, snapshots=[])\n</code></pre> <p>We perform another query to retrieve the second run:</p> <pre><code>runs = mlflow.search_runs(\n    experiment_names=[\"my_experiment\"],\n    filter_string=\"metrics.inputs.height &lt;= 51.0 AND metrics.inputs.height &gt;= 49.0\",\n)\nassert len(runs) == 1\narchive_result_1 = model.archive_manager.get_result(runs[\"run_id\"][0])\nresult_1 = ModelResult.from_data(archive_result_1)\nresult_1\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:43:56: Found 1 entries in the cache file : BendingTestAnalytical_Cantilever_cache.hdf node : node\n\nModelResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-43-56', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={}, report={&lt;MetaDataNames.model: 'model'&gt;: 'BendingTestAnalytical', &lt;MetaDataNames.load_case: 'load_case'&gt;: 'Cantilever', &lt;MetaDataNames.error_code: 'error_code'&gt;: 0, &lt;MetaDataNames.description: 'description'&gt;: '', &lt;MetaDataNames.job_name: 'job_name'&gt;: '', &lt;MetaDataNames.persistent_result_files: 'persistent_result_files'&gt;: '', &lt;MetaDataNames.n_cpus: 'n_cpus'&gt;: 1, &lt;MetaDataNames.date: 'date'&gt;: '2026-02-13 15:43:56.642219', &lt;MetaDataNames.cpu_time: 'cpu_time'&gt;: 0.0017740726470947266, &lt;MetaDataNames.user: 'user'&gt;: 'charles-thoulon', &lt;MetaDataNames.machine: 'machine'&gt;: 'PCCM20250002', &lt;MetaDataNames.vims_git_version: 'vims_git_version'&gt;: 'da5deed25978136ce4f1ce89eb4e38ec44422c8c', &lt;MetaDataNames.directory_archive_root: 'directory_archive_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/mlflow_archive/visualize_model_result', &lt;MetaDataNames.directory_archive_job: 'directory_archive_job'&gt;: '//home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/../../../model_runs/mlflow_archive/visualize_model_result/143977855976926679/2b61f5bd8fe04c539bb3cdc7e0a62570/artifacts', &lt;MetaDataNames.directory_scratch_root: 'directory_scratch_root'&gt;: '/home/charles-thoulon/Documents/softs/vimseo/model_runs/scratch/visualize_model_result', &lt;MetaDataNames.directory_scratch_job: 'directory_scratch_job'&gt;: ''}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), scalars={'relative_dplt_location': 1.0, 'width': 30.0, 'height': 50.0, 'nu_p': 0.3, 'young_modulus': 210000.0, 'length': 600.0, 'imposed_dplt': -5.0, 'dplt_at_force_location': -4.999999999999995, 'reaction_forces': -4557.291666666667, 'maximum_dplt': -4.999999999999995, 'location_max_dplt': 600.0}, vectors={}, curves=[&lt;vimseo.utilities.curves.Curve object at 0x7d5201f972d0&gt;, &lt;vimseo.utilities.curves.Curve object at 0x7d5201f96fd0&gt;], fields={}, snapshots=[])\n</code></pre> <p>It is possible to create a cache file from the archive. By default, the runs of the current experiment are considered. Since experiment \"my_experiment\" has two runs, we expect the created cache to have two entries:</p> <pre><code>cache_from_archive = model.create_cache_from_archive()\nprint(cache_from_archive)\n</code></pre> <p>Out:</p> <pre><code>Name: node\n   Type: HDF5Cache\n   Tolerance: 1e-10\n   Input names: ['height', 'imposed_dplt', 'length', 'nu_p', 'relative_dplt_location', 'width', 'young_modulus']\n   Output names: ['cpu_time', 'date', 'description', 'directory_archive_job', 'directory_archive_root', 'directory_scratch_job', 'directory_scratch_root', 'dplt', 'dplt_at_force_location', 'dplt_grid', 'error_code', 'job_name', 'load_case', 'location_max_dplt', 'machine', 'maximum_dplt', 'model', 'moment', 'moment_grid', 'n_cpus', 'persistent_result_files', 'reaction_forces', 'user', 'vims_git_version']\n   Length: 2\n   HDF file path: ../../../model_runs/caches/visualize_model_result/BendingTestAnalytical_Cantilever_from_archive.hdf\n   HDF node path: node\n</code></pre> <p>The displacement curves of both results can be compared.They are identical for this displacement-imposed loading:</p> <pre><code>plot_curves(\n    [\n        result.get_curve((\"dplt_grid\", \"dplt\")),\n        result_1.get_curve((\"dplt_grid\", \"dplt\")),\n    ],\n    labels=[\"result\", \"result 1\"],\n    save=False,\n    show=True,\n)\n</code></pre> <p>However the resistance force at beam end are different:</p> <pre><code>variable_names = [\"height\", \"reaction_forces\"]\ndf = concat(\n    [\n        DataFrame([result.get_numeric_scalars(variable_names=variable_names)]),\n        DataFrame([result_1.get_numeric_scalars(variable_names=variable_names)]),\n    ],\n    ignore_index=True,\n)\nplot = BarPlot(Dataset.from_dataframe(df))\nplot.title = \"Comparison of model result with data\"\nplot.font_size = 20\nplot.labels = [\"height 50mm\", \"height 60mm\"]\nfig = plot.execute(save=False, show=True, file_format=\"html\")[0]\nfig\n</code></pre> <p>Total running time of the script: ( 0 minutes  2.682 seconds)</p> <p> Download Python source code: plot_03_model_result_management.py</p> <p> Download Jupyter notebook: plot_03_model_result_management.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_041_post_processing_patch/","title":"A model composition that adds a post-processor to a model.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_041_post_processing_patch/#a-model-composition-that-adds-a-post-processor-to-a-model","title":"A model composition that adds a post-processor to a model.","text":"<p>A new model is created by adding a post-processor to an existing model instance. The cache of the existing model is reused while running the composed model.</p> <pre><code>from __future__ import annotations\n\nfrom numpy import atleast_1d\n\nfrom vimseo.api import create_model\nfrom vimseo.core.components.post.post_processor import PostProcessor\n</code></pre> <p>A model is created and executed.</p> <pre><code>model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\nmodel.execute()\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': array([210000.]), 'nu_p': array([0.3]), 'length': array([600.]), 'width': array([30.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'cpu_time': array([0.01557398]), 'date': array(['2026-02-13 15:04:14.750924'], dtype='&lt;U26'), 'description': array([''], dtype='&lt;U1'), 'directory_archive_job': array(['default_archive/BendingTestAnalytical/Cantilever/1'], dtype='&lt;U50'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_archive'],\n      dtype='&lt;U104'), 'directory_scratch_job': array([''], dtype='&lt;U1'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_scratch'],\n      dtype='&lt;U104'), 'dplt': array([ 0.00000000e+00, -7.62651513e-04, -3.04029995e-03, -6.81748616e-03,\n       -1.20787510e-02, -1.88086353e-02, -2.69916799e-02, -3.66124257e-02,\n       -4.76554134e-02, -6.01051841e-02, -7.39462784e-02, -8.91632373e-02,\n       -1.05740602e-01, -1.23662912e-01, -1.42914710e-01, -1.63480535e-01,\n       -1.85344930e-01, -2.08492434e-01, -2.32907588e-01, -2.58574934e-01,\n       -2.85479012e-01, -3.13604363e-01, -3.42935528e-01, -3.73457048e-01,\n       -4.05153463e-01, -4.38009315e-01, -4.72009144e-01, -5.07137491e-01,\n       -5.43378897e-01, -5.80717902e-01, -6.19139049e-01, -6.58626877e-01,\n       -6.99165927e-01, -7.40740741e-01, -7.83335858e-01, -8.26935821e-01,\n       -8.71525169e-01, -9.17088444e-01, -9.63610186e-01, -1.01107494e+00,\n       -1.05946724e+00, -1.10877163e+00, -1.15897265e+00, -1.21005484e+00,\n       -1.26200274e+00, -1.31480090e+00, -1.36843385e+00, -1.42288614e+00,\n       -1.47814230e+00, -1.53418688e+00, -1.59100442e+00, -1.64857946e+00,\n       -1.70689653e+00, -1.76594019e+00, -1.82569497e+00, -1.88614540e+00,\n       -1.94727605e+00, -2.00907143e+00, -2.07151610e+00, -2.13459459e+00,\n       -2.19829145e+00, -2.26259122e+00, -2.32747844e+00, -2.39293764e+00,\n       -2.45895337e+00, -2.52551018e+00, -2.59259259e+00, -2.66018516e+00,\n       -2.72827242e+00, -2.79683891e+00, -2.86586918e+00, -2.93534776e+00,\n       -3.00525920e+00, -3.07558804e+00, -3.14631882e+00, -3.21743607e+00,\n       -3.28892434e+00, -3.36076818e+00, -3.43295211e+00, -3.50546069e+00,\n       -3.57827845e+00, -3.65138993e+00, -3.72477968e+00, -3.79843224e+00,\n       -3.87233214e+00, -3.94646393e+00, -4.02081214e+00, -4.09536133e+00,\n       -4.17009602e+00, -4.24500077e+00, -4.32006011e+00, -4.39525857e+00,\n       -4.47058072e+00, -4.54601107e+00, -4.62153419e+00, -4.69713459e+00,\n       -4.77279684e+00, -4.84850546e+00, -4.92424500e+00, -5.00000000e+00]), 'dplt_at_force_location': array([-5.]), 'dplt_grid': array([  0.        ,   6.06060606,  12.12121212,  18.18181818,\n        24.24242424,  30.3030303 ,  36.36363636,  42.42424242,\n        48.48484848,  54.54545455,  60.60606061,  66.66666667,\n        72.72727273,  78.78787879,  84.84848485,  90.90909091,\n        96.96969697, 103.03030303, 109.09090909, 115.15151515,\n       121.21212121, 127.27272727, 133.33333333, 139.39393939,\n       145.45454545, 151.51515152, 157.57575758, 163.63636364,\n       169.6969697 , 175.75757576, 181.81818182, 187.87878788,\n       193.93939394, 200.        , 206.06060606, 212.12121212,\n       218.18181818, 224.24242424, 230.3030303 , 236.36363636,\n       242.42424242, 248.48484848, 254.54545455, 260.60606061,\n       266.66666667, 272.72727273, 278.78787879, 284.84848485,\n       290.90909091, 296.96969697, 303.03030303, 309.09090909,\n       315.15151515, 321.21212121, 327.27272727, 333.33333333,\n       339.39393939, 345.45454545, 351.51515152, 357.57575758,\n       363.63636364, 369.6969697 , 375.75757576, 381.81818182,\n       387.87878788, 393.93939394, 400.        , 406.06060606,\n       412.12121212, 418.18181818, 424.24242424, 430.3030303 ,\n       436.36363636, 442.42424242, 448.48484848, 454.54545455,\n       460.60606061, 466.66666667, 472.72727273, 478.78787879,\n       484.84848485, 490.90909091, 496.96969697, 503.03030303,\n       509.09090909, 515.15151515, 521.21212121, 527.27272727,\n       533.33333333, 539.39393939, 545.45454545, 551.51515152,\n       557.57575758, 563.63636364, 569.6969697 , 575.75757576,\n       581.81818182, 587.87878788, 593.93939394, 600.        ]), 'error_code': array([0]), 'job_name': array([''], dtype='&lt;U1'), 'load_case': array(['Cantilever'], dtype='&lt;U10'), 'location_max_dplt': array([600.]), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'maximum_dplt': array([-5.]), 'model': array(['BendingTestAnalytical'], dtype='&lt;U21'), 'moment': array([1400000.,       0.]), 'moment_grid': array([  0., 600.]), 'n_cpus': array([1]), 'persistent_result_files': array([''], dtype='&lt;U1'), 'reaction_forces': array([-2333.33333333]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40')}\n</code></pre> <p>Then, we want to add a post-processing, without re-running the model. We first create the post-processor.</p> <pre><code>class MyPost(PostProcessor):\n    default_grammar_type = \"SimpleGrammar\"\n\n    def __init__(self, **options):\n        super().__init__(**options)\n        self.input_grammar.update_from_names(\n            list(model.output_grammar.names) + list(model.input_grammar.names)\n        )\n        self.output_grammar.update_from_data({\"relative_max_dplt\": atleast_1d(0.0)})\n\n    def _run(self, input_data):\n        output_data = {}\n        output_data[\"relative_max_dplt\"] = (\n            input_data[\"dplt_at_force_location\"] / input_data[\"length\"]\n        )\n        return output_data\n\n\npost_processor = MyPost()\n</code></pre> <p>Then create a new model chaining the above model and the post-processor: This model is declared as a new model composition: <pre><code>class BendingTestWithPost(ModelComposition):\n    \"\"\"A model composition that adds a post-processor to the bending test analytical\"\"\"\n</code></pre> To be discovered by the model factory, this new composed model is defined in the <code>problems.sandbox</code> subpackage. module.</p> <pre><code>model_with_post = create_model(\n    \"BendingTestWithPost\",\n    \"Cantilever\",\n    base_model=model,\n    post_components=[post_processor],\n)\n</code></pre> <p>The composed model is executed. Note that the cache is reused, so no computation is done here. Only the new post-processing is computed.</p> <pre><code>output_data = model_with_post.execute()\nprint(\"Relative max displacement:\", output_data[\"relative_max_dplt\"])\n</code></pre> <p>Out:</p> <pre><code>Relative max displacement: [-0.00833333]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.048 seconds)</p> <p> Download Python source code: plot_041_post_processing_patch.py</p> <p> Download Jupyter notebook: plot_041_post_processing_patch.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_04_input_space_transform/","title":"Patch a pre-processor to apply transformation on input variables.","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/02_integrated_models/plot_04_input_space_transform/#patch-a-pre-processor-to-apply-transformation-on-input-variables","title":"Patch a pre-processor to apply transformation on input variables.","text":"<pre><code>from __future__ import annotations\n\nfrom gemseo.disciplines.analytic import AnalyticDiscipline\nfrom numpy import atleast_1d\n\nfrom vimseo.api import create_model\nfrom vimseo.core.base_integrated_model import IntegratedModel\nfrom vimseo.core.components.discipline_wrapper_component import (\n    DisciplineWrapperComponent,\n)\n\nmodel = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n</code></pre> <p>Define the transformations between new input variables and the existing model inputs:</p> <pre><code>input_transform = AnalyticDiscipline({\"length\": \"lengthOverWidth*width\"})\n</code></pre> <p>Optionnaly, define default values for the existing model variables used in the transformations: input_transform.default_input_data.update({\"lengthOverWidth\": atleast_1d(1.0)}) input_transform.default_input_data.update(     {\"width\": model.default_input_data[\"width\"]} )</p> <p>Define the transformations between new output variables and the existing model outputs. Note that model outputs or inputs can be used:</p> <pre><code>output_transform = AnalyticDiscipline({\n    \"dplt_adim_at_force\": \"dplt_at_force_location/length\"\n})\n\n# Optionnaly, define default values for the model variables\n# used in the transformations:\n# output_transform.default_input_data.update(\n#     {\"length\": model.default_input_data[\"length\"]}\n# )\n</code></pre> <p>The transformed space model has the following chain of components: [input_tranform, model.pre_processor, model.run_processor, model.post_processor, output_transform]</p> <pre><code>transformed_input_model = IntegratedModel(\n    \"Beam_Cantilever\",\n    [\n        DisciplineWrapperComponent(\"Beam_Cantilever\", input_transform),\n        *list(model._chain.disciplines),\n        DisciplineWrapperComponent(\"Beam_Cantilever\", output_transform),\n    ],\n)\n</code></pre> <p>The grammar of the transformed model is a SIMPLER grammar (no bounds or type):</p> <pre><code>print(\"Transformed model input grammar: \", transformed_input_model.input_grammar)\nprint(\"Transformed model output grammar: \", transformed_input_model.output_grammar)\n\nmodel.cache = None\ntransformed_input_model.cache = None\n</code></pre> <p>Out:</p> <pre><code>Transformed model input grammar:  Grammar name: MDOChain_discipline_input\nTransformed model output grammar:  Grammar name: AnalyticDiscipline_discipline_output\n</code></pre> <p>Execute the transformed model:</p> <pre><code>output_data = transformed_input_model.execute({\n    \"lengthOverWidth\": atleast_1d(2.0),\n    \"width\": atleast_1d(10.0),\n})\n</code></pre> <p>We show the input and output data of the transformed model:</p> <pre><code>print(transformed_input_model.get_input_data())\nprint(transformed_input_model.get_output_data())\n</code></pre> <p>Out:</p> <pre><code>{'lengthOverWidth': array([2.]), 'width': array([10.]), 'height': array([40.]), 'imposed_dplt': array([-5.]), 'relative_dplt_location': array([1.]), 'young_modulus': array([210000.]), 'nu_p': array([0.3])}\n{&lt;MetaDataNames.error_code: 'error_code'&gt;: array([0]), 'dplt_adim_at_force': array([-0.25]), 'model': array(['IntegratedModel'], dtype='&lt;U15'), 'load_case': array(['Beam_Cantilever'], dtype='&lt;U15'), 'description': array([''], dtype='&lt;U1'), 'job_name': array([''], dtype='&lt;U1'), 'persistent_result_files': array([''], dtype='&lt;U1'), 'n_cpus': array([1]), 'date': array(['2026-02-13 15:43:52.349893'], dtype='&lt;U26'), 'cpu_time': array([0.01497436]), 'user': array(['charles-thoulon'], dtype='&lt;U15'), 'machine': array(['PCCM20250002'], dtype='&lt;U12'), 'vims_git_version': array(['da5deed25978136ce4f1ce89eb4e38ec44422c8c'], dtype='&lt;U40'), 'directory_archive_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_archive'],\n      dtype='&lt;U104'), 'directory_archive_job': array(['default_archive/IntegratedModel/Beam_Cantilever/3'], dtype='&lt;U49'), 'directory_scratch_root': array(['/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/02_integrated_models/default_scratch'],\n      dtype='&lt;U104'), 'directory_scratch_job': array([''], dtype='&lt;U1')}\n</code></pre> <p>And check for correctness of the transformations:</p> <pre><code>assert (\n    transformed_input_model._chain.disciplines[1].get_input_data()[\"length\"]\n    == 2 * transformed_input_model.get_input_data()[\"width\"]\n)\nassert (\n    output_data[\"dplt_adim_at_force\"]\n    == transformed_input_model._chain.disciplines[-2].get_output_data()[\n        \"dplt_at_force_location\"\n    ]\n    / transformed_input_model._chain.disciplines[1].get_input_data()[\"length\"]\n)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.056 seconds)</p> <p> Download Python source code: plot_04_input_space_transform.py</p> <p> Download Jupyter notebook: plot_04_input_space_transform.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/03_verification_vs_data/","title":"Verify a model versus data","text":""},{"location":"generated/runnable_examples/03_verification_vs_data/#examples-of-code-verification-versus-observations","title":"Examples of code verification versus observations","text":"<p>Below is a gallery of examples about the verification of a model.</p> <p> Usage of the model-versus-data code verification tool on a Finite-Element (Abaqus) model </p> <p> Download all examples in Python source code: 03_verification_vs_data_python.zip</p> <p> Download all examples in Jupyter notebooks: 03_verification_vs_data_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/03_verification_vs_data/mg_execution_times/","title":"Computation times","text":"<p>00:00.778 total execution time for generated_runnable_examples_03_verification_vs_data files:</p> <p>+-------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_bending_test_vs_data (docs/runnable_examples/03_verification_vs_data/plot_bending_test_vs_data.py) | 00:00.778 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/03_verification_vs_data/plot_bending_test_vs_data/","title":"Usage of the model-versus-data code verification tool on a Finite-Element (Abaqus) model","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/03_verification_vs_data/plot_bending_test_vs_data/#usage-of-the-model-versus-data-code-verification-tool-on-a-finite-element-abaqus-model","title":"Usage of the model-versus-data code verification tool on a Finite-Element (Abaqus) model","text":"<p>Check an Abaqus cantilever beam model versus a reference dataset with the 'CodeVerificationAgainstData' tool.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo.datasets.io_dataset import IODataset\nfrom gemseo.utils.directory_creator import DirectoryNamingMethod\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.verification.verification_vs_data import CodeVerificationAgainstData\n</code></pre> <p>We first define the logger level:</p> <pre><code>activate_logger(level=logging.INFO)\n</code></pre> <p>Then we create the model to verify:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/verification_vs_data\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/verification_vs_data\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/verification_vs_data/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:04: Found 2 entries in the cache file : ../../../model_runs/caches/verification_vs_data/BendingTestAnalytical_Cantilever_cache.hdf node : node\n</code></pre> <p>We also need a reference dataset. Here we do it programmatically, but we can also create it from a csv file: ``</p> <pre><code>reference_data = IODataset().from_array(\n    data=[[10.0, 10.0, -4.0, -12.0], [15.0, 10.0, -6.0, -40.0]],\n    variable_names=[\"height\", \"width\", \"maximum_dplt\", \"reaction_forces\"],\n    variable_names_to_group_names={\n        \"height\": \"inputs\",\n        \"width\": \"inputs\",\n        \"maximum_dplt\": \"outputs\",\n        \"reaction_forces\": \"outputs\",\n    },\n)\n</code></pre> <p>All inputs to the verification are now available. We create the verification tool we are interested in.</p> <pre><code>verificator = CodeVerificationAgainstData(\n    directory_naming_method=DirectoryNamingMethod.NUMBERED,\n    working_directory=\"CodeVerificationAgainstData_results\",\n)\n\n# The options can be modified.\n# Alternatively, options can be passed as keyword arguments to\n# ``CodeVerificationAgainstModelFromParameterSpace()`` constructor.\nverificator.options[\"metric_names\"] = [\n    \"SquaredErrorMetric\",\n    \"RelativeErrorMetric\",\n    \"AbsoluteErrorMetric\",\n]\n\nverificator.execute(\n    model=model,\n    reference_data=reference_data,\n    output_names=[\"maximum_dplt\", \"reaction_forces\"],\n    description={\n        \"title\": \"Verification of a cantilever analytic beam for a variation of beam height.\",\n        \"element_wise\": [\"Small height value\", \"High height value\"],\n    },\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:04: Working directory is CodeVerificationAgainstData_results\n    INFO - 15:38:04: Working directory is CodeVerificationAgainstData_results/CustomDOETool\n    INFO - 15:38:04: Working directory is CodeVerificationAgainstData_results/CustomDOETool\n    INFO - 15:38:04:  \n    INFO - 15:38:04: *** Start DOEScenario execution ***\n    INFO - 15:38:04: DOEScenario\n    INFO - 15:38:04:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:04: \n    INFO - 15:38:04: Load case:\n    INFO - 15:38:04:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Boundary condition variables:\n    INFO - 15:38:04:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Plot parameters:\n    INFO - 15:38:04:    {\n    INFO - 15:38:04:     \"curves\": []\n    INFO - 15:38:04: }\n    INFO - 15:38:04:    Load:\n    INFO - 15:38:04:    Load(direction='', sign='', type='')\n    INFO - 15:38:04: \n    INFO - 15:38:04: Default values:\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Default geometrical variables:\n    INFO - 15:38:04:    {\n    INFO - 15:38:04:     \"height\": [\n    INFO - 15:38:04:         40.0\n    INFO - 15:38:04:     ],\n    INFO - 15:38:04:     \"length\": [\n    INFO - 15:38:04:         600.0\n    INFO - 15:38:04:     ],\n    INFO - 15:38:04:     \"width\": [\n    INFO - 15:38:04:         30.0\n    INFO - 15:38:04:     ]\n    INFO - 15:38:04: }\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Default numerical variables:\n    INFO - 15:38:04:    {}\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Default boundary conditions variables:\n    INFO - 15:38:04:    {\n    INFO - 15:38:04:     \"imposed_dplt\": [\n    INFO - 15:38:04:         -5.0\n    INFO - 15:38:04:     ],\n    INFO - 15:38:04:     \"relative_dplt_location\": [\n    INFO - 15:38:04:         1.0\n    INFO - 15:38:04:     ]\n    INFO - 15:38:04: }\n    INFO - 15:38:04:    \n    INFO - 15:38:04:    Default material variables:\n    INFO - 15:38:04:    {\n    INFO - 15:38:04:     \"nu_p\": [\n    INFO - 15:38:04:         0.3\n    INFO - 15:38:04:     ],\n    INFO - 15:38:04:     \"young_modulus\": [\n    INFO - 15:38:04:         210000.0\n    INFO - 15:38:04:     ]\n    INFO - 15:38:04: }\n    INFO - 15:38:04:    MDO formulation: DisciplinaryOpt\n    INFO - 15:38:04: Optimization problem:\n    INFO - 15:38:04:    minimize maximum_dplt(height, width)\n    INFO - 15:38:04:    with respect to height, width\n    INFO - 15:38:04:    over the design space:\n    INFO - 15:38:04:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04:       | Name   | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:38:04:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04:       | height |     -inf    |  None |     inf     | float |\n    INFO - 15:38:04:       | width  |     -inf    |  None |     inf     | float |\n    INFO - 15:38:04:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:38:04:     50%|\u2588\u2588\u2588\u2588\u2588     | 1/2 [00:00&lt;00:00, 63.18 it/sec, obj=-5]\n    INFO - 15:38:04:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:00&lt;00:00, 74.01 it/sec, obj=-5]\n    INFO - 15:38:04: Optimization result:\n    INFO - 15:38:04:    Optimizer info:\n    INFO - 15:38:04:       Status: None\n    INFO - 15:38:04:       Message: None\n    INFO - 15:38:04:       Number of calls to the objective function by the optimizer: 2\n    INFO - 15:38:04:    Solution:\n    INFO - 15:38:04:       Objective: -4.999999999999999\n    INFO - 15:38:04:       Design space:\n    INFO - 15:38:04:          +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04:          | Name   | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:38:04:          +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04:          | height |     -inf    |   10  |     inf     | float |\n    INFO - 15:38:04:          | width  |     -inf    |   10  |     inf     | float |\n    INFO - 15:38:04:          +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:04: *** End DOEScenario execution (time: 0:00:00.030042) ***\n\nVerificationResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-04', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'input_names': [], 'output_names': ['maximum_dplt', 'reaction_forces'], 'metric_names': ['SquaredErrorMetric', 'RelativeErrorMetric', 'AbsoluteErrorMetric'], 'description': {'title': 'Verification of a cantilever analytic beam for a variation of beam height.', 'element_wise': ['Small height value', 'High height value']}}, report={}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), simulation_and_reference=GROUP     inputs         outputs                                 Reference                \nVARIABLE  height width  cpu_time maximum_dplt reaction_forces maximum_dplt reaction_forces\nCOMPONENT      0     0         0            0               0            0               0\n0           10.0  10.0  0.012161         -5.0      -12.152778         -4.0           -12.0\n1           15.0  10.0  0.002093         -5.0      -41.015625         -6.0           -40.0, element_wise_metrics=GROUP     SquaredErrorMetric                 RelativeErrorMetric                 AbsoluteErrorMetric                 inputs      \nVARIABLE        maximum_dplt reaction_forces        maximum_dplt reaction_forces        maximum_dplt reaction_forces height width\nCOMPONENT                  0               0                   0               0                   0               0      0     0\n0                        1.0        0.023341            0.250000        0.012731                 1.0        0.152778   10.0  10.0\n1                        1.0        1.031494            0.166667        0.025391                 1.0        1.015625   15.0  10.0, integrated_metrics={'SquaredErrorMetric': {'maximum_dplt': 1.0000000000000009, 'reaction_forces': 0.5274175950038581}, 'RelativeErrorMetric': {'maximum_dplt': 0.20833333328819448, 'reaction_forces': 0.019061053239892913}, 'AbsoluteErrorMetric': {'maximum_dplt': 1.0000000000000004, 'reaction_forces': 0.5842013888888893}}, description={'title': 'Verification of a cantilever analytic beam for a variation of beam height.', 'element_wise': ['Small height value', 'High height value']})\n</code></pre> <p>The result contains the error metrics:</p> <pre><code>verificator.result.integrated_metrics\n</code></pre> <p>Out:</p> <pre><code>{'SquaredErrorMetric': {'maximum_dplt': 1.0000000000000009, 'reaction_forces': 0.5274175950038581}, 'RelativeErrorMetric': {'maximum_dplt': 0.20833333328819448, 'reaction_forces': 0.019061053239892913}, 'AbsoluteErrorMetric': {'maximum_dplt': 1.0000000000000004, 'reaction_forces': 0.5842013888888893}}\n</code></pre> <p>And saved on disk, together with its metadata:</p> <pre><code>verificator.save_results()\n</code></pre> <p>The saved results can be loaded in a dedicated dashboard to be explored. The dashboard is opened by typing <code>dashboard_verification</code> in a terminal, and selecting the tab <code>Comparison case</code>.</p> <p>The results can also be plotted from the Python API. It shows the scatter matrix of the inputs:</p> <pre><code>figures = verificator.plot_results(\n    verificator.result,\n    \"RelativeErrorMetric\",\n    \"reaction_forces\",\n    save=False,\n    show=True,\n    directory_path=verificator.working_directory,\n)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:100: UserWarning:\n\nAttempting to set identical low and high xlims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:101: UserWarning:\n\nAttempting to set identical low and high ylims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pandas/plotting/_matplotlib/misc.py:91: UserWarning:\n\nAttempting to set identical low and high xlims makes transformation singular; automatically expanding.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n    INFO - 15:38:04: Working directory is CodeVerificationAgainstData_results\n</code></pre> <p>and an histogram of the errors:</p> <pre><code>figures[\"error_metric_histogram\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.778 seconds)</p> <p> Download Python source code: plot_bending_test_vs_data.py</p> <p> Download Jupyter notebook: plot_bending_test_vs_data.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/04_verification_vs_model_from_parameter_space/","title":"Verify a model versus another model","text":""},{"location":"generated/runnable_examples/04_verification_vs_model_from_parameter_space/#examples-of-code-verification-versus-another-model","title":"Examples of code verification versus another model","text":"<p>Below is a gallery of examples about the verification of a model.</p> <p> Usage of the model-to-model solution verification tool on a Finite-Element (Abaqus) model </p> <p> Download all examples in Python source code: 04_verification_vs_model_from_parameter_space_python.zip</p> <p> Download all examples in Jupyter notebooks: 04_verification_vs_model_from_parameter_space_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/04_verification_vs_model_from_parameter_space/mg_execution_times/","title":"Computation times","text":"<p>00:06.103 total execution time for generated_runnable_examples_04_verification_vs_model_from_parameter_space files:</p> <p>+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_bending_test_vs_analytical_from_parameter_space (docs/runnable_examples/04_verification_vs_model_from_parameter_space/plot_bending_test_vs_analytical_from_parameter_space.py) | 00:06.103 | 0.0 MB | +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/04_verification_vs_model_from_parameter_space/plot_bending_test_vs_analytical_from_parameter_space/","title":"Usage of the model-to-model solution verification tool on a Finite-Element (Abaqus) model","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/04_verification_vs_model_from_parameter_space/plot_bending_test_vs_analytical_from_parameter_space/#usage-of-the-model-to-model-solution-verification-tool-on-a-finite-element-abaqus-model","title":"Usage of the model-to-model solution verification tool on a Finite-Element (Abaqus) model","text":"<p>Check an Abaqus cantilever beam model versus an analytical model with the 'CodeVerificationAgainstModelFromParameterSpace' tool using as input a parameter space.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo.utils.directory_creator import DirectoryNamingMethod\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.space.space_tool import SpaceTool\nfrom vimseo.tools.verification.verification_vs_model_from_parameter_space import (\n    CodeVerificationAgainstModelFromParameterSpace,\n)\n</code></pre> <p>Out:</p> <pre><code>&lt;frozen importlib._bootstrap&gt;:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute\n&lt;frozen importlib._bootstrap&gt;:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute\n&lt;frozen importlib._bootstrap&gt;:241: DeprecationWarning: builtin type swigvarlink has no __module__ attribute\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_config.py:291: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.9/migration/\n  warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)\nDetected plugins: []\n2026-02-13 15:37:59.429 WARNING streamlit.runtime.caching.cache_data_api: No runtime found, using MemoryCacheStorageManager\n2026-02-13 15:37:59.430 WARNING streamlit.runtime.caching.cache_data_api: No runtime found, using MemoryCacheStorageManager\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning: &lt;module 'openturns.dist' from '/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/openturns/dist.py'&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n  warn(\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning: &lt;built-in function array&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n  warn(\n</code></pre> <p>We first define the logger level:</p> <pre><code>activate_logger(level=logging.INFO)\n</code></pre> <p>In this example, the two models are compared over an input parameter space. So we need to generate a space of parameters. It is obtained using the <code>SpaceTool</code> and choosing the <code>FromModelCenterAndCov</code> builder.</p> <pre><code>space_tool = SpaceTool(working_directory=\"SpaceTool_results\")\nspace_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromMinAndMax\",\n    minimum_values={\n        \"length\": 200.0,\n        \"height\": 5.0,\n        \"imposed_dplt\": 0.0,\n        \"relative_dplt_location\": 0.1,\n    },\n    maximum_values={\n        \"length\": 1000.0,\n        \"height\": 50.0,\n        \"imposed_dplt\": 20.0,\n        \"relative_dplt_location\": 1.0,\n    },\n)\nprint(space_tool.parameter_space)\n</code></pre> <p>Out:</p> <pre><code>2026-02-13 15:37:59.545 WARNING streamlit.runtime.caching.cache_data_api: No runtime found, using MemoryCacheStorageManager\n2026-02-13 15:37:59.852 WARNING streamlit.runtime.caching.cache_data_api: No runtime found, using MemoryCacheStorageManager\n    INFO - 15:38:00: Working directory is SpaceTool_results\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning: Conversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n  validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\nUncertain space:\n+------------------------+---------------------------------------------------+\n|          Name          |                    Distribution                   |\n+------------------------+---------------------------------------------------+\n|         length         | Triangular(lower=200.0, mode=600.0, upper=1000.0) |\n|         height         |    Triangular(lower=5.0, mode=27.5, upper=50.0)   |\n|      imposed_dplt      |    Triangular(lower=0.0, mode=10.0, upper=20.0)   |\n| relative_dplt_location |    Triangular(lower=0.1, mode=0.55, upper=1.0)    |\n+------------------------+---------------------------------------------------+\n</code></pre> <p>Then let's create the model to verify:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/verification_vs_model\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/verification_vs_model\",\n    ),\n)\nmodel.cache = None\n</code></pre> <p>And the reference model:</p> <pre><code>model_2 = create_model(\n    \"BendingTestAnalytical\",\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/verification_vs_model_2nd_model\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/verification_vs_model_2nd_model\",\n    ),\n)\nmodel_2.cache = None\n</code></pre> <p>All inputs to the verification are now available. We create the verification tool we are interested in.</p> <pre><code>verificator = CodeVerificationAgainstModelFromParameterSpace(\n    directory_naming_method=DirectoryNamingMethod.NUMBERED,\n    working_directory=\"CodeVerificationAgainstModelFromParameterSpace_results\",\n)\n</code></pre> <p>The options can be modified. Alternatively, options can be passed as keyword arguments to <code>CodeVerificationAgainstModelFromParameterSpace()</code> constructor.</p> <pre><code>verificator.options[\"metric_names\"] = [\n    \"SquaredErrorMetric\",\n    \"RelativeErrorMetric\",\n    \"AbsoluteErrorMetric\",\n]\n</code></pre> <p>The verification is now executed on 50 samples using by default an optimised Latin hypercube algorithm. Note that the verification is here restrained to the output variable <code>reaction_forces</code>, and that a description of the verification can be provided.</p> <pre><code>verificator.execute(\n    model=model,\n    reference_model=model_2,\n    parameter_space=space_tool.result.parameter_space,\n    n_samples=5,\n    output_names=[\"reaction_forces\", \"maximum_dplt\", \"location_max_dplt\"],\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results\n    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results/DOETool\n    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results/ReferenceDOETool\n    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results/DOETool\n    INFO - 15:38:00:  \n    INFO - 15:38:00: *** Start DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5 execution ***\n    INFO - 15:38:00: DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5\n    INFO - 15:38:00:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:00: \n    INFO - 15:38:00: Load case:\n    INFO - 15:38:00:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Boundary condition variables:\n    INFO - 15:38:00:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Plot parameters:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"curves\": []\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    Load:\n    INFO - 15:38:00:    Load(direction='', sign='', type='')\n    INFO - 15:38:00: \n    INFO - 15:38:00: Default values:\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default geometrical variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"height\": [\n    INFO - 15:38:00:         27.5\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"length\": [\n    INFO - 15:38:00:         600.0\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"width\": [\n    INFO - 15:38:00:         30.0\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default numerical variables:\n    INFO - 15:38:00:    {}\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default boundary conditions variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"imposed_dplt\": [\n    INFO - 15:38:00:         10.0\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"relative_dplt_location\": [\n    INFO - 15:38:00:         0.5499999999999999\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default material variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"nu_p\": [\n    INFO - 15:38:00:         0.3\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"young_modulus\": [\n    INFO - 15:38:00:         210000.0\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    MDO formulation: DisciplinaryOpt\n    INFO - 15:38:00: Optimization problem:\n    INFO - 15:38:00:    minimize reaction_forces(length, height, imposed_dplt, relative_dplt_location)\n    INFO - 15:38:00:    with respect to height, imposed_dplt, length, relative_dplt_location\n    INFO - 15:38:00:    over the design space:\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:       |          Name          |                    Distribution                   |\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:       |         length         | Triangular(lower=200.0, mode=600.0, upper=1000.0) |\n    INFO - 15:38:00:       |         height         |    Triangular(lower=5.0, mode=27.5, upper=50.0)   |\n    INFO - 15:38:00:       |      imposed_dplt      |    Triangular(lower=0.0, mode=10.0, upper=20.0)   |\n    INFO - 15:38:00:       | relative_dplt_location |    Triangular(lower=0.1, mode=0.55, upper=1.0)    |\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00: Solving optimization problem with algorithm OT_OPT_LHS:\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00:     20%|\u2588\u2588        | 1/5 [00:00&lt;00:00, 26.49 it/sec, obj=1.28e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00:     40%|\u2588\u2588\u2588\u2588      | 2/5 [00:00&lt;00:00, 35.30 it/sec, obj=1.39e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 3/5 [00:00&lt;00:00, 40.02 it/sec, obj=4.64e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 4/5 [00:00&lt;00:00, 42.40 it/sec, obj=378]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model.\n    INFO - 15:38:00:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:00&lt;00:00, 44.34 it/sec, obj=1.42e+4]\n    INFO - 15:38:00: Optimization result:\n    INFO - 15:38:00:    Optimizer info:\n    INFO - 15:38:00:       Status: None\n    INFO - 15:38:00:       Message: None\n    INFO - 15:38:00:       Number of calls to the objective function by the optimizer: 5\n    INFO - 15:38:00:    Solution:\n    INFO - 15:38:00:       Objective: 377.7324905941891\n    INFO - 15:38:00:       Design space:\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:          |          Name          |                    Distribution                   |\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:          |         length         | Triangular(lower=200.0, mode=600.0, upper=1000.0) |\n    INFO - 15:38:00:          |         height         |    Triangular(lower=5.0, mode=27.5, upper=50.0)   |\n    INFO - 15:38:00:          |      imposed_dplt      |    Triangular(lower=0.0, mode=10.0, upper=20.0)   |\n    INFO - 15:38:00:          | relative_dplt_location |    Triangular(lower=0.1, mode=0.55, upper=1.0)    |\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00: *** End DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5 execution (time: 0:00:00.122639) ***\n    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results/ReferenceDOETool\n    INFO - 15:38:00:  \n    INFO - 15:38:00: *** Start DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5 execution ***\n    INFO - 15:38:00: DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5\n    INFO - 15:38:00:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:00: \n    INFO - 15:38:00: Load case:\n    INFO - 15:38:00:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Boundary condition variables:\n    INFO - 15:38:00:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Plot parameters:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"curves\": []\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    Load:\n    INFO - 15:38:00:    Load(direction='', sign='', type='')\n    INFO - 15:38:00: \n    INFO - 15:38:00: Default values:\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default geometrical variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"height\": [\n    INFO - 15:38:00:         19.613266425152553\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"length\": [\n    INFO - 15:38:00:         989.9463958677093\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"width\": [\n    INFO - 15:38:00:         30.0\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default numerical variables:\n    INFO - 15:38:00:    {}\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default boundary conditions variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"imposed_dplt\": [\n    INFO - 15:38:00:         9.859991052632617\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"relative_dplt_location\": [\n    INFO - 15:38:00:         0.6838001019707473\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    \n    INFO - 15:38:00:    Default material variables:\n    INFO - 15:38:00:    {\n    INFO - 15:38:00:     \"nu_p\": [\n    INFO - 15:38:00:         0.3\n    INFO - 15:38:00:     ],\n    INFO - 15:38:00:     \"young_modulus\": [\n    INFO - 15:38:00:         210000.0\n    INFO - 15:38:00:     ]\n    INFO - 15:38:00: }\n    INFO - 15:38:00:    MDO formulation: DisciplinaryOpt\n    INFO - 15:38:00: Optimization problem:\n    INFO - 15:38:00:    minimize reaction_forces(length, height, imposed_dplt, relative_dplt_location)\n    INFO - 15:38:00:    with respect to height, imposed_dplt, length, relative_dplt_location\n    INFO - 15:38:00:    over the design space:\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:       |          Name          |                    Distribution                   |\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:       |         length         | Triangular(lower=200.0, mode=600.0, upper=1000.0) |\n    INFO - 15:38:00:       |         height         |    Triangular(lower=5.0, mode=27.5, upper=50.0)   |\n    INFO - 15:38:00:       |      imposed_dplt      |    Triangular(lower=0.0, mode=10.0, upper=20.0)   |\n    INFO - 15:38:00:       | relative_dplt_location |    Triangular(lower=0.1, mode=0.55, upper=1.0)    |\n    INFO - 15:38:00:       +------------------------+---------------------------------------------------+\n    INFO - 15:38:00: Solving optimization problem with algorithm OT_OPT_LHS:\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00:     20%|\u2588\u2588        | 1/5 [00:00&lt;00:00, 36.29 it/sec, obj=1.28e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00:     40%|\u2588\u2588\u2588\u2588      | 2/5 [00:00&lt;00:00, 50.57 it/sec, obj=1.39e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 3/5 [00:00&lt;00:00, 57.23 it/sec, obj=4.64e+4]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 4/5 [00:00&lt;00:00, 61.15 it/sec, obj=378]\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/04_verification_vs_model_from_parameter_space/../../../model_runs/archive/verification_vs_model_2nd_model.\n    INFO - 15:38:00:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 5/5 [00:00&lt;00:00, 64.20 it/sec, obj=1.42e+4]\n    INFO - 15:38:00: Optimization result:\n    INFO - 15:38:00:    Optimizer info:\n    INFO - 15:38:00:       Status: None\n    INFO - 15:38:00:       Message: None\n    INFO - 15:38:00:       Number of calls to the objective function by the optimizer: 5\n    INFO - 15:38:00:    Solution:\n    INFO - 15:38:00:       Objective: 377.7324905941891\n    INFO - 15:38:00:       Design space:\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:          |          Name          |                    Distribution                   |\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00:          |         length         | Triangular(lower=200.0, mode=600.0, upper=1000.0) |\n    INFO - 15:38:00:          |         height         |    Triangular(lower=5.0, mode=27.5, upper=50.0)   |\n    INFO - 15:38:00:          |      imposed_dplt      |    Triangular(lower=0.0, mode=10.0, upper=20.0)   |\n    INFO - 15:38:00:          | relative_dplt_location |    Triangular(lower=0.1, mode=0.55, upper=1.0)    |\n    INFO - 15:38:00:          +------------------------+---------------------------------------------------+\n    INFO - 15:38:00: *** End DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_5 execution (time: 0:00:00.081423) ***\n\nVerificationResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-00', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={'reference_model': ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)}, settings={'output_names': ['reaction_forces', 'maximum_dplt', 'location_max_dplt'], 'n_samples': 5, 'algo': 'OT_OPT_LHS', 'metric_names': ['SquaredErrorMetric', 'RelativeErrorMetric', 'AbsoluteErrorMetric'], 'description': None}, report={}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), simulation_and_reference=GROUP          inputs                                                  outputs  ...                                                                                           \nVARIABLE       length     height imposed_dplt relative_dplt_location  cpu_time  ... maximum_dplt reaction_forces Ref[reaction_forces] Ref[maximum_dplt] Ref[location_max_dplt]\nCOMPONENT           0          0            0                      0         0  ...            0               0                    0                 0                      0\n0          435.496059  33.357399     7.288671               0.738592  0.002585  ...    11.152085    12803.783452         12803.783452         11.152085             435.496059\n1          513.579889  18.990847    13.589996               0.427423  0.003023  ...    41.160428    13859.083668         13859.083668         41.160428             513.579889\n2          651.046517  43.484461    13.678710               0.517098  0.004213  ...    33.456751    46427.420323         46427.420323         33.456751             651.046517\n3          989.946396  19.613266     9.859991               0.683800  0.003158  ...    16.711965      377.732491           377.732491         16.711965             989.946396\n4          631.872325  25.357406     5.115020               0.332377  0.002449  ...    20.512340    14179.460189         14179.460189         20.512340             631.872325\n\n[5 rows x 11 columns], element_wise_metrics=GROUP          inputs                                                SquaredErrorMetric  ... RelativeErrorMetric                   AbsoluteErrorMetric                               \nVARIABLE       length     height imposed_dplt relative_dplt_location    reaction_forces  ...        maximum_dplt location_max_dplt     reaction_forces maximum_dplt location_max_dplt\nCOMPONENT           0          0            0                      0                  0  ...                   0                 0                   0            0                 0\n0          435.496059  33.357399     7.288671               0.738592                0.0  ...                 0.0               0.0                 0.0          0.0               0.0\n1          513.579889  18.990847    13.589996               0.427423                0.0  ...                 0.0               0.0                 0.0          0.0               0.0\n2          651.046517  43.484461    13.678710               0.517098                0.0  ...                 0.0               0.0                 0.0          0.0               0.0\n3          989.946396  19.613266     9.859991               0.683800                0.0  ...                 0.0               0.0                 0.0          0.0               0.0\n4          631.872325  25.357406     5.115020               0.332377                0.0  ...                 0.0               0.0                 0.0          0.0               0.0\n\n[5 rows x 13 columns], integrated_metrics={'SquaredErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}, 'RelativeErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}, 'AbsoluteErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}}, description={})\n</code></pre> <p>The result contains the error metrics:</p> <pre><code>verificator.result.integrated_metrics\n</code></pre> <p>Out:</p> <pre><code>{'SquaredErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}, 'RelativeErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}, 'AbsoluteErrorMetric': {'reaction_forces': 0.0, 'maximum_dplt': 0.0, 'location_max_dplt': 0.0}}\n</code></pre> <p>And saved on disk.</p> <pre><code>verificator.save_results()\n</code></pre> <p>The saved results can be loaded in a dedicated dashboard to be explored. The dashboard is opened by typing <code>dashboard_verification</code> in a terminal, and selecting the tab <code>Comparison case</code>.</p> <p>The results can also be plotted from the Python API. It shows the scatter matrix of the inputs:</p> <pre><code>figures = verificator.plot_results(\n    verificator.result,\n    \"RelativeErrorMetric\",\n    \"reaction_forces\",\n    save=False,\n    show=True,\n    directory_path=verificator.working_directory,\n)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning: FigureCanvasAgg is non-interactive, and thus cannot be shown\n  plt.show()\n    INFO - 15:38:00: Working directory is CodeVerificationAgainstModelFromParameterSpace_results\n</code></pre> <p>and an histogram of the errors:</p> <pre><code>figures[\"error_metric_histogram\"]\n</code></pre> <p>Total running time of the script: ( 0 minutes  6.103 seconds)</p> <p> Download Python source code: plot_bending_test_vs_analytical_from_parameter_space.py</p> <p> Download Jupyter notebook: plot_bending_test_vs_analytical_from_parameter_space.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/06_validation_point/","title":"Run a Validation Point","text":""},{"location":"generated/runnable_examples/06_validation_point/#examples-of-validation-points","title":"Examples of validation points","text":"<p>Below is a gallery of examples about validating a model at a validation point.</p> <p> An example of stochastic validation point </p> <p> Download all examples in Python source code: 06_validation_point_python.zip</p> <p> Download all examples in Jupyter notebooks: 06_validation_point_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/06_validation_point/mg_execution_times/","title":"Computation times","text":"<p>00:01.816 total execution time for generated_runnable_examples_06_validation_point files:</p> <p>+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_stochastic_validation_bending_test (docs/runnable_examples/06_validation_point/plot_stochastic_validation_bending_test.py) | 00:01.816 | 0.0 MB | +---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/06_validation_point/plot_stochastic_validation_bending_test/","title":"An example of stochastic validation point","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/06_validation_point/plot_stochastic_validation_bending_test/#an-example-of-stochastic-validation-point","title":"An example of stochastic validation point","text":"<pre><code>from __future__ import annotations\n\nimport logging\nfrom pathlib import Path\n\nfrom gemseo.datasets.io_dataset import IODataset\nfrom pandas import read_csv\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.io.space_io import SpaceToolFileIO\nfrom vimseo.material.material import Material\nfrom vimseo.material_lib import MATERIAL_LIB_DIR\nfrom vimseo.storage_management.base_storage_manager import PersistencyPolicy\nfrom vimseo.tools.space.space_tool_result import SpaceToolResult\nfrom vimseo.tools.validation.validation_point import NominalValuesOutputType\nfrom vimseo.tools.validation.validation_point import StochasticValidationPoint\nfrom vimseo.tools.validation.validation_point import StochasticValidationPointInputs\nfrom vimseo.tools.validation.validation_point import StochasticValidationPointSettings\nfrom vimseo.tools.validation.validation_point import read_nominal_values\nfrom vimseo.utilities.datasets import SEP\nfrom vimseo.utilities.generate_validation_reference import Bias\nfrom vimseo.utilities.generate_validation_reference import (\n    generate_reference_from_parameter_space,\n)\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>First we generate synthetic reference data, using an analytical bending test model, and bias the output of interest by 5 \\%.</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\ntarget_model = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_persistency=PersistencyPolicy.DELETE_ALWAYS,\n        directory_scratch_persistency=PersistencyPolicy.DELETE_ALWAYS,\n    ),\n)\ntarget_model.cache = None\nreference_dataset_cantilever = generate_reference_from_parameter_space(\n    target_model,\n    SpaceToolFileIO()\n    .read(file_name=\"bending_test_validation_input_space.json\")\n    .parameter_space,\n    n_samples=6,\n    input_names=[\"width\", \"height\"],\n    output_names=[\"reaction_forces\", \"maximum_dplt\"],\n    outputs_to_bias={\"reaction_forces\": Bias(mult_factor=1.05)},\n    additional_name_to_data={\"nominal_length\": 600.0, \"batch\": 1},\n)\nreference_dataset_cantilever.to_csv(\n    \"reference_validation_bending_test_cantilever.csv\", sep=SEP\n)\nprint(\"The reference data: \", reference_dataset_cantilever)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n    INFO - 15:38:05: Working directory is CustomDOETool/3\n    INFO - 15:38:05:  \n    INFO - 15:38:05: *** Start DOEScenario execution ***\n    INFO - 15:38:05: DOEScenario\n    INFO - 15:38:05:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:05: \n    INFO - 15:38:05: Load case:\n    INFO - 15:38:05:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Boundary condition variables:\n    INFO - 15:38:05:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Plot parameters:\n    INFO - 15:38:05:    {\n    INFO - 15:38:05:     \"curves\": []\n    INFO - 15:38:05: }\n    INFO - 15:38:05:    Load:\n    INFO - 15:38:05:    Load(direction='', sign='', type='')\n    INFO - 15:38:05: \n    INFO - 15:38:05: Default values:\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Default geometrical variables:\n    INFO - 15:38:05:    {\n    INFO - 15:38:05:     \"height\": [\n    INFO - 15:38:05:         40.0\n    INFO - 15:38:05:     ],\n    INFO - 15:38:05:     \"length\": [\n    INFO - 15:38:05:         600.0\n    INFO - 15:38:05:     ],\n    INFO - 15:38:05:     \"width\": [\n    INFO - 15:38:05:         30.0\n    INFO - 15:38:05:     ]\n    INFO - 15:38:05: }\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Default numerical variables:\n    INFO - 15:38:05:    {}\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Default boundary conditions variables:\n    INFO - 15:38:05:    {\n    INFO - 15:38:05:     \"imposed_dplt\": [\n    INFO - 15:38:05:         -5.0\n    INFO - 15:38:05:     ],\n    INFO - 15:38:05:     \"relative_dplt_location\": [\n    INFO - 15:38:05:         1.0\n    INFO - 15:38:05:     ]\n    INFO - 15:38:05: }\n    INFO - 15:38:05:    \n    INFO - 15:38:05:    Default material variables:\n    INFO - 15:38:05:    {\n    INFO - 15:38:05:     \"nu_p\": [\n    INFO - 15:38:05:         0.3\n    INFO - 15:38:05:     ],\n    INFO - 15:38:05:     \"young_modulus\": [\n    INFO - 15:38:05:         210000.0\n    INFO - 15:38:05:     ]\n    INFO - 15:38:05: }\n    INFO - 15:38:05:    MDO formulation: DisciplinaryOpt\n    INFO - 15:38:05: Optimization problem:\n    INFO - 15:38:05:    minimize reaction_forces(width, height)\n    INFO - 15:38:05:    with respect to height, width\n    INFO - 15:38:05:    over the design space:\n    INFO - 15:38:05:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:05:       | Name   | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:38:05:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:05:       | width  |     -inf    |  None |     inf     | float |\n    INFO - 15:38:05:       | height |     -inf    |  None |     inf     | float |\n    INFO - 15:38:05:       +--------+-------------+-------+-------------+-------+\n    INFO - 15:38:05: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:     17%|\u2588\u258b        | 1/6 [00:00&lt;00:00, 49.38 it/sec, obj=-2.09e+3]\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:     33%|\u2588\u2588\u2588\u258e      | 2/6 [00:00&lt;00:00, 74.30 it/sec, obj=-2.18e+3]\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:     50%|\u2588\u2588\u2588\u2588\u2588     | 3/6 [00:00&lt;00:00, 84.72 it/sec, obj=-2.26e+3]\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 4/6 [00:00&lt;00:00, 94.20 it/sec, obj=-2.31e+3]\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 5/6 [00:00&lt;00:00, 98.79 it/sec, obj=-2.33e+3]\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/06_validation_point/default_archive.\n    INFO - 15:38:05: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:38:05:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6/6 [00:00&lt;00:00, 104.78 it/sec, obj=-2.04e+3]\n    INFO - 15:38:05: Optimization result:\n    INFO - 15:38:05:    Optimizer info:\n    INFO - 15:38:05:       Status: None\n    INFO - 15:38:05:       Message: None\n    INFO - 15:38:05:       Number of calls to the objective function by the optimizer: 6\n    INFO - 15:38:05:    Solution:\n    INFO - 15:38:05:       Objective: -2325.3861836081296\n    INFO - 15:38:05:       Design space:\n    INFO - 15:38:05:          +--------+-------------+------------------+-------------+-------+\n    INFO - 15:38:05:          | Name   | Lower bound |      Value       | Upper bound | Type  |\n    INFO - 15:38:05:          +--------+-------------+------------------+-------------+-------+\n    INFO - 15:38:05:          | width  |     -inf    | 30.0323486328125 |     inf     | float |\n    INFO - 15:38:05:          | height |     -inf    | 39.940185546875  |     inf     | float |\n    INFO - 15:38:05:          +--------+-------------+------------------+-------------+-------+\n    INFO - 15:38:05: *** End DOEScenario execution (time: 0:00:00.059711) ***\nThe reference data:         width     height  maximum_dplt  reaction_forces  nominal_length  batch\n0  30.052246  38.528564          -5.0     -2193.260795           600.0      1\n1  31.221924  38.574341          -5.0     -2286.757202           600.0      1\n2  30.408447  39.372192          -5.0     -2368.251907           600.0      1\n3  29.725220  39.985840          -5.0     -2424.982427           600.0      1\n4  30.032349  39.940186          -5.0     -2441.655493           600.0      1\n5  29.370850  38.490967          -5.0     -2137.262295           600.0      1\n</code></pre> <p>The objective is to validate a model for a new material. Let's create a model to validate:</p> <pre><code>model = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/validation_point\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/validation_point\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/validation_point/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:05: Found 4 entries in the cache file : ../../../model_runs/caches/validation_point/BendingTestAnalytical_Cantilever_cache.hdf node : node\n</code></pre> <p>And the material, which defines probability distributions for its properties. It is typically obtained from a calibration.</p> <pre><code>material = Material.from_json(MATERIAL_LIB_DIR / \"Ta6v.json\")\nprint(\"The stochastic material: \", material)\n</code></pre> <p>Out:</p> <pre><code>The stochastic material:  Ta6v\nMaterial relations:\n\n   Ta6v_elastic_iso\n   young_modulus\n      Default value: 210000.0\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": 190000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 210000.0,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 100.0,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 230000.0\n}\n\n   nu_p\n      Default value: 0.3\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": -1000000000000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 0.3,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 0.02,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 1000000000000.0\n}\n</code></pre> <p>And the measured quantities of interest</p> <pre><code>measured_inputs = [\"width\", \"height\", \"imposed_dplt\"]\nmeasured_outputs = [\"reaction_forces\"]\n</code></pre> <p>Since reference data are referenced by batches, we can select a batch to perform the validation only regarding this batch:</p> <pre><code>batch = 1\n</code></pre> <p>Then we define the path to the reference data</p> <pre><code>csv_path = \"reference_validation_bending_test_cantilever.csv\"\n</code></pre> <p>and the nominal inputs at which the validation point is performed. The <code>read_nominal_values</code> function allows to read the nominal values in the reference data, using averaging over the repeats for a given <code>master</code> variable:</p> <pre><code>nominal_values = read_nominal_values(\n    \"batch\",\n    csv_path=csv_path,\n    master_value=batch,\n    additional_names=[\"nominal_length\"],\n    name_remapping={\"nominal_length\": \"length\"},\n    output_type=NominalValuesOutputType.DICTIONARY,\n)\n</code></pre> <p>To speed-up the example, we coarsen the mesh: nominal_values.update({\"element_size\": atleast_1d(4.32)})</p> <p>And finally we set the nominal inputs from the material. Indeed, all material properties may not be stochastic (a distribution is not necessarily defined). As a result, we need to set the model default inputs to the deterministic property values. It is done through the nominal inputs:</p> <pre><code>nominal_values.update(material.get_values_as_dict())\n</code></pre> <p>The reference samples are then defined from the csv file containing the measured data. First, the data are filtered to retain only the considered batch:</p> <pre><code>df = read_csv(\n    csv_path,\n    delimiter=SEP,\n)\ndf = df[df[\"batch\"] == batch]\ndf.to_csv(\"filtered_reference_data.csv\", sep=SEP)\n</code></pre> <p>Then the groups to which the measured inputs and measured QoIs belong are defined, and the filtered data is loaded as a GEMSEO <code>Dataset</code>:</p> <pre><code>variable_names_to_group_names = dict.fromkeys(measured_inputs, IODataset.INPUT_GROUP)\nvariable_names_to_group_names.update(\n    dict.fromkeys(measured_outputs, IODataset.OUTPUT_GROUP)\n)\nvalidation_dataset = IODataset.from_txt(\n    \"filtered_reference_data.csv\",\n    header=True,\n    delimiter=SEP,\n    variable_names_to_group_names=variable_names_to_group_names,\n)\n</code></pre> <p>The uncertainties coming from unmeasured inputs are then taken into account via the argument <code>uncertain_input_space</code>, to which we pass a parameter space defined from the material. The stochastic validation point can now be created and executed. The model output uncertainty is estimated by sampling the input space with <code>n_samples</code> points.</p> <pre><code>validation_point_tool = StochasticValidationPoint(\n    working_directory=Path(f\"{model_name}_{load_case}\")\n    / f\"batch_{batch}_{nominal_values['length']}\",\n)\nvalidation_point_tool.execute(\n    inputs=StochasticValidationPointInputs(\n        model=model,\n        measured_data=validation_dataset,\n        uncertain_input_space=material.to_parameter_space(),\n    ),\n    settings=StochasticValidationPointSettings(\n        metric_names=[\n            \"AreaMetric\",\n            \"RelativeAreaMetric\",\n            \"RelativeMeanToMean\",\n            \"AbsoluteRelativeErrorP90\",\n        ],\n        nominal_data=nominal_values,\n        n_samples=4,\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n    INFO - 15:38:05: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]\n    INFO - 15:38:05: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]/DOETool\n    INFO - 15:38:05: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]/StatisticsTool\n    INFO - 15:38:05: Found 4 entries in the cache file : ../../../model_runs/caches/validation_point/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:38:05: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]/StatisticsTool\n    INFO - 15:38:05: | Set goodness-of-fit criterion: Kolmogorov.\n    INFO - 15:38:05: | Set significance level of hypothesis test: 0.05.\n    INFO - 15:38:05: Fit different distributions (Uniform, Normal, LogNormal, Exponential, WeibullMin) per variable and compute the goodness-of-fit criterion.\n    INFO - 15:38:05: | Fit different distributions for height.\n    INFO - 15:38:06: | Fit different distributions for width.\n    INFO - 15:38:06: Select the best distribution for each variable.\n    INFO - 15:38:06: | The best distribution for height[0] is Normal([39.1487,0.710531]).\n    INFO - 15:38:06: | The best distribution for width[0] is Normal([30.1352,0.63646]).\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n    INFO - 15:38:06: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]/DOETool\n    INFO - 15:38:06:  \n    INFO - 15:38:06: *** Start DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_4 execution ***\n    INFO - 15:38:06: DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_4\n    INFO - 15:38:06:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:06: \n    INFO - 15:38:06: Load case:\n    INFO - 15:38:06:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Boundary condition variables:\n    INFO - 15:38:06:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Plot parameters:\n    INFO - 15:38:06:    {\n    INFO - 15:38:06:     \"curves\": []\n    INFO - 15:38:06: }\n    INFO - 15:38:06:    Load:\n    INFO - 15:38:06:    Load(direction='', sign='', type='')\n    INFO - 15:38:06: \n    INFO - 15:38:06: Default values:\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Default geometrical variables:\n    INFO - 15:38:06:    {\n    INFO - 15:38:06:     \"height\": [\n    INFO - 15:38:06:         39.14868164062504\n    INFO - 15:38:06:     ],\n    INFO - 15:38:06:     \"length\": [\n    INFO - 15:38:06:         600.0\n    INFO - 15:38:06:     ],\n    INFO - 15:38:06:     \"width\": [\n    INFO - 15:38:06:         30.13517252604173\n    INFO - 15:38:06:     ]\n    INFO - 15:38:06: }\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Default numerical variables:\n    INFO - 15:38:06:    {}\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Default boundary conditions variables:\n    INFO - 15:38:06:    {\n    INFO - 15:38:06:     \"imposed_dplt\": [\n    INFO - 15:38:06:         -5.0\n    INFO - 15:38:06:     ],\n    INFO - 15:38:06:     \"relative_dplt_location\": [\n    INFO - 15:38:06:         1.0\n    INFO - 15:38:06:     ]\n    INFO - 15:38:06: }\n    INFO - 15:38:06:    \n    INFO - 15:38:06:    Default material variables:\n    INFO - 15:38:06:    {\n    INFO - 15:38:06:     \"nu_p\": [\n    INFO - 15:38:06:         0.3000000000000006\n    INFO - 15:38:06:     ],\n    INFO - 15:38:06:     \"young_modulus\": [\n    INFO - 15:38:06:         209999.99999999357\n    INFO - 15:38:06:     ]\n    INFO - 15:38:06: }\n    INFO - 15:38:06:    MDO formulation: DisciplinaryOpt\n    INFO - 15:38:06: Optimization problem:\n    INFO - 15:38:06:    minimize reaction_forces(young_modulus, nu_p, height, width)\n    INFO - 15:38:06:    with respect to height, nu_p, width, young_modulus\n    INFO - 15:38:06:    over the design space:\n    INFO - 15:38:06:       +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06:       |      Name     |              Initial distribution              | Transformation(x)= |\n    INFO - 15:38:06:       +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06:       | young_modulus |        Normal(mu=210000.0, sigma=100.0)        |      Trunc(x)      |\n    INFO - 15:38:06:       |      nu_p     |           Normal(mu=0.3, sigma=0.02)           |      Trunc(x)      |\n    INFO - 15:38:06:       |     height    |  Normal(39.148681640625, 0.7105309088760217)   |      Trunc(x)      |\n    INFO - 15:38:06:       |     width     | Normal(30.135172526041664, 0.6364601858416962) |      Trunc(x)      |\n    INFO - 15:38:06:       +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06: Solving optimization problem with algorithm OT_OPT_LHS:\n    INFO - 15:38:06:     25%|\u2588\u2588\u258c       | 1/4 [00:00&lt;00:00, 118.41 it/sec, obj=-2.23e+3]\n    INFO - 15:38:06:     50%|\u2588\u2588\u2588\u2588\u2588     | 2/4 [00:00&lt;00:00, 160.19 it/sec, obj=-2.01e+3]\n    INFO - 15:38:06:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 3/4 [00:00&lt;00:00, 174.21 it/sec, obj=-2.16e+3]\n    INFO - 15:38:06:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 4/4 [00:00&lt;00:00, 190.03 it/sec, obj=-2.37e+3]\n    INFO - 15:38:06: Optimization result:\n    INFO - 15:38:06:    Optimizer info:\n    INFO - 15:38:06:       Status: None\n    INFO - 15:38:06:       Message: None\n    INFO - 15:38:06:       Number of calls to the objective function by the optimizer: 4\n    INFO - 15:38:06:    Solution:\n    INFO - 15:38:06:       Objective: -2369.0986018303747\n    INFO - 15:38:06:       Design space:\n    INFO - 15:38:06:          +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06:          |      Name     |              Initial distribution              | Transformation(x)= |\n    INFO - 15:38:06:          +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06:          | young_modulus |        Normal(mu=210000.0, sigma=100.0)        |      Trunc(x)      |\n    INFO - 15:38:06:          |      nu_p     |           Normal(mu=0.3, sigma=0.02)           |      Trunc(x)      |\n    INFO - 15:38:06:          |     height    |  Normal(39.148681640625, 0.7105309088760217)   |      Trunc(x)      |\n    INFO - 15:38:06:          |     width     | Normal(30.135172526041664, 0.6364601858416962) |      Trunc(x)      |\n    INFO - 15:38:06:          +---------------+------------------------------------------------+--------------------+\n    INFO - 15:38:06: *** End DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_4 execution (time: 0:00:00.024568) ***\n\nValidationPointResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-05', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'variable_names': [], 'fitting_criterion': 'Kolmogorov', 'selection_criterion': 'best', 'level': 0.05, 'tested_distributions': ['Uniform', 'Normal', 'LogNormal', 'Exponential', 'WeibullMin'], 'coverage': 0.05, 'confidence': 0.95, 'output_names': [], 'n_samples': 4, 'algo': 'OT_OPT_LHS', 'metric_names': ['AreaMetric', 'RelativeAreaMetric', 'RelativeMeanToMean', 'AbsoluteRelativeErrorP90'], 'simulated_uncertainties': {}, 'nominal_data': {'batch': array([1]), 'length': array([600.]), 'young_modulus': 210000.0, 'nu_p': 0.3}, 'typeb_uncertainties': {}}, report={'title': 'Validation of BendingTestAnalytical Cantilever', 'simulated_uncertainties': {}, 'typeb_uncertainties': {}, 'measured_data_statistics': \"StatisticsResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-05', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'variable_names': ['height', 'width'], 'fitting_criterion': 'Kolmogorov', 'selection_criterion': 'best', 'level': 0.05, 'tested_distributions': ['Uniform', 'Normal', 'LogNormal', 'Exponential', 'WeibullMin'], 'coverage': 0.05, 'confidence': 0.95}, report={}, model=None), analysis=StatisticsTool\\n   n_samples: 6\\n   n_variables: 2\\n   variables: height, width, best_fitting_distributions={'height': 'Normal', 'width': 'Normal'}, statistics=OrderedDict([('maximum', {'height': array([inf]), 'width': array([inf])}), ('minimum', {'height': array([-inf]), 'width': array([-inf])}), ('range', {'height': array([inf]), 'width': array([inf])}), ('mean', {'height': array([39.14868164]), 'width': array([30.13517253])}), ('median', {'height': array([39.14868164]), 'width': array([30.13517253])}), ('compute_standard_deviation', {'height': array([0.71053091]), 'width': array([0.63646019])}), ('variance', {'height': array([0.50485417]), 'width': array([0.40508157])}), ('percentile_5', {'height': array([37.9799623]), 'width': array([29.08828868])}), ('percentile_10', {'height': array([38.23809964]), 'width': array([29.31951598])}), ('percentile_25', {'height': array([38.66943583]), 'width': array([29.70588665])}), ('percentile_50', {'height': array([39.14868164]), 'width': array([30.13517253])}), ('percentile_75', {'height': array([39.62792746]), 'width': array([30.5644584])}), ('percentile_90', {'height': array([40.05926364]), 'width': array([30.95082907])}), ('percentile_95', {'height': array([40.31740098]), 'width': array([31.18205637])}), ('tolerance_interval', {'height': [Bounds(lower=array([39.04804181]), upper=array([39.24932147]))], 'width': [Bounds(lower=array([30.0450241]), upper=array([30.22532096]))]}), ('a_value', {'height': array([[36.91122839]]), 'width': array([[28.13096708]])}), ('b_value', {'height': array([[37.65358846]]), 'width': array([[28.79593834]])})]))\"}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)), nominal_data={'batch': array([1]), 'length': array([600.]), 'young_modulus': 210000.0, 'nu_p': 0.3}, measured_data=GROUP       parameters                inputs              parameters         outputs     parameters      \nVARIABLE  Unnamed: 0.1 Unnamed: 0      width     height maximum_dplt reaction_forces nominal_length batch\nCOMPONENT            0          0          0          0            0               0              0     0\n0                    0          0  30.052246  38.528564         -5.0    -2193.260795          600.0     1\n1                    1          1  31.221924  38.574341         -5.0    -2286.757202          600.0     1\n2                    2          2  30.408447  39.372192         -5.0    -2368.251907          600.0     1\n3                    3          3  29.725220  39.985840         -5.0    -2424.982427          600.0     1\n4                    4          4  30.032349  39.940186         -5.0    -2441.655493          600.0     1\n5                    5          5  29.370850  38.490967         -5.0    -2137.262295          600.0     1, simulated_data=GROUP             inputs                                         outputs\nVARIABLE   young_modulus      nu_p     height      width reaction_forces\nCOMPONENT              0         0          0          0               0\n0          210057.287210  0.332438  39.149141  30.629976    -2234.124590\n1          209924.170114  0.308143  38.092906  30.001240    -2014.606471\n2          210189.017723  0.287234  39.136568  29.579732    -2156.794361\n3          209999.901032  0.266194  40.116967  30.194199    -2369.098602, sample_to_sample_error=None, integrated_metrics={'AreaMetric': {'reaction_forces': 115.0390135639757}, 'RelativeAreaMetric': {'reaction_forces': 0.04982858826273978}, 'RelativeMeanToMean': {'reaction_forces': 0.04982858826273987}, 'AbsoluteRelativeErrorP90': {'reaction_forces': 0.17210368526667824}})\n</code></pre> <p>Validation results can be saved on disk</p> <pre><code>validation_point_tool.save_results(prefix=f\"batch_{batch}\")\n</code></pre> <p>The results can be plotted:</p> <pre><code>figures = validation_point_tool.plot_results(\n    validation_point_tool.result, \"reaction_forces\", show=True, save=True\n)\n</code></pre> <p></p> <p>Out:</p> <pre><code>    INFO - 15:38:06: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]\n    INFO - 15:38:06: Working directory is BendingTestAnalytical_Cantilever/batch_1_[600.]\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/tools/validation/validation_point.py:319: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n</code></pre> <p>The Q-Q plot of the measured and simulated distributions:</p> <pre><code>figures[\"qq_plot\"]\n</code></pre> <p>Out:</p> <pre><code>&lt;Figure size 640x480 with 1 Axes&gt;\n</code></pre> <p>The comparison of the measured and simulated PDF:</p> <pre><code>figures[\"PDF_comparison\"]\n</code></pre> <p>The comparison of the measured and simulated CDF:</p> <pre><code>figures[\"CDF_comparison\"]\n</code></pre> <p>The saved result can be visualised in a dashboard by typing in a terminal where the vims_composites Python environment is activated: <code>dashboard_validation_point_viewer</code></p> <p>The simulated input space can be exported to disk, to be visualized with <code>dashboard_space</code>. In pickle format:</p> <pre><code>space_tool_result = SpaceToolResult(\n    parameter_space=validation_point_tool.simulated_input_space\n)\nspace_tool_result.to_pickle(\"simulated_input_space\")\n</code></pre> <p>Or in json format:</p> <pre><code>SpaceToolFileIO().write(space_tool_result, file_base_name=\"simulated_input_space\")\n</code></pre> <p>Out:</p> <pre><code>'{\\n    \"parameter_space\": {\\n        \"young_modulus\": {\\n            \"mu\": 210000.0,\\n            \"sigma\": 100.0,\\n            \"name\": \"Normal\",\\n            \"size\": 1\\n        },\\n        \"nu_p\": {\\n            \"mu\": 0.3,\\n            \"sigma\": 0.02,\\n            \"name\": \"Normal\",\\n            \"size\": 1\\n        },\\n        \"height\": {\\n            \"name\": \"Normal\",\\n            \"parameters\": [\\n                39.148681640625,\\n                0.7105309088760217\\n            ],\\n            \"lower_bound\": 0.0,\\n            \"upper_bound\": Infinity,\\n            \"size\": 1\\n        },\\n        \"width\": {\\n            \"name\": \"Normal\",\\n            \"parameters\": [\\n                30.135172526041664,\\n                0.6364601858416962\\n            ],\\n            \"lower_bound\": 0.0,\\n            \"upper_bound\": Infinity,\\n            \"size\": 1\\n        }\\n    },\\n    \"metadata\": {\\n        \"generic\": {\\n            \"datetime\": \"13-02-2026_15-38-07\",\\n            \"version\": \"0.1.dev17+gda5deed25.d20260213\"\\n        },\\n        \"misc\": {},\\n        \"settings\": {},\\n        \"report\": {},\\n        \"model\": null\\n    }\\n}'\n</code></pre> <p>Total running time of the script: ( 0 minutes  1.816 seconds)</p> <p> Download Python source code: plot_stochastic_validation_bending_test.py</p> <p> Download Jupyter notebook: plot_stochastic_validation_bending_test.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/07_validation_case/","title":"Run a Validation Case","text":""},{"location":"generated/runnable_examples/07_validation_case/#examples-of-validation-cases","title":"Examples of validation cases","text":"<p>Below is a gallery of examples on running validation cases, both deterministic or stochastic.</p> <p> Read an experimental data as a GEMSEO Dataset </p> <p> Deterministic validation case on the bending test analytical beam model against an analytical solution </p> <p> Deterministic validation case on a mock model </p> <p> Download all examples in Python source code: 07_validation_case_python.zip</p> <p> Download all examples in Jupyter notebooks: 07_validation_case_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/07_validation_case/mg_execution_times/","title":"Computation times","text":"<p>07:01.976 total execution time for generated_runnable_examples_07_validation_case files:</p> <p>+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_deterministic_validation_case_straightbeammodel (docs/runnable_examples/07_validation_case/plot_deterministic_validation_case_straightbeammodel.py) | 05:34.025 | 0.0 MB | +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_deterministic_validation_case_on_vectors (docs/runnable_examples/07_validation_case/plot_deterministic_validation_case_on_vectors.py)                      | 01:27.923 | 0.0 MB | +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_read_reference_data (docs/runnable_examples/07_validation_case/plot_read_reference_data.py)                                                                                     | 00:00.028 | 0.0 MB | +-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_deterministic_validation_case_on_vectors/","title":"Deterministic validation case on a mock model","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_deterministic_validation_case_on_vectors/#deterministic-validation-case-on-a-mock-model","title":"Deterministic validation case on a mock model","text":"<pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo.datasets.io_dataset import IODataset\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.io.reader_file_dataframe import ReaderFileDataFrame\nfrom vimseo.tools.io.reader_file_dataframe import ReaderFileDataFrameSettings\nfrom vimseo.tools.validation_case.validation_case import DeterministicValidationCase\nfrom vimseo.tools.validation_case.validation_case import (\n    DeterministicValidationCaseInputs,\n)\nfrom vimseo.tools.validation_case.validation_case import (\n    DeterministicValidationCaseSettings,\n)\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>The model to validate is created. this model contains a 1-D vector input <code>x3</code>, of variable length.</p> <pre><code>model_name = \"MockModelPersistent\"\nload_case = \"LC1\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/validation_case\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/validation_case\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/validation_case/{model_name}_{load_case}.hdf\",\n    ),\n)\n</code></pre> <p>Synthetic reference data are read from a csv file. The input validation space contains the <code>x3</code> vector. <code>x3</code> has different lengths in the csv file (some boxes are left blank to that this component has no value. Once this csv data is loaded, the blank components are filled with NaNs.</p> <pre><code>reference_data = (\n    ReaderFileDataFrame()\n    .execute(\n        settings=ReaderFileDataFrameSettings(\n            file_name=\"reference_data_vector_different_lengths.csv\",\n            variable_names=[\"x3\", \"x1\", \"x2\", \"y4\"],\n            variable_names_to_group_names={\n                \"x1\": IODataset.INPUT_GROUP,\n                \"x2\": IODataset.INPUT_GROUP,\n                \"x3\": IODataset.INPUT_GROUP,\n                \"y4\": IODataset.OUTPUT_GROUP,\n            },\n            variable_names_to_n_components={\n                \"x3\": 3,\n            },\n        ),\n    )\n    .dataset\n)\nprint(reference_data)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:49:42: Working directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/07_validation_case\nGROUP     inputs                 outputs\nVARIABLE      x3         x1   x2      y4\nCOMPONENT      0  1    2  0    0       0\n0              1  2  NaN  1  6.0     3.3\n1              3  4  5.0  2  7.0    14.4\n</code></pre> <p>The validation case tool is created and executed. The only setting is that only output <code>y4</code> is validated.</p> <pre><code>validation = DeterministicValidationCase(\n    working_directory=\"deterministic_validation_case\"\n)\nvalidation.execute(\n    inputs=DeterministicValidationCaseInputs(\n        model=model, reference_data=reference_data\n    ),\n    settings=DeterministicValidationCaseSettings(output_names=[\"y4\"]),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:49:42: Working directory is deterministic_validation_case\n    INFO - 15:49:42: Working directory is deterministic_validation_case/CustomDOETool\n    INFO - 15:49:42: Found 1 entries in the cache file : ../../../model_runs/caches/validation_case/MockModelPersistent_LC1_x3_1_2.hdf node : node\n    INFO - 15:49:42: Found 1 entries in the cache file : ../../../model_runs/caches/validation_case/MockModelPersistent_LC1_x3_3_4_5.hdf node : node\n\nDeterministicValidationCaseResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-49-42', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'input_names': [], 'output_names': ['y4'], 'metric_names': ['SquaredErrorMetric', 'RelativeErrorMetric', 'AbsoluteErrorMetric'], 'description': None}, report={'title': 'Validation of MockModelPersistent LC1'}, model=ModelDescription(name='MockModelPersistent', summary=' A toy model for testing purpose of persistent data - mono-component version', load_case=LC1(name='LC1', domain='', summary='A first mock load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=[], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['x1', 'x2', 'x3'], 'model_outputs': ['y1', 'y2', 'y3', 'y4', 'y5', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'MockComponentStandalonePersistent_LC1': {'inputs': ['x1', 'x2', 'x3'], 'outputs': ['y1', 'y2', 'y3', 'y4', 'y5', 'error_code']}}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'x1': [2.0], 'x2': [5.0], 'x3': [1.0, 2.0, 3.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {}}, curves=[], verbose=False)))\n</code></pre> <p>The element-wise error metrics can be obtained, together with the input variables.</p> <pre><code>print(validation.result.element_wise_metrics)\n\n# Standard validation plots can be shown. For vector inputs, each of its\n# components are considered as scalar inputs. So for the input space\n# ``x1`` and ``x3`` with ``x1`` a scalar, and ``x3`` a vector of length 3,\n# the input variables shown in the plots are ``x1``, ``x3[0]``, ``x3[1]``, ``x3[2]``\nvalidation.plot_results(\n    validation.result, metric_name=\"RelativeErrorMetric\", output_name=\"y4\", show=True\n)\nvalidation.save_results()\n</code></pre> <p>Out:</p> <pre><code>GROUP     inputs                     SquaredErrorMetric RelativeErrorMetric AbsoluteErrorMetric outputs Reference\nVARIABLE      x1   x2   x3                           y4                  y4                  y4      y4        y4\nCOMPONENT      0    0    0    1    2                  0                   0                   0       0         0\n0            1.0  6.0  1.0  2.0  NaN               0.09            0.090909                 0.3     3.0       3.3\n1            2.0  7.0  3.0  4.0  5.0               5.76            0.166667                 2.4    12.0      14.4\n    INFO - 15:49:42: Working directory is deterministic_validation_case\n    INFO - 15:49:43: Working directory is deterministic_validation_case\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/plotly/basedatatypes.py:2314: DeprecationWarning:\n\nThe append_trace method is deprecated and will be removed in a future version.\nPlease use the add_trace method with the row and col parameters.\n\n\n    INFO - 15:49:44: Working directory is deterministic_validation_case\n    INFO - 15:49:45: Working directory is deterministic_validation_case\n</code></pre> <p>Total running time of the script: ( 1 minutes  27.923 seconds)</p> <p> Download Python source code: plot_deterministic_validation_case_on_vectors.py</p> <p> Download Jupyter notebook: plot_deterministic_validation_case_on_vectors.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_deterministic_validation_case_straightbeammodel/","title":"Deterministic validation case on the bending test analytical beam model against an analytical solution","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_deterministic_validation_case_straightbeammodel/#deterministic-validation-case-on-the-bending-test-analytical-beam-model-against-an-analytical-solution","title":"Deterministic validation case on the bending test analytical beam model against an analytical solution","text":"<pre><code>from __future__ import annotations\n\nimport logging\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.problems.beam_analytic.reference_dataset_builder import (\n    bending_test_analytical_reference_dataset,\n)\nfrom vimseo.tools.validation_case.validation_case import DeterministicValidationCase\nfrom vimseo.tools.validation_case.validation_case import (\n    DeterministicValidationCaseInputs,\n)\nfrom vimseo.tools.validation_case.validation_case import (\n    DeterministicValidationCaseSettings,\n)\n\nactivate_logger(level=logging.INFO)\n</code></pre> <p>First a model is created:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/validation_case\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/validation_case\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/validation_case/{model_name}_{load_case}.hdf\",\n    ),\n)\n</code></pre> <p>The samples are set from synthetic reference data already generated for this model, to which a bias is added to obtain non-zero error metrics.</p> <pre><code>reference_data = bending_test_analytical_reference_dataset(shift=10.0)[\"Cantilever\"]\nprint(\"The measured data: \", reference_data)\n</code></pre> <p>Out:</p> <pre><code>The measured data:  GROUP     inputs                                                                   outputs       ...                                                                            \nVARIABLE  height imposed_dplt  length relative_dplt_location width young_modulus  cpu_time dplt  ... maximum_dplt    moment           moment_grid                reaction_forces\nCOMPONENT      0            0       0                      0     0             0         0    0  ...            0         0    1    2           0      1       2               0\n0           10.0          5.0  1000.0                    0.5  10.0      200000.0  0.000000  0.0  ...    12.848405  -10000.0  0.0  0.0         0.0  500.0  1000.0            30.0\n1           15.0          5.0  1000.0                    0.5  10.0      200000.0  0.021682  0.0  ...    12.848405  -33750.0  0.0  0.0         0.0  500.0  1000.0            77.5\n2           20.0          5.0  1000.0                    0.5  10.0      200000.0  0.025601  0.0  ...    12.848405  -80000.0  0.0  0.0         0.0  500.0  1000.0           170.0\n3           15.0         10.0  1000.0                    0.5  10.0      200000.0  0.029279  0.0  ...    25.696836  -67500.0  0.0  0.0         0.0  500.0  1000.0           145.0\n4           20.0         10.0  1000.0                    0.5  10.0      200000.0  0.032983  0.0  ...    25.696836 -160000.0  0.0  0.0         0.0  500.0  1000.0           330.0\n\n[5 rows x 218 columns]\n</code></pre> <p>Then, the validation case tool is created and executed:</p> <pre><code>validation_tool = DeterministicValidationCase()\nresults = validation_tool.execute(\n    inputs=DeterministicValidationCaseInputs(\n        model=model,\n        reference_data=reference_data,\n    ),\n    settings=DeterministicValidationCaseSettings(\n        metric_names=[\n            \"RelativeErrorMetric\",\n            \"AbsoluteErrorMetric\",\n        ],\n        output_names=[\"reaction_forces\"],\n    ),\n)\nvalidation_tool.save_results()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:44:08: Working directory is DeterministicValidationCase/3\n    INFO - 15:44:08: Working directory is DeterministicValidationCase/3/CustomDOETool\n    INFO - 15:44:08: Found 5 entries in the cache file : ../../../model_runs/caches/validation_case/BendingTestAnalytical_Cantilever_.hdf node : node\n WARNING - 15:44:08: The cache policy is already set to HDF5Cache with the file path '../../../model_runs/caches/validation_case/BendingTestAnalytical_Cantilever_.hdf' and node name 'node'; call discipline.cache.clear() to clear the cache.\n WARNING - 15:44:08: The cache policy is already set to HDF5Cache with the file path '../../../model_runs/caches/validation_case/BendingTestAnalytical_Cantilever_.hdf' and node name 'node'; call discipline.cache.clear() to clear the cache.\n WARNING - 15:44:08: The cache policy is already set to HDF5Cache with the file path '../../../model_runs/caches/validation_case/BendingTestAnalytical_Cantilever_.hdf' and node name 'node'; call discipline.cache.clear() to clear the cache.\n WARNING - 15:44:08: The cache policy is already set to HDF5Cache with the file path '../../../model_runs/caches/validation_case/BendingTestAnalytical_Cantilever_.hdf' and node name 'node'; call discipline.cache.clear() to clear the cache.\n</code></pre> <p>Post-processing the results.</p> <p>The validation result contains:</p> <ul> <li>a dictionary mapping the error metric names,     output names and the statistical metric values (by default, the mean is used).</li> <li>a dataset containing the element-wise error metrics, together with the</li> <li>the simulated data, reference data and the input samples.</li> </ul> <pre><code>print(\"The validation result: \", validation_tool.result)\nprint(validation_tool.result.element_wise_metrics)\nprint(validation_tool.result.integrated_metrics)\n</code></pre> <p>Out:</p> <pre><code>The validation result:  DeterministicValidationCaseResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-44-08', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'input_names': [], 'output_names': ['reaction_forces'], 'metric_names': ['RelativeErrorMetric', 'AbsoluteErrorMetric'], 'description': None}, report={'title': 'Validation of BendingTestAnalytical Cantilever'}, model=ModelDescription(name='BendingTestAnalytical', summary=' An analytical model for the bending of a parallelepipedic beam', load_case=Beam_Cantilever(name='Cantilever', domain='Beam', summary='A cantilever load case.', plot_parameters=PlotParameters(curves=[]), bc_variable_names=['imposed_dplt', 'relative_dplt_location'], load=Load(direction='', sign='', type='')), dataflow={'model_inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'model_outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code', 'model', 'load_case', 'description', 'job_name', 'persistent_result_files', 'n_cpus', 'date', 'cpu_time', 'user', 'machine', 'vims_git_version', 'directory_archive_root', 'directory_archive_job', 'directory_scratch_root', 'directory_scratch_job'], 'PreBendingTestAnalytical_Cantilever': {'inputs': ['length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary']}, 'RunBendingTestAnalytical': {'inputs': ['imposed_dplt_location', 'quadratic_moment', 'reaction_forces', 'moment', 'moment_grid', 'solver', 'boundary', 'length', 'width', 'height', 'imposed_dplt', 'relative_dplt_location', 'young_modulus', 'nu_p'], 'outputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces']}, 'PostBendingTestAnalytical_Cantilever': {'inputs': ['dplt', 'dplt_grid', 'moment', 'moment_grid', 'imposed_dplt_location', 'reaction_forces'], 'outputs': ['reaction_forces', 'maximum_dplt', 'dplt_grid', 'location_max_dplt', 'dplt', 'moment', 'moment_grid', 'dplt_at_force_location', 'error_code']}, 'subroutine_names': []}, default_inputs={&lt;InputGroupNames.NUMERICAL_VARS: 'numerical variables'&gt;: {}, &lt;InputGroupNames.BC_VARS: 'boundary conditions variables'&gt;: {'imposed_dplt': [-5.0], 'relative_dplt_location': [1.0]}, &lt;InputGroupNames.GEOMETRICAL_VARS: 'geometrical variables'&gt;: {'length': [600.0], 'width': [30.0], 'height': [40.0]}, &lt;InputGroupNames.MATERIAL_VARS: 'material variables'&gt;: {'young_modulus': [210000.0], 'nu_p': [0.3]}}, curves=[('dplt_grid', 'dplt'), ('moment_grid', 'moment')], verbose=False)))\nGROUP     inputs                                                                 RelativeErrorMetric AbsoluteErrorMetric         outputs       Reference\nVARIABLE  height imposed_dplt  length relative_dplt_location width young_modulus     reaction_forces     reaction_forces reaction_forces reaction_forces\nCOMPONENT      0            0       0                      0     0             0                   0                   0               0               0\n0           10.0          5.0  1000.0                    0.5  10.0      200000.0            0.333333                10.0            20.0            30.0\n1           15.0          5.0  1000.0                    0.5  10.0      200000.0            0.129032                10.0            67.5            77.5\n2           20.0          5.0  1000.0                    0.5  10.0      200000.0            0.058824                10.0           160.0           170.0\n3           15.0         10.0  1000.0                    0.5  10.0      200000.0            0.068966                10.0           135.0           145.0\n4           20.0         10.0  1000.0                    0.5  10.0      200000.0            0.030303                10.0           320.0           330.0\ndefaultdict(&lt;class 'dict'&gt;, {'RelativeErrorMetric': {'reaction_forces': 0.12409153366806684}, 'AbsoluteErrorMetric': {'reaction_forces': 10.0}})\n</code></pre> <p>Validation results can be visualized as:</p> <pre><code>figs = validation_tool.plot_results(\n    validation_tool.result,\n    \"RelativeErrorMetric\",\n    \"reaction_forces\",\n    save=False,\n    show=True,\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:44:08: Working directory is DeterministicValidationCase/3\n    INFO - 15:49:39: Working directory is DeterministicValidationCase/3\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/plotly/basedatatypes.py:2314: DeprecationWarning:\n\nThe append_trace method is deprecated and will be removed in a future version.\nPlease use the add_trace method with the row and col parameters.\n\n\n    INFO - 15:49:40: Working directory is DeterministicValidationCase/3\n    INFO - 15:49:41: Working directory is DeterministicValidationCase/3\n</code></pre> <p>a parallel coordinates plot:</p> <pre><code>figs[\"parallel_coordinates\"]\n</code></pre> <p>an error scatter matrix:</p> <pre><code>figs[\"error_scatter_matrix\"]\n</code></pre> <p>a predict-versus-true plot:</p> <pre><code>figs[\"predict_vs_true\"]\n</code></pre> <p>a bar plot of the integrated metrics:</p> <pre><code>figs[\"integrated_metric_bars\"]\n</code></pre> <p>Total running time of the script: ( 5 minutes  34.025 seconds)</p> <p> Download Python source code: plot_deterministic_validation_case_straightbeammodel.py</p> <p> Download Jupyter notebook: plot_deterministic_validation_case_straightbeammodel.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_read_reference_data/","title":"Read an experimental data as a GEMSEO Dataset","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/07_validation_case/plot_read_reference_data/#read-an-experimental-data-as-a-gemseo-dataset","title":"Read an experimental data as a GEMSEO Dataset","text":"<pre><code>from __future__ import annotations\n\nfrom pathlib import Path\n\nfrom pandas import read_csv\n\nfrom vimseo.api import activate_logger\nfrom vimseo.tools.validation.validation_point import NominalValuesOutputType\nfrom vimseo.tools.validation.validation_point import read_nominal_values\nfrom vimseo.utilities.datasets import SEP\n\nactivate_logger()\n</code></pre> <p>Loading experimental data is necessary for model validation or calibration. In general, the raw experimental data is not directly compatible with VIMSEO tools. In addition, at least two types of experimental data can be considered:   - a collection of validation points defined by its nominal values.   - a collection of validation points with repeats: the experiment     is repeated several times for the same nominal values. Each repeat captures     some variability in the material properties and some uncertainties in the     experimental set-up. Some input and output variables are measured for each repeat.</p> <p>The conversion from raw to VIMSEO-compatible data should consider the following requirements:   - conversion of data with repeats to nominal values, by considering the mean     value of the measured data for each validation point.   - presence of vectors among the measured or nominal data. For instance,     experiments on composites material generally define a stacking sequence     (layup), which is an array of ply angles. We assume that the vectors are specified     as strings, through an encoding procedure. Typically, <code>[0.0, 5.0, 8.9]</code> is     encoded as <code>'0.0_5.0_8.9'</code>. NumPy string representation of array can also be used.</p> <p>Let's consider a non-trivial experimental data containing several validation points, with several repeats for each, and a vector variable <code>layup</code>.</p> <pre><code>raw_file = Path(\"dummy_experimental_data.csv\")\nread_csv(raw_file, delimiter=SEP)\n</code></pre> Unnamed: 0 layup nominal_width nominal_length nominal_thickness nominal_diameter width thickness max_force nominal_radius 0 0 45_0_0_135_90_45_0_0_135_0_0_135_0_0_45_90_135... 32.1 180 3.74 6.35 32.09 3.72 75864.0 3.175 1 1 45_0_0_135_90_45_0_0_135_0_0_135_0_0_45_90_135... 32.1 180 3.74 6.35 31.89 3.72 73360.0 3.175 2 2 45_0_0_135_90_45_0_0_135_0_0_135_0_0_45_90_135... 32.1 180 3.74 6.35 32.02 3.75 72816.0 3.175 3 3 45_0_0_135_90_45_0_0_135_0_0_135_0_0_45_90_135... 32.1 180 3.74 6.35 31.94 3.76 75555.0 3.175 4 4 45_0_0_135_90_45_0_0_135_0_0_135_0_0_45_90_135... 32.1 180 3.74 6.35 32.05 3.72 75670.0 3.175 ... ... ... ... ... ... ... ... ... ... ... 61 61 45_135_0_0_45_0_135_0_0_45_135_135_45_0_0_135_... 32.0 180 4.01 6.35 32.00 4.05 85800.0 3.175 62 62 45_135_0_0_45_0_135_0_0_45_135_135_45_0_0_135_... 32.0 180 4.01 6.35 31.98 4.05 91648.0 3.175 63 63 45_135_0_0_45_0_135_0_0_45_135_135_45_0_0_135_... 32.0 180 4.01 6.35 31.99 4.03 84606.0 3.175 64 64 45_135_0_0_45_0_135_0_0_45_135_135_45_0_0_135_... 32.0 180 4.01 6.35 32.01 4.03 82570.0 3.175 65 65 45_135_0_0_45_0_135_0_0_45_135_135_45_0_0_135_... 32.0 180 4.01 6.35 31.99 4.03 84123.0 3.175 <p>66 rows \u00d7 10 columns</p> <p>The <code>read_nominal_values</code> function allows to load the raw data and returns nominal values. The <code>master_name</code> is the name of the variable that is used to identify the validation points: each validation point has the same <code>master_name</code> value, and this value is unique among the validation points. The <code>additional_names</code> are variables added to the nominal values. Their values is computed as the mean value of all the repeats for each validation point. In case the raw data names do not match the model variable names, a renaming can be done with <code>name_remapping</code>. Finally, most VIMSEO tools use a GEMSEO Dataset as input. GEMSEO Datasets are multi-index column Pandas DataFrame, allowing to properly handle data by groups and by component (useful to handle vectors). Here, the nominal values are returned as a GEMSEO Dataset. In this case, the following additional arguments are necessary:  - a mapping between scalar variable names and group names, to specify in which groups    the variables are placed,  - a mapping between vector names and group names. Vectors are thus identified,    and are decoded as numerical arrays in the Dataset. For example,    <code>'0.0_5.0_8.9'</code> is stored as a variable having three components.</p> <pre><code>ds = read_nominal_values(\n    master_name=\"layup\",\n    csv_path=raw_file,\n    additional_names=[\n        \"nominal_width\",\n        \"nominal_length\",\n        \"nominal_thickness\",\n        \"nominal_diameter\",\n        \"nominal_radius\",\n        \"max_force\",\n    ],\n    name_remapping={\n        \"nominal_width\": \"width\",\n        \"nominal_length\": \"length\",\n        \"nominal_thickness\": \"thickness\",\n        \"nominal_diameter\": \"diameter\",\n        \"nominal_radius\": \"radius\",\n    },\n    output_type=NominalValuesOutputType.GEMSEO_DATASET,\n    variable_names_to_group_names={\n        \"layup\": \"inputs\",\n        \"nominal_width\": \"inputs\",\n        \"nominal_length\": \"inputs\",\n        \"nominal_thickness\": \"inputs\",\n        \"nominal_diameter\": \"inputs\",\n        \"nominal_radius\": \"inputs\",\n        \"max_force\": \"outputs\",\n    },\n    vector_names_to_group_names={\"layup\": \"inputs\"},\n)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n\n/home/charles-thoulon/Documents/softs/vimseo/src/vimseo/utilities/datasets.py:372: FutureWarning:\n\nSeries.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`\n</code></pre> <p>The nominal values can be exported to a csv file:</p> <pre><code>ds.to_csv(f\"{raw_file.stem}_nominal_values.csv\", sep=SEP)\n</code></pre> <p>Total running time of the script: ( 0 minutes  0.028 seconds)</p> <p> Download Python source code: plot_read_reference_data.py</p> <p> Download Jupyter notebook: plot_read_reference_data.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/08_calibration/","title":"Calibrate model parameters","text":""},{"location":"generated/runnable_examples/08_calibration/#examples-of-model-calibration","title":"Examples of model calibration","text":"<p>Below is a gallery of examples about the calibration of a model.</p> <p> Usage of the model calibration based on curve outputs </p> <p> Usage of the model calibration for several load cases in the same step </p> <p> Usage of the model calibration based on scalar outputs </p> <p> Download all examples in Python source code: 08_calibration_python.zip</p> <p> Download all examples in Jupyter notebooks: 08_calibration_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/08_calibration/mg_execution_times/","title":"Computation times","text":"<p>00:34.404 total execution time for generated_runnable_examples_08_calibration files:</p> <p>+-------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_01_calibration_on_scalars (docs/runnable_examples/08_calibration/plot_01_calibration_on_scalars.py) | 00:27.306 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_03_coupled_load_cases (docs/runnable_examples/08_calibration/plot_03_coupled_load_cases.py)             | 00:03.833 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_02_calibration_on_curves (docs/runnable_examples/08_calibration/plot_02_calibration_on_curves.py)    | 00:03.265 | 0.0 MB | +-------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/08_calibration/plot_01_calibration_on_scalars/","title":"Usage of the model calibration based on scalar outputs","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/08_calibration/plot_01_calibration_on_scalars/#usage-of-the-model-calibration-based-on-scalar-outputs","title":"Usage of the model calibration based on scalar outputs","text":"<p>Calibrate a model based on scalar outputs.</p> <pre><code>from __future__ import annotations\n\nimport logging\nfrom copy import deepcopy\n\nfrom gemseo.algos.design_space import DesignSpace\nfrom gemseo.algos.opt.multi_start.settings.multi_start_settings import (\n    MultiStart_Settings,\n)\nfrom gemseo_calibration.calibrator import CalibrationMetricSettings\nfrom matplotlib.image import imread\nfrom matplotlib.pyplot import imshow\nfrom numpy import asarray\nfrom numpy import atleast_1d\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.io.space_io import SpaceToolFileIO\nfrom vimseo.storage_management.base_storage_manager import PersistencyPolicy\nfrom vimseo.tools.calibration.calibration_step import CalibrationStep\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepInputs\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepSettings\nfrom vimseo.tools.calibration.input_data import CALIBRATION_INPUT_DATA\nfrom vimseo.utilities.generate_validation_reference import (\n    generate_reference_from_parameter_space,\n)\n\nTARGET_YOUNG_MODULUS = 2.2e5\n</code></pre> <p>We first define the logger level:</p> <pre><code>activate_logger(level=logging.INFO)\n</code></pre> <p>We want to calibrate an analytical model of a beam with cantilever loading made of a Hook's law homogeneous elastic isotropic material. The objective is to find the best Young modulus such that the simulated and reference reaction force match.</p> <p>Then, we need to create reference data. They are generated from the model to calibrate, which is biased by imposing a modified Young modulus. A parameter space is first created:</p> <pre><code>space_tool_result = SpaceToolFileIO().read(\n    CALIBRATION_INPUT_DATA / \"experimental_space_beam_cantilever.json\"\n)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n</code></pre> <p>As well as the modified model:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\ntarget_model = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_persistency=PersistencyPolicy.DELETE_ALWAYS,\n        directory_scratch_persistency=PersistencyPolicy.DELETE_ALWAYS,\n    ),\n)\ntarget_model.default_input_data[\"young_modulus\"] = atleast_1d(TARGET_YOUNG_MODULUS)\ntarget_model.cache = None\n</code></pre> <p>Six samples are generated from this model, by sampling the parameter space:</p> <pre><code>reference_dataset_cantilever = generate_reference_from_parameter_space(\n    target_model, space_tool_result.parameter_space, n_samples=6, as_dataset=True\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:21: Working directory is CustomDOETool/12\n    INFO - 15:51:21:  \n    INFO - 15:51:21: *** Start DOEScenario execution ***\n    INFO - 15:51:21: DOEScenario\n    INFO - 15:51:21:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:51:21: \n    INFO - 15:51:21: Load case:\n    INFO - 15:51:21:    Load case Cantilever: A cantilever load case.\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Boundary condition variables:\n    INFO - 15:51:21:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Plot parameters:\n    INFO - 15:51:21:    {\n    INFO - 15:51:21:     \"curves\": []\n    INFO - 15:51:21: }\n    INFO - 15:51:21:    Load:\n    INFO - 15:51:21:    Load(direction='', sign='', type='')\n    INFO - 15:51:21: \n    INFO - 15:51:21: Default values:\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Default geometrical variables:\n    INFO - 15:51:21:    {\n    INFO - 15:51:21:     \"height\": [\n    INFO - 15:51:21:         40.0\n    INFO - 15:51:21:     ],\n    INFO - 15:51:21:     \"length\": [\n    INFO - 15:51:21:         600.0\n    INFO - 15:51:21:     ],\n    INFO - 15:51:21:     \"width\": [\n    INFO - 15:51:21:         30.0\n    INFO - 15:51:21:     ]\n    INFO - 15:51:21: }\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Default numerical variables:\n    INFO - 15:51:21:    {}\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Default boundary conditions variables:\n    INFO - 15:51:21:    {\n    INFO - 15:51:21:     \"imposed_dplt\": [\n    INFO - 15:51:21:         -5.0\n    INFO - 15:51:21:     ],\n    INFO - 15:51:21:     \"relative_dplt_location\": [\n    INFO - 15:51:21:         1.0\n    INFO - 15:51:21:     ]\n    INFO - 15:51:21: }\n    INFO - 15:51:21:    \n    INFO - 15:51:21:    Default material variables:\n    INFO - 15:51:21:    {\n    INFO - 15:51:21:     \"nu_p\": [\n    INFO - 15:51:21:         0.3\n    INFO - 15:51:21:     ],\n    INFO - 15:51:21:     \"young_modulus\": [\n    INFO - 15:51:21:         220000.0\n    INFO - 15:51:21:     ]\n    INFO - 15:51:21: }\n    INFO - 15:51:21:    MDO formulation: DisciplinaryOpt\n    INFO - 15:51:21: Optimization problem:\n    INFO - 15:51:21:    minimize reaction_forces(height, imposed_dplt, width)\n    INFO - 15:51:21:    with respect to height, imposed_dplt, width\n    INFO - 15:51:21:    over the design space:\n    INFO - 15:51:21:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:21:       | Name         | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:21:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:21:       | height       |     -inf    |  None |     inf     | float |\n    INFO - 15:51:21:       | imposed_dplt |     -inf    |  None |     inf     | float |\n    INFO - 15:51:21:       | width        |     -inf    |  None |     inf     | float |\n    INFO - 15:51:21:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:21: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:     17%|\u2588\u258b        | 1/6 [00:00&lt;00:00, 10.38 it/sec, obj=-2.54e+3]\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:     33%|\u2588\u2588\u2588\u258e      | 2/6 [00:00&lt;00:00, 11.22 it/sec, obj=-2.5e+3]\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:     50%|\u2588\u2588\u2588\u2588\u2588     | 3/6 [00:00&lt;00:00, 11.57 it/sec, obj=-2.48e+3]\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 4/6 [00:00&lt;00:00, 11.63 it/sec, obj=-2.37e+3]\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 5/6 [00:00&lt;00:00, 11.79 it/sec, obj=-2.45e+3]\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:21: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:21:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6/6 [00:00&lt;00:00, 11.87 it/sec, obj=-2.52e+3]\n    INFO - 15:51:21: Optimization result:\n    INFO - 15:51:21:    Optimizer info:\n    INFO - 15:51:21:       Status: None\n    INFO - 15:51:21:       Message: None\n    INFO - 15:51:21:       Number of calls to the objective function by the optimizer: 6\n    INFO - 15:51:21:    Solution:\n    INFO - 15:51:21:       Objective: -2543.1164443881867\n    INFO - 15:51:21:       Design space:\n    INFO - 15:51:21:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:21:          | Name         | Lower bound |      Value       | Upper bound | Type  |\n    INFO - 15:51:21:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:21:          | height       |     -inf    | 40.553466796875  |     inf     | float |\n    INFO - 15:51:21:          | imposed_dplt |     -inf    | -4.9390869140625 |     inf     | float |\n    INFO - 15:51:21:          | width        |     -inf    |  30.31982421875  |     inf     | float |\n    INFO - 15:51:21:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:21: *** End DOEScenario execution (time: 0:00:00.510282) ***\n</code></pre> <p>We now define the model used for the calibration:</p> <pre><code>model = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/calibration_scalars\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/calibration_scalars\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/calibration_scalars/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:22: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n</code></pre> <p>Then, a step of calibration is defined. Note that the model instance is passed to the <code>model_name</code> argument, since we defined the model with specific result management options. If we had used <code>model_name = {\"Cantilever\": \"BendingTestAnalytical\"}</code>, the model would have been instantiated with its default options.</p> <pre><code>output_name = \"reaction_forces\"\nstep = CalibrationStep(working_directory=\"scalars_basic\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Cantilever\": reference_dataset_cantilever,\n        },\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\"Cantilever\": deepcopy(model)},\n        control_outputs={\n            output_name: CalibrationMetricSettings(\n                measure=\"RelativeMSE\",\n            )\n        },\n        input_names=[\n            \"height\",\n            \"width\",\n            \"imposed_dplt\",\n        ],\n        parameter_names=[\"young_modulus\"],\n    ),\n)\nstep.save_results()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:23: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:23: Working directory is scalars_basic\n    INFO - 15:51:24: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:24: Calibration design space: Design space:\n    INFO - 15:51:24: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:24: | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:24: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:24: | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:24: +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:24: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:51:24:  \n    INFO - 15:51:24: *** Start CalibrationScenario execution ***\n    INFO - 15:51:24: CalibrationScenario\n    INFO - 15:51:24:    Disciplines: Calibrator\n    INFO - 15:51:24:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:24: Relative MSE: [[0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]]\n    INFO - 15:51:24: Optimization problem:\n    INFO - 15:51:24:    minimize RelativeMSE[Cantilever:reaction_forces](young_modulus)\n    INFO - 15:51:24:    with respect to young_modulus\n    INFO - 15:51:24:    over the design space:\n    INFO - 15:51:24:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:24:       | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:24:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:24:       | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:24:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:24: Solving optimization problem with algorithm NLOPT_COBYLA:\n WARNING - 15:51:24: Relative MSE: [[0.]\n WARNING - 15:51:24:  [0.]\n WARNING - 15:51:24:  [0.]\n WARNING - 15:51:24:  [0.]\n WARNING - 15:51:24:  [0.]\n WARNING - 15:51:24:  [0.]]\n WARNING - 15:51:24: Relative MSE: [[0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]\n WARNING - 15:51:24:  [0.00206612]]\n WARNING - 15:51:24: Relative MSE: [[0.00051653]\n WARNING - 15:51:24:  [0.00051653]\n WARNING - 15:51:24:  [0.00051653]\n WARNING - 15:51:24:  [0.00051653]\n WARNING - 15:51:24:  [0.00051653]\n WARNING - 15:51:24:  [0.00051653]]\n WARNING - 15:51:24: Relative MSE: [[0.00012913]\n WARNING - 15:51:24:  [0.00012913]\n WARNING - 15:51:24:  [0.00012913]\n WARNING - 15:51:24:  [0.00012913]\n WARNING - 15:51:24:  [0.00012913]\n WARNING - 15:51:24:  [0.00012913]]\n WARNING - 15:51:24: Relative MSE: [[3.22830579e-05]\n WARNING - 15:51:24:  [3.22830579e-05]\n WARNING - 15:51:24:  [3.22830579e-05]\n WARNING - 15:51:24:  [3.22830579e-05]\n WARNING - 15:51:24:  [3.22830579e-05]\n WARNING - 15:51:24:  [3.22830579e-05]]\n    INFO - 15:51:24:      1%|          | 6/1000 [00:00&lt;00:32, 30.47 it/sec, obj=3.23e-5]\n WARNING - 15:51:24: Relative MSE: [[8.07076446e-06]\n WARNING - 15:51:24:  [8.07076446e-06]\n WARNING - 15:51:24:  [8.07076446e-06]\n WARNING - 15:51:24:  [8.07076446e-06]\n WARNING - 15:51:24:  [8.07076446e-06]\n WARNING - 15:51:24:  [8.07076446e-06]]\n    INFO - 15:51:24:      1%|          | 7/1000 [00:00&lt;00:32, 30.09 it/sec, obj=8.07e-6]\n WARNING - 15:51:24: Relative MSE: [[2.01769112e-06]\n WARNING - 15:51:24:  [2.01769112e-06]\n WARNING - 15:51:24:  [2.01769112e-06]\n WARNING - 15:51:24:  [2.01769112e-06]\n WARNING - 15:51:24:  [2.01769112e-06]\n WARNING - 15:51:24:  [2.01769112e-06]]\n    INFO - 15:51:24:      1%|          | 8/1000 [00:00&lt;00:33, 29.84 it/sec, obj=2.02e-6]\n WARNING - 15:51:24: Relative MSE: [[5.04422779e-07]\n WARNING - 15:51:24:  [5.04422779e-07]\n WARNING - 15:51:24:  [5.04422779e-07]\n WARNING - 15:51:24:  [5.04422779e-07]\n WARNING - 15:51:24:  [5.04422779e-07]\n WARNING - 15:51:24:  [5.04422779e-07]]\n    INFO - 15:51:24:      1%|          | 9/1000 [00:00&lt;00:33, 29.61 it/sec, obj=5.04e-7]\n WARNING - 15:51:24: Relative MSE: [[1.26105695e-07]\n WARNING - 15:51:24:  [1.26105695e-07]\n WARNING - 15:51:24:  [1.26105695e-07]\n WARNING - 15:51:24:  [1.26105695e-07]\n WARNING - 15:51:24:  [1.26105695e-07]\n WARNING - 15:51:24:  [1.26105695e-07]]\n    INFO - 15:51:24:      1%|          | 10/1000 [00:00&lt;00:34, 29.01 it/sec, obj=1.26e-7]\n WARNING - 15:51:25: Relative MSE: [[3.15264237e-08]\n WARNING - 15:51:25:  [3.15264237e-08]\n WARNING - 15:51:25:  [3.15264237e-08]\n WARNING - 15:51:25:  [3.15264237e-08]\n WARNING - 15:51:25:  [3.15264237e-08]\n WARNING - 15:51:25:  [3.15264237e-08]]\n    INFO - 15:51:25:      1%|          | 11/1000 [00:00&lt;00:34, 28.42 it/sec, obj=3.15e-8]\n WARNING - 15:51:25: Relative MSE: [[7.88160592e-09]\n WARNING - 15:51:25:  [7.88160592e-09]\n WARNING - 15:51:25:  [7.88160592e-09]\n WARNING - 15:51:25:  [7.88160592e-09]\n WARNING - 15:51:25:  [7.88160592e-09]\n WARNING - 15:51:25:  [7.88160592e-09]]\n    INFO - 15:51:25:      1%|          | 12/1000 [00:00&lt;00:35, 27.97 it/sec, obj=7.88e-9]\n WARNING - 15:51:25: Relative MSE: [[1.97040148e-09]\n WARNING - 15:51:25:  [1.97040148e-09]\n WARNING - 15:51:25:  [1.97040148e-09]\n WARNING - 15:51:25:  [1.97040148e-09]\n WARNING - 15:51:25:  [1.97040148e-09]\n WARNING - 15:51:25:  [1.97040148e-09]]\n    INFO - 15:51:25:      1%|\u258f         | 13/1000 [00:00&lt;00:35, 27.56 it/sec, obj=1.97e-9]\n WARNING - 15:51:25: Relative MSE: [[4.9260037e-10]\n WARNING - 15:51:25:  [4.9260037e-10]\n WARNING - 15:51:25:  [4.9260037e-10]\n WARNING - 15:51:25:  [4.9260037e-10]\n WARNING - 15:51:25:  [4.9260037e-10]\n WARNING - 15:51:25:  [4.9260037e-10]]\n    INFO - 15:51:25:      1%|\u258f         | 14/1000 [00:00&lt;00:35, 27.39 it/sec, obj=4.93e-10]\n WARNING - 15:51:25: Relative MSE: [[1.23150093e-10]\n WARNING - 15:51:25:  [1.23150093e-10]\n WARNING - 15:51:25:  [1.23150093e-10]\n WARNING - 15:51:25:  [1.23150093e-10]\n WARNING - 15:51:25:  [1.23150093e-10]\n WARNING - 15:51:25:  [1.23150093e-10]]\n    INFO - 15:51:25:      2%|\u258f         | 15/1000 [00:00&lt;00:35, 27.41 it/sec, obj=1.23e-10]\n WARNING - 15:51:25: Relative MSE: [[3.07875231e-11]\n WARNING - 15:51:25:  [3.07875231e-11]\n WARNING - 15:51:25:  [3.07875231e-11]\n WARNING - 15:51:25:  [3.07875231e-11]\n WARNING - 15:51:25:  [3.07875231e-11]\n WARNING - 15:51:25:  [3.07875231e-11]]\n    INFO - 15:51:25:      2%|\u258f         | 16/1000 [00:00&lt;00:35, 27.34 it/sec, obj=3.08e-11]\n WARNING - 15:51:25: Relative MSE: [[7.69688078e-12]\n WARNING - 15:51:25:  [7.69688078e-12]\n WARNING - 15:51:25:  [7.69688078e-12]\n WARNING - 15:51:25:  [7.69688078e-12]\n WARNING - 15:51:25:  [7.69688078e-12]\n WARNING - 15:51:25:  [7.69688078e-12]]\n    INFO - 15:51:25:      2%|\u258f         | 17/1000 [00:00&lt;00:35, 27.34 it/sec, obj=7.7e-12]\n WARNING - 15:51:25: Relative MSE: [[1.92422020e-12]\n WARNING - 15:51:25:  [1.92422020e-12]\n WARNING - 15:51:25:  [1.92422019e-12]\n WARNING - 15:51:25:  [1.92422019e-12]\n WARNING - 15:51:25:  [1.92422020e-12]\n WARNING - 15:51:25:  [1.92422020e-12]]\n    INFO - 15:51:25:      2%|\u258f         | 18/1000 [00:00&lt;00:35, 27.32 it/sec, obj=1.92e-12]\n WARNING - 15:51:25: Relative MSE: [[4.81055049e-13]\n WARNING - 15:51:25:  [4.81055049e-13]\n WARNING - 15:51:25:  [4.81055049e-13]\n WARNING - 15:51:25:  [4.81055049e-13]\n WARNING - 15:51:25:  [4.81055049e-13]\n WARNING - 15:51:25:  [4.81055049e-13]]\n    INFO - 15:51:25:      2%|\u258f         | 19/1000 [00:00&lt;00:35, 27.27 it/sec, obj=4.81e-13]\n WARNING - 15:51:25: Relative MSE: [[1.20263762e-13]\n WARNING - 15:51:25:  [1.20263762e-13]\n WARNING - 15:51:25:  [1.20263762e-13]\n WARNING - 15:51:25:  [1.20263762e-13]\n WARNING - 15:51:25:  [1.20263762e-13]\n WARNING - 15:51:25:  [1.20263762e-13]]\n    INFO - 15:51:25:      2%|\u258f         | 20/1000 [00:00&lt;00:36, 27.14 it/sec, obj=1.2e-13]\n WARNING - 15:51:25: Relative MSE: [[3.00659405e-14]\n WARNING - 15:51:25:  [3.00659405e-14]\n WARNING - 15:51:25:  [3.00659406e-14]\n WARNING - 15:51:25:  [3.00659406e-14]\n WARNING - 15:51:25:  [3.00659406e-14]\n WARNING - 15:51:25:  [3.00659405e-14]]\n    INFO - 15:51:25:      2%|\u258f         | 21/1000 [00:00&lt;00:36, 27.08 it/sec, obj=3.01e-14]\n WARNING - 15:51:25: Relative MSE: [[7.51648515e-15]\n WARNING - 15:51:25:  [7.51648515e-15]\n WARNING - 15:51:25:  [7.51648509e-15]\n WARNING - 15:51:25:  [7.51648511e-15]\n WARNING - 15:51:25:  [7.51648514e-15]\n WARNING - 15:51:25:  [7.51648512e-15]]\n    INFO - 15:51:25:      2%|\u258f         | 22/1000 [00:00&lt;00:36, 27.02 it/sec, obj=7.52e-15]\n WARNING - 15:51:25: Relative MSE: [[1.87912128e-15]\n WARNING - 15:51:25:  [1.87912126e-15]\n WARNING - 15:51:25:  [1.87912131e-15]\n WARNING - 15:51:25:  [1.87912130e-15]\n WARNING - 15:51:25:  [1.87912130e-15]\n WARNING - 15:51:25:  [1.87912129e-15]]\n    INFO - 15:51:25:      2%|\u258f         | 23/1000 [00:00&lt;00:36, 27.05 it/sec, obj=1.88e-15]\n    INFO - 15:51:25: Optimization result:\n    INFO - 15:51:25:    Optimizer info:\n    INFO - 15:51:25:       Status: None\n    INFO - 15:51:25:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 15:51:25:       Number of calls to the objective function by the optimizer: 24\n    INFO - 15:51:25:    Solution:\n    INFO - 15:51:25:       Objective: 0.0\n    INFO - 15:51:25:       Design space:\n    INFO - 15:51:25:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:25:          | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:25:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:25:          | young_modulus |    190000   | 220000 |    230000   | float |\n    INFO - 15:51:25:          +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:25: Relative MSE: [[0.]\n WARNING - 15:51:25:  [0.]\n WARNING - 15:51:25:  [0.]\n WARNING - 15:51:25:  [0.]\n WARNING - 15:51:25:  [0.]\n WARNING - 15:51:25:  [0.]]\n    INFO - 15:51:25: *** End CalibrationScenario execution (time: 0:00:00.942275) ***\n    INFO - 15:51:25: Parameters before calibration: {'young_modulus': array([210000.])}\n    INFO - 15:51:25: Parameters after calibration: {'young_modulus': 220000.0}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n</code></pre> <p>We can show the prior parameters, i.e. the optimizer starting point:</p> <pre><code>step.result.prior_parameters\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': array([210000.])}\n</code></pre> <p>Note that if argument <code>starting_point</code> is not specified, the prior is the model default inputs:</p> <pre><code>model = deepcopy(model)\nmodel.default_input_data[\"young_modulus\"][0]\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:26: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n\n210000.0\n</code></pre> <p>We can now look at the posterior parameters, i.e. the best solution found by the optimizer. The expected value is <code>TARGET_YOUNG_MODULUS=2.2e5</code>:</p> <pre><code>step.result.posterior_parameters\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': 220000.0}\n</code></pre> <p>The convergence of the optimization can be visualized. It relies on GEMSEO standard plotting of optimization convergence:</p> <pre><code>imshow(asarray(imread(step.working_directory / \"opt_history_view_objective.png\")))\n</code></pre> <p></p> <p>Out:</p> <pre><code>&lt;matplotlib.image.AxesImage object at 0x7d51e8113190&gt;\n</code></pre> <pre><code>imshow(asarray(imread(step.working_directory / \"opt_history_view_variables.png\")))\n</code></pre> <p></p> <p>Out:</p> <pre><code>&lt;matplotlib.image.AxesImage object at 0x7d51c2659850&gt;\n</code></pre> <pre><code>imshow(asarray(imread(step.working_directory / \"opt_history_view_x_xstar.png\")))\n</code></pre> <p></p> <p>Out:</p> <pre><code>&lt;matplotlib.image.AxesImage object at 0x7d51c266edd0&gt;\n</code></pre> <p>The effect of the calibration can also be visualized with plots comparing the output data before and after calibration with the reference data:</p> <pre><code>imshow(\n    asarray(\n        imread(\n            step.working_directory\n            / \"simulated_versus_reference_reaction_forces_load_case_Cantilever.png\"\n        )\n    )\n)\n</code></pre> <p></p> <p>Out:</p> <pre><code>&lt;matplotlib.image.AxesImage object at 0x7d51c2569850&gt;\n</code></pre> <p>And specifically for scalar metrics, for each data sample (6 here), a bar plot shows the agreement between the simulated prior, posterior and reference output:</p> <pre><code>figures = step.plot_results(step.result, save=False, show=True)\nfigures[\"Cantilever\"][f\"simulated_versus_reference_{output_name}_bars\"]\n</code></pre> <p>The material before calibration:</p> <pre><code>print(model.material)\n</code></pre> <p>Out:</p> <pre><code>Ta6v\nMaterial relations:\n\n   Ta6v_elastic_iso\n   young_modulus\n      Default value: 210000.0\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": 190000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 210000.0,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 100.0,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 230000.0\n}\n\n   nu_p\n      Default value: 0.3\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": -1000000000000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 0.3,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 0.02,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 1000000000000.0\n}\n</code></pre> <p>can be updated from the posterior parameters:</p> <pre><code>calibrated_material = deepcopy(model.material)\ncalibrated_material.update_from_dict(step.result.posterior_parameters)\nprint(calibrated_material)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:387: UserWarning:\n\nPydantic serializer warnings:\n  Expected `Union[float, list[float]]` but got `float64` with value `104.76190476190477` - serialized value may not be as expected\n  Expected `Union[float, list[float]]` but got `float64` with value `220000.0` - serialized value may not be as expected\n\nTa6v\nMaterial relations:\n\n   Ta6v_elastic_iso\n   young_modulus\n      Default value: 220000.0\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": 190000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 220000.0,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 104.76190476190477,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 230000.0\n}\n\n   nu_p\n      Default value: 0.3\n      Distribution:\n         Normal\n         Parameters:\n         {\n          \"loc\": 0.0,\n          \"location\": 0.0,\n          \"lower\": -1000000000000.0,\n          \"lower_bound\": -1000000000000.0,\n          \"mean\": 0.0,\n          \"mode\": 0.0,\n          \"mu\": 0.3,\n          \"name\": \"Normal\",\n          \"rate\": 1.0,\n          \"scale\": 1.0,\n          \"shape\": 1.0,\n          \"sigma\": 0.02,\n          \"upper\": 1000000000000.0,\n          \"upper_bound\": 1000000000000.0\n}\n</code></pre> <p>A specific starting point can be prescribed:</p> <pre><code>step = CalibrationStep(working_directory=\"scalars_with_starting_point\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Cantilever\": reference_dataset_cantilever,\n        },\n        starting_point={\"young_modulus\": 1.95e5},\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\"Cantilever\": deepcopy(model)},\n        control_outputs={\n            output_name: CalibrationMetricSettings(\n                measure=\"RelativeMSE\",\n            )\n        },\n        input_names=[\n            \"height\",\n            \"width\",\n            \"imposed_dplt\",\n        ],\n        parameter_names=[\"young_modulus\"],\n    ),\n)\nstep.save_results()\nstep.result.prior_parameters\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:27: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:27: Working directory is scalars_with_starting_point\n    INFO - 15:51:28: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:28: Calibration design space: Design space:\n    INFO - 15:51:28: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28: | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:28: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28: | young_modulus |    190000   | 195000 |    230000   | float |\n    INFO - 15:51:28: +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:28: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:51:28:  \n    INFO - 15:51:28: *** Start CalibrationScenario execution ***\n    INFO - 15:51:28: CalibrationScenario\n    INFO - 15:51:28:    Disciplines: Calibrator\n    INFO - 15:51:28:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:28: Relative MSE: [[0.01291322]\n WARNING - 15:51:28:  [0.01291322]\n WARNING - 15:51:28:  [0.01291322]\n WARNING - 15:51:28:  [0.01291322]\n WARNING - 15:51:28:  [0.01291322]\n WARNING - 15:51:28:  [0.01291322]]\n    INFO - 15:51:28: Optimization problem:\n    INFO - 15:51:28:    minimize RelativeMSE[Cantilever:reaction_forces](young_modulus)\n    INFO - 15:51:28:    with respect to young_modulus\n    INFO - 15:51:28:    over the design space:\n    INFO - 15:51:28:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28:       | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:28:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28:       | young_modulus |    190000   | 195000 |    230000   | float |\n    INFO - 15:51:28:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28: Solving optimization problem with algorithm NLOPT_COBYLA:\n WARNING - 15:51:28: Relative MSE: [[0.00464876]\n WARNING - 15:51:28:  [0.00464876]\n WARNING - 15:51:28:  [0.00464876]\n WARNING - 15:51:28:  [0.00464876]\n WARNING - 15:51:28:  [0.00464876]\n WARNING - 15:51:28:  [0.00464876]]\n WARNING - 15:51:28: Relative MSE: [[0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]]\n WARNING - 15:51:28: Relative MSE: [[0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]\n WARNING - 15:51:28:  [0.00051653]]\n    INFO - 15:51:28: Optimization result:\n    INFO - 15:51:28:    Optimizer info:\n    INFO - 15:51:28:       Status: None\n    INFO - 15:51:28:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 15:51:28:       Number of calls to the objective function by the optimizer: 5\n    INFO - 15:51:28:    Solution:\n    INFO - 15:51:28:       Objective: 0.000516528925619833\n    INFO - 15:51:28:       Design space:\n    INFO - 15:51:28:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28:          | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:28:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28:          | young_modulus |    190000   | 225000 |    230000   | float |\n    INFO - 15:51:28:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:28: *** End CalibrationScenario execution (time: 0:00:00.168385) ***\n    INFO - 15:51:28: Parameters before calibration: {'young_modulus': array([195000.])}\n    INFO - 15:51:28: Parameters after calibration: {'young_modulus': 225000.0}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n\n\n{'young_modulus': array([195000.])}\n</code></pre> <p>And the posterior parameters is the expected value:</p> <pre><code>step.result.posterior_parameters\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': 225000.0}\n</code></pre> <p>The type of optimizer and the corresponding settings can be changed. Note that you need to select the settings corresponding to the optimizer (it is not ensured automatically). Here, for instance, a multi-start optimization running <code>NLOPT_COBYLA</code> optimizer is chosen:</p> <pre><code>step = CalibrationStep(working_directory=\"scalars_specified_optimizer\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Cantilever\": reference_dataset_cantilever,\n        },\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\"Cantilever\": deepcopy(model)},\n        control_outputs={\n            output_name: CalibrationMetricSettings(\n                measure=\"RelativeMSE\",\n            )\n        },\n        input_names=[\n            \"height\",\n            \"width\",\n            \"imposed_dplt\",\n        ],\n        parameter_names=[\"young_modulus\"],\n        optimizer_name=\"MultiStart\",\n        optimizer_settings=MultiStart_Settings(opt_algo_name=\"NLOPT_COBYLA\"),\n    ),\n)\nstep.save_results()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:30: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:30: Working directory is scalars_specified_optimizer\n    INFO - 15:51:30: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:30: Calibration design space: Design space:\n    INFO - 15:51:30: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:30: | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:30: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:30: | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:30: +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:30: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:51:30:  \n    INFO - 15:51:30: *** Start CalibrationScenario execution ***\n    INFO - 15:51:30: CalibrationScenario\n    INFO - 15:51:30:    Disciplines: Calibrator\n    INFO - 15:51:30:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:30: Relative MSE: [[0.00206612]\n WARNING - 15:51:30:  [0.00206612]\n WARNING - 15:51:30:  [0.00206612]\n WARNING - 15:51:30:  [0.00206612]\n WARNING - 15:51:30:  [0.00206612]\n WARNING - 15:51:30:  [0.00206612]]\n    INFO - 15:51:30: Optimization problem:\n    INFO - 15:51:30:    minimize RelativeMSE[Cantilever:reaction_forces](young_modulus)\n    INFO - 15:51:30:    with respect to young_modulus\n    INFO - 15:51:30:    over the design space:\n    INFO - 15:51:30:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:30:       | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:30:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:30:       | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:30:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:30: Solving optimization problem with algorithm MultiStart:\n WARNING - 15:51:31: Relative MSE: [[0.00210538]\n WARNING - 15:51:31:  [0.00210538]\n WARNING - 15:51:31:  [0.00210538]\n WARNING - 15:51:31:  [0.00210538]\n WARNING - 15:51:31:  [0.00210538]\n WARNING - 15:51:31:  [0.00210538]]\n WARNING - 15:51:31: Relative MSE: [[1.8479446e-07]\n WARNING - 15:51:31:  [1.8479446e-07]\n WARNING - 15:51:31:  [1.8479446e-07]\n WARNING - 15:51:31:  [1.8479446e-07]\n WARNING - 15:51:31:  [1.8479446e-07]\n WARNING - 15:51:31:  [1.8479446e-07]]\n WARNING - 15:51:31: Relative MSE: [[0.00202722]\n WARNING - 15:51:31:  [0.00202722]\n WARNING - 15:51:31:  [0.00202722]\n WARNING - 15:51:31:  [0.00202722]\n WARNING - 15:51:31:  [0.00202722]\n WARNING - 15:51:31:  [0.00202722]]\n WARNING - 15:51:31: Relative MSE: [[0.00049717]\n WARNING - 15:51:31:  [0.00049717]\n WARNING - 15:51:31:  [0.00049717]\n WARNING - 15:51:31:  [0.00049717]\n WARNING - 15:51:31:  [0.00049717]\n WARNING - 15:51:31:  [0.00049717]]\n WARNING - 15:51:31: Relative MSE: [[0.00013909]\n WARNING - 15:51:31:  [0.00013909]\n WARNING - 15:51:31:  [0.00013909]\n WARNING - 15:51:31:  [0.00013909]\n WARNING - 15:51:31:  [0.00013909]\n WARNING - 15:51:31:  [0.00013909]]\n    INFO - 15:51:31:      1%|          | 6/1000 [00:00&lt;00:30, 32.22 it/sec, obj=0.000139]\n WARNING - 15:51:31: Relative MSE: [[2.75828834e-05]\n WARNING - 15:51:31:  [2.75828834e-05]\n WARNING - 15:51:31:  [2.75828834e-05]\n WARNING - 15:51:31:  [2.75828834e-05]\n WARNING - 15:51:31:  [2.75828834e-05]\n WARNING - 15:51:31:  [2.75828834e-05]]\n    INFO - 15:51:31:      1%|          | 7/1000 [00:00&lt;00:31, 31.71 it/sec, obj=2.76e-5]\n WARNING - 15:51:31: Relative MSE: [[1.06980434e-05]\n WARNING - 15:51:31:  [1.06980434e-05]\n WARNING - 15:51:31:  [1.06980434e-05]\n WARNING - 15:51:31:  [1.06980434e-05]\n WARNING - 15:51:31:  [1.06980434e-05]\n WARNING - 15:51:31:  [1.06980434e-05]]\n    INFO - 15:51:31:      1%|          | 8/1000 [00:00&lt;00:32, 30.95 it/sec, obj=1.07e-5]\n WARNING - 15:51:31: Relative MSE: [[9.81243355e-07]\n WARNING - 15:51:31:  [9.81243355e-07]\n WARNING - 15:51:31:  [9.81243355e-07]\n WARNING - 15:51:31:  [9.81243355e-07]\n WARNING - 15:51:31:  [9.81243355e-07]\n WARNING - 15:51:31:  [9.81243355e-07]]\n    INFO - 15:51:31:      1%|          | 9/1000 [00:00&lt;00:32, 30.62 it/sec, obj=9.81e-7]\n WARNING - 15:51:31: Relative MSE: [[1.29983835e-06]\n WARNING - 15:51:31:  [1.29983835e-06]\n WARNING - 15:51:31:  [1.29983835e-06]\n WARNING - 15:51:31:  [1.29983835e-06]\n WARNING - 15:51:31:  [1.29983835e-06]\n WARNING - 15:51:31:  [1.29983835e-06]]\n    INFO - 15:51:31:      1%|          | 10/1000 [00:00&lt;00:32, 30.18 it/sec, obj=1.3e-6]\n WARNING - 15:51:31: Relative MSE: [[5.58959969e-09]\n WARNING - 15:51:31:  [5.58959969e-09]\n WARNING - 15:51:31:  [5.58959969e-09]\n WARNING - 15:51:31:  [5.58959969e-09]\n WARNING - 15:51:31:  [5.58959969e-09]\n WARNING - 15:51:31:  [5.58959969e-09]]\n    INFO - 15:51:31:      1%|          | 11/1000 [00:00&lt;00:33, 29.93 it/sec, obj=5.59e-9]\n WARNING - 15:51:31: Relative MSE: [[7.85961286e-08]\n WARNING - 15:51:31:  [7.85961286e-08]\n WARNING - 15:51:31:  [7.85961286e-08]\n WARNING - 15:51:31:  [7.85961286e-08]\n WARNING - 15:51:31:  [7.85961286e-08]\n WARNING - 15:51:31:  [7.85961286e-08]]\n    INFO - 15:51:31:      1%|          | 12/1000 [00:00&lt;00:33, 29.70 it/sec, obj=7.86e-8]\n WARNING - 15:51:31: Relative MSE: [[1.05664405e-08]\n WARNING - 15:51:31:  [1.05664405e-08]\n WARNING - 15:51:31:  [1.05664405e-08]\n WARNING - 15:51:31:  [1.05664405e-08]\n WARNING - 15:51:31:  [1.05664405e-08]\n WARNING - 15:51:31:  [1.05664405e-08]]\n    INFO - 15:51:31:      1%|\u258f         | 13/1000 [00:00&lt;00:33, 29.64 it/sec, obj=1.06e-8]\n WARNING - 15:51:31: Relative MSE: [[2.67459971e-08]\n WARNING - 15:51:31:  [2.67459971e-08]\n WARNING - 15:51:31:  [2.67459971e-08]\n WARNING - 15:51:31:  [2.67459971e-08]\n WARNING - 15:51:31:  [2.67459971e-08]\n WARNING - 15:51:31:  [2.67459971e-08]]\n    INFO - 15:51:31:      1%|\u258f         | 14/1000 [00:00&lt;00:33, 29.33 it/sec, obj=2.67e-8]\n WARNING - 15:51:31: Relative MSE: [[9.22605446e-10]\n WARNING - 15:51:31:  [9.22605446e-10]\n WARNING - 15:51:31:  [9.22605446e-10]\n WARNING - 15:51:31:  [9.22605446e-10]\n WARNING - 15:51:31:  [9.22605446e-10]\n WARNING - 15:51:31:  [9.22605446e-10]]\n    INFO - 15:51:31:      2%|\u258f         | 15/1000 [00:00&lt;00:33, 29.14 it/sec, obj=9.23e-10]\n WARNING - 15:51:31: Relative MSE: [[1.9641416e-10]\n WARNING - 15:51:31:  [1.9641416e-10]\n WARNING - 15:51:31:  [1.9641416e-10]\n WARNING - 15:51:31:  [1.9641416e-10]\n WARNING - 15:51:31:  [1.9641416e-10]\n WARNING - 15:51:31:  [1.9641416e-10]]\n    INFO - 15:51:31:      2%|\u258f         | 16/1000 [00:00&lt;00:33, 29.02 it/sec, obj=1.96e-10]\n WARNING - 15:51:31: Relative MSE: [[3.41102583e-09]\n WARNING - 15:51:31:  [3.41102583e-09]\n WARNING - 15:51:31:  [3.41102583e-09]\n WARNING - 15:51:31:  [3.41102583e-09]\n WARNING - 15:51:31:  [3.41102583e-09]\n WARNING - 15:51:31:  [3.41102583e-09]]\n    INFO - 15:51:31:      2%|\u258f         | 17/1000 [00:00&lt;00:34, 28.89 it/sec, obj=3.41e-9]\n WARNING - 15:51:31: Relative MSE: [[1.31111963e-09]\n WARNING - 15:51:31:  [1.31111963e-09]\n WARNING - 15:51:31:  [1.31111963e-09]\n WARNING - 15:51:31:  [1.31111963e-09]\n WARNING - 15:51:31:  [1.31111963e-09]\n WARNING - 15:51:31:  [1.31111963e-09]]\n    INFO - 15:51:31:      2%|\u258f         | 18/1000 [00:00&lt;00:34, 28.79 it/sec, obj=1.31e-9]\n WARNING - 15:51:31: Relative MSE: [[8.51170408e-12]\n WARNING - 15:51:31:  [8.51170408e-12]\n WARNING - 15:51:31:  [8.51170408e-12]\n WARNING - 15:51:31:  [8.51170408e-12]\n WARNING - 15:51:31:  [8.51170408e-12]\n WARNING - 15:51:31:  [8.51170408e-12]]\n    INFO - 15:51:31:      2%|\u258f         | 19/1000 [00:00&lt;00:34, 28.77 it/sec, obj=8.51e-12]\n WARNING - 15:51:31: Relative MSE: [[6.69094331e-11]\n WARNING - 15:51:31:  [6.69094331e-11]\n WARNING - 15:51:31:  [6.69094331e-11]\n WARNING - 15:51:31:  [6.69094331e-11]\n WARNING - 15:51:31:  [6.69094331e-11]\n WARNING - 15:51:31:  [6.69094331e-11]]\n    INFO - 15:51:31:      2%|\u258f         | 20/1000 [00:00&lt;00:34, 28.62 it/sec, obj=6.69e-11]\n WARNING - 15:51:31: Relative MSE: [[6.92304545e-12]\n WARNING - 15:51:31:  [6.92304545e-12]\n WARNING - 15:51:31:  [6.92304545e-12]\n WARNING - 15:51:31:  [6.92304545e-12]\n WARNING - 15:51:31:  [6.92304545e-12]\n WARNING - 15:51:31:  [6.92304545e-12]]\n    INFO - 15:51:31:      2%|\u258f         | 21/1000 [00:00&lt;00:34, 28.53 it/sec, obj=6.92e-12]\n WARNING - 15:51:31: Relative MSE: [[2.92193585e-11]\n WARNING - 15:51:31:  [2.92193585e-11]\n WARNING - 15:51:31:  [2.92193585e-11]\n WARNING - 15:51:31:  [2.92193585e-11]\n WARNING - 15:51:31:  [2.92193585e-11]\n WARNING - 15:51:31:  [2.92193585e-11]]\n    INFO - 15:51:31:      2%|\u258f         | 22/1000 [00:00&lt;00:34, 28.43 it/sec, obj=2.92e-11]\n WARNING - 15:51:31: Relative MSE: [[1.54754952e-12]\n WARNING - 15:51:31:  [1.54754952e-12]\n WARNING - 15:51:31:  [1.54754952e-12]\n WARNING - 15:51:31:  [1.54754952e-12]\n WARNING - 15:51:31:  [1.54754952e-12]\n WARNING - 15:51:31:  [1.54754952e-12]]\n    INFO - 15:51:31:      2%|\u258f         | 23/1000 [00:00&lt;00:34, 28.40 it/sec, obj=1.55e-12]\n WARNING - 15:51:31: Relative MSE: [[2.04939858e-14]\n WARNING - 15:51:31:  [2.04939858e-14]\n WARNING - 15:51:31:  [2.04939858e-14]\n WARNING - 15:51:31:  [2.04939857e-14]\n WARNING - 15:51:31:  [2.04939858e-14]\n WARNING - 15:51:31:  [2.04939858e-14]]\n    INFO - 15:51:31:      2%|\u258f         | 24/1000 [00:00&lt;00:34, 28.34 it/sec, obj=2.05e-14]\n WARNING - 15:51:31: Relative MSE: [[2.34187884e-12]\n WARNING - 15:51:31:  [2.34187884e-12]\n WARNING - 15:51:31:  [2.34187884e-12]\n WARNING - 15:51:31:  [2.34187884e-12]\n WARNING - 15:51:31:  [2.34187884e-12]\n WARNING - 15:51:31:  [2.34187884e-12]]\n    INFO - 15:51:31:      2%|\u258e         | 25/1000 [00:00&lt;00:34, 28.31 it/sec, obj=2.34e-12]\n WARNING - 15:51:31: Relative MSE: [[3.02966705e-13]\n WARNING - 15:51:31:  [3.02966706e-13]\n WARNING - 15:51:31:  [3.02966706e-13]\n WARNING - 15:51:31:  [3.02966706e-13]\n WARNING - 15:51:31:  [3.02966706e-13]\n WARNING - 15:51:31:  [3.02966706e-13]]\n    INFO - 15:51:31:      3%|\u258e         | 26/1000 [00:00&lt;00:34, 28.25 it/sec, obj=3.03e-13]\n WARNING - 15:51:31: Relative MSE: [[2.40048913e-13]\n WARNING - 15:51:31:  [2.40048913e-13]\n WARNING - 15:51:31:  [2.40048912e-13]\n WARNING - 15:51:31:  [2.40048912e-13]\n WARNING - 15:51:31:  [2.40048912e-13]\n WARNING - 15:51:31:  [2.40048912e-13]]\n    INFO - 15:51:31:      3%|\u258e         | 27/1000 [00:00&lt;00:34, 28.19 it/sec, obj=2.4e-13]\n WARNING - 15:51:31: Relative MSE: [[9.14344120e-16]\n WARNING - 15:51:31:  [9.14344114e-16]\n WARNING - 15:51:31:  [9.14344137e-16]\n WARNING - 15:51:31:  [9.14344127e-16]\n WARNING - 15:51:31:  [9.14344129e-16]\n WARNING - 15:51:31:  [9.14344130e-16]]\n    INFO - 15:51:31:      3%|\u258e         | 28/1000 [00:00&lt;00:34, 28.06 it/sec, obj=9.14e-16]\n WARNING - 15:51:32: Relative MSE: [[4.14665835e-14]\n WARNING - 15:51:32:  [4.14665835e-14]\n WARNING - 15:51:32:  [4.14665837e-14]\n WARNING - 15:51:32:  [4.14665837e-14]\n WARNING - 15:51:32:  [4.14665836e-14]\n WARNING - 15:51:32:  [4.14665836e-14]]\n    INFO - 15:51:32:      3%|\u258e         | 29/1000 [00:01&lt;00:34, 27.99 it/sec, obj=4.15e-14]\n WARNING - 15:51:32: Relative MSE: [[1.36739787e-14]\n WARNING - 15:51:32:  [1.36739787e-14]\n WARNING - 15:51:32:  [1.36739787e-14]\n WARNING - 15:51:32:  [1.36739787e-14]\n WARNING - 15:51:32:  [1.36739787e-14]\n WARNING - 15:51:32:  [1.36739787e-14]]\n    INFO - 15:51:32:      3%|\u258e         | 30/1000 [00:01&lt;00:34, 27.98 it/sec, obj=1.37e-14]\n WARNING - 15:51:32: Relative MSE: [[1.71890692e-16]\n WARNING - 15:51:32:  [1.71890690e-16]\n WARNING - 15:51:32:  [1.71890678e-16]\n WARNING - 15:51:32:  [1.71890686e-16]\n WARNING - 15:51:32:  [1.71890685e-16]\n WARNING - 15:51:32:  [1.71890686e-16]]\n    INFO - 15:51:32:      3%|\u258e         | 31/1000 [00:01&lt;00:34, 27.92 it/sec, obj=1.72e-16]\n WARNING - 15:51:32: Relative MSE: [[3.18767982e-15]\n WARNING - 15:51:32:  [3.18767983e-15]\n WARNING - 15:51:32:  [3.18767981e-15]\n WARNING - 15:51:32:  [3.18767981e-15]\n WARNING - 15:51:32:  [3.18767979e-15]\n WARNING - 15:51:32:  [3.18767982e-15]]\n    INFO - 15:51:32:      3%|\u258e         | 32/1000 [00:01&lt;00:34, 27.85 it/sec, obj=3.19e-15]\n WARNING - 15:51:32: Relative MSE: [[1.21000493e-15]\n WARNING - 15:51:32:  [1.21000494e-15]\n WARNING - 15:51:32:  [1.21000492e-15]\n WARNING - 15:51:32:  [1.21000492e-15]\n WARNING - 15:51:32:  [1.21000493e-15]\n WARNING - 15:51:32:  [1.21000493e-15]]\n    INFO - 15:51:32:      3%|\u258e         | 33/1000 [00:01&lt;00:34, 27.83 it/sec, obj=1.21e-15]\n WARNING - 15:51:32: Relative MSE: [[5.16880615e-18]\n WARNING - 15:51:32:  [5.16880576e-18]\n WARNING - 15:51:32:  [5.16880505e-18]\n WARNING - 15:51:32:  [5.16880518e-18]\n WARNING - 15:51:32:  [5.16880524e-18]\n WARNING - 15:51:32:  [5.16880568e-18]]\n    INFO - 15:51:32:      3%|\u258e         | 34/1000 [00:01&lt;00:34, 27.83 it/sec, obj=5.17e-18]\n WARNING - 15:51:32: Relative MSE: [[7.33370838e-17]\n WARNING - 15:51:32:  [7.33370821e-17]\n WARNING - 15:51:32:  [7.33370891e-17]\n WARNING - 15:51:32:  [7.33370902e-17]\n WARNING - 15:51:32:  [7.33370859e-17]\n WARNING - 15:51:32:  [7.33370859e-17]]\n    INFO - 15:51:32:      4%|\u258e         | 35/1000 [00:01&lt;00:34, 27.85 it/sec, obj=7.33e-17]\n WARNING - 15:51:32: Relative MSE: [[9.89167446e-18]\n WARNING - 15:51:32:  [9.89167443e-18]\n WARNING - 15:51:32:  [9.89167621e-18]\n WARNING - 15:51:32:  [9.89167510e-18]\n WARNING - 15:51:32:  [9.89167665e-18]\n WARNING - 15:51:32:  [9.89167462e-18]]\n    INFO - 15:51:32:      4%|\u258e         | 36/1000 [00:01&lt;00:34, 27.83 it/sec, obj=9.89e-18]\n WARNING - 15:51:32: Relative MSE: [[2.48283240e-17]\n WARNING - 15:51:32:  [2.48283235e-17]\n WARNING - 15:51:32:  [2.48283217e-17]\n WARNING - 15:51:32:  [2.48283222e-17]\n WARNING - 15:51:32:  [2.48283217e-17]\n WARNING - 15:51:32:  [2.48283234e-17]]\n    INFO - 15:51:32:      4%|\u258e         | 37/1000 [00:01&lt;00:34, 27.77 it/sec, obj=2.48e-17]\n WARNING - 15:51:32: Relative MSE: [[8.44285257e-19]\n WARNING - 15:51:32:  [8.44285061e-19]\n WARNING - 15:51:32:  [8.44284467e-19]\n WARNING - 15:51:32:  [8.44284495e-19]\n WARNING - 15:51:32:  [8.44284574e-19]\n WARNING - 15:51:32:  [8.44284690e-19]]\n    INFO - 15:51:32:      4%|\u258d         | 38/1000 [00:01&lt;00:34, 27.72 it/sec, obj=8.44e-19]\n WARNING - 15:51:32: Relative MSE: [[1.89922761e-19]\n WARNING - 15:51:32:  [1.89922719e-19]\n WARNING - 15:51:32:  [1.89922989e-19]\n WARNING - 15:51:32:  [1.89922820e-19]\n WARNING - 15:51:32:  [1.89922761e-19]\n WARNING - 15:51:32:  [1.89922740e-19]]\n    INFO - 15:51:32:      4%|\u258d         | 39/1000 [00:01&lt;00:34, 27.73 it/sec, obj=1.9e-19]\n WARNING - 15:51:32: Relative MSE: [[3.20571901e-18]\n WARNING - 15:51:32:  [3.20571891e-18]\n WARNING - 15:51:32:  [3.20571996e-18]\n WARNING - 15:51:32:  [3.20571997e-18]\n WARNING - 15:51:32:  [3.20571962e-18]\n WARNING - 15:51:32:  [3.20571965e-18]]\n    INFO - 15:51:32:      4%|\u258d         | 40/1000 [00:01&lt;00:34, 27.75 it/sec, obj=3.21e-18]\n WARNING - 15:51:32: Relative MSE: [[1.23905112e-18]\n WARNING - 15:51:32:  [1.23905104e-18]\n WARNING - 15:51:32:  [1.23905151e-18]\n WARNING - 15:51:32:  [1.23905129e-18]\n WARNING - 15:51:32:  [1.23905152e-18]\n WARNING - 15:51:32:  [1.23905150e-18]]\n    INFO - 15:51:32:      4%|\u258d         | 41/1000 [00:01&lt;00:34, 27.71 it/sec, obj=1.24e-18]\n WARNING - 15:51:32: Relative MSE: [[9.43586570e-21]\n WARNING - 15:51:32:  [9.43588994e-21]\n WARNING - 15:51:32:  [9.43592425e-21]\n WARNING - 15:51:32:  [9.43591308e-21]\n WARNING - 15:51:32:  [9.43590105e-21]\n WARNING - 15:51:32:  [9.43591193e-21]]\n    INFO - 15:51:32:      4%|\u258d         | 42/1000 [00:01&lt;00:34, 27.69 it/sec, obj=9.44e-21]\n WARNING - 15:51:32: Relative MSE: [[5.83340064e-20]\n WARNING - 15:51:32:  [5.83340364e-20]\n WARNING - 15:51:32:  [5.83339280e-20]\n WARNING - 15:51:32:  [5.83338898e-20]\n WARNING - 15:51:32:  [5.83339167e-20]\n WARNING - 15:51:32:  [5.83339378e-20]]\n    INFO - 15:51:32:      4%|\u258d         | 43/1000 [00:01&lt;00:34, 27.67 it/sec, obj=5.83e-20]\n WARNING - 15:51:32: Relative MSE: [[5.21180017e-21]\n WARNING - 15:51:32:  [5.21180833e-21]\n WARNING - 15:51:32:  [5.21176599e-21]\n WARNING - 15:51:32:  [5.21177708e-21]\n WARNING - 15:51:32:  [5.21177266e-21]\n WARNING - 15:51:32:  [5.21179857e-21]]\n    INFO - 15:51:32:      4%|\u258d         | 44/1000 [00:01&lt;00:34, 27.65 it/sec, obj=5.21e-21]\n WARNING - 15:51:32: Relative MSE: [[2.46046387e-20]\n WARNING - 15:51:32:  [2.46045722e-20]\n WARNING - 15:51:32:  [2.46045192e-20]\n WARNING - 15:51:32:  [2.46046080e-20]\n WARNING - 15:51:32:  [2.46045516e-20]\n WARNING - 15:51:32:  [2.46045866e-20]]\n    INFO - 15:51:32:      4%|\u258d         | 45/1000 [00:01&lt;00:34, 27.66 it/sec, obj=2.46e-20]\n WARNING - 15:51:32: Relative MSE: [[8.91627780e-22]\n WARNING - 15:51:32:  [8.91623156e-22]\n WARNING - 15:51:32:  [8.91607413e-22]\n WARNING - 15:51:32:  [8.91611837e-22]\n WARNING - 15:51:32:  [8.91608522e-22]\n WARNING - 15:51:32:  [8.91621101e-22]]\n    INFO - 15:51:32:      5%|\u258d         | 46/1000 [00:01&lt;00:34, 27.68 it/sec, obj=8.92e-22]\n WARNING - 15:51:32: Relative MSE: [[1.55568331e-22]\n WARNING - 15:51:32:  [1.55569145e-22]\n WARNING - 15:51:32:  [1.55574982e-22]\n WARNING - 15:51:32:  [1.55577994e-22]\n WARNING - 15:51:32:  [1.55575207e-22]\n WARNING - 15:51:32:  [1.55573668e-22]]\n    INFO - 15:51:32:      5%|\u258d         | 47/1000 [00:01&lt;00:34, 27.66 it/sec, obj=1.56e-22]\n WARNING - 15:51:32: Relative MSE: [[3.00366724e-21]\n WARNING - 15:51:32:  [3.00364630e-21]\n WARNING - 15:51:32:  [3.00368883e-21]\n WARNING - 15:51:32:  [3.00368223e-21]\n WARNING - 15:51:32:  [3.00367272e-21]\n WARNING - 15:51:32:  [3.00366253e-21]]\n    INFO - 15:51:32:      5%|\u258d         | 48/1000 [00:01&lt;00:34, 27.62 it/sec, obj=3e-21]\n WARNING - 15:51:32: Relative MSE: [[1.13159665e-21]\n WARNING - 15:51:32:  [1.13159744e-21]\n WARNING - 15:51:32:  [1.13161225e-21]\n WARNING - 15:51:32:  [1.13160782e-21]\n WARNING - 15:51:32:  [1.13160761e-21]\n WARNING - 15:51:32:  [1.13160241e-21]]\n    INFO - 15:51:32:      5%|\u258d         | 49/1000 [00:01&lt;00:34, 27.62 it/sec, obj=1.13e-21]\n WARNING - 15:51:32: Relative MSE: [[3.57035400e-24]\n WARNING - 15:51:32:  [3.56983535e-24]\n WARNING - 15:51:32:  [3.57108947e-24]\n WARNING - 15:51:32:  [3.57080910e-24]\n WARNING - 15:51:32:  [3.57092056e-24]\n WARNING - 15:51:32:  [3.57106733e-24]]\n    INFO - 15:51:32:      5%|\u258c         | 50/1000 [00:01&lt;00:34, 27.57 it/sec, obj=3.57e-24]\n WARNING - 15:51:32: Relative MSE: [[7.55822658e-23]\n WARNING - 15:51:32:  [7.55813352e-23]\n WARNING - 15:51:32:  [7.55738320e-23]\n WARNING - 15:51:32:  [7.55750229e-23]\n WARNING - 15:51:32:  [7.55787362e-23]\n WARNING - 15:51:32:  [7.55763129e-23]]\n    INFO - 15:51:32:      5%|\u258c         | 51/1000 [00:01&lt;00:34, 27.54 it/sec, obj=7.56e-23]\n WARNING - 15:51:32: Relative MSE: [[1.15745162e-23]\n WARNING - 15:51:32:  [1.15729455e-23]\n WARNING - 15:51:32:  [1.15728287e-23]\n WARNING - 15:51:32:  [1.15733430e-23]\n WARNING - 15:51:32:  [1.15733156e-23]\n WARNING - 15:51:32:  [1.15739350e-23]]\n    INFO - 15:51:32:      5%|\u258c         | 52/1000 [00:01&lt;00:34, 27.55 it/sec, obj=1.16e-23]\n WARNING - 15:51:32: Relative MSE: [[2.05688072e-23]\n WARNING - 15:51:32:  [2.05691775e-23]\n WARNING - 15:51:32:  [2.05728071e-23]\n WARNING - 15:51:32:  [2.05713461e-23]\n WARNING - 15:51:32:  [2.05708576e-23]\n WARNING - 15:51:32:  [2.05709819e-23]]\n    INFO - 15:51:32:      5%|\u258c         | 53/1000 [00:01&lt;00:34, 27.55 it/sec, obj=2.06e-23]\n WARNING - 15:51:32: Relative MSE: [[3.20906275e-25]\n WARNING - 15:51:32:  [3.21161527e-25]\n WARNING - 15:51:32:  [3.21398053e-25]\n WARNING - 15:51:32:  [3.21263907e-25]\n WARNING - 15:51:32:  [3.21235670e-25]\n WARNING - 15:51:32:  [3.21191837e-25]]\n    INFO - 15:51:32:      5%|\u258c         | 54/1000 [00:01&lt;00:34, 27.52 it/sec, obj=3.21e-25]\n WARNING - 15:51:32: Relative MSE: [[5.71851459e-25]\n WARNING - 15:51:32:  [5.72053399e-25]\n WARNING - 15:51:32:  [5.71651985e-25]\n WARNING - 15:51:32:  [5.71619951e-25]\n WARNING - 15:51:32:  [5.71739881e-25]\n WARNING - 15:51:32:  [5.71915584e-25]]\n    INFO - 15:51:32:      6%|\u258c         | 55/1000 [00:01&lt;00:34, 27.52 it/sec, obj=5.72e-25]\n WARNING - 15:51:33: Relative MSE: [[8.98172187e-27]\n WARNING - 15:51:33:  [8.97274563e-27]\n WARNING - 15:51:33:  [8.94508435e-27]\n WARNING - 15:51:33:  [8.93610186e-27]\n WARNING - 15:51:33:  [8.98170660e-27]\n WARNING - 15:51:33:  [8.94469773e-27]]\n    INFO - 15:51:33:      6%|\u258c         | 56/1000 [00:02&lt;00:34, 27.49 it/sec, obj=8.96e-27]\n WARNING - 15:51:33: Relative MSE: [[1.80965900e-25]\n WARNING - 15:51:33:  [1.81001271e-25]\n WARNING - 15:51:33:  [1.80747364e-25]\n WARNING - 15:51:33:  [1.80956063e-25]\n WARNING - 15:51:33:  [1.81010551e-25]\n WARNING - 15:51:33:  [1.80900196e-25]]\n    INFO - 15:51:33:      6%|\u258c         | 57/1000 [00:02&lt;00:34, 27.49 it/sec, obj=1.81e-25]\n WARNING - 15:51:33: Relative MSE: [[4.96364036e-27]\n WARNING - 15:51:33:  [4.95075961e-27]\n WARNING - 15:51:33:  [5.02509864e-27]\n WARNING - 15:51:33:  [4.99935000e-27]\n WARNING - 15:51:33:  [4.99306265e-27]\n WARNING - 15:51:33:  [4.98676837e-27]]\n    INFO - 15:51:33:      6%|\u258c         | 58/1000 [00:02&lt;00:34, 27.48 it/sec, obj=4.99e-27]\n WARNING - 15:51:33: Relative MSE: [[2.34838613e-26]\n WARNING - 15:51:33:  [2.34911922e-26]\n WARNING - 15:51:33:  [2.35712458e-26]\n WARNING - 15:51:33:  [2.35084333e-26]\n WARNING - 15:51:33:  [2.35249161e-26]\n WARNING - 15:51:33:  [2.35020736e-26]]\n    INFO - 15:51:33:      6%|\u258c         | 59/1000 [00:02&lt;00:34, 27.45 it/sec, obj=2.35e-26]\n WARNING - 15:51:33: Relative MSE: [[8.49538513e-28]\n WARNING - 15:51:33:  [8.46232839e-28]\n WARNING - 15:51:33:  [8.74222005e-28]\n WARNING - 15:51:33:  [8.64173146e-28]\n WARNING - 15:51:33:  [8.69583544e-28]\n WARNING - 15:51:33:  [8.62228296e-28]]\n    INFO - 15:51:33:      6%|\u258c         | 60/1000 [00:02&lt;00:34, 27.46 it/sec, obj=8.61e-28]\n WARNING - 15:51:33: Relative MSE: [[1.47851484e-28]\n WARNING - 15:51:33:  [1.43991807e-28]\n WARNING - 15:51:33:  [1.38143333e-28]\n WARNING - 15:51:33:  [1.41906172e-28]\n WARNING - 15:51:33:  [1.40888976e-28]\n WARNING - 15:51:33:  [1.45678905e-28]]\n    INFO - 15:51:33:      6%|\u258c         | 61/1000 [00:02&lt;00:34, 27.43 it/sec, obj=1.43e-28]\n WARNING - 15:51:33: Relative MSE: [[2.87773218e-27]\n WARNING - 15:51:33:  [2.85722585e-27]\n WARNING - 15:51:33:  [2.83639021e-27]\n WARNING - 15:51:33:  [2.83254908e-27]\n WARNING - 15:51:33:  [2.85300176e-27]\n WARNING - 15:51:33:  [2.86259535e-27]]\n    INFO - 15:51:33:      6%|\u258c         | 62/1000 [00:02&lt;00:34, 27.44 it/sec, obj=2.85e-27]\n WARNING - 15:51:33: Relative MSE: [[1.07080414e-27]\n WARNING - 15:51:33:  [1.07101344e-27]\n WARNING - 15:51:33:  [1.05661437e-27]\n WARNING - 15:51:33:  [1.05436581e-27]\n WARNING - 15:51:33:  [1.06547288e-27]\n WARNING - 15:51:33:  [1.06317367e-27]]\n    INFO - 15:51:33:      6%|\u258b         | 63/1000 [00:02&lt;00:34, 27.44 it/sec, obj=1.06e-27]\n WARNING - 15:51:33: Relative MSE: [[3.19748020e-30]\n WARNING - 15:51:33:  [3.30559703e-30]\n WARNING - 15:51:33:  [2.73183837e-30]\n WARNING - 15:51:33:  [2.99021850e-30]\n WARNING - 15:51:33:  [2.78613453e-30]\n WARNING - 15:51:33:  [3.24524181e-30]]\n    INFO - 15:51:33:      6%|\u258b         | 64/1000 [00:02&lt;00:34, 27.43 it/sec, obj=3.04e-30]\n WARNING - 15:51:33: Relative MSE: [[7.36699437e-29]\n WARNING - 15:51:33:  [7.30206383e-29]\n WARNING - 15:51:33:  [7.77056248e-29]\n WARNING - 15:51:33:  [7.81148437e-29]\n WARNING - 15:51:33:  [7.59823602e-29]\n WARNING - 15:51:33:  [7.79182558e-29]]\n    INFO - 15:51:33:      6%|\u258b         | 65/1000 [00:02&lt;00:34, 27.44 it/sec, obj=7.61e-29]\n WARNING - 15:51:33: Relative MSE: [[1.15429035e-29]\n WARNING - 15:51:33:  [1.19332053e-29]\n WARNING - 15:51:33:  [1.34905599e-29]\n WARNING - 15:51:33:  [1.33267763e-29]\n WARNING - 15:51:33:  [1.37586890e-29]\n WARNING - 15:51:33:  [1.29809672e-29]]\n    INFO - 15:51:33:      7%|\u258b         | 66/1000 [00:02&lt;00:34, 27.44 it/sec, obj=1.28e-29]\n WARNING - 15:51:33: Relative MSE: [[1.84174859e-29]\n WARNING - 15:51:33:  [1.90402389e-29]\n WARNING - 15:51:33:  [1.78412654e-29]\n WARNING - 15:51:33:  [1.62800785e-29]\n WARNING - 15:51:33:  [1.81958663e-29]\n WARNING - 15:51:33:  [1.71673292e-29]]\n    INFO - 15:51:33:      7%|\u258b         | 67/1000 [00:02&lt;00:34, 27.41 it/sec, obj=1.78e-29]\n WARNING - 15:51:33: Relative MSE: [[2.87773218e-31]\n WARNING - 15:51:33:  [2.97503732e-31]\n WARNING - 15:51:33:  [3.37263996e-32]\n WARNING - 15:51:33:  [3.69162777e-32]\n WARNING - 15:51:33:  [3.43967226e-32]\n WARNING - 15:51:33:  [1.29809672e-31]]\n    INFO - 15:51:33:      7%|\u258b         | 68/1000 [00:02&lt;00:34, 27.40 it/sec, obj=1.37e-31]\n WARNING - 15:51:33: Relative MSE: [[5.11596831e-31]\n WARNING - 15:51:33:  [5.28895524e-31]\n WARNING - 15:51:33:  [8.43159991e-31]\n WARNING - 15:51:33:  [9.22906944e-31]\n WARNING - 15:51:33:  [1.23828201e-30]\n WARNING - 15:51:33:  [8.11310452e-31]]\n    INFO - 15:51:33:      7%|\u258b         | 69/1000 [00:02&lt;00:34, 27.37 it/sec, obj=8.09e-31]\n WARNING - 15:51:33: Relative MSE: [[3.19748020e-32]\n WARNING - 15:51:33:  [1.32223881e-31]\n WARNING - 15:51:33:  [3.03537597e-31]\n WARNING - 15:51:33:  [3.32246500e-31]\n WARNING - 15:51:33:  [3.09570503e-31]\n WARNING - 15:51:33:  [1.29809672e-31]]\n    INFO - 15:51:33:      7%|\u258b         | 70/1000 [00:02&lt;00:33, 27.36 it/sec, obj=2.07e-31]\n WARNING - 15:51:33: Relative MSE: [[7.99370049e-31]\n WARNING - 15:51:33:  [5.28895524e-31]\n WARNING - 15:51:33:  [3.03537597e-31]\n WARNING - 15:51:33:  [3.32246500e-31]\n WARNING - 15:51:33:  [3.09570503e-31]\n WARNING - 15:51:33:  [2.92071763e-31]]\n    INFO - 15:51:33:      7%|\u258b         | 71/1000 [00:02&lt;00:33, 27.37 it/sec, obj=4.28e-31]\n WARNING - 15:51:33: Relative MSE: [[2.87773218e-31]\n WARNING - 15:51:33:  [2.97503732e-31]\n WARNING - 15:51:33:  [3.37263996e-32]\n WARNING - 15:51:33:  [3.69162777e-32]\n WARNING - 15:51:33:  [3.43967226e-32]\n WARNING - 15:51:33:  [1.29809672e-31]]\n    INFO - 15:51:33:      7%|\u258b         | 72/1000 [00:02&lt;00:33, 27.35 it/sec, obj=1.37e-31]\n WARNING - 15:51:33: Relative MSE: [[0.00064879]\n WARNING - 15:51:33:  [0.00064879]\n WARNING - 15:51:33:  [0.00064879]\n WARNING - 15:51:33:  [0.00064879]\n WARNING - 15:51:33:  [0.00064879]\n WARNING - 15:51:33:  [0.00064879]]\n    INFO - 15:51:33:      7%|\u258b         | 73/1000 [00:02&lt;00:33, 27.32 it/sec, obj=0.000649]\n WARNING - 15:51:33: Relative MSE: [[0.00039933]\n WARNING - 15:51:33:  [0.00039933]\n WARNING - 15:51:33:  [0.00039933]\n WARNING - 15:51:33:  [0.00039933]\n WARNING - 15:51:33:  [0.00039933]\n WARNING - 15:51:33:  [0.00039933]]\n    INFO - 15:51:33:      7%|\u258b         | 74/1000 [00:02&lt;00:33, 27.33 it/sec, obj=0.000399]\n WARNING - 15:51:33: Relative MSE: [[0.00206612]\n WARNING - 15:51:33:  [0.00206612]\n WARNING - 15:51:33:  [0.00206612]\n WARNING - 15:51:33:  [0.00206612]\n WARNING - 15:51:33:  [0.00206612]\n WARNING - 15:51:33:  [0.00206612]]\n    INFO - 15:51:33:      8%|\u258a         | 75/1000 [00:02&lt;00:33, 27.34 it/sec, obj=0.00207]\n WARNING - 15:51:33: Relative MSE: [[0.00182418]\n WARNING - 15:51:33:  [0.00182418]\n WARNING - 15:51:33:  [0.00182418]\n WARNING - 15:51:33:  [0.00182418]\n WARNING - 15:51:33:  [0.00182418]\n WARNING - 15:51:33:  [0.00182418]]\n    INFO - 15:51:33:      8%|\u258a         | 76/1000 [00:02&lt;00:33, 27.36 it/sec, obj=0.00182]\n WARNING - 15:51:33: Relative MSE: [[7.42958139e-05]\n WARNING - 15:51:33:  [7.42958139e-05]\n WARNING - 15:51:33:  [7.42958139e-05]\n WARNING - 15:51:33:  [7.42958139e-05]\n WARNING - 15:51:33:  [7.42958139e-05]\n WARNING - 15:51:33:  [7.42958139e-05]]\n    INFO - 15:51:33:      8%|\u258a         | 77/1000 [00:02&lt;00:33, 27.31 it/sec, obj=7.43e-5]\n WARNING - 15:51:33: Relative MSE: [[7.53027367e-06]\n WARNING - 15:51:33:  [7.53027367e-06]\n WARNING - 15:51:33:  [7.53027367e-06]\n WARNING - 15:51:33:  [7.53027367e-06]\n WARNING - 15:51:33:  [7.53027367e-06]\n WARNING - 15:51:33:  [7.53027367e-06]]\n    INFO - 15:51:33:      8%|\u258a         | 78/1000 [00:02&lt;00:33, 27.28 it/sec, obj=7.53e-6]\n WARNING - 15:51:33: Relative MSE: [[0.00019903]\n WARNING - 15:51:33:  [0.00019903]\n WARNING - 15:51:33:  [0.00019903]\n WARNING - 15:51:33:  [0.00019903]\n WARNING - 15:51:33:  [0.00019903]\n WARNING - 15:51:33:  [0.00019903]]\n    INFO - 15:51:33:      8%|\u258a         | 79/1000 [00:02&lt;00:33, 27.29 it/sec, obj=0.000199]\n WARNING - 15:51:33: Relative MSE: [[7.09966771e-05]\n WARNING - 15:51:33:  [7.09966771e-05]\n WARNING - 15:51:33:  [7.09966771e-05]\n WARNING - 15:51:33:  [7.09966771e-05]\n WARNING - 15:51:33:  [7.09966771e-05]\n WARNING - 15:51:33:  [7.09966771e-05]]\n    INFO - 15:51:33:      8%|\u258a         | 80/1000 [00:02&lt;00:33, 27.27 it/sec, obj=7.1e-5]\n WARNING - 15:51:33: Relative MSE: [[9.36533851e-09]\n WARNING - 15:51:33:  [9.36533851e-09]\n WARNING - 15:51:33:  [9.36533851e-09]\n WARNING - 15:51:33:  [9.36533851e-09]\n WARNING - 15:51:33:  [9.36533851e-09]\n WARNING - 15:51:33:  [9.36533851e-09]]\n    INFO - 15:51:33:      8%|\u258a         | 81/1000 [00:02&lt;00:33, 27.25 it/sec, obj=9.37e-9]\n WARNING - 15:51:33: Relative MSE: [[8.62998593e-06]\n WARNING - 15:51:33:  [8.62998593e-06]\n WARNING - 15:51:33:  [8.62998593e-06]\n WARNING - 15:51:33:  [8.62998593e-06]\n WARNING - 15:51:33:  [8.62998593e-06]\n WARNING - 15:51:33:  [8.62998593e-06]]\n    INFO - 15:51:34:      8%|\u258a         | 82/1000 [00:03&lt;00:33, 27.25 it/sec, obj=8.63e-6]\n WARNING - 15:51:34: Relative MSE: [[2.30198452e-06]\n WARNING - 15:51:34:  [2.30198452e-06]\n WARNING - 15:51:34:  [2.30198452e-06]\n WARNING - 15:51:34:  [2.30198452e-06]\n WARNING - 15:51:34:  [2.30198452e-06]\n WARNING - 15:51:34:  [2.30198452e-06]]\n    INFO - 15:51:34:      8%|\u258a         | 83/1000 [00:03&lt;00:33, 27.20 it/sec, obj=2.3e-6]\n WARNING - 15:51:34: Relative MSE: [[3.76324085e-07]\n WARNING - 15:51:34:  [3.76324085e-07]\n WARNING - 15:51:34:  [3.76324085e-07]\n WARNING - 15:51:34:  [3.76324085e-07]\n WARNING - 15:51:34:  [3.76324085e-07]\n WARNING - 15:51:34:  [3.76324085e-07]]\n    INFO - 15:51:34:      8%|\u258a         | 84/1000 [00:03&lt;00:33, 27.19 it/sec, obj=3.76e-7]\n WARNING - 15:51:34: Relative MSE: [[2.0420305e-07]\n WARNING - 15:51:34:  [2.0420305e-07]\n WARNING - 15:51:34:  [2.0420305e-07]\n WARNING - 15:51:34:  [2.0420305e-07]\n WARNING - 15:51:34:  [2.0420305e-07]\n WARNING - 15:51:34:  [2.0420305e-07]]\n    INFO - 15:51:34:      8%|\u258a         | 85/1000 [00:03&lt;00:33, 27.20 it/sec, obj=2.04e-7]\n WARNING - 15:51:34: Relative MSE: [[6.525754e-09]\n WARNING - 15:51:34:  [6.525754e-09]\n WARNING - 15:51:34:  [6.525754e-09]\n WARNING - 15:51:34:  [6.525754e-09]\n WARNING - 15:51:34:  [6.525754e-09]\n WARNING - 15:51:34:  [6.525754e-09]]\n    INFO - 15:51:34:      9%|\u258a         | 86/1000 [00:03&lt;00:33, 27.20 it/sec, obj=6.53e-9]\n WARNING - 15:51:34: Relative MSE: [[2.87507795e-08]\n WARNING - 15:51:34:  [2.87507795e-08]\n WARNING - 15:51:34:  [2.87507795e-08]\n WARNING - 15:51:34:  [2.87507795e-08]\n WARNING - 15:51:34:  [2.87507795e-08]\n WARNING - 15:51:34:  [2.87507795e-08]]\n    INFO - 15:51:34:      9%|\u258a         | 87/1000 [00:03&lt;00:33, 27.21 it/sec, obj=2.88e-8]\n WARNING - 15:51:34: Relative MSE: [[1.32444569e-09]\n WARNING - 15:51:34:  [1.32444569e-09]\n WARNING - 15:51:34:  [1.32444569e-09]\n WARNING - 15:51:34:  [1.32444569e-09]\n WARNING - 15:51:34:  [1.32444569e-09]\n WARNING - 15:51:34:  [1.32444569e-09]]\n    INFO - 15:51:34:      9%|\u2589         | 88/1000 [00:03&lt;00:33, 27.23 it/sec, obj=1.32e-9]\n WARNING - 15:51:34: Relative MSE: [[6.39403334e-11]\n WARNING - 15:51:34:  [6.39403334e-11]\n WARNING - 15:51:34:  [6.39403334e-11]\n WARNING - 15:51:34:  [6.39403334e-11]\n WARNING - 15:51:34:  [6.39403334e-11]\n WARNING - 15:51:34:  [6.39403334e-11]]\n    INFO - 15:51:34:      9%|\u2589         | 89/1000 [00:03&lt;00:33, 27.21 it/sec, obj=6.39e-11]\n WARNING - 15:51:34: Relative MSE: [[2.74423794e-09]\n WARNING - 15:51:34:  [2.74423794e-09]\n WARNING - 15:51:34:  [2.74423794e-09]\n WARNING - 15:51:34:  [2.74423794e-09]\n WARNING - 15:51:34:  [2.74423794e-09]\n WARNING - 15:51:34:  [2.74423794e-09]]\n    INFO - 15:51:34:      9%|\u2589         | 90/1000 [00:03&lt;00:33, 27.21 it/sec, obj=2.74e-9]\n WARNING - 15:51:34: Relative MSE: [[9.11488767e-10]\n WARNING - 15:51:34:  [9.11488767e-10]\n WARNING - 15:51:34:  [9.11488767e-10]\n WARNING - 15:51:34:  [9.11488767e-10]\n WARNING - 15:51:34:  [9.11488767e-10]\n WARNING - 15:51:34:  [9.11488767e-10]]\n    INFO - 15:51:34:      9%|\u2589         | 91/1000 [00:03&lt;00:33, 27.22 it/sec, obj=9.11e-10]\n WARNING - 15:51:34: Relative MSE: [[9.61639432e-12]\n WARNING - 15:51:34:  [9.61639432e-12]\n WARNING - 15:51:34:  [9.61639432e-12]\n WARNING - 15:51:34:  [9.61639432e-12]\n WARNING - 15:51:34:  [9.61639432e-12]\n WARNING - 15:51:34:  [9.61639432e-12]]\n    INFO - 15:51:34:      9%|\u2589         | 92/1000 [00:03&lt;00:33, 27.21 it/sec, obj=9.62e-12]\n WARNING - 15:51:34: Relative MSE: [[2.0159264e-10]\n WARNING - 15:51:34:  [2.0159264e-10]\n WARNING - 15:51:34:  [2.0159264e-10]\n WARNING - 15:51:34:  [2.0159264e-10]\n WARNING - 15:51:34:  [2.0159264e-10]\n WARNING - 15:51:34:  [2.0159264e-10]]\n    INFO - 15:51:34:      9%|\u2589         | 93/1000 [00:03&lt;00:33, 27.22 it/sec, obj=2.02e-10]\n WARNING - 15:51:34: Relative MSE: [[7.48169942e-11]\n WARNING - 15:51:34:  [7.48169942e-11]\n WARNING - 15:51:34:  [7.48169942e-11]\n WARNING - 15:51:34:  [7.48169942e-11]\n WARNING - 15:51:34:  [7.48169942e-11]\n WARNING - 15:51:34:  [7.48169942e-11]]\n    INFO - 15:51:34:      9%|\u2589         | 94/1000 [00:03&lt;00:33, 27.23 it/sec, obj=7.48e-11]\n WARNING - 15:51:34: Relative MSE: [[1.06736736e-13]\n WARNING - 15:51:34:  [1.06736736e-13]\n WARNING - 15:51:34:  [1.06736736e-13]\n WARNING - 15:51:34:  [1.06736736e-13]\n WARNING - 15:51:34:  [1.06736736e-13]\n WARNING - 15:51:34:  [1.06736736e-13]]\n    INFO - 15:51:34:     10%|\u2589         | 95/1000 [00:03&lt;00:33, 27.24 it/sec, obj=1.07e-13]\n WARNING - 15:51:34: Relative MSE: [[5.99084072e-12]\n WARNING - 15:51:34:  [5.99084072e-12]\n WARNING - 15:51:34:  [5.99084072e-12]\n WARNING - 15:51:34:  [5.99084072e-12]\n WARNING - 15:51:34:  [5.99084072e-12]\n WARNING - 15:51:34:  [5.99084072e-12]]\n    INFO - 15:51:34:     10%|\u2589         | 96/1000 [00:03&lt;00:33, 27.21 it/sec, obj=5.99e-12]\n WARNING - 15:51:34: Relative MSE: [[1.12456853e-12]\n WARNING - 15:51:34:  [1.12456853e-12]\n WARNING - 15:51:34:  [1.12456853e-12]\n WARNING - 15:51:34:  [1.12456853e-12]\n WARNING - 15:51:34:  [1.12456853e-12]\n WARNING - 15:51:34:  [1.12456853e-12]]\n    INFO - 15:51:34:     10%|\u2589         | 97/1000 [00:03&lt;00:33, 27.22 it/sec, obj=1.12e-12]\n WARNING - 15:51:34: Relative MSE: [[1.04098599e-12]\n WARNING - 15:51:34:  [1.04098599e-12]\n WARNING - 15:51:34:  [1.04098599e-12]\n WARNING - 15:51:34:  [1.04098599e-12]\n WARNING - 15:51:34:  [1.04098599e-12]\n WARNING - 15:51:34:  [1.04098599e-12]]\n    INFO - 15:51:34:     10%|\u2589         | 98/1000 [00:03&lt;00:33, 27.23 it/sec, obj=1.04e-12]\n WARNING - 15:51:34: Relative MSE: [[4.03398162e-16]\n WARNING - 15:51:34:  [4.03398162e-16]\n WARNING - 15:51:34:  [4.03398148e-16]\n WARNING - 15:51:34:  [4.03398147e-16]\n WARNING - 15:51:34:  [4.03398155e-16]\n WARNING - 15:51:34:  [4.03398153e-16]]\n    INFO - 15:51:34:     10%|\u2589         | 99/1000 [00:03&lt;00:33, 27.21 it/sec, obj=4.03e-16]\n WARNING - 15:51:34: Relative MSE: [[1.34597585e-13]\n WARNING - 15:51:34:  [1.34597585e-13]\n WARNING - 15:51:34:  [1.34597585e-13]\n WARNING - 15:51:34:  [1.34597584e-13]\n WARNING - 15:51:34:  [1.34597585e-13]\n WARNING - 15:51:34:  [1.34597585e-13]]\n    INFO - 15:51:34:     10%|\u2588         | 100/1000 [00:03&lt;00:33, 27.19 it/sec, obj=1.35e-13]\n WARNING - 15:51:34: Relative MSE: [[3.74345509e-14]\n WARNING - 15:51:34:  [3.74345509e-14]\n WARNING - 15:51:34:  [3.74345508e-14]\n WARNING - 15:51:34:  [3.74345508e-14]\n WARNING - 15:51:34:  [3.74345507e-14]\n WARNING - 15:51:34:  [3.74345508e-14]]\n    INFO - 15:51:34:     10%|\u2588         | 101/1000 [00:03&lt;00:33, 27.20 it/sec, obj=3.74e-14]\n WARNING - 15:51:34: Relative MSE: [[4.43727722e-15]\n WARNING - 15:51:34:  [4.43727722e-15]\n WARNING - 15:51:34:  [4.43727725e-15]\n WARNING - 15:51:34:  [4.43727724e-15]\n WARNING - 15:51:34:  [4.43727726e-15]\n WARNING - 15:51:34:  [4.43727723e-15]]\n    INFO - 15:51:34:     10%|\u2588         | 102/1000 [00:03&lt;00:33, 27.19 it/sec, obj=4.44e-15]\n WARNING - 15:51:34: Relative MSE: [[4.02382249e-15]\n WARNING - 15:51:34:  [4.02382248e-15]\n WARNING - 15:51:34:  [4.02382245e-15]\n WARNING - 15:51:34:  [4.02382247e-15]\n WARNING - 15:51:34:  [4.02382247e-15]\n WARNING - 15:51:34:  [4.02382247e-15]]\n    INFO - 15:51:34:     10%|\u2588         | 103/1000 [00:03&lt;00:32, 27.18 it/sec, obj=4.02e-15]\n WARNING - 15:51:34: Relative MSE: [[2.52696184e-18]\n WARNING - 15:51:34:  [2.52696126e-18]\n WARNING - 15:51:34:  [2.52696227e-18]\n WARNING - 15:51:34:  [2.52696227e-18]\n WARNING - 15:51:34:  [2.52696194e-18]\n WARNING - 15:51:34:  [2.52696212e-18]]\n    INFO - 15:51:34:     10%|\u2588         | 104/1000 [00:03&lt;00:32, 27.17 it/sec, obj=2.53e-18]\n WARNING - 15:51:34: Relative MSE: [[5.41216409e-16]\n WARNING - 15:51:34:  [5.41216400e-16]\n WARNING - 15:51:34:  [5.41216413e-16]\n WARNING - 15:51:34:  [5.41216421e-16]\n WARNING - 15:51:34:  [5.41216420e-16]\n WARNING - 15:51:34:  [5.41216415e-16]]\n    INFO - 15:51:34:     10%|\u2588         | 105/1000 [00:03&lt;00:32, 27.17 it/sec, obj=5.41e-16]\n WARNING - 15:51:34: Relative MSE: [[1.54426603e-16]\n WARNING - 15:51:34:  [1.54426603e-16]\n WARNING - 15:51:34:  [1.54426608e-16]\n WARNING - 15:51:34:  [1.54426610e-16]\n WARNING - 15:51:34:  [1.54426606e-16]\n WARNING - 15:51:34:  [1.54426610e-16]]\n    INFO - 15:51:34:     11%|\u2588         | 106/1000 [00:03&lt;00:32, 27.18 it/sec, obj=1.54e-16]\n WARNING - 15:51:34: Relative MSE: [[1.46609505e-17]\n WARNING - 15:51:34:  [1.46609512e-17]\n WARNING - 15:51:34:  [1.46609483e-17]\n WARNING - 15:51:34:  [1.46609486e-17]\n WARNING - 15:51:34:  [1.46609499e-17]\n WARNING - 15:51:34:  [1.46609492e-17]]\n    INFO - 15:51:34:     11%|\u2588         | 107/1000 [00:03&lt;00:32, 27.17 it/sec, obj=1.47e-17]\n WARNING - 15:51:34: Relative MSE: [[1.84809196e-17]\n WARNING - 15:51:34:  [1.84809200e-17]\n WARNING - 15:51:34:  [1.84809225e-17]\n WARNING - 15:51:34:  [1.84809211e-17]\n WARNING - 15:51:34:  [1.84809213e-17]\n WARNING - 15:51:34:  [1.84809208e-17]]\n    INFO - 15:51:34:     11%|\u2588         | 108/1000 [00:03&lt;00:32, 27.17 it/sec, obj=1.85e-17]\n WARNING - 15:51:35: Relative MSE: [[5.52207586e-20]\n WARNING - 15:51:35:  [5.52207469e-20]\n WARNING - 15:51:35:  [5.52209039e-20]\n WARNING - 15:51:35:  [5.52209010e-20]\n WARNING - 15:51:35:  [5.52208642e-20]\n WARNING - 15:51:35:  [5.52207883e-20]]\n    INFO - 15:51:35:     11%|\u2588         | 109/1000 [00:04&lt;00:32, 27.16 it/sec, obj=5.52e-20]\n WARNING - 15:51:35: Relative MSE: [[1.25363873e-18]\n WARNING - 15:51:35:  [1.25363884e-18]\n WARNING - 15:51:35:  [1.25363806e-18]\n WARNING - 15:51:35:  [1.25363811e-18]\n WARNING - 15:51:35:  [1.25363821e-18]\n WARNING - 15:51:35:  [1.25363865e-18]]\n    INFO - 15:51:35:     11%|\u2588         | 110/1000 [00:04&lt;00:32, 27.15 it/sec, obj=1.25e-18]\n WARNING - 15:51:35: Relative MSE: [[1.95659784e-19]\n WARNING - 15:51:35:  [1.95659815e-19]\n WARNING - 15:51:35:  [1.95659594e-19]\n WARNING - 15:51:35:  [1.95659691e-19]\n WARNING - 15:51:35:  [1.95659579e-19]\n WARNING - 15:51:35:  [1.95659739e-19]]\n    INFO - 15:51:35:     11%|\u2588         | 111/1000 [00:04&lt;00:32, 27.14 it/sec, obj=1.96e-19]\n WARNING - 15:51:35: Relative MSE: [[3.29078566e-19]\n WARNING - 15:51:35:  [3.29078752e-19]\n WARNING - 15:51:35:  [3.29079081e-19]\n WARNING - 15:51:35:  [3.29078696e-19]\n WARNING - 15:51:35:  [3.29078820e-19]\n WARNING - 15:51:35:  [3.29078749e-19]]\n    INFO - 15:51:35:     11%|\u2588         | 112/1000 [00:04&lt;00:32, 27.12 it/sec, obj=3.29e-19]\n WARNING - 15:51:35: Relative MSE: [[4.31118491e-21]\n WARNING - 15:51:35:  [4.31118130e-21]\n WARNING - 15:51:35:  [4.31121636e-21]\n WARNING - 15:51:35:  [4.31121189e-21]\n WARNING - 15:51:35:  [4.31121466e-21]\n WARNING - 15:51:35:  [4.31118689e-21]]\n    INFO - 15:51:35:     11%|\u2588\u258f        | 113/1000 [00:04&lt;00:32, 27.12 it/sec, obj=4.31e-21]\n WARNING - 15:51:35: Relative MSE: [[1.07478683e-20]\n WARNING - 15:51:35:  [1.07478375e-20]\n WARNING - 15:51:35:  [1.07477960e-20]\n WARNING - 15:51:35:  [1.07477690e-20]\n WARNING - 15:51:35:  [1.07477839e-20]\n WARNING - 15:51:35:  [1.07478008e-20]]\n    INFO - 15:51:35:     11%|\u2588\u258f        | 114/1000 [00:04&lt;00:32, 27.12 it/sec, obj=1.07e-20]\n WARNING - 15:51:35: Relative MSE: [[3.61230578e-22]\n WARNING - 15:51:35:  [3.61235126e-22]\n WARNING - 15:51:35:  [3.61222795e-22]\n WARNING - 15:51:35:  [3.61224617e-22]\n WARNING - 15:51:35:  [3.61218404e-22]\n WARNING - 15:51:35:  [3.61224069e-22]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 115/1000 [00:04&lt;00:32, 27.10 it/sec, obj=3.61e-22]\n WARNING - 15:51:35: Relative MSE: [[3.76246155e-21]\n WARNING - 15:51:35:  [3.76247073e-21]\n WARNING - 15:51:35:  [3.76242730e-21]\n WARNING - 15:51:35:  [3.76243351e-21]\n WARNING - 15:51:35:  [3.76243927e-21]\n WARNING - 15:51:35:  [3.76245306e-21]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 116/1000 [00:04&lt;00:32, 27.09 it/sec, obj=3.76e-21]\n WARNING - 15:51:35: Relative MSE: [[4.66674028e-24]\n WARNING - 15:51:35:  [4.66690548e-24]\n WARNING - 15:51:35:  [4.66824720e-24]\n WARNING - 15:51:35:  [4.66723403e-24]\n WARNING - 15:51:35:  [4.66840918e-24]\n WARNING - 15:51:35:  [4.66769779e-24]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 117/1000 [00:04&lt;00:32, 27.09 it/sec, obj=4.67e-24]\n WARNING - 15:51:35: Relative MSE: [[5.44130022e-22]\n WARNING - 15:51:35:  [5.44130690e-22]\n WARNING - 15:51:35:  [5.44144444e-22]\n WARNING - 15:51:35:  [5.44142333e-22]\n WARNING - 15:51:35:  [5.44151120e-22]\n WARNING - 15:51:35:  [5.44142711e-22]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 118/1000 [00:04&lt;00:32, 27.09 it/sec, obj=5.44e-22]\n WARNING - 15:51:35: Relative MSE: [[1.62399549e-22]\n WARNING - 15:51:35:  [1.62400295e-22]\n WARNING - 15:51:35:  [1.62401035e-22]\n WARNING - 15:51:35:  [1.62399810e-22]\n WARNING - 15:51:35:  [1.62403313e-22]\n WARNING - 15:51:35:  [1.62401281e-22]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 119/1000 [00:04&lt;00:32, 27.10 it/sec, obj=1.62e-22]\n WARNING - 15:51:35: Relative MSE: [[9.80459727e-24]\n WARNING - 15:51:35:  [9.80544962e-24]\n WARNING - 15:51:35:  [9.80434869e-24]\n WARNING - 15:51:35:  [9.80347254e-24]\n WARNING - 15:51:35:  [9.80313212e-24]\n WARNING - 15:51:35:  [9.80384827e-24]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 120/1000 [00:04&lt;00:32, 27.10 it/sec, obj=9.8e-24]\n WARNING - 15:51:35: Relative MSE: [[2.30994565e-23]\n WARNING - 15:51:35:  [2.30980693e-23]\n WARNING - 15:51:35:  [2.31016928e-23]\n WARNING - 15:51:35:  [2.31003691e-23]\n WARNING - 15:51:35:  [2.31003995e-23]\n WARNING - 15:51:35:  [2.31003581e-23]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 121/1000 [00:04&lt;00:32, 27.11 it/sec, obj=2.31e-23]\n WARNING - 15:51:35: Relative MSE: [[7.01223043e-25]\n WARNING - 15:51:35:  [7.00985732e-25]\n WARNING - 15:51:35:  [7.01600882e-25]\n WARNING - 15:51:35:  [7.01441800e-25]\n WARNING - 15:51:35:  [7.01495566e-25]\n WARNING - 15:51:35:  [7.01702410e-25]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 122/1000 [00:04&lt;00:32, 27.09 it/sec, obj=7.01e-25]\n WARNING - 15:51:35: Relative MSE: [[2.35693460e-25]\n WARNING - 15:51:35:  [2.35652706e-25]\n WARNING - 15:51:35:  [2.35415801e-25]\n WARNING - 15:51:35:  [2.35364343e-25]\n WARNING - 15:51:35:  [2.35392458e-25]\n WARNING - 15:51:35:  [2.35702724e-25]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 123/1000 [00:04&lt;00:32, 27.08 it/sec, obj=2.36e-25]\n WARNING - 15:51:35: Relative MSE: [[3.27079829e-24]\n WARNING - 15:51:35:  [3.27065055e-24]\n WARNING - 15:51:35:  [3.26889840e-24]\n WARNING - 15:51:35:  [3.26886625e-24]\n WARNING - 15:51:35:  [3.26916774e-24]\n WARNING - 15:51:35:  [3.26995251e-24]]\n    INFO - 15:51:35:     12%|\u2588\u258f        | 124/1000 [00:04&lt;00:32, 27.10 it/sec, obj=3.27e-24]\n WARNING - 15:51:35: Relative MSE: [[1.31583424e-24]\n WARNING - 15:51:35:  [1.31532562e-24]\n WARNING - 15:51:35:  [1.31490922e-24]\n WARNING - 15:51:35:  [1.31528862e-24]\n WARNING - 15:51:35:  [1.31496913e-24]\n WARNING - 15:51:35:  [1.31516527e-24]]\n    INFO - 15:51:35:     12%|\u2588\u258e        | 125/1000 [00:04&lt;00:32, 27.10 it/sec, obj=1.32e-24]\n WARNING - 15:51:35: Relative MSE: [[2.39796946e-26]\n WARNING - 15:51:35:  [2.39391667e-26]\n WARNING - 15:51:35:  [2.38540417e-26]\n WARNING - 15:51:35:  [2.38632726e-26]\n WARNING - 15:51:35:  [2.38675074e-26]\n WARNING - 15:51:35:  [2.38903019e-26]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 126/1000 [00:04&lt;00:32, 27.08 it/sec, obj=2.39e-26]\n WARNING - 15:51:35: Relative MSE: [[3.09597938e-26]\n WARNING - 15:51:35:  [3.09742375e-26]\n WARNING - 15:51:35:  [3.10822499e-26]\n WARNING - 15:51:35:  [3.10424919e-26]\n WARNING - 15:51:35:  [3.10430421e-26]\n WARNING - 15:51:35:  [3.09767742e-26]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 127/1000 [00:04&lt;00:32, 27.09 it/sec, obj=3.1e-26]\n WARNING - 15:51:35: Relative MSE: [[1.15109287e-28]\n WARNING - 15:51:35:  [1.15067833e-28]\n WARNING - 15:51:35:  [1.17401597e-28]\n WARNING - 15:51:35:  [1.19940986e-28]\n WARNING - 15:51:35:  [1.19734991e-28]\n WARNING - 15:51:35:  [1.12966867e-28]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 128/1000 [00:04&lt;00:32, 27.06 it/sec, obj=1.17e-28]\n WARNING - 15:51:35: Relative MSE: [[8.71262194e-27]\n WARNING - 15:51:35:  [8.69930664e-27]\n WARNING - 15:51:35:  [8.77223655e-27]\n WARNING - 15:51:35:  [8.79139005e-27]\n WARNING - 15:51:35:  [8.77202418e-27]\n WARNING - 15:51:35:  [8.74141578e-27]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 129/1000 [00:04&lt;00:32, 27.06 it/sec, obj=8.75e-27]\n WARNING - 15:51:35: Relative MSE: [[9.45942541e-28]\n WARNING - 15:51:35:  [9.44111567e-28]\n WARNING - 15:51:35:  [9.29364669e-28]\n WARNING - 15:51:35:  [9.33280418e-28]\n WARNING - 15:51:35:  [9.36450773e-28]\n WARNING - 15:51:35:  [9.37874882e-28]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 130/1000 [00:04&lt;00:32, 27.06 it/sec, obj=9.38e-28]\n WARNING - 15:51:35: Relative MSE: [[9.79228310e-28]\n WARNING - 15:51:35:  [9.77927825e-28]\n WARNING - 15:51:35:  [9.97761807e-28]\n WARNING - 15:51:35:  [9.92900206e-28]\n WARNING - 15:51:35:  [9.94065283e-28]\n WARNING - 15:51:35:  [9.93855303e-28]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 131/1000 [00:04&lt;00:32, 27.05 it/sec, obj=9.89e-28]\n WARNING - 15:51:35: Relative MSE: [[3.19748020e-32]\n WARNING - 15:51:35:  [1.32223881e-31]\n WARNING - 15:51:35:  [3.03537597e-31]\n WARNING - 15:51:35:  [3.32246500e-31]\n WARNING - 15:51:35:  [3.09570503e-31]\n WARNING - 15:51:35:  [1.29809672e-31]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 132/1000 [00:04&lt;00:32, 27.04 it/sec, obj=2.07e-31]\n WARNING - 15:51:35: Relative MSE: [[9.67237759e-29]\n WARNING - 15:51:35:  [9.99943101e-29]\n WARNING - 15:51:35:  [9.47374566e-29]\n WARNING - 15:51:35:  [9.60192384e-29]\n WARNING - 15:51:35:  [9.66203938e-29]\n WARNING - 15:51:35:  [9.81685647e-29]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 133/1000 [00:04&lt;00:32, 27.02 it/sec, obj=9.7e-29]\n WARNING - 15:51:35: Relative MSE: [[2.33096306e-29]\n WARNING - 15:51:35:  [2.40978023e-29]\n WARNING - 15:51:35:  [1.94264062e-29]\n WARNING - 15:51:35:  [2.12637760e-29]\n WARNING - 15:51:35:  [2.14979516e-29]\n WARNING - 15:51:35:  [2.19378346e-29]]\n    INFO - 15:51:35:     13%|\u2588\u258e        | 134/1000 [00:04&lt;00:32, 27.02 it/sec, obj=2.19e-29]\n WARNING - 15:51:35: Relative MSE: [[7.19433044e-30]\n WARNING - 15:51:35:  [7.43759331e-30]\n WARNING - 15:51:35:  [9.74692950e-30]\n WARNING - 15:51:35:  [8.30616249e-30]\n WARNING - 15:51:35:  [8.80556099e-30]\n WARNING - 15:51:35:  [9.37874882e-30]]\n    INFO - 15:51:35:     14%|\u2588\u258e        | 135/1000 [00:04&lt;00:32, 27.01 it/sec, obj=8.48e-30]\n WARNING - 15:51:36: Relative MSE: [[1.15109287e-30]\n WARNING - 15:51:36:  [8.26399257e-31]\n WARNING - 15:51:36:  [5.39622394e-31]\n WARNING - 15:51:36:  [5.90660444e-31]\n WARNING - 15:51:36:  [5.50347562e-31]\n WARNING - 15:51:36:  [5.19238689e-31]]\n    INFO - 15:51:36:     14%|\u2588\u258e        | 136/1000 [00:05&lt;00:31, 27.00 it/sec, obj=6.96e-31]\n WARNING - 15:51:36: Relative MSE: [[7.99370049e-31]\n WARNING - 15:51:36:  [1.19001493e-30]\n WARNING - 15:51:36:  [1.65259358e-30]\n WARNING - 15:51:36:  [1.32898600e-30]\n WARNING - 15:51:36:  [1.23828201e-30]\n WARNING - 15:51:36:  [1.16828705e-30]]\n    INFO - 15:51:36:     14%|\u2588\u258e        | 137/1000 [00:05&lt;00:31, 26.99 it/sec, obj=1.23e-30]\n WARNING - 15:51:36: Relative MSE: [[0.]\n WARNING - 15:51:36:  [0.]\n WARNING - 15:51:36:  [0.]\n WARNING - 15:51:36:  [0.]\n WARNING - 15:51:36:  [0.]\n WARNING - 15:51:36:  [0.]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 138/1000 [00:05&lt;00:31, 26.96 it/sec, obj=0]\n WARNING - 15:51:36: Relative MSE: [[0.00161704]\n WARNING - 15:51:36:  [0.00161704]\n WARNING - 15:51:36:  [0.00161704]\n WARNING - 15:51:36:  [0.00161704]\n WARNING - 15:51:36:  [0.00161704]\n WARNING - 15:51:36:  [0.00161704]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 139/1000 [00:05&lt;00:31, 26.94 it/sec, obj=0.00162]\n WARNING - 15:51:36: Relative MSE: [[2.74803226e-05]\n WARNING - 15:51:36:  [2.74803226e-05]\n WARNING - 15:51:36:  [2.74803226e-05]\n WARNING - 15:51:36:  [2.74803226e-05]\n WARNING - 15:51:36:  [2.74803226e-05]\n WARNING - 15:51:36:  [2.74803226e-05]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 140/1000 [00:05&lt;00:31, 26.92 it/sec, obj=2.75e-5]\n WARNING - 15:51:36: Relative MSE: [[0.00257016]\n WARNING - 15:51:36:  [0.00257016]\n WARNING - 15:51:36:  [0.00257016]\n WARNING - 15:51:36:  [0.00257016]\n WARNING - 15:51:36:  [0.00257016]\n WARNING - 15:51:36:  [0.00257016]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 141/1000 [00:05&lt;00:31, 26.93 it/sec, obj=0.00257]\n WARNING - 15:51:36: Relative MSE: [[0.00078229]\n WARNING - 15:51:36:  [0.00078229]\n WARNING - 15:51:36:  [0.00078229]\n WARNING - 15:51:36:  [0.00078229]\n WARNING - 15:51:36:  [0.00078229]\n WARNING - 15:51:36:  [0.00078229]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 142/1000 [00:05&lt;00:31, 26.94 it/sec, obj=0.000782]\n WARNING - 15:51:36: Relative MSE: [[3.74723782e-05]\n WARNING - 15:51:36:  [3.74723782e-05]\n WARNING - 15:51:36:  [3.74723782e-05]\n WARNING - 15:51:36:  [3.74723782e-05]\n WARNING - 15:51:36:  [3.74723782e-05]\n WARNING - 15:51:36:  [3.74723782e-05]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 143/1000 [00:05&lt;00:31, 26.96 it/sec, obj=3.75e-5]\n WARNING - 15:51:36: Relative MSE: [[0.00011933]\n WARNING - 15:51:36:  [0.00011933]\n WARNING - 15:51:36:  [0.00011933]\n WARNING - 15:51:36:  [0.00011933]\n WARNING - 15:51:36:  [0.00011933]\n WARNING - 15:51:36:  [0.00011933]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 144/1000 [00:05&lt;00:31, 26.97 it/sec, obj=0.000119]\n WARNING - 15:51:36: Relative MSE: [[5.76604308e-06]\n WARNING - 15:51:36:  [5.76604308e-06]\n WARNING - 15:51:36:  [5.76604308e-06]\n WARNING - 15:51:36:  [5.76604308e-06]\n WARNING - 15:51:36:  [5.76604308e-06]\n WARNING - 15:51:36:  [5.76604308e-06]]\n    INFO - 15:51:36:     14%|\u2588\u258d        | 145/1000 [00:05&lt;00:31, 26.98 it/sec, obj=5.77e-6]\n WARNING - 15:51:36: Relative MSE: [[1.93292515e-07]\n WARNING - 15:51:36:  [1.93292515e-07]\n WARNING - 15:51:36:  [1.93292515e-07]\n WARNING - 15:51:36:  [1.93292515e-07]\n WARNING - 15:51:36:  [1.93292515e-07]\n WARNING - 15:51:36:  [1.93292515e-07]]\n    INFO - 15:51:36:     15%|\u2588\u258d        | 146/1000 [00:05&lt;00:31, 26.98 it/sec, obj=1.93e-7]\n WARNING - 15:51:36: Relative MSE: [[1.07620709e-05]\n WARNING - 15:51:36:  [1.07620709e-05]\n WARNING - 15:51:36:  [1.07620709e-05]\n WARNING - 15:51:36:  [1.07620709e-05]\n WARNING - 15:51:36:  [1.07620709e-05]\n WARNING - 15:51:36:  [1.07620709e-05]]\n    INFO - 15:51:36:     15%|\u2588\u258d        | 147/1000 [00:05&lt;00:31, 26.98 it/sec, obj=1.08e-5]\n WARNING - 15:51:36: Relative MSE: [[3.45999058e-06]\n WARNING - 15:51:36:  [3.45999058e-06]\n WARNING - 15:51:36:  [3.45999058e-06]\n WARNING - 15:51:36:  [3.45999058e-06]\n WARNING - 15:51:36:  [3.45999058e-06]\n WARNING - 15:51:36:  [3.45999058e-06]]\n    INFO - 15:51:36:     15%|\u2588\u258d        | 148/1000 [00:05&lt;00:31, 26.97 it/sec, obj=3.46e-6]\n WARNING - 15:51:36: Relative MSE: [[7.32118189e-08]\n WARNING - 15:51:36:  [7.32118189e-08]\n WARNING - 15:51:36:  [7.32118189e-08]\n WARNING - 15:51:36:  [7.32118189e-08]\n WARNING - 15:51:36:  [7.32118189e-08]\n WARNING - 15:51:36:  [7.32118189e-08]]\n    INFO - 15:51:36:     15%|\u2588\u258d        | 149/1000 [00:05&lt;00:31, 26.96 it/sec, obj=7.32e-8]\n WARNING - 15:51:36: Relative MSE: [[3.91488555e-07]\n WARNING - 15:51:36:  [3.91488555e-07]\n WARNING - 15:51:36:  [3.91488555e-07]\n WARNING - 15:51:36:  [3.91488555e-07]\n WARNING - 15:51:36:  [3.91488555e-07]\n WARNING - 15:51:36:  [3.91488555e-07]]\n    INFO - 15:51:36:     15%|\u2588\u258c        | 150/1000 [00:05&lt;00:31, 26.96 it/sec, obj=3.91e-7]\n WARNING - 15:51:36: Relative MSE: [[8.65272189e-09]\n WARNING - 15:51:36:  [8.65272189e-09]\n WARNING - 15:51:36:  [8.65272189e-09]\n WARNING - 15:51:36:  [8.65272189e-09]\n WARNING - 15:51:36:  [8.65272189e-09]\n WARNING - 15:51:36:  [8.65272189e-09]]\n    INFO - 15:51:36:     15%|\u2588\u258c        | 151/1000 [00:05&lt;00:31, 26.98 it/sec, obj=8.65e-9]\n WARNING - 15:51:36: Relative MSE: [[7.14647228e-09]\n WARNING - 15:51:36:  [7.14647228e-09]\n WARNING - 15:51:36:  [7.14647228e-09]\n WARNING - 15:51:36:  [7.14647228e-09]\n WARNING - 15:51:36:  [7.14647228e-09]\n WARNING - 15:51:36:  [7.14647228e-09]]\n    INFO - 15:51:36:     15%|\u2588\u258c        | 152/1000 [00:05&lt;00:31, 26.97 it/sec, obj=7.15e-9]\n WARNING - 15:51:36: Relative MSE: [[3.00381652e-08]\n WARNING - 15:51:36:  [3.00381652e-08]\n WARNING - 15:51:36:  [3.00381652e-08]\n WARNING - 15:51:36:  [3.00381652e-08]\n WARNING - 15:51:36:  [3.00381652e-08]\n WARNING - 15:51:36:  [3.00381652e-08]]\n    INFO - 15:51:36:     15%|\u2588\u258c        | 153/1000 [00:05&lt;00:31, 26.96 it/sec, obj=3e-8]\n WARNING - 15:51:36: Relative MSE: [[1.61183024e-09]\n WARNING - 15:51:36:  [1.61183024e-09]\n WARNING - 15:51:36:  [1.61183024e-09]\n WARNING - 15:51:36:  [1.61183024e-09]\n WARNING - 15:51:36:  [1.61183024e-09]\n WARNING - 15:51:36:  [1.61183024e-09]]\n    INFO - 15:51:36:     15%|\u2588\u258c        | 154/1000 [00:05&lt;00:31, 26.95 it/sec, obj=1.61e-9]\n WARNING - 15:51:36: Relative MSE: [[1.79911612e-11]\n WARNING - 15:51:36:  [1.79911612e-11]\n WARNING - 15:51:36:  [1.79911612e-11]\n WARNING - 15:51:36:  [1.79911612e-11]\n WARNING - 15:51:36:  [1.79911612e-11]\n WARNING - 15:51:36:  [1.79911612e-11]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 155/1000 [00:05&lt;00:31, 26.94 it/sec, obj=1.8e-11]\n WARNING - 15:51:36: Relative MSE: [[2.36495504e-09]\n WARNING - 15:51:36:  [2.36495504e-09]\n WARNING - 15:51:36:  [2.36495504e-09]\n WARNING - 15:51:36:  [2.36495504e-09]\n WARNING - 15:51:36:  [2.36495504e-09]\n WARNING - 15:51:36:  [2.36495504e-09]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 156/1000 [00:05&lt;00:31, 26.95 it/sec, obj=2.36e-9]\n WARNING - 15:51:36: Relative MSE: [[6.98872732e-10]\n WARNING - 15:51:36:  [6.98872732e-10]\n WARNING - 15:51:36:  [6.98872732e-10]\n WARNING - 15:51:36:  [6.98872732e-10]\n WARNING - 15:51:36:  [6.98872732e-10]\n WARNING - 15:51:36:  [6.98872732e-10]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 157/1000 [00:05&lt;00:31, 26.95 it/sec, obj=6.99e-10]\n WARNING - 15:51:36: Relative MSE: [[4.70006532e-11]\n WARNING - 15:51:36:  [4.70006532e-11]\n WARNING - 15:51:36:  [4.70006532e-11]\n WARNING - 15:51:36:  [4.70006532e-11]\n WARNING - 15:51:36:  [4.70006532e-11]\n WARNING - 15:51:36:  [4.70006532e-11]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 158/1000 [00:05&lt;00:31, 26.96 it/sec, obj=4.7e-11]\n WARNING - 15:51:36: Relative MSE: [[9.58489846e-11]\n WARNING - 15:51:36:  [9.58489846e-11]\n WARNING - 15:51:36:  [9.58489846e-11]\n WARNING - 15:51:36:  [9.58489846e-11]\n WARNING - 15:51:36:  [9.58489846e-11]\n WARNING - 15:51:36:  [9.58489846e-11]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 159/1000 [00:05&lt;00:31, 26.95 it/sec, obj=9.58e-11]\n WARNING - 15:51:36: Relative MSE: [[2.15289185e-12]\n WARNING - 15:51:36:  [2.15289185e-12]\n WARNING - 15:51:36:  [2.15289185e-12]\n WARNING - 15:51:36:  [2.15289185e-12]\n WARNING - 15:51:36:  [2.15289185e-12]\n WARNING - 15:51:36:  [2.15289185e-12]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 160/1000 [00:05&lt;00:31, 26.95 it/sec, obj=2.15e-12]\n WARNING - 15:51:36: Relative MSE: [[1.70838407e-12]\n WARNING - 15:51:36:  [1.70838407e-12]\n WARNING - 15:51:36:  [1.70838407e-12]\n WARNING - 15:51:36:  [1.70838407e-12]\n WARNING - 15:51:36:  [1.70838407e-12]\n WARNING - 15:51:36:  [1.70838407e-12]]\n    INFO - 15:51:36:     16%|\u2588\u258c        | 161/1000 [00:05&lt;00:31, 26.96 it/sec, obj=1.71e-12]\n WARNING - 15:51:37: Relative MSE: [[7.25879077e-12]\n WARNING - 15:51:37:  [7.25879077e-12]\n WARNING - 15:51:37:  [7.25879077e-12]\n WARNING - 15:51:37:  [7.25879077e-12]\n WARNING - 15:51:37:  [7.25879077e-12]\n WARNING - 15:51:37:  [7.25879077e-12]]\n    INFO - 15:51:37:     16%|\u2588\u258c        | 162/1000 [00:06&lt;00:31, 26.95 it/sec, obj=7.26e-12]\n WARNING - 15:51:37: Relative MSE: [[3.76345872e-13]\n WARNING - 15:51:37:  [3.76345872e-13]\n WARNING - 15:51:37:  [3.76345872e-13]\n WARNING - 15:51:37:  [3.76345872e-13]\n WARNING - 15:51:37:  [3.76345872e-13]\n WARNING - 15:51:37:  [3.76345872e-13]]\n    INFO - 15:51:37:     16%|\u2588\u258b        | 163/1000 [00:06&lt;00:31, 26.96 it/sec, obj=3.76e-13]\n WARNING - 15:51:37: Relative MSE: [[6.41776741e-15]\n WARNING - 15:51:37:  [6.41776741e-15]\n WARNING - 15:51:37:  [6.41776745e-15]\n WARNING - 15:51:37:  [6.41776745e-15]\n WARNING - 15:51:37:  [6.41776745e-15]\n WARNING - 15:51:37:  [6.41776744e-15]]\n    INFO - 15:51:37:     16%|\u2588\u258b        | 164/1000 [00:06&lt;00:31, 26.96 it/sec, obj=6.42e-15]\n WARNING - 15:51:37: Relative MSE: [[5.98599760e-13]\n WARNING - 15:51:37:  [5.98599760e-13]\n WARNING - 15:51:37:  [5.98599760e-13]\n WARNING - 15:51:37:  [5.98599761e-13]\n WARNING - 15:51:37:  [5.98599761e-13]\n WARNING - 15:51:37:  [5.98599760e-13]]\n    INFO - 15:51:37:     16%|\u2588\u258b        | 165/1000 [00:06&lt;00:30, 26.96 it/sec, obj=5.99e-13]\n WARNING - 15:51:37: Relative MSE: [[1.82245002e-13]\n WARNING - 15:51:37:  [1.82245002e-13]\n WARNING - 15:51:37:  [1.82245002e-13]\n WARNING - 15:51:37:  [1.82245002e-13]\n WARNING - 15:51:37:  [1.82245002e-13]\n WARNING - 15:51:37:  [1.82245002e-13]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 166/1000 [00:06&lt;00:30, 26.95 it/sec, obj=1.82e-13]\n WARNING - 15:51:37: Relative MSE: [[8.70197199e-15]\n WARNING - 15:51:37:  [8.70197199e-15]\n WARNING - 15:51:37:  [8.70197192e-15]\n WARNING - 15:51:37:  [8.70197195e-15]\n WARNING - 15:51:37:  [8.70197194e-15]\n WARNING - 15:51:37:  [8.70197195e-15]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 167/1000 [00:06&lt;00:30, 26.95 it/sec, obj=8.7e-15]\n WARNING - 15:51:37: Relative MSE: [[2.78251206e-14]\n WARNING - 15:51:37:  [2.78251205e-14]\n WARNING - 15:51:37:  [2.78251207e-14]\n WARNING - 15:51:37:  [2.78251206e-14]\n WARNING - 15:51:37:  [2.78251206e-14]\n WARNING - 15:51:37:  [2.78251206e-14]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 168/1000 [00:06&lt;00:30, 26.95 it/sec, obj=2.78e-14]\n WARNING - 15:51:37: Relative MSE: [[1.35145470e-15]\n WARNING - 15:51:37:  [1.35145472e-15]\n WARNING - 15:51:37:  [1.35145473e-15]\n WARNING - 15:51:37:  [1.35145473e-15]\n WARNING - 15:51:37:  [1.35145472e-15]\n WARNING - 15:51:37:  [1.35145472e-15]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 169/1000 [00:06&lt;00:30, 26.95 it/sec, obj=1.35e-15]\n WARNING - 15:51:37: Relative MSE: [[4.33845604e-17]\n WARNING - 15:51:37:  [4.33845626e-17]\n WARNING - 15:51:37:  [4.33845571e-17]\n WARNING - 15:51:37:  [4.33845584e-17]\n WARNING - 15:51:37:  [4.33845577e-17]\n WARNING - 15:51:37:  [4.33845600e-17]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 170/1000 [00:06&lt;00:30, 26.95 it/sec, obj=4.34e-17]\n WARNING - 15:51:37: Relative MSE: [[2.49355698e-15]\n WARNING - 15:51:37:  [2.49355698e-15]\n WARNING - 15:51:37:  [2.49355696e-15]\n WARNING - 15:51:37:  [2.49355697e-15]\n WARNING - 15:51:37:  [2.49355696e-15]\n WARNING - 15:51:37:  [2.49355698e-15]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 171/1000 [00:06&lt;00:30, 26.96 it/sec, obj=2.49e-15]\n WARNING - 15:51:37: Relative MSE: [[7.98690450e-16]\n WARNING - 15:51:37:  [7.98690459e-16]\n WARNING - 15:51:37:  [7.98690444e-16]\n WARNING - 15:51:37:  [7.98690437e-16]\n WARNING - 15:51:37:  [7.98690440e-16]\n WARNING - 15:51:37:  [7.98690440e-16]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 172/1000 [00:06&lt;00:30, 26.96 it/sec, obj=7.99e-16]\n WARNING - 15:51:37: Relative MSE: [[1.80668551e-17]\n WARNING - 15:51:37:  [1.80668552e-17]\n WARNING - 15:51:37:  [1.80668578e-17]\n WARNING - 15:51:37:  [1.80668576e-17]\n WARNING - 15:51:37:  [1.80668576e-17]\n WARNING - 15:51:37:  [1.80668570e-17]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 173/1000 [00:06&lt;00:30, 26.95 it/sec, obj=1.81e-17]\n WARNING - 15:51:37: Relative MSE: [[9.34918127e-17]\n WARNING - 15:51:37:  [9.34918147e-17]\n WARNING - 15:51:37:  [9.34918161e-17]\n WARNING - 15:51:37:  [9.34918163e-17]\n WARNING - 15:51:37:  [9.34918178e-17]\n WARNING - 15:51:37:  [9.34918157e-17]]\n    INFO - 15:51:37:     17%|\u2588\u258b        | 174/1000 [00:06&lt;00:30, 26.95 it/sec, obj=9.35e-17]\n WARNING - 15:51:37: Relative MSE: [[2.37532939e-18]\n WARNING - 15:51:37:  [2.37532929e-18]\n WARNING - 15:51:37:  [2.37533032e-18]\n WARNING - 15:51:37:  [2.37533020e-18]\n WARNING - 15:51:37:  [2.37532981e-18]\n WARNING - 15:51:37:  [2.37532995e-18]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 175/1000 [00:06&lt;00:30, 26.94 it/sec, obj=2.38e-18]\n WARNING - 15:51:37: Relative MSE: [[1.36443841e-18]\n WARNING - 15:51:37:  [1.36443816e-18]\n WARNING - 15:51:37:  [1.36443732e-18]\n WARNING - 15:51:37:  [1.36443790e-18]\n WARNING - 15:51:37:  [1.36443761e-18]\n WARNING - 15:51:37:  [1.36443768e-18]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 176/1000 [00:06&lt;00:30, 26.92 it/sec, obj=1.36e-18]\n WARNING - 15:51:37: Relative MSE: [[6.36423059e-18]\n WARNING - 15:51:37:  [6.36423109e-18]\n WARNING - 15:51:37:  [6.36422919e-18]\n WARNING - 15:51:37:  [6.36422955e-18]\n WARNING - 15:51:37:  [6.36422974e-18]\n WARNING - 15:51:37:  [6.36423006e-18]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 177/1000 [00:06&lt;00:30, 26.93 it/sec, obj=6.36e-18]\n WARNING - 15:51:37: Relative MSE: [[2.40851418e-19]\n WARNING - 15:51:37:  [2.40851482e-19]\n WARNING - 15:51:37:  [2.40851043e-19]\n WARNING - 15:51:37:  [2.40851186e-19]\n WARNING - 15:51:37:  [2.40851085e-19]\n WARNING - 15:51:37:  [2.40851276e-19]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 178/1000 [00:06&lt;00:30, 26.92 it/sec, obj=2.41e-19]\n WARNING - 15:51:37: Relative MSE: [[3.48043695e-20]\n WARNING - 15:51:37:  [3.48044170e-20]\n WARNING - 15:51:37:  [3.48044790e-20]\n WARNING - 15:51:37:  [3.48044597e-20]\n WARNING - 15:51:37:  [3.48044933e-20]\n WARNING - 15:51:37:  [3.48044280e-20]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 179/1000 [00:06&lt;00:30, 26.91 it/sec, obj=3.48e-20]\n WARNING - 15:51:37: Relative MSE: [[7.46297151e-19]\n WARNING - 15:51:37:  [7.46297079e-19]\n WARNING - 15:51:37:  [7.46297512e-19]\n WARNING - 15:51:37:  [7.46297268e-19]\n WARNING - 15:51:37:  [7.46297402e-19]\n WARNING - 15:51:37:  [7.46297445e-19]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 180/1000 [00:06&lt;00:30, 26.91 it/sec, obj=7.46e-19]\n WARNING - 15:51:37: Relative MSE: [[2.75858166e-19]\n WARNING - 15:51:37:  [2.75858305e-19]\n WARNING - 15:51:37:  [2.75858620e-19]\n WARNING - 15:51:37:  [2.75858422e-19]\n WARNING - 15:51:37:  [2.75858510e-19]\n WARNING - 15:51:37:  [2.75858431e-19]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 181/1000 [00:06&lt;00:30, 26.90 it/sec, obj=2.76e-19]\n WARNING - 15:51:37: Relative MSE: [[2.96801592e-22]\n WARNING - 15:51:37:  [2.96799625e-22]\n WARNING - 15:51:37:  [2.96809306e-22]\n WARNING - 15:51:37:  [2.96813182e-22]\n WARNING - 15:51:37:  [2.96813084e-22]\n WARNING - 15:51:37:  [2.96805336e-22]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 182/1000 [00:06&lt;00:30, 26.90 it/sec, obj=2.97e-22]\n WARNING - 15:51:37: Relative MSE: [[2.31354538e-20]\n WARNING - 15:51:37:  [2.31354719e-20]\n WARNING - 15:51:37:  [2.31353509e-20]\n WARNING - 15:51:37:  [2.31353810e-20]\n WARNING - 15:51:37:  [2.31353517e-20]\n WARNING - 15:51:37:  [2.31354353e-20]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 183/1000 [00:06&lt;00:30, 26.90 it/sec, obj=2.31e-20]\n WARNING - 15:51:37: Relative MSE: [[4.54785016e-21]\n WARNING - 15:51:37:  [4.54784577e-21]\n WARNING - 15:51:37:  [4.54782466e-21]\n WARNING - 15:51:37:  [4.54781136e-21]\n WARNING - 15:51:37:  [4.54781756e-21]\n WARNING - 15:51:37:  [4.54783875e-21]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 184/1000 [00:06&lt;00:30, 26.90 it/sec, obj=4.55e-21]\n WARNING - 15:51:37: Relative MSE: [[3.54748544e-21]\n WARNING - 15:51:37:  [3.54749496e-21]\n WARNING - 15:51:37:  [3.54752512e-21]\n WARNING - 15:51:37:  [3.54751696e-21]\n WARNING - 15:51:37:  [3.54751959e-21]\n WARNING - 15:51:37:  [3.54751055e-21]]\n    INFO - 15:51:37:     18%|\u2588\u258a        | 185/1000 [00:06&lt;00:30, 26.91 it/sec, obj=3.55e-21]\n WARNING - 15:51:37: Relative MSE: [[1.55109964e-23]\n WARNING - 15:51:37:  [1.55112577e-23]\n WARNING - 15:51:37:  [1.55089208e-23]\n WARNING - 15:51:37:  [1.55095254e-23]\n WARNING - 15:51:37:  [1.55103499e-23]\n WARNING - 15:51:37:  [1.55105373e-23]]\n    INFO - 15:51:37:     19%|\u2588\u258a        | 186/1000 [00:06&lt;00:30, 26.91 it/sec, obj=1.55e-23]\n WARNING - 15:51:37: Relative MSE: [[6.30256499e-22]\n WARNING - 15:51:37:  [6.30257114e-22]\n WARNING - 15:51:37:  [6.30241520e-22]\n WARNING - 15:51:37:  [6.30245655e-22]\n WARNING - 15:51:37:  [6.30246713e-22]\n WARNING - 15:51:37:  [6.30247123e-22]]\n    INFO - 15:51:37:     19%|\u2588\u258a        | 187/1000 [00:06&lt;00:30, 26.90 it/sec, obj=6.3e-22]\n WARNING - 15:51:37: Relative MSE: [[2.10881062e-22]\n WARNING - 15:51:37:  [2.10876485e-22]\n WARNING - 15:51:37:  [2.10870307e-22]\n WARNING - 15:51:37:  [2.10872617e-22]\n WARNING - 15:51:37:  [2.10871750e-22]\n WARNING - 15:51:37:  [2.10874907e-22]]\n    INFO - 15:51:37:     19%|\u2588\u2589        | 188/1000 [00:06&lt;00:30, 26.91 it/sec, obj=2.11e-22]\n WARNING - 15:51:38: Relative MSE: [[1.83086082e-24]\n WARNING - 15:51:38:  [1.83075083e-24]\n WARNING - 15:51:38:  [1.83141638e-24]\n WARNING - 15:51:38:  [1.83170951e-24]\n WARNING - 15:51:38:  [1.83149508e-24]\n WARNING - 15:51:38:  [1.83129462e-24]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 189/1000 [00:07&lt;00:30, 26.90 it/sec, obj=1.83e-24]\n WARNING - 15:51:38: Relative MSE: [[4.41529041e-23]\n WARNING - 15:51:38:  [4.41523044e-23]\n WARNING - 15:51:38:  [4.41549224e-23]\n WARNING - 15:51:38:  [4.41538268e-23]\n WARNING - 15:51:38:  [4.41556658e-23]\n WARNING - 15:51:38:  [4.41564076e-23]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 190/1000 [00:07&lt;00:30, 26.91 it/sec, obj=4.42e-23]\n WARNING - 15:51:38: Relative MSE: [[1.59921491e-23]\n WARNING - 15:51:38:  [1.59903640e-23]\n WARNING - 15:51:38:  [1.59943312e-23]\n WARNING - 15:51:38:  [1.59929657e-23]\n WARNING - 15:51:38:  [1.59932023e-23]\n WARNING - 15:51:38:  [1.59924089e-23]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 191/1000 [00:07&lt;00:30, 26.91 it/sec, obj=1.6e-23]\n WARNING - 15:51:38: Relative MSE: [[9.24071777e-28]\n WARNING - 15:51:38:  [9.10890317e-28]\n WARNING - 15:51:38:  [9.29364669e-28]\n WARNING - 15:51:38:  [9.33280418e-28]\n WARNING - 15:51:38:  [9.25134251e-28]\n WARNING - 15:51:38:  [9.15937048e-28]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 192/1000 [00:07&lt;00:30, 26.91 it/sec, obj=9.23e-28]\n WARNING - 15:51:38: Relative MSE: [[1.67095330e-24]\n WARNING - 15:51:38:  [1.67104871e-24]\n WARNING - 15:51:38:  [1.67011003e-24]\n WARNING - 15:51:38:  [1.67005829e-24]\n WARNING - 15:51:38:  [1.67054429e-24]\n WARNING - 15:51:38:  [1.67067077e-24]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 193/1000 [00:07&lt;00:30, 26.88 it/sec, obj=1.67e-24]\n WARNING - 15:51:38: Relative MSE: [[3.98434810e-25]\n WARNING - 15:51:38:  [3.98253074e-25]\n WARNING - 15:51:38:  [3.98177112e-25]\n WARNING - 15:51:38:  [3.98129356e-25]\n WARNING - 15:51:38:  [3.98094046e-25]\n WARNING - 15:51:38:  [3.98223914e-25]]\n    INFO - 15:51:38:     19%|\u2588\u2589        | 194/1000 [00:07&lt;00:29, 26.88 it/sec, obj=3.98e-25]\n WARNING - 15:51:38: Relative MSE: [[1.30469982e-25]\n WARNING - 15:51:38:  [1.30379226e-25]\n WARNING - 15:51:38:  [1.30623155e-25]\n WARNING - 15:51:38:  [1.30615734e-25]\n WARNING - 15:51:38:  [1.30659425e-25]\n WARNING - 15:51:38:  [1.30589699e-25]]\n    INFO - 15:51:38:     20%|\u2588\u2589        | 195/1000 [00:07&lt;00:29, 26.88 it/sec, obj=1.31e-25]\n WARNING - 15:51:38: Relative MSE: [[1.82264365e-26]\n WARNING - 15:51:38:  [1.82485153e-26]\n WARNING - 15:51:38:  [1.81703002e-26]\n WARNING - 15:51:38:  [1.81924893e-26]\n WARNING - 15:51:38:  [1.81796654e-26]\n WARNING - 15:51:38:  [1.81572577e-26]]\n    INFO - 15:51:38:     20%|\u2588\u2589        | 196/1000 [00:07&lt;00:29, 26.89 it/sec, obj=1.82e-26]\n WARNING - 15:51:38: Relative MSE: [[1.27715033e-26]\n WARNING - 15:51:38:  [1.27888260e-26]\n WARNING - 15:51:38:  [1.28392694e-26]\n WARNING - 15:51:38:  [1.28505563e-26]\n WARNING - 15:51:38:  [1.27990205e-26]\n WARNING - 15:51:38:  [1.27987144e-26]]\n    INFO - 15:51:38:     20%|\u2588\u2589        | 197/1000 [00:07&lt;00:29, 26.88 it/sec, obj=1.28e-26]\n WARNING - 15:51:38: Relative MSE: [[1.22911139e-28]\n WARNING - 15:51:38:  [1.23001265e-28]\n WARNING - 15:51:38:  [1.17401597e-28]\n WARNING - 15:51:38:  [1.19940986e-28]\n WARNING - 15:51:38:  [1.19734991e-28]\n WARNING - 15:51:38:  [1.20755448e-28]]\n    INFO - 15:51:38:     20%|\u2588\u2589        | 198/1000 [00:07&lt;00:29, 26.88 it/sec, obj=1.21e-28]\n WARNING - 15:51:38: Relative MSE: [[2.74500477e-27]\n WARNING - 15:51:38:  [2.74179440e-27]\n WARNING - 15:51:38:  [2.72023649e-27]\n WARNING - 15:51:38:  [2.71116835e-27]\n WARNING - 15:51:38:  [2.71599961e-27]\n WARNING - 15:51:38:  [2.72924836e-27]]\n    INFO - 15:51:38:     20%|\u2588\u2589        | 199/1000 [00:07&lt;00:29, 26.87 it/sec, obj=2.73e-27]\n WARNING - 15:51:38: Relative MSE: [[1.00173857e-27]\n WARNING - 15:51:38:  [1.00080256e-27]\n WARNING - 15:51:38:  [9.86193652e-28]\n WARNING - 15:51:38:  [9.92900206e-28]\n WARNING - 15:51:38:  [9.82404794e-28]\n WARNING - 15:51:38:  [9.93855303e-28]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 200/1000 [00:07&lt;00:29, 26.87 it/sec, obj=9.93e-28]\n WARNING - 15:51:38: Relative MSE: [[2.87773218e-31]\n WARNING - 15:51:38:  [5.28895524e-31]\n WARNING - 15:51:38:  [3.37263996e-32]\n WARNING - 15:51:38:  [1.47665111e-31]\n WARNING - 15:51:38:  [1.37586890e-31]\n WARNING - 15:51:38:  [2.92071763e-31]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 201/1000 [00:07&lt;00:29, 26.88 it/sec, obj=2.38e-31]\n WARNING - 15:51:38: Relative MSE: [[9.67237759e-29]\n WARNING - 15:51:38:  [9.63912093e-29]\n WARNING - 15:51:38:  [9.83461814e-29]\n WARNING - 15:51:38:  [9.98216150e-29]\n WARNING - 15:51:38:  [1.00300843e-28]\n WARNING - 15:51:38:  [9.81685647e-29]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 202/1000 [00:07&lt;00:29, 26.86 it/sec, obj=9.83e-29]\n WARNING - 15:51:38: Relative MSE: [[1.99842512e-29]\n WARNING - 15:51:38:  [1.90402389e-29]\n WARNING - 15:51:38:  [2.27990462e-29]\n WARNING - 15:51:38:  [2.30726736e-29]\n WARNING - 15:51:38:  [2.32521845e-29]\n WARNING - 15:51:38:  [2.19378346e-29]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 203/1000 [00:07&lt;00:29, 26.86 it/sec, obj=2.17e-29]\n WARNING - 15:51:38: Relative MSE: [[1.15429035e-29]\n WARNING - 15:51:38:  [1.07101344e-29]\n WARNING - 15:51:38:  [8.63395831e-30]\n WARNING - 15:51:38:  [9.45056710e-30]\n WARNING - 15:51:38:  [9.94065283e-30]\n WARNING - 15:51:38:  [1.05145835e-29]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 204/1000 [00:07&lt;00:29, 26.85 it/sec, obj=1.01e-29]\n WARNING - 15:51:38: Relative MSE: [[5.11596831e-31]\n WARNING - 15:51:38:  [2.97503732e-31]\n WARNING - 15:51:38:  [8.43159991e-31]\n WARNING - 15:51:38:  [5.90660444e-31]\n WARNING - 15:51:38:  [5.50347562e-31]\n WARNING - 15:51:38:  [8.11310452e-31]]\n    INFO - 15:51:38:     20%|\u2588\u2588        | 205/1000 [00:07&lt;00:29, 26.85 it/sec, obj=6.01e-31]\n WARNING - 15:51:38: Relative MSE: [[1.56676530e-30]\n WARNING - 15:51:38:  [1.61974254e-30]\n WARNING - 15:51:38:  [1.21415039e-30]\n WARNING - 15:51:38:  [1.32898600e-30]\n WARNING - 15:51:38:  [1.23828201e-30]\n WARNING - 15:51:38:  [1.16828705e-30]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 206/1000 [00:07&lt;00:29, 26.85 it/sec, obj=1.36e-30]\n WARNING - 15:51:38: Relative MSE: [[0.00963003]\n WARNING - 15:51:38:  [0.00963003]\n WARNING - 15:51:38:  [0.00963003]\n WARNING - 15:51:38:  [0.00963003]\n WARNING - 15:51:38:  [0.00963003]\n WARNING - 15:51:38:  [0.00963003]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 207/1000 [00:07&lt;00:29, 26.83 it/sec, obj=0.00963]\n WARNING - 15:51:38: Relative MSE: [[0.00277499]\n WARNING - 15:51:38:  [0.00277499]\n WARNING - 15:51:38:  [0.00277499]\n WARNING - 15:51:38:  [0.00277499]\n WARNING - 15:51:38:  [0.00277499]\n WARNING - 15:51:38:  [0.00277499]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 208/1000 [00:07&lt;00:29, 26.84 it/sec, obj=0.00277]\n WARNING - 15:51:38: Relative MSE: [[5.21806319e-05]\n WARNING - 15:51:38:  [5.21806319e-05]\n WARNING - 15:51:38:  [5.21806319e-05]\n WARNING - 15:51:38:  [5.21806319e-05]\n WARNING - 15:51:38:  [5.21806319e-05]\n WARNING - 15:51:38:  [5.21806319e-05]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 209/1000 [00:07&lt;00:29, 26.83 it/sec, obj=5.22e-5]\n WARNING - 15:51:38: Relative MSE: [[0.0014616]\n WARNING - 15:51:38:  [0.0014616]\n WARNING - 15:51:38:  [0.0014616]\n WARNING - 15:51:38:  [0.0014616]\n WARNING - 15:51:38:  [0.0014616]\n WARNING - 15:51:38:  [0.0014616]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 210/1000 [00:07&lt;00:29, 26.82 it/sec, obj=0.00146]\n WARNING - 15:51:38: Relative MSE: [[0.00024036]\n WARNING - 15:51:38:  [0.00024036]\n WARNING - 15:51:38:  [0.00024036]\n WARNING - 15:51:38:  [0.00024036]\n WARNING - 15:51:38:  [0.00024036]\n WARNING - 15:51:38:  [0.00024036]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 211/1000 [00:07&lt;00:29, 26.82 it/sec, obj=0.00024]\n WARNING - 15:51:38: Relative MSE: [[0.00034549]\n WARNING - 15:51:38:  [0.00034549]\n WARNING - 15:51:38:  [0.00034549]\n WARNING - 15:51:38:  [0.00034549]\n WARNING - 15:51:38:  [0.00034549]\n WARNING - 15:51:38:  [0.00034549]]\n    INFO - 15:51:38:     21%|\u2588\u2588        | 212/1000 [00:07&lt;00:29, 26.82 it/sec, obj=0.000345]\n WARNING - 15:51:38: Relative MSE: [[2.37714131e-06]\n WARNING - 15:51:38:  [2.37714131e-06]\n WARNING - 15:51:38:  [2.37714131e-06]\n WARNING - 15:51:38:  [2.37714131e-06]\n WARNING - 15:51:38:  [2.37714131e-06]\n WARNING - 15:51:38:  [2.37714131e-06]]\n    INFO - 15:51:38:     21%|\u2588\u2588\u258f       | 213/1000 [00:07&lt;00:29, 26.82 it/sec, obj=2.38e-6]\n WARNING - 15:51:38: Relative MSE: [[1.71397665e-05]\n WARNING - 15:51:38:  [1.71397665e-05]\n WARNING - 15:51:38:  [1.71397665e-05]\n WARNING - 15:51:38:  [1.71397665e-05]\n WARNING - 15:51:38:  [1.71397665e-05]\n WARNING - 15:51:38:  [1.71397665e-05]]\n    INFO - 15:51:38:     21%|\u2588\u2588\u258f       | 214/1000 [00:07&lt;00:29, 26.82 it/sec, obj=1.71e-5]\n WARNING - 15:51:39: Relative MSE: [[1.68768942e-06]\n WARNING - 15:51:39:  [1.68768942e-06]\n WARNING - 15:51:39:  [1.68768942e-06]\n WARNING - 15:51:39:  [1.68768942e-06]\n WARNING - 15:51:39:  [1.68768942e-06]\n WARNING - 15:51:39:  [1.68768942e-06]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 215/1000 [00:08&lt;00:29, 26.82 it/sec, obj=1.69e-6]\n WARNING - 15:51:39: Relative MSE: [[7.39603683e-06]\n WARNING - 15:51:39:  [7.39603683e-06]\n WARNING - 15:51:39:  [7.39603683e-06]\n WARNING - 15:51:39:  [7.39603683e-06]\n WARNING - 15:51:39:  [7.39603683e-06]\n WARNING - 15:51:39:  [7.39603683e-06]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 216/1000 [00:08&lt;00:29, 26.82 it/sec, obj=7.4e-6]\n WARNING - 15:51:39: Relative MSE: [[3.4678406e-07]\n WARNING - 15:51:39:  [3.4678406e-07]\n WARNING - 15:51:39:  [3.4678406e-07]\n WARNING - 15:51:39:  [3.4678406e-07]\n WARNING - 15:51:39:  [3.4678406e-07]\n WARNING - 15:51:39:  [3.4678406e-07]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 217/1000 [00:08&lt;00:29, 26.83 it/sec, obj=3.47e-7]\n WARNING - 15:51:39: Relative MSE: [[1.47242528e-08]\n WARNING - 15:51:39:  [1.47242528e-08]\n WARNING - 15:51:39:  [1.47242528e-08]\n WARNING - 15:51:39:  [1.47242528e-08]\n WARNING - 15:51:39:  [1.47242528e-08]\n WARNING - 15:51:39:  [1.47242528e-08]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 218/1000 [00:08&lt;00:29, 26.82 it/sec, obj=1.47e-8]\n WARNING - 15:51:39: Relative MSE: [[6.91510004e-07]\n WARNING - 15:51:39:  [6.91510004e-07]\n WARNING - 15:51:39:  [6.91510004e-07]\n WARNING - 15:51:39:  [6.91510004e-07]\n WARNING - 15:51:39:  [6.91510004e-07]\n WARNING - 15:51:39:  [6.91510004e-07]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 219/1000 [00:08&lt;00:29, 26.81 it/sec, obj=6.92e-7]\n WARNING - 15:51:39: Relative MSE: [[2.27011434e-07]\n WARNING - 15:51:39:  [2.27011434e-07]\n WARNING - 15:51:39:  [2.27011434e-07]\n WARNING - 15:51:39:  [2.27011434e-07]\n WARNING - 15:51:39:  [2.27011434e-07]\n WARNING - 15:51:39:  [2.27011434e-07]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 220/1000 [00:08&lt;00:29, 26.80 it/sec, obj=2.27e-7]\n WARNING - 15:51:39: Relative MSE: [[3.15993351e-09]\n WARNING - 15:51:39:  [3.15993351e-09]\n WARNING - 15:51:39:  [3.15993351e-09]\n WARNING - 15:51:39:  [3.15993351e-09]\n WARNING - 15:51:39:  [3.15993351e-09]\n WARNING - 15:51:39:  [3.15993351e-09]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 221/1000 [00:08&lt;00:29, 26.80 it/sec, obj=3.16e-9]\n WARNING - 15:51:39: Relative MSE: [[5.46484616e-08]\n WARNING - 15:51:39:  [5.46484616e-08]\n WARNING - 15:51:39:  [5.46484616e-08]\n WARNING - 15:51:39:  [5.46484616e-08]\n WARNING - 15:51:39:  [5.46484616e-08]\n WARNING - 15:51:39:  [5.46484616e-08]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 222/1000 [00:08&lt;00:29, 26.80 it/sec, obj=5.46e-8]\n WARNING - 15:51:39: Relative MSE: [[2.10225916e-08]\n WARNING - 15:51:39:  [2.10225916e-08]\n WARNING - 15:51:39:  [2.10225916e-08]\n WARNING - 15:51:39:  [2.10225916e-08]\n WARNING - 15:51:39:  [2.10225916e-08]\n WARNING - 15:51:39:  [2.10225916e-08]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 223/1000 [00:08&lt;00:28, 26.80 it/sec, obj=2.1e-8]\n WARNING - 15:51:39: Relative MSE: [[1.398089e-10]\n WARNING - 15:51:39:  [1.398089e-10]\n WARNING - 15:51:39:  [1.398089e-10]\n WARNING - 15:51:39:  [1.398089e-10]\n WARNING - 15:51:39:  [1.398089e-10]\n WARNING - 15:51:39:  [1.398089e-10]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258f       | 224/1000 [00:08&lt;00:28, 26.80 it/sec, obj=1.4e-10]\n WARNING - 15:51:39: Relative MSE: [[1.06048725e-09]\n WARNING - 15:51:39:  [1.06048725e-09]\n WARNING - 15:51:39:  [1.06048725e-09]\n WARNING - 15:51:39:  [1.06048725e-09]\n WARNING - 15:51:39:  [1.06048725e-09]\n WARNING - 15:51:39:  [1.06048725e-09]]\n    INFO - 15:51:39:     22%|\u2588\u2588\u258e       | 225/1000 [00:08&lt;00:28, 26.80 it/sec, obj=1.06e-9]\n WARNING - 15:51:39: Relative MSE: [[1.07547704e-10]\n WARNING - 15:51:39:  [1.07547704e-10]\n WARNING - 15:51:39:  [1.07547704e-10]\n WARNING - 15:51:39:  [1.07547704e-10]\n WARNING - 15:51:39:  [1.07547704e-10]\n WARNING - 15:51:39:  [1.07547704e-10]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 226/1000 [00:08&lt;00:28, 26.80 it/sec, obj=1.08e-10]\n WARNING - 15:51:39: Relative MSE: [[4.60867383e-10]\n WARNING - 15:51:39:  [4.60867383e-10]\n WARNING - 15:51:39:  [4.60867383e-10]\n WARNING - 15:51:39:  [4.60867383e-10]\n WARNING - 15:51:39:  [4.60867383e-10]\n WARNING - 15:51:39:  [4.60867383e-10]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 227/1000 [00:08&lt;00:28, 26.80 it/sec, obj=4.61e-10]\n WARNING - 15:51:39: Relative MSE: [[2.32504335e-11]\n WARNING - 15:51:39:  [2.32504335e-11]\n WARNING - 15:51:39:  [2.32504335e-11]\n WARNING - 15:51:39:  [2.32504335e-11]\n WARNING - 15:51:39:  [2.32504335e-11]\n WARNING - 15:51:39:  [2.32504335e-11]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 228/1000 [00:08&lt;00:28, 26.80 it/sec, obj=2.33e-11]\n WARNING - 15:51:39: Relative MSE: [[5.28209512e-13]\n WARNING - 15:51:39:  [5.28209512e-13]\n WARNING - 15:51:39:  [5.28209512e-13]\n WARNING - 15:51:39:  [5.28209512e-13]\n WARNING - 15:51:39:  [5.28209512e-13]\n WARNING - 15:51:39:  [5.28209512e-13]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 229/1000 [00:08&lt;00:28, 26.80 it/sec, obj=5.28e-13]\n WARNING - 15:51:39: Relative MSE: [[3.93810318e-11]\n WARNING - 15:51:39:  [3.93810318e-11]\n WARNING - 15:51:39:  [3.93810318e-11]\n WARNING - 15:51:39:  [3.93810318e-11]\n WARNING - 15:51:39:  [3.93810318e-11]\n WARNING - 15:51:39:  [3.93810318e-11]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 230/1000 [00:08&lt;00:28, 26.80 it/sec, obj=3.94e-11]\n WARNING - 15:51:39: Relative MSE: [[1.22577399e-11]\n WARNING - 15:51:39:  [1.22577399e-11]\n WARNING - 15:51:39:  [1.22577399e-11]\n WARNING - 15:51:39:  [1.22577399e-11]\n WARNING - 15:51:39:  [1.22577399e-11]\n WARNING - 15:51:39:  [1.22577399e-11]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 231/1000 [00:08&lt;00:28, 26.80 it/sec, obj=1.23e-11]\n WARNING - 15:51:39: Relative MSE: [[4.36104921e-13]\n WARNING - 15:51:39:  [4.36104921e-13]\n WARNING - 15:51:39:  [4.36104922e-13]\n WARNING - 15:51:39:  [4.36104921e-13]\n WARNING - 15:51:39:  [4.36104922e-13]\n WARNING - 15:51:39:  [4.36104921e-13]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 232/1000 [00:08&lt;00:28, 26.81 it/sec, obj=4.36e-13]\n WARNING - 15:51:39: Relative MSE: [[1.83321777e-12]\n WARNING - 15:51:39:  [1.83321777e-12]\n WARNING - 15:51:39:  [1.83321777e-12]\n WARNING - 15:51:39:  [1.83321777e-12]\n WARNING - 15:51:39:  [1.83321777e-12]\n WARNING - 15:51:39:  [1.83321777e-12]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 233/1000 [00:08&lt;00:28, 26.81 it/sec, obj=1.83e-12]\n WARNING - 15:51:39: Relative MSE: [[9.83397824e-14]\n WARNING - 15:51:39:  [9.83397824e-14]\n WARNING - 15:51:39:  [9.83397826e-14]\n WARNING - 15:51:39:  [9.83397826e-14]\n WARNING - 15:51:39:  [9.83397825e-14]\n WARNING - 15:51:39:  [9.83397825e-14]]\n    INFO - 15:51:39:     23%|\u2588\u2588\u258e       | 234/1000 [00:08&lt;00:28, 26.82 it/sec, obj=9.83e-14]\n WARNING - 15:51:39: Relative MSE: [[1.10216800e-15]\n WARNING - 15:51:39:  [1.10216800e-15]\n WARNING - 15:51:39:  [1.10216799e-15]\n WARNING - 15:51:39:  [1.10216798e-15]\n WARNING - 15:51:39:  [1.10216799e-15]\n WARNING - 15:51:39:  [1.10216799e-15]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258e       | 235/1000 [00:08&lt;00:28, 26.81 it/sec, obj=1.1e-15]\n WARNING - 15:51:39: Relative MSE: [[1.44392078e-13]\n WARNING - 15:51:39:  [1.44392078e-13]\n WARNING - 15:51:39:  [1.44392078e-13]\n WARNING - 15:51:39:  [1.44392078e-13]\n WARNING - 15:51:39:  [1.44392078e-13]\n WARNING - 15:51:39:  [1.44392078e-13]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258e       | 236/1000 [00:08&lt;00:28, 26.81 it/sec, obj=1.44e-13]\n WARNING - 15:51:39: Relative MSE: [[4.26811824e-14]\n WARNING - 15:51:39:  [4.26811825e-14]\n WARNING - 15:51:39:  [4.26811824e-14]\n WARNING - 15:51:39:  [4.26811824e-14]\n WARNING - 15:51:39:  [4.26811824e-14]\n WARNING - 15:51:39:  [4.26811824e-14]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258e       | 237/1000 [00:08&lt;00:28, 26.82 it/sec, obj=4.27e-14]\n WARNING - 15:51:39: Relative MSE: [[2.86211619e-15]\n WARNING - 15:51:39:  [2.86211620e-15]\n WARNING - 15:51:39:  [2.86211622e-15]\n WARNING - 15:51:39:  [2.86211621e-15]\n WARNING - 15:51:39:  [2.86211622e-15]\n WARNING - 15:51:39:  [2.86211620e-15]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258d       | 238/1000 [00:08&lt;00:28, 26.81 it/sec, obj=2.86e-15]\n WARNING - 15:51:39: Relative MSE: [[5.85955778e-15]\n WARNING - 15:51:39:  [5.85955775e-15]\n WARNING - 15:51:39:  [5.85955771e-15]\n WARNING - 15:51:39:  [5.85955774e-15]\n WARNING - 15:51:39:  [5.85955771e-15]\n WARNING - 15:51:39:  [5.85955774e-15]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258d       | 239/1000 [00:08&lt;00:28, 26.81 it/sec, obj=5.86e-15]\n WARNING - 15:51:39: Relative MSE: [[1.32814090e-16]\n WARNING - 15:51:39:  [1.32814086e-16]\n WARNING - 15:51:39:  [1.32814084e-16]\n WARNING - 15:51:39:  [1.32814085e-16]\n WARNING - 15:51:39:  [1.32814084e-16]\n WARNING - 15:51:39:  [1.32814085e-16]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258d       | 240/1000 [00:08&lt;00:28, 26.81 it/sec, obj=1.33e-16]\n WARNING - 15:51:39: Relative MSE: [[1.03020813e-16]\n WARNING - 15:51:39:  [1.03020809e-16]\n WARNING - 15:51:39:  [1.03020818e-16]\n WARNING - 15:51:39:  [1.03020819e-16]\n WARNING - 15:51:39:  [1.03020815e-16]\n WARNING - 15:51:39:  [1.03020814e-16]]\n    INFO - 15:51:39:     24%|\u2588\u2588\u258d       | 241/1000 [00:08&lt;00:28, 26.80 it/sec, obj=1.03e-16]\n WARNING - 15:51:40: Relative MSE: [[4.40459412e-16]\n WARNING - 15:51:40:  [4.40459419e-16]\n WARNING - 15:51:40:  [4.40459425e-16]\n WARNING - 15:51:40:  [4.40459425e-16]\n WARNING - 15:51:40:  [4.40459422e-16]\n WARNING - 15:51:40:  [4.40459424e-16]]\n    INFO - 15:51:40:     24%|\u2588\u2588\u258d       | 242/1000 [00:09&lt;00:28, 26.80 it/sec, obj=4.4e-16]\n WARNING - 15:51:40: Relative MSE: [[2.23853205e-17]\n WARNING - 15:51:40:  [2.23853195e-17]\n WARNING - 15:51:40:  [2.23853225e-17]\n WARNING - 15:51:40:  [2.23853229e-17]\n WARNING - 15:51:40:  [2.23853221e-17]\n WARNING - 15:51:40:  [2.23853219e-17]]\n    INFO - 15:51:40:     24%|\u2588\u2588\u258d       | 243/1000 [00:09&lt;00:28, 26.79 it/sec, obj=2.24e-17]\n WARNING - 15:51:40: Relative MSE: [[4.72369144e-19]\n WARNING - 15:51:40:  [4.72369407e-19]\n WARNING - 15:51:40:  [4.72368903e-19]\n WARNING - 15:51:40:  [4.72368884e-19]\n WARNING - 15:51:40:  [4.72369107e-19]\n WARNING - 15:51:40:  [4.72369070e-19]]\n    INFO - 15:51:40:     24%|\u2588\u2588\u258d       | 244/1000 [00:09&lt;00:28, 26.79 it/sec, obj=4.72e-19]\n WARNING - 15:51:40: Relative MSE: [[3.72819571e-17]\n WARNING - 15:51:40:  [3.72819583e-17]\n WARNING - 15:51:40:  [3.72819532e-17]\n WARNING - 15:51:40:  [3.72819534e-17]\n WARNING - 15:51:40:  [3.72819540e-17]\n WARNING - 15:51:40:  [3.72819577e-17]]\n    INFO - 15:51:40:     24%|\u2588\u2588\u258d       | 245/1000 [00:09&lt;00:28, 26.79 it/sec, obj=3.73e-17]\n WARNING - 15:51:40: Relative MSE: [[4.08852768e-18]\n WARNING - 15:51:40:  [4.08852782e-18]\n WARNING - 15:51:40:  [4.08852920e-18]\n WARNING - 15:51:40:  [4.08852858e-18]\n WARNING - 15:51:40:  [4.08852845e-18]\n WARNING - 15:51:40:  [4.08852810e-18]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258d       | 246/1000 [00:09&lt;00:28, 26.78 it/sec, obj=4.09e-18]\n WARNING - 15:51:40: Relative MSE: [[4.16952883e-18]\n WARNING - 15:51:40:  [4.16952823e-18]\n WARNING - 15:51:40:  [4.16952742e-18]\n WARNING - 15:51:40:  [4.16952742e-18]\n WARNING - 15:51:40:  [4.16952719e-18]\n WARNING - 15:51:40:  [4.16952798e-18]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258d       | 247/1000 [00:09&lt;00:28, 26.77 it/sec, obj=4.17e-18]\n WARNING - 15:51:40: Relative MSE: [[9.93190839e-23]\n WARNING - 15:51:40:  [9.93191285e-23]\n WARNING - 15:51:40:  [9.93101391e-23]\n WARNING - 15:51:40:  [9.93116421e-23]\n WARNING - 15:51:40:  [9.93114313e-23]\n WARNING - 15:51:40:  [9.93142129e-23]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258d       | 248/1000 [00:09&lt;00:28, 26.77 it/sec, obj=9.93e-23]\n WARNING - 15:51:40: Relative MSE: [[4.45369008e-19]\n WARNING - 15:51:40:  [4.45369023e-19]\n WARNING - 15:51:40:  [4.45369495e-19]\n WARNING - 15:51:40:  [4.45369275e-19]\n WARNING - 15:51:40:  [4.45369272e-19]\n WARNING - 15:51:40:  [4.45369112e-19]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258d       | 249/1000 [00:09&lt;00:28, 26.76 it/sec, obj=4.45e-19]\n WARNING - 15:51:40: Relative MSE: [[1.08041722e-19]\n WARNING - 15:51:40:  [1.08041726e-19]\n WARNING - 15:51:40:  [1.08041870e-19]\n WARNING - 15:51:40:  [1.08041851e-19]\n WARNING - 15:51:40:  [1.08041854e-19]\n WARNING - 15:51:40:  [1.08041828e-19]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258c       | 250/1000 [00:09&lt;00:28, 26.76 it/sec, obj=1.08e-19]\n WARNING - 15:51:40: Relative MSE: [[3.21474425e-20]\n WARNING - 15:51:40:  [3.21474431e-20]\n WARNING - 15:51:40:  [3.21473706e-20]\n WARNING - 15:51:40:  [3.21474076e-20]\n WARNING - 15:51:40:  [3.21473683e-20]\n WARNING - 15:51:40:  [3.21474362e-20]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258c       | 251/1000 [00:09&lt;00:27, 26.76 it/sec, obj=3.21e-20]\n WARNING - 15:51:40: Relative MSE: [[5.58008456e-21]\n WARNING - 15:51:40:  [5.58007128e-21]\n WARNING - 15:51:40:  [5.58013009e-21]\n WARNING - 15:51:40:  [5.58012090e-21]\n WARNING - 15:51:40:  [5.58010122e-21]\n WARNING - 15:51:40:  [5.58009795e-21]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258c       | 252/1000 [00:09&lt;00:27, 26.76 it/sec, obj=5.58e-21]\n WARNING - 15:51:40: Relative MSE: [[2.73513913e-21]\n WARNING - 15:51:40:  [2.73515338e-21]\n WARNING - 15:51:40:  [2.73510311e-21]\n WARNING - 15:51:40:  [2.73511128e-21]\n WARNING - 15:51:40:  [2.73511278e-21]\n WARNING - 15:51:40:  [2.73512411e-21]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258c       | 253/1000 [00:09&lt;00:27, 26.76 it/sec, obj=2.74e-21]\n WARNING - 15:51:40: Relative MSE: [[1.25453744e-22]\n WARNING - 15:51:40:  [1.25453226e-22]\n WARNING - 15:51:40:  [1.25458904e-22]\n WARNING - 15:51:40:  [1.25457150e-22]\n WARNING - 15:51:40:  [1.25459818e-22]\n WARNING - 15:51:40:  [1.25460377e-22]]\n    INFO - 15:51:40:     25%|\u2588\u2588\u258c       | 254/1000 [00:09&lt;00:27, 26.76 it/sec, obj=1.25e-22]\n WARNING - 15:51:40: Relative MSE: [[4.22256577e-22]\n WARNING - 15:51:40:  [4.22256055e-22]\n WARNING - 15:51:40:  [4.22248442e-22]\n WARNING - 15:51:40:  [4.22251656e-22]\n WARNING - 15:51:40:  [4.22245692e-22]\n WARNING - 15:51:40:  [4.22254918e-22]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 255/1000 [00:09&lt;00:27, 26.76 it/sec, obj=4.22e-22]\n WARNING - 15:51:40: Relative MSE: [[2.18483694e-23]\n WARNING - 15:51:40:  [2.18484322e-23]\n WARNING - 15:51:40:  [2.18463901e-23]\n WARNING - 15:51:40:  [2.18453652e-23]\n WARNING - 15:51:40:  [2.18450283e-23]\n WARNING - 15:51:40:  [2.18468029e-23]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 256/1000 [00:09&lt;00:27, 26.76 it/sec, obj=2.18e-23]\n WARNING - 15:51:40: Relative MSE: [[3.81463096e-25]\n WARNING - 15:51:40:  [3.81452972e-25]\n WARNING - 15:51:40:  [3.81437789e-25]\n WARNING - 15:51:40:  [3.81574953e-25]\n WARNING - 15:51:40:  [3.81650934e-25]\n WARNING - 15:51:40:  [3.81354336e-25]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 257/1000 [00:09&lt;00:27, 26.76 it/sec, obj=3.81e-25]\n WARNING - 15:51:40: Relative MSE: [[3.49155892e-23]\n WARNING - 15:51:40:  [3.49153686e-23]\n WARNING - 15:51:40:  [3.49211130e-23]\n WARNING - 15:51:40:  [3.49202713e-23]\n WARNING - 15:51:40:  [3.49212991e-23]\n WARNING - 15:51:40:  [3.49178673e-23]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 258/1000 [00:09&lt;00:27, 26.77 it/sec, obj=3.49e-23]\n WARNING - 15:51:40: Relative MSE: [[4.11399470e-24]\n WARNING - 15:51:40:  [4.11476252e-24]\n WARNING - 15:51:40:  [4.11286189e-24]\n WARNING - 15:51:40:  [4.11354893e-24]\n WARNING - 15:51:40:  [4.11296145e-24]\n WARNING - 15:51:40:  [4.11383341e-24]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 259/1000 [00:09&lt;00:27, 26.76 it/sec, obj=4.11e-24]\n WARNING - 15:51:40: Relative MSE: [[3.76484751e-24]\n WARNING - 15:51:40:  [3.76479681e-24]\n WARNING - 15:51:40:  [3.76594000e-24]\n WARNING - 15:51:40:  [3.76582949e-24]\n WARNING - 15:51:40:  [3.76627932e-24]\n WARNING - 15:51:40:  [3.76494914e-24]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 260/1000 [00:09&lt;00:27, 26.76 it/sec, obj=3.77e-24]\n WARNING - 15:51:40: Relative MSE: [[1.95075069e-27]\n WARNING - 15:51:40:  [1.93588984e-27]\n WARNING - 15:51:40:  [1.91039818e-27]\n WARNING - 15:51:40:  [1.91905578e-27]\n WARNING - 15:51:40:  [1.91575986e-27]\n WARNING - 15:51:40:  [1.91628283e-27]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 261/1000 [00:09&lt;00:27, 26.75 it/sec, obj=1.92e-27]\n WARNING - 15:51:40: Relative MSE: [[4.97624642e-25]\n WARNING - 15:51:40:  [4.97637799e-25]\n WARNING - 15:51:40:  [4.97315999e-25]\n WARNING - 15:51:40:  [4.97492656e-25]\n WARNING - 15:51:40:  [4.97473229e-25]\n WARNING - 15:51:40:  [4.97659648e-25]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258c       | 262/1000 [00:09&lt;00:27, 26.76 it/sec, obj=4.98e-25]\n WARNING - 15:51:40: Relative MSE: [[1.40338205e-25]\n WARNING - 15:51:40:  [1.40548829e-25]\n WARNING - 15:51:40:  [1.40218215e-25]\n WARNING - 15:51:40:  [1.40230210e-25]\n WARNING - 15:51:40:  [1.40213459e-25]\n WARNING - 15:51:40:  [1.40267172e-25]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258b       | 263/1000 [00:09&lt;00:27, 26.75 it/sec, obj=1.4e-25]\n WARNING - 15:51:40: Relative MSE: [[1.46983049e-26]\n WARNING - 15:51:40:  [1.47062376e-26]\n WARNING - 15:51:40:  [1.47803923e-26]\n WARNING - 15:51:40:  [1.47452473e-26]\n WARNING - 15:51:40:  [1.47570539e-26]\n WARNING - 15:51:40:  [1.47423547e-26]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258b       | 264/1000 [00:09&lt;00:27, 26.74 it/sec, obj=1.47e-26]\n WARNING - 15:51:40: Relative MSE: [[1.60278171e-26]\n WARNING - 15:51:40:  [1.60588879e-26]\n WARNING - 15:51:40:  [1.60106302e-26]\n WARNING - 15:51:40:  [1.60320380e-26]\n WARNING - 15:51:40:  [1.60456927e-26]\n WARNING - 15:51:40:  [1.60382771e-26]]\n    INFO - 15:51:40:     26%|\u2588\u2588\u258b       | 265/1000 [00:09&lt;00:27, 26.73 it/sec, obj=1.6e-26]\n WARNING - 15:51:40: Relative MSE: [[8.18554930e-30]\n WARNING - 15:51:40:  [7.43759331e-30]\n WARNING - 15:51:40:  [5.69976154e-30]\n WARNING - 15:51:40:  [6.23885094e-30]\n WARNING - 15:51:40:  [5.81304612e-30]\n WARNING - 15:51:40:  [7.30179407e-30]]\n    INFO - 15:51:40:     27%|\u2588\u2588\u258b       | 266/1000 [00:09&lt;00:27, 26.73 it/sec, obj=6.78e-30]\n WARNING - 15:51:40: Relative MSE: [[1.49181636e-27]\n WARNING - 15:51:40:  [1.49971632e-27]\n WARNING - 15:51:40:  [1.51579931e-27]\n WARNING - 15:51:40:  [1.50633180e-27]\n WARNING - 15:51:40:  [1.51689547e-27]\n WARNING - 15:51:40:  [1.51410002e-27]]\n    INFO - 15:51:40:     27%|\u2588\u2588\u258b       | 267/1000 [00:09&lt;00:27, 26.74 it/sec, obj=1.51e-27]\n WARNING - 15:51:41: Relative MSE: [[3.26174955e-28]\n WARNING - 15:51:41:  [3.30559703e-28]\n WARNING - 15:51:41:  [3.37263996e-28]\n WARNING - 15:51:41:  [3.40220416e-28]\n WARNING - 15:51:41:  [3.30346124e-28]\n WARNING - 15:51:41:  [3.37634958e-28]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 268/1000 [00:10&lt;00:27, 26.73 it/sec, obj=3.34e-28]\n WARNING - 15:51:41: Relative MSE: [[1.75094016e-28]\n WARNING - 15:51:41:  [1.76155266e-28]\n WARNING - 15:51:41:  [1.65259358e-28]\n WARNING - 15:51:41:  [1.65717171e-28]\n WARNING - 15:51:41:  [1.68543941e-28]\n WARNING - 15:51:41:  [1.68233335e-28]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 269/1000 [00:10&lt;00:27, 26.74 it/sec, obj=1.7e-28]\n WARNING - 15:51:41: Relative MSE: [[6.26706118e-30]\n WARNING - 15:51:41:  [6.47897017e-30]\n WARNING - 15:51:41:  [8.63395831e-30]\n WARNING - 15:51:41:  [8.30616249e-30]\n WARNING - 15:51:41:  [7.73926258e-30]\n WARNING - 15:51:41:  [7.30179407e-30]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 270/1000 [00:10&lt;00:27, 26.74 it/sec, obj=7.45e-30]\n WARNING - 15:51:41: Relative MSE: [[2.68908084e-29]\n WARNING - 15:51:41:  [2.78000710e-29]\n WARNING - 15:51:41:  [2.45865453e-29]\n WARNING - 15:51:41:  [2.49554038e-29]\n WARNING - 15:51:41:  [2.50752108e-29]\n WARNING - 15:51:41:  [2.54426958e-29]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 271/1000 [00:10&lt;00:27, 26.74 it/sec, obj=2.58e-29]\n WARNING - 15:51:41: Relative MSE: [[2.58995896e-30]\n WARNING - 15:51:41:  [2.11558210e-30]\n WARNING - 15:51:41:  [1.21415039e-30]\n WARNING - 15:51:41:  [1.32898600e-30]\n WARNING - 15:51:41:  [1.68543941e-30]\n WARNING - 15:51:41:  [1.59016849e-30]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 272/1000 [00:10&lt;00:27, 26.74 it/sec, obj=1.75e-30]\n WARNING - 15:51:41: Relative MSE: [[1.56676530e-30]\n WARNING - 15:51:41:  [1.61974254e-30]\n WARNING - 15:51:41:  [2.73183837e-30]\n WARNING - 15:51:41:  [2.99021850e-30]\n WARNING - 15:51:41:  [2.20139025e-30]\n WARNING - 15:51:41:  [2.07695476e-30]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 273/1000 [00:10&lt;00:27, 26.74 it/sec, obj=2.2e-30]\n WARNING - 15:51:41: Relative MSE: [[3.19748020e-32]\n WARNING - 15:51:41:  [0.00000000e+00]\n WARNING - 15:51:41:  [1.34905599e-31]\n WARNING - 15:51:41:  [3.69162777e-32]\n WARNING - 15:51:41:  [1.37586890e-31]\n WARNING - 15:51:41:  [3.24524181e-32]]\n    INFO - 15:51:41:     27%|\u2588\u2588\u258b       | 274/1000 [00:10&lt;00:27, 26.74 it/sec, obj=6.23e-32]\n WARNING - 15:51:41: Relative MSE: [[1.27899208e-31]\n WARNING - 15:51:41:  [3.30559703e-32]\n WARNING - 15:51:41:  [0.00000000e+00]\n WARNING - 15:51:41:  [0.00000000e+00]\n WARNING - 15:51:41:  [0.00000000e+00]\n WARNING - 15:51:41:  [3.24524181e-32]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 275/1000 [00:10&lt;00:27, 26.73 it/sec, obj=3.22e-32]\n WARNING - 15:51:41: Relative MSE: [[0.01239645]\n WARNING - 15:51:41:  [0.01239645]\n WARNING - 15:51:41:  [0.01239645]\n WARNING - 15:51:41:  [0.01239645]\n WARNING - 15:51:41:  [0.01239645]\n WARNING - 15:51:41:  [0.01239645]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 276/1000 [00:10&lt;00:27, 26.72 it/sec, obj=0.0124]\n WARNING - 15:51:41: Relative MSE: [[0.0043408]\n WARNING - 15:51:41:  [0.0043408]\n WARNING - 15:51:41:  [0.0043408]\n WARNING - 15:51:41:  [0.0043408]\n WARNING - 15:51:41:  [0.0043408]\n WARNING - 15:51:41:  [0.0043408]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 277/1000 [00:10&lt;00:27, 26.71 it/sec, obj=0.00434]\n WARNING - 15:51:41: Relative MSE: [[0.00041739]\n WARNING - 15:51:41:  [0.00041739]\n WARNING - 15:51:41:  [0.00041739]\n WARNING - 15:51:41:  [0.00041739]\n WARNING - 15:51:41:  [0.00041739]\n WARNING - 15:51:41:  [0.00041739]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 278/1000 [00:10&lt;00:27, 26.71 it/sec, obj=0.000417]\n WARNING - 15:51:41: Relative MSE: [[0.00062622]\n WARNING - 15:51:41:  [0.00062622]\n WARNING - 15:51:41:  [0.00062622]\n WARNING - 15:51:41:  [0.00062622]\n WARNING - 15:51:41:  [0.00062622]\n WARNING - 15:51:41:  [0.00062622]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 279/1000 [00:10&lt;00:26, 26.71 it/sec, obj=0.000626]\n WARNING - 15:51:41: Relative MSE: [[5.27638407e-06]\n WARNING - 15:51:41:  [5.27638407e-06]\n WARNING - 15:51:41:  [5.27638407e-06]\n WARNING - 15:51:41:  [5.27638407e-06]\n WARNING - 15:51:41:  [5.27638407e-06]\n WARNING - 15:51:41:  [5.27638407e-06]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 280/1000 [00:10&lt;00:26, 26.71 it/sec, obj=5.28e-6]\n WARNING - 15:51:41: Relative MSE: [[0.00018661]\n WARNING - 15:51:41:  [0.00018661]\n WARNING - 15:51:41:  [0.00018661]\n WARNING - 15:51:41:  [0.00018661]\n WARNING - 15:51:41:  [0.00018661]\n WARNING - 15:51:41:  [0.00018661]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 281/1000 [00:10&lt;00:26, 26.71 it/sec, obj=0.000187]\n WARNING - 15:51:41: Relative MSE: [[1.14567361e-05]\n WARNING - 15:51:41:  [1.14567361e-05]\n WARNING - 15:51:41:  [1.14567361e-05]\n WARNING - 15:51:41:  [1.14567361e-05]\n WARNING - 15:51:41:  [1.14567361e-05]\n WARNING - 15:51:41:  [1.14567361e-05]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 282/1000 [00:10&lt;00:26, 26.70 it/sec, obj=1.15e-5]\n WARNING - 15:51:41: Relative MSE: [[2.63985014e-05]\n WARNING - 15:51:41:  [2.63985014e-05]\n WARNING - 15:51:41:  [2.63985014e-05]\n WARNING - 15:51:41:  [2.63985014e-05]\n WARNING - 15:51:41:  [2.63985014e-05]\n WARNING - 15:51:41:  [2.63985014e-05]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 283/1000 [00:10&lt;00:26, 26.71 it/sec, obj=2.64e-5]\n WARNING - 15:51:41: Relative MSE: [[7.68398743e-07]\n WARNING - 15:51:41:  [7.68398743e-07]\n WARNING - 15:51:41:  [7.68398743e-07]\n WARNING - 15:51:41:  [7.68398743e-07]\n WARNING - 15:51:41:  [7.68398743e-07]\n WARNING - 15:51:41:  [7.68398743e-07]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 284/1000 [00:10&lt;00:26, 26.71 it/sec, obj=7.68e-7]\n WARNING - 15:51:41: Relative MSE: [[2.95795645e-07]\n WARNING - 15:51:41:  [2.95795645e-07]\n WARNING - 15:51:41:  [2.95795645e-07]\n WARNING - 15:51:41:  [2.95795645e-07]\n WARNING - 15:51:41:  [2.95795645e-07]\n WARNING - 15:51:41:  [2.95795645e-07]]\n    INFO - 15:51:41:     28%|\u2588\u2588\u258a       | 285/1000 [00:10&lt;00:26, 26.70 it/sec, obj=2.96e-7]\n WARNING - 15:51:41: Relative MSE: [[3.85857478e-06]\n WARNING - 15:51:41:  [3.85857478e-06]\n WARNING - 15:51:41:  [3.85857478e-06]\n WARNING - 15:51:41:  [3.85857478e-06]\n WARNING - 15:51:41:  [3.85857478e-06]\n WARNING - 15:51:41:  [3.85857478e-06]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u258a       | 286/1000 [00:10&lt;00:26, 26.71 it/sec, obj=3.86e-6]\n WARNING - 15:51:41: Relative MSE: [[1.57276243e-06]\n WARNING - 15:51:41:  [1.57276243e-06]\n WARNING - 15:51:41:  [1.57276243e-06]\n WARNING - 15:51:41:  [1.57276243e-06]\n WARNING - 15:51:41:  [1.57276243e-06]\n WARNING - 15:51:41:  [1.57276243e-06]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u258a       | 287/1000 [00:10&lt;00:26, 26.71 it/sec, obj=1.57e-6]\n WARNING - 15:51:41: Relative MSE: [[3.56293356e-08]\n WARNING - 15:51:41:  [3.56293356e-08]\n WARNING - 15:51:41:  [3.56293356e-08]\n WARNING - 15:51:41:  [3.56293356e-08]\n WARNING - 15:51:41:  [3.56293356e-08]\n WARNING - 15:51:41:  [3.56293356e-08]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 288/1000 [00:10&lt;00:26, 26.71 it/sec, obj=3.56e-8]\n WARNING - 15:51:41: Relative MSE: [[2.76744154e-08]\n WARNING - 15:51:41:  [2.76744154e-08]\n WARNING - 15:51:41:  [2.76744154e-08]\n WARNING - 15:51:41:  [2.76744154e-08]\n WARNING - 15:51:41:  [2.76744154e-08]\n WARNING - 15:51:41:  [2.76744154e-08]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 289/1000 [00:10&lt;00:26, 26.71 it/sec, obj=2.77e-8]\n WARNING - 15:51:41: Relative MSE: [[1.18276226e-07]\n WARNING - 15:51:41:  [1.18276226e-07]\n WARNING - 15:51:41:  [1.18276226e-07]\n WARNING - 15:51:41:  [1.18276226e-07]\n WARNING - 15:51:41:  [1.18276226e-07]\n WARNING - 15:51:41:  [1.18276226e-07]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 290/1000 [00:10&lt;00:26, 26.71 it/sec, obj=1.18e-7]\n WARNING - 15:51:41: Relative MSE: [[6.01832769e-09]\n WARNING - 15:51:41:  [6.01832769e-09]\n WARNING - 15:51:41:  [6.01832769e-09]\n WARNING - 15:51:41:  [6.01832769e-09]\n WARNING - 15:51:41:  [6.01832769e-09]\n WARNING - 15:51:41:  [6.01832769e-09]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 291/1000 [00:10&lt;00:26, 26.72 it/sec, obj=6.02e-9]\n WARNING - 15:51:41: Relative MSE: [[1.2545182e-10]\n WARNING - 15:51:41:  [1.2545182e-10]\n WARNING - 15:51:41:  [1.2545182e-10]\n WARNING - 15:51:41:  [1.2545182e-10]\n WARNING - 15:51:41:  [1.2545182e-10]\n WARNING - 15:51:41:  [1.2545182e-10]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 292/1000 [00:10&lt;00:26, 26.72 it/sec, obj=1.25e-10]\n WARNING - 15:51:41: Relative MSE: [[9.99578779e-09]\n WARNING - 15:51:41:  [9.99578779e-09]\n WARNING - 15:51:41:  [9.99578779e-09]\n WARNING - 15:51:41:  [9.99578779e-09]\n WARNING - 15:51:41:  [9.99578779e-09]\n WARNING - 15:51:41:  [9.99578779e-09]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 293/1000 [00:10&lt;00:26, 26.73 it/sec, obj=1e-8]\n WARNING - 15:51:41: Relative MSE: [[3.09021833e-09]\n WARNING - 15:51:41:  [3.09021833e-09]\n WARNING - 15:51:41:  [3.09021833e-09]\n WARNING - 15:51:41:  [3.09021833e-09]\n WARNING - 15:51:41:  [3.09021833e-09]\n WARNING - 15:51:41:  [3.09021833e-09]]\n    INFO - 15:51:41:     29%|\u2588\u2588\u2589       | 294/1000 [00:11&lt;00:26, 26.72 it/sec, obj=3.09e-9]\n WARNING - 15:51:42: Relative MSE: [[1.20869677e-10]\n WARNING - 15:51:42:  [1.20869677e-10]\n WARNING - 15:51:42:  [1.20869677e-10]\n WARNING - 15:51:42:  [1.20869677e-10]\n WARNING - 15:51:42:  [1.20869677e-10]\n WARNING - 15:51:42:  [1.20869677e-10]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2589       | 295/1000 [00:11&lt;00:26, 26.72 it/sec, obj=1.21e-10]\n WARNING - 15:51:42: Relative MSE: [[4.88028883e-10]\n WARNING - 15:51:42:  [4.88028883e-10]\n WARNING - 15:51:42:  [4.88028883e-10]\n WARNING - 15:51:42:  [4.88028883e-10]\n WARNING - 15:51:42:  [4.88028883e-10]\n WARNING - 15:51:42:  [4.88028883e-10]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2589       | 296/1000 [00:11&lt;00:26, 26.72 it/sec, obj=4.88e-10]\n WARNING - 15:51:42: Relative MSE: [[2.96526431e-11]\n WARNING - 15:51:42:  [2.96526431e-11]\n WARNING - 15:51:42:  [2.96526431e-11]\n WARNING - 15:51:42:  [2.96526431e-11]\n WARNING - 15:51:42:  [2.96526431e-11]\n WARNING - 15:51:42:  [2.96526431e-11]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2589       | 297/1000 [00:11&lt;00:26, 26.72 it/sec, obj=2.97e-11]\n WARNING - 15:51:42: Relative MSE: [[1.06557139e-14]\n WARNING - 15:51:42:  [1.06557139e-14]\n WARNING - 15:51:42:  [1.06557140e-14]\n WARNING - 15:51:42:  [1.06557140e-14]\n WARNING - 15:51:42:  [1.06557140e-14]\n WARNING - 15:51:42:  [1.06557140e-14]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2589       | 298/1000 [00:11&lt;00:26, 26.72 it/sec, obj=1.07e-14]\n WARNING - 15:51:42: Relative MSE: [[3.19437146e-11]\n WARNING - 15:51:42:  [3.19437146e-11]\n WARNING - 15:51:42:  [3.19437146e-11]\n WARNING - 15:51:42:  [3.19437146e-11]\n WARNING - 15:51:42:  [3.19437146e-11]\n WARNING - 15:51:42:  [3.19437146e-11]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2589       | 299/1000 [00:11&lt;00:26, 26.72 it/sec, obj=3.19e-11]\n WARNING - 15:51:42: Relative MSE: [[8.28030437e-12]\n WARNING - 15:51:42:  [8.28030437e-12]\n WARNING - 15:51:42:  [8.28030437e-12]\n WARNING - 15:51:42:  [8.28030437e-12]\n WARNING - 15:51:42:  [8.28030437e-12]\n WARNING - 15:51:42:  [8.28030437e-12]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 300/1000 [00:11&lt;00:26, 26.72 it/sec, obj=8.28e-12]\n WARNING - 15:51:42: Relative MSE: [[1.64849197e-12]\n WARNING - 15:51:42:  [1.64849197e-12]\n WARNING - 15:51:42:  [1.64849197e-12]\n WARNING - 15:51:42:  [1.64849197e-12]\n WARNING - 15:51:42:  [1.64849197e-12]\n WARNING - 15:51:42:  [1.64849197e-12]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 301/1000 [00:11&lt;00:26, 26.72 it/sec, obj=1.65e-12]\n WARNING - 15:51:42: Relative MSE: [[6.34902732e-13]\n WARNING - 15:51:42:  [6.34902732e-13]\n WARNING - 15:51:42:  [6.34902732e-13]\n WARNING - 15:51:42:  [6.34902732e-13]\n WARNING - 15:51:42:  [6.34902732e-13]\n WARNING - 15:51:42:  [6.34902732e-13]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 302/1000 [00:11&lt;00:26, 26.72 it/sec, obj=6.35e-13]\n WARNING - 15:51:42: Relative MSE: [[5.93234918e-14]\n WARNING - 15:51:42:  [5.93234917e-14]\n WARNING - 15:51:42:  [5.93234916e-14]\n WARNING - 15:51:42:  [5.93234917e-14]\n WARNING - 15:51:42:  [5.93234917e-14]\n WARNING - 15:51:42:  [5.93234917e-14]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 303/1000 [00:11&lt;00:26, 26.73 it/sec, obj=5.93e-14]\n WARNING - 15:51:42: Relative MSE: [[7.65196467e-14]\n WARNING - 15:51:42:  [7.65196467e-14]\n WARNING - 15:51:42:  [7.65196468e-14]\n WARNING - 15:51:42:  [7.65196469e-14]\n WARNING - 15:51:42:  [7.65196467e-14]\n WARNING - 15:51:42:  [7.65196468e-14]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 304/1000 [00:11&lt;00:26, 26.73 it/sec, obj=7.65e-14]\n WARNING - 15:51:42: Relative MSE: [[2.73202957e-16]\n WARNING - 15:51:42:  [2.73202964e-16]\n WARNING - 15:51:42:  [2.73202972e-16]\n WARNING - 15:51:42:  [2.73202973e-16]\n WARNING - 15:51:42:  [2.73202973e-16]\n WARNING - 15:51:42:  [2.73202967e-16]]\n    INFO - 15:51:42:     30%|\u2588\u2588\u2588       | 305/1000 [00:11&lt;00:25, 26.73 it/sec, obj=2.73e-16]\n WARNING - 15:51:42: Relative MSE: [[4.92366228e-15]\n WARNING - 15:51:42:  [4.92366228e-15]\n WARNING - 15:51:42:  [4.92366225e-15]\n WARNING - 15:51:42:  [4.92366226e-15]\n WARNING - 15:51:42:  [4.92366223e-15]\n WARNING - 15:51:42:  [4.92366224e-15]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 306/1000 [00:11&lt;00:25, 26.74 it/sec, obj=4.92e-15]\n WARNING - 15:51:42: Relative MSE: [[7.19311331e-16]\n WARNING - 15:51:42:  [7.19311329e-16]\n WARNING - 15:51:42:  [7.19311311e-16]\n WARNING - 15:51:42:  [7.19311327e-16]\n WARNING - 15:51:42:  [7.19311328e-16]\n WARNING - 15:51:42:  [7.19311329e-16]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 307/1000 [00:11&lt;00:25, 26.73 it/sec, obj=7.19e-16]\n WARNING - 15:51:42: Relative MSE: [[1.45948974e-15]\n WARNING - 15:51:42:  [1.45948974e-15]\n WARNING - 15:51:42:  [1.45948976e-15]\n WARNING - 15:51:42:  [1.45948976e-15]\n WARNING - 15:51:42:  [1.45948975e-15]\n WARNING - 15:51:42:  [1.45948975e-15]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 308/1000 [00:11&lt;00:25, 26.73 it/sec, obj=1.46e-15]\n WARNING - 15:51:42: Relative MSE: [[3.23948141e-17]\n WARNING - 15:51:42:  [3.23948143e-17]\n WARNING - 15:51:42:  [3.23948185e-17]\n WARNING - 15:51:42:  [3.23948178e-17]\n WARNING - 15:51:42:  [3.23948182e-17]\n WARNING - 15:51:42:  [3.23948152e-17]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 309/1000 [00:11&lt;00:25, 26.72 it/sec, obj=3.24e-17]\n WARNING - 15:51:42: Relative MSE: [[2.64768269e-17]\n WARNING - 15:51:42:  [2.64768267e-17]\n WARNING - 15:51:42:  [2.64768236e-17]\n WARNING - 15:51:42:  [2.64768250e-17]\n WARNING - 15:51:42:  [2.64768242e-17]\n WARNING - 15:51:42:  [2.64768261e-17]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 310/1000 [00:11&lt;00:25, 26.72 it/sec, obj=2.65e-17]\n WARNING - 15:51:42: Relative MSE: [[1.11601644e-16]\n WARNING - 15:51:42:  [1.11601645e-16]\n WARNING - 15:51:42:  [1.11601638e-16]\n WARNING - 15:51:42:  [1.11601638e-16]\n WARNING - 15:51:42:  [1.11601637e-16]\n WARNING - 15:51:42:  [1.11601640e-16]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 311/1000 [00:11&lt;00:25, 26.73 it/sec, obj=1.12e-16]\n WARNING - 15:51:42: Relative MSE: [[5.93537176e-18]\n WARNING - 15:51:42:  [5.93537145e-18]\n WARNING - 15:51:42:  [5.93537014e-18]\n WARNING - 15:51:42:  [5.93537071e-18]\n WARNING - 15:51:42:  [5.93537058e-18]\n WARNING - 15:51:42:  [5.93537027e-18]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588       | 312/1000 [00:11&lt;00:25, 26.73 it/sec, obj=5.94e-18]\n WARNING - 15:51:42: Relative MSE: [[7.45509093e-20]\n WARNING - 15:51:42:  [7.45509682e-20]\n WARNING - 15:51:42:  [7.45510999e-20]\n WARNING - 15:51:42:  [7.45510453e-20]\n WARNING - 15:51:42:  [7.45511300e-20]\n WARNING - 15:51:42:  [7.45510056e-20]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588\u258f      | 313/1000 [00:11&lt;00:25, 26.74 it/sec, obj=7.46e-20]\n WARNING - 15:51:42: Relative MSE: [[8.89436540e-18]\n WARNING - 15:51:42:  [8.89436524e-18]\n WARNING - 15:51:42:  [8.89436651e-18]\n WARNING - 15:51:42:  [8.89436717e-18]\n WARNING - 15:51:42:  [8.89436661e-18]\n WARNING - 15:51:42:  [8.89436676e-18]]\n    INFO - 15:51:42:     31%|\u2588\u2588\u2588\u258f      | 314/1000 [00:11&lt;00:25, 26.74 it/sec, obj=8.89e-18]\n WARNING - 15:51:42: Relative MSE: [[2.64937863e-18]\n WARNING - 15:51:42:  [2.64937846e-18]\n WARNING - 15:51:42:  [2.64937980e-18]\n WARNING - 15:51:42:  [2.64937952e-18]\n WARNING - 15:51:42:  [2.64937932e-18]\n WARNING - 15:51:42:  [2.64937929e-18]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 315/1000 [00:11&lt;00:25, 26.74 it/sec, obj=2.65e-18]\n WARNING - 15:51:42: Relative MSE: [[1.63446477e-19]\n WARNING - 15:51:42:  [1.63446543e-19]\n WARNING - 15:51:42:  [1.63446416e-19]\n WARNING - 15:51:42:  [1.63446425e-19]\n WARNING - 15:51:42:  [1.63446439e-19]\n WARNING - 15:51:42:  [1.63446489e-19]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 316/1000 [00:11&lt;00:25, 26.75 it/sec, obj=1.63e-19]\n WARNING - 15:51:42: Relative MSE: [[3.74180592e-19]\n WARNING - 15:51:42:  [3.74180511e-19]\n WARNING - 15:51:42:  [3.74180746e-19]\n WARNING - 15:51:42:  [3.74180681e-19]\n WARNING - 15:51:42:  [3.74180863e-19]\n WARNING - 15:51:42:  [3.74180707e-19]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 317/1000 [00:11&lt;00:25, 26.75 it/sec, obj=3.74e-19]\n WARNING - 15:51:42: Relative MSE: [[1.07555445e-20]\n WARNING - 15:51:42:  [1.07554915e-20]\n WARNING - 15:51:42:  [1.07555654e-20]\n WARNING - 15:51:42:  [1.07555787e-20]\n WARNING - 15:51:42:  [1.07555531e-20]\n WARNING - 15:51:42:  [1.07555714e-20]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 318/1000 [00:11&lt;00:25, 26.74 it/sec, obj=1.08e-20]\n WARNING - 15:51:42: Relative MSE: [[4.30632553e-21]\n WARNING - 15:51:42:  [4.30631206e-21]\n WARNING - 15:51:42:  [4.30629799e-21]\n WARNING - 15:51:42:  [4.30629320e-21]\n WARNING - 15:51:42:  [4.30627201e-21]\n WARNING - 15:51:42:  [4.30629137e-21]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 319/1000 [00:11&lt;00:25, 26.74 it/sec, obj=4.31e-21]\n WARNING - 15:51:42: Relative MSE: [[5.52033638e-20]\n WARNING - 15:51:42:  [5.52033167e-20]\n WARNING - 15:51:42:  [5.52032115e-20]\n WARNING - 15:51:42:  [5.52032034e-20]\n WARNING - 15:51:42:  [5.52032584e-20]\n WARNING - 15:51:42:  [5.52032640e-20]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 320/1000 [00:11&lt;00:25, 26.73 it/sec, obj=5.52e-20]\n WARNING - 15:51:42: Relative MSE: [[2.25865134e-20]\n WARNING - 15:51:42:  [2.25865093e-20]\n WARNING - 15:51:42:  [2.25864593e-20]\n WARNING - 15:51:42:  [2.25864500e-20]\n WARNING - 15:51:42:  [2.25864722e-20]\n WARNING - 15:51:42:  [2.25864961e-20]]\n    INFO - 15:51:42:     32%|\u2588\u2588\u2588\u258f      | 321/1000 [00:12&lt;00:25, 26.73 it/sec, obj=2.26e-20]\n WARNING - 15:51:43: Relative MSE: [[5.42404538e-22]\n WARNING - 15:51:43:  [5.42410174e-22]\n WARNING - 15:51:43:  [5.42398005e-22]\n WARNING - 15:51:43:  [5.42404733e-22]\n WARNING - 15:51:43:  [5.42396053e-22]\n WARNING - 15:51:43:  [5.42404378e-22]]\n    INFO - 15:51:43:     32%|\u2588\u2588\u2588\u258f      | 322/1000 [00:12&lt;00:25, 26.73 it/sec, obj=5.42e-22]\n WARNING - 15:51:43: Relative MSE: [[3.62638955e-22]\n WARNING - 15:51:43:  [3.62639451e-22]\n WARNING - 15:51:43:  [3.62648273e-22]\n WARNING - 15:51:43:  [3.62650192e-22]\n WARNING - 15:51:43:  [3.62643857e-22]\n WARNING - 15:51:43:  [3.62649785e-22]]\n    INFO - 15:51:43:     32%|\u2588\u2588\u2588\u258f      | 323/1000 [00:12&lt;00:25, 26.74 it/sec, obj=3.63e-22]\n WARNING - 15:51:43: Relative MSE: [[1.61681122e-21]\n WARNING - 15:51:43:  [1.61681059e-21]\n WARNING - 15:51:43:  [1.61684287e-21]\n WARNING - 15:51:43:  [1.61683260e-21]\n WARNING - 15:51:43:  [1.61682741e-21]\n WARNING - 15:51:43:  [1.61682376e-21]]\n    INFO - 15:51:43:     32%|\u2588\u2588\u2588\u258f      | 324/1000 [00:12&lt;00:25, 26.74 it/sec, obj=1.62e-21]\n WARNING - 15:51:43: Relative MSE: [[7.15732071e-23]\n WARNING - 15:51:43:  [7.15706039e-23]\n WARNING - 15:51:43:  [7.15762100e-23]\n WARNING - 15:51:43:  [7.15771588e-23]\n WARNING - 15:51:43:  [7.15733696e-23]\n WARNING - 15:51:43:  [7.15715183e-23]]\n    INFO - 15:51:43:     32%|\u2588\u2588\u2588\u258e      | 325/1000 [00:12&lt;00:25, 26.74 it/sec, obj=7.16e-23]\n WARNING - 15:51:43: Relative MSE: [[4.50894668e-24]\n WARNING - 15:51:43:  [4.50803056e-24]\n WARNING - 15:51:43:  [4.50698020e-24]\n WARNING - 15:51:43:  [4.50756980e-24]\n WARNING - 15:51:43:  [4.50713358e-24]\n WARNING - 15:51:43:  [4.50719384e-24]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 326/1000 [00:12&lt;00:25, 26.73 it/sec, obj=4.51e-24]\n WARNING - 15:51:43: Relative MSE: [[1.61452973e-22]\n WARNING - 15:51:43:  [1.61456351e-22]\n WARNING - 15:51:43:  [1.61447578e-22]\n WARNING - 15:51:43:  [1.61446296e-22]\n WARNING - 15:51:43:  [1.61445149e-22]\n WARNING - 15:51:43:  [1.61452245e-22]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 327/1000 [00:12&lt;00:25, 26.73 it/sec, obj=1.61e-22]\n WARNING - 15:51:43: Relative MSE: [[5.49810585e-23]\n WARNING - 15:51:43:  [5.49804447e-23]\n WARNING - 15:51:43:  [5.49760508e-23]\n WARNING - 15:51:43:  [5.49752815e-23]\n WARNING - 15:51:43:  [5.49769848e-23]\n WARNING - 15:51:43:  [5.49764498e-23]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 328/1000 [00:12&lt;00:25, 26.73 it/sec, obj=5.5e-23]\n WARNING - 15:51:43: Relative MSE: [[2.73003545e-25]\n WARNING - 15:51:43:  [2.73038216e-25]\n WARNING - 15:51:43:  [2.73174259e-25]\n WARNING - 15:51:43:  [2.73322251e-25]\n WARNING - 15:51:43:  [2.73342534e-25]\n WARNING - 15:51:43:  [2.73301414e-25]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 329/1000 [00:12&lt;00:25, 26.73 it/sec, obj=2.73e-25]\n WARNING - 15:51:43: Relative MSE: [[1.00389035e-23]\n WARNING - 15:51:43:  [1.00391090e-23]\n WARNING - 15:51:43:  [1.00403666e-23]\n WARNING - 15:51:43:  [1.00407131e-23]\n WARNING - 15:51:43:  [1.00403079e-23]\n WARNING - 15:51:43:  [1.00387578e-23]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 330/1000 [00:12&lt;00:25, 26.73 it/sec, obj=1e-23]\n WARNING - 15:51:43: Relative MSE: [[3.40539315e-24]\n WARNING - 15:51:43:  [3.40550870e-24]\n WARNING - 15:51:43:  [3.40712861e-24]\n WARNING - 15:51:43:  [3.40645824e-24]\n WARNING - 15:51:43:  [3.40673066e-24]\n WARNING - 15:51:43:  [3.40620661e-24]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 331/1000 [00:12&lt;00:25, 26.73 it/sec, obj=3.41e-24]\n WARNING - 15:51:43: Relative MSE: [[1.93041152e-26]\n WARNING - 15:51:43:  [1.92946376e-26]\n WARNING - 15:51:43:  [1.92248910e-26]\n WARNING - 15:51:43:  [1.92438649e-26]\n WARNING - 15:51:43:  [1.91936808e-26]\n WARNING - 15:51:43:  [1.92910479e-26]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 332/1000 [00:12&lt;00:24, 26.73 it/sec, obj=1.93e-26]\n WARNING - 15:51:43: Relative MSE: [[6.40601600e-25]\n WARNING - 15:51:43:  [6.40545502e-25]\n WARNING - 15:51:43:  [6.40243388e-25]\n WARNING - 15:51:43:  [6.40087501e-25]\n WARNING - 15:51:43:  [6.40143508e-25]\n WARNING - 15:51:43:  [6.40330474e-25]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 333/1000 [00:12&lt;00:24, 26.73 it/sec, obj=6.4e-25]\n WARNING - 15:51:43: Relative MSE: [[2.20662233e-25]\n WARNING - 15:51:43:  [2.20545764e-25]\n WARNING - 15:51:43:  [2.20339156e-25]\n WARNING - 15:51:43:  [2.20325538e-25]\n WARNING - 15:51:43:  [2.20344064e-25]\n WARNING - 15:51:43:  [2.20392030e-25]]\n    INFO - 15:51:43:     33%|\u2588\u2588\u2588\u258e      | 334/1000 [00:12&lt;00:24, 26.74 it/sec, obj=2.2e-25]\n WARNING - 15:51:43: Relative MSE: [[7.00376062e-28]\n WARNING - 15:51:43:  [7.04621062e-28]\n WARNING - 15:51:43:  [7.18911935e-28]\n WARNING - 15:51:43:  [7.13259402e-28]\n WARNING - 15:51:43:  [7.13250440e-28]\n WARNING - 15:51:43:  [7.10837765e-28]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258e      | 335/1000 [00:12&lt;00:24, 26.74 it/sec, obj=7.1e-28]\n WARNING - 15:51:43: Relative MSE: [[3.67449308e-26]\n WARNING - 15:51:43:  [3.67921213e-26]\n WARNING - 15:51:43:  [3.69005935e-26]\n WARNING - 15:51:43:  [3.69162777e-26]\n WARNING - 15:51:43:  [3.69178648e-26]\n WARNING - 15:51:43:  [3.68775000e-26]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258e      | 336/1000 [00:12&lt;00:24, 26.73 it/sec, obj=3.69e-26]\n WARNING - 15:51:43: Relative MSE: [[1.19368650e-26]\n WARNING - 15:51:43:  [1.19001493e-26]\n WARNING - 15:51:43:  [1.19801568e-26]\n WARNING - 15:51:43:  [1.19940986e-26]\n WARNING - 15:51:43:  [1.19734991e-26]\n WARNING - 15:51:43:  [1.19570610e-26]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258e      | 337/1000 [00:12&lt;00:24, 26.73 it/sec, obj=1.2e-26]\n WARNING - 15:51:43: Relative MSE: [[2.20274411e-28]\n WARNING - 15:51:43:  [2.22268344e-28]\n WARNING - 15:51:43:  [2.15848958e-28]\n WARNING - 15:51:43:  [2.13228420e-28]\n WARNING - 15:51:43:  [2.14669946e-28]\n WARNING - 15:51:43:  [2.18210059e-28]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 338/1000 [00:12&lt;00:24, 26.74 it/sec, obj=2.17e-28]\n WARNING - 15:51:43: Relative MSE: [[1.26623413e-27]\n WARNING - 15:51:43:  [1.26987815e-27]\n WARNING - 15:51:43:  [1.24329000e-27]\n WARNING - 15:51:43:  [1.24983750e-27]\n WARNING - 15:51:43:  [1.24172169e-27]\n WARNING - 15:51:43:  [1.25944589e-27]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 339/1000 [00:12&lt;00:24, 26.73 it/sec, obj=1.26e-27]\n WARNING - 15:51:43: Relative MSE: [[2.16149661e-29]\n WARNING - 15:51:43:  [2.06599814e-29]\n WARNING - 15:51:43:  [1.78412654e-29]\n WARNING - 15:51:43:  [1.78674784e-29]\n WARNING - 15:51:43:  [1.81958663e-29]\n WARNING - 15:51:43:  [1.86925928e-29]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 340/1000 [00:12&lt;00:24, 26.73 it/sec, obj=1.91e-29]\n WARNING - 15:51:43: Relative MSE: [[3.48205593e-29]\n WARNING - 15:51:43:  [3.38493136e-29]\n WARNING - 15:51:43:  [3.89877180e-29]\n WARNING - 15:51:43:  [3.78022684e-29]\n WARNING - 15:51:43:  [3.74580309e-29]\n WARNING - 15:51:43:  [3.53406833e-29]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 341/1000 [00:12&lt;00:24, 26.73 it/sec, obj=3.64e-29]\n WARNING - 15:51:43: Relative MSE: [[5.11596831e-31]\n WARNING - 15:51:43:  [2.97503732e-31]\n WARNING - 15:51:43:  [8.43159991e-31]\n WARNING - 15:51:43:  [5.90660444e-31]\n WARNING - 15:51:43:  [5.50347562e-31]\n WARNING - 15:51:43:  [8.11310452e-31]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 342/1000 [00:12&lt;00:24, 26.73 it/sec, obj=6.01e-31]\n WARNING - 15:51:43: Relative MSE: [[1.03598358e-29]\n WARNING - 15:51:43:  [1.07101344e-29]\n WARNING - 15:51:43:  [1.21752303e-29]\n WARNING - 15:51:43:  [1.19608740e-29]\n WARNING - 15:51:43:  [1.24172169e-29]\n WARNING - 15:51:43:  [1.05145835e-29]]\n    INFO - 15:51:43:     34%|\u2588\u2588\u2588\u258d      | 343/1000 [00:12&lt;00:24, 26.73 it/sec, obj=1.14e-29]\n    INFO - 15:51:43: Optimization result:\n    INFO - 15:51:43:    Optimizer info:\n    INFO - 15:51:43:       Status: None\n    INFO - 15:51:43:       Message: None\n    INFO - 15:51:43:       Number of calls to the objective function by the optimizer: 1\n    INFO - 15:51:43:    Solution:\n    INFO - 15:51:43:       Objective: 0.0\n    INFO - 15:51:43:       Design space:\n    INFO - 15:51:43:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:43:          | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:43:          +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:43:          | young_modulus |    190000   | 220000 |    230000   | float |\n    INFO - 15:51:43:          +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:43: Relative MSE: [[0.]\n WARNING - 15:51:43:  [0.]\n WARNING - 15:51:43:  [0.]\n WARNING - 15:51:43:  [0.]\n WARNING - 15:51:43:  [0.]\n WARNING - 15:51:43:  [0.]]\n    INFO - 15:51:43: *** End CalibrationScenario execution (time: 0:00:12.927504) ***\n    INFO - 15:51:43: Parameters before calibration: {'young_modulus': array([210000.])}\n    INFO - 15:51:43: Parameters after calibration: {'young_modulus': 220000.0}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n</code></pre> <p>And the posterior parameters is the expected value:</p> <pre><code>step.result.posterior_parameters\n</code></pre> <p>Out:</p> <pre><code>{'young_modulus': 220000.0}\n</code></pre> <p>By default, the design space (in which the optimizer is allowed to explore) is defined from the model default values and bounds. A specific design space can be prescribed, in particular if you want to change its bounds. Note that you need to prescribe a value to argument <code>value</code> of method <code>add_variable</code>:</p> <pre><code>design_space = DesignSpace()\ndesign_space.add_variable(\n    \"young_modulus\",\n    value=model.default_input_data[\"young_modulus\"][0],\n    lower_bound=1.95e5,\n    upper_bound=2.25e5,\n)\nstep = CalibrationStep(working_directory=\"scalars_specified_design_space\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Cantilever\": reference_dataset_cantilever,\n        },\n        design_space=design_space,\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\"Cantilever\": deepcopy(model)},\n        control_outputs={\n            output_name: CalibrationMetricSettings(\n                measure=\"RelativeMSE\",\n            )\n        },\n        input_names=[\n            \"height\",\n            \"width\",\n            \"imposed_dplt\",\n        ],\n        parameter_names=[\"young_modulus\"],\n    ),\n)\nstep.save_results()\nstep.result.posterior_parameters\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:45: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:45: Working directory is scalars_specified_design_space\n    INFO - 15:51:46: Found 2232 entries in the cache file : ../../../model_runs/caches/calibration_scalars/BendingTestAnalytical_Cantilever_cache.hdf node : node\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n    INFO - 15:51:46: Calibration design space: Design space:\n    INFO - 15:51:46: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:46: | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:46: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:46: | young_modulus |    195000   | 210000 |    225000   | float |\n    INFO - 15:51:46: +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:46: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:51:46:  \n    INFO - 15:51:46: *** Start CalibrationScenario execution ***\n    INFO - 15:51:46: CalibrationScenario\n    INFO - 15:51:46:    Disciplines: Calibrator\n    INFO - 15:51:46:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:46: Relative MSE: [[0.00206612]\n WARNING - 15:51:46:  [0.00206612]\n WARNING - 15:51:46:  [0.00206612]\n WARNING - 15:51:46:  [0.00206612]\n WARNING - 15:51:46:  [0.00206612]\n WARNING - 15:51:46:  [0.00206612]]\n    INFO - 15:51:46: Optimization problem:\n    INFO - 15:51:46:    minimize RelativeMSE[Cantilever:reaction_forces](young_modulus)\n    INFO - 15:51:46:    with respect to young_modulus\n    INFO - 15:51:46:    over the design space:\n    INFO - 15:51:46:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:46:       | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:46:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:46:       | young_modulus |    195000   | 210000 |    225000   | float |\n    INFO - 15:51:46:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:46: Solving optimization problem with algorithm NLOPT_COBYLA:\n WARNING - 15:51:46: Relative MSE: [[0.00012913]\n WARNING - 15:51:46:  [0.00012913]\n WARNING - 15:51:46:  [0.00012913]\n WARNING - 15:51:46:  [0.00012913]\n WARNING - 15:51:46:  [0.00012913]\n WARNING - 15:51:46:  [0.00012913]]\n WARNING - 15:51:46: Relative MSE: [[0.00051653]\n WARNING - 15:51:46:  [0.00051653]\n WARNING - 15:51:46:  [0.00051653]\n WARNING - 15:51:46:  [0.00051653]\n WARNING - 15:51:46:  [0.00051653]\n WARNING - 15:51:46:  [0.00051653]]\n WARNING - 15:51:47: Relative MSE: [[3.22830579e-05]\n WARNING - 15:51:47:  [3.22830579e-05]\n WARNING - 15:51:47:  [3.22830579e-05]\n WARNING - 15:51:47:  [3.22830579e-05]\n WARNING - 15:51:47:  [3.22830579e-05]\n WARNING - 15:51:47:  [3.22830579e-05]]\n WARNING - 15:51:47: Relative MSE: [[0.00020177]\n WARNING - 15:51:47:  [0.00020177]\n WARNING - 15:51:47:  [0.00020177]\n WARNING - 15:51:47:  [0.00020177]\n WARNING - 15:51:47:  [0.00020177]\n WARNING - 15:51:47:  [0.00020177]]\n WARNING - 15:51:47: Relative MSE: [[2.01769112e-06]\n WARNING - 15:51:47:  [2.01769112e-06]\n WARNING - 15:51:47:  [2.01769112e-06]\n WARNING - 15:51:47:  [2.01769112e-06]\n WARNING - 15:51:47:  [2.01769112e-06]\n WARNING - 15:51:47:  [2.01769112e-06]]\n    INFO - 15:51:47:      1%|          | 6/1000 [00:00&lt;00:31, 31.81 it/sec, obj=2.02e-6]\n WARNING - 15:51:47: Relative MSE: [[8.07076446e-06]\n WARNING - 15:51:47:  [8.07076446e-06]\n WARNING - 15:51:47:  [8.07076446e-06]\n WARNING - 15:51:47:  [8.07076446e-06]\n WARNING - 15:51:47:  [8.07076446e-06]\n WARNING - 15:51:47:  [8.07076446e-06]]\n    INFO - 15:51:47:      1%|          | 7/1000 [00:00&lt;00:32, 30.79 it/sec, obj=8.07e-6]\n WARNING - 15:51:47: Relative MSE: [[5.04422779e-07]\n WARNING - 15:51:47:  [5.04422779e-07]\n WARNING - 15:51:47:  [5.04422779e-07]\n WARNING - 15:51:47:  [5.04422779e-07]\n WARNING - 15:51:47:  [5.04422779e-07]\n WARNING - 15:51:47:  [5.04422779e-07]]\n    INFO - 15:51:47:      1%|          | 8/1000 [00:00&lt;00:32, 30.10 it/sec, obj=5.04e-7]\n WARNING - 15:51:47: Relative MSE: [[3.15264237e-06]\n WARNING - 15:51:47:  [3.15264237e-06]\n WARNING - 15:51:47:  [3.15264237e-06]\n WARNING - 15:51:47:  [3.15264237e-06]\n WARNING - 15:51:47:  [3.15264237e-06]\n WARNING - 15:51:47:  [3.15264237e-06]]\n    INFO - 15:51:47:      1%|          | 9/1000 [00:00&lt;00:33, 30.01 it/sec, obj=3.15e-6]\n WARNING - 15:51:47: Relative MSE: [[3.15264237e-08]\n WARNING - 15:51:47:  [3.15264237e-08]\n WARNING - 15:51:47:  [3.15264237e-08]\n WARNING - 15:51:47:  [3.15264237e-08]\n WARNING - 15:51:47:  [3.15264237e-08]\n WARNING - 15:51:47:  [3.15264237e-08]]\n    INFO - 15:51:47:      1%|          | 10/1000 [00:00&lt;00:33, 29.39 it/sec, obj=3.15e-8]\n WARNING - 15:51:47: Relative MSE: [[1.26105695e-07]\n WARNING - 15:51:47:  [1.26105695e-07]\n WARNING - 15:51:47:  [1.26105695e-07]\n WARNING - 15:51:47:  [1.26105695e-07]\n WARNING - 15:51:47:  [1.26105695e-07]\n WARNING - 15:51:47:  [1.26105695e-07]]\n    INFO - 15:51:47:      1%|          | 11/1000 [00:00&lt;00:33, 29.30 it/sec, obj=1.26e-7]\n WARNING - 15:51:47: Relative MSE: [[7.88160592e-09]\n WARNING - 15:51:47:  [7.88160592e-09]\n WARNING - 15:51:47:  [7.88160592e-09]\n WARNING - 15:51:47:  [7.88160592e-09]\n WARNING - 15:51:47:  [7.88160592e-09]\n WARNING - 15:51:47:  [7.88160592e-09]]\n    INFO - 15:51:47:      1%|          | 12/1000 [00:00&lt;00:33, 29.26 it/sec, obj=7.88e-9]\n WARNING - 15:51:47: Relative MSE: [[4.9260037e-08]\n WARNING - 15:51:47:  [4.9260037e-08]\n WARNING - 15:51:47:  [4.9260037e-08]\n WARNING - 15:51:47:  [4.9260037e-08]\n WARNING - 15:51:47:  [4.9260037e-08]\n WARNING - 15:51:47:  [4.9260037e-08]]\n    INFO - 15:51:47:      1%|\u258f         | 13/1000 [00:00&lt;00:33, 29.03 it/sec, obj=4.93e-8]\n WARNING - 15:51:47: Relative MSE: [[4.9260037e-10]\n WARNING - 15:51:47:  [4.9260037e-10]\n WARNING - 15:51:47:  [4.9260037e-10]\n WARNING - 15:51:47:  [4.9260037e-10]\n WARNING - 15:51:47:  [4.9260037e-10]\n WARNING - 15:51:47:  [4.9260037e-10]]\n    INFO - 15:51:47:      1%|\u258f         | 14/1000 [00:00&lt;00:33, 29.01 it/sec, obj=4.93e-10]\n WARNING - 15:51:47: Relative MSE: [[1.97040148e-09]\n WARNING - 15:51:47:  [1.97040148e-09]\n WARNING - 15:51:47:  [1.97040148e-09]\n WARNING - 15:51:47:  [1.97040148e-09]\n WARNING - 15:51:47:  [1.97040148e-09]\n WARNING - 15:51:47:  [1.97040148e-09]]\n    INFO - 15:51:47:      2%|\u258f         | 15/1000 [00:00&lt;00:34, 28.90 it/sec, obj=1.97e-9]\n WARNING - 15:51:47: Relative MSE: [[1.23150093e-10]\n WARNING - 15:51:47:  [1.23150093e-10]\n WARNING - 15:51:47:  [1.23150093e-10]\n WARNING - 15:51:47:  [1.23150093e-10]\n WARNING - 15:51:47:  [1.23150093e-10]\n WARNING - 15:51:47:  [1.23150093e-10]]\n    INFO - 15:51:47:      2%|\u258f         | 16/1000 [00:00&lt;00:34, 28.85 it/sec, obj=1.23e-10]\n WARNING - 15:51:47: Relative MSE: [[7.69688078e-10]\n WARNING - 15:51:47:  [7.69688078e-10]\n WARNING - 15:51:47:  [7.69688078e-10]\n WARNING - 15:51:47:  [7.69688078e-10]\n WARNING - 15:51:47:  [7.69688078e-10]\n WARNING - 15:51:47:  [7.69688078e-10]]\n    INFO - 15:51:47:      2%|\u258f         | 17/1000 [00:00&lt;00:34, 28.63 it/sec, obj=7.7e-10]\n WARNING - 15:51:47: Relative MSE: [[7.69688078e-12]\n WARNING - 15:51:47:  [7.69688078e-12]\n WARNING - 15:51:47:  [7.69688078e-12]\n WARNING - 15:51:47:  [7.69688078e-12]\n WARNING - 15:51:47:  [7.69688078e-12]\n WARNING - 15:51:47:  [7.69688078e-12]]\n    INFO - 15:51:47:      2%|\u258f         | 18/1000 [00:00&lt;00:34, 28.32 it/sec, obj=7.7e-12]\n WARNING - 15:51:47: Relative MSE: [[3.07875231e-11]\n WARNING - 15:51:47:  [3.07875231e-11]\n WARNING - 15:51:47:  [3.07875231e-11]\n WARNING - 15:51:47:  [3.07875231e-11]\n WARNING - 15:51:47:  [3.07875231e-11]\n WARNING - 15:51:47:  [3.07875231e-11]]\n    INFO - 15:51:47:      2%|\u258f         | 19/1000 [00:00&lt;00:34, 28.28 it/sec, obj=3.08e-11]\n WARNING - 15:51:47: Relative MSE: [[1.92422020e-12]\n WARNING - 15:51:47:  [1.92422020e-12]\n WARNING - 15:51:47:  [1.92422019e-12]\n WARNING - 15:51:47:  [1.92422019e-12]\n WARNING - 15:51:47:  [1.92422020e-12]\n WARNING - 15:51:47:  [1.92422020e-12]]\n    INFO - 15:51:47:      2%|\u258f         | 20/1000 [00:00&lt;00:34, 28.22 it/sec, obj=1.92e-12]\n WARNING - 15:51:47: Relative MSE: [[1.20263762e-11]\n WARNING - 15:51:47:  [1.20263762e-11]\n WARNING - 15:51:47:  [1.20263762e-11]\n WARNING - 15:51:47:  [1.20263762e-11]\n WARNING - 15:51:47:  [1.20263762e-11]\n WARNING - 15:51:47:  [1.20263762e-11]]\n    INFO - 15:51:47:      2%|\u258f         | 21/1000 [00:00&lt;00:34, 28.17 it/sec, obj=1.2e-11]\n WARNING - 15:51:47: Relative MSE: [[1.20263762e-13]\n WARNING - 15:51:47:  [1.20263762e-13]\n WARNING - 15:51:47:  [1.20263762e-13]\n WARNING - 15:51:47:  [1.20263762e-13]\n WARNING - 15:51:47:  [1.20263762e-13]\n WARNING - 15:51:47:  [1.20263762e-13]]\n    INFO - 15:51:47:      2%|\u258f         | 22/1000 [00:00&lt;00:34, 28.21 it/sec, obj=1.2e-13]\n WARNING - 15:51:47: Relative MSE: [[4.81055049e-13]\n WARNING - 15:51:47:  [4.81055049e-13]\n WARNING - 15:51:47:  [4.81055049e-13]\n WARNING - 15:51:47:  [4.81055049e-13]\n WARNING - 15:51:47:  [4.81055049e-13]\n WARNING - 15:51:47:  [4.81055049e-13]]\n    INFO - 15:51:47:      2%|\u258f         | 23/1000 [00:00&lt;00:34, 28.05 it/sec, obj=4.81e-13]\n WARNING - 15:51:47: Relative MSE: [[3.00659405e-14]\n WARNING - 15:51:47:  [3.00659405e-14]\n WARNING - 15:51:47:  [3.00659406e-14]\n WARNING - 15:51:47:  [3.00659406e-14]\n WARNING - 15:51:47:  [3.00659406e-14]\n WARNING - 15:51:47:  [3.00659405e-14]]\n    INFO - 15:51:47:      2%|\u258f         | 24/1000 [00:00&lt;00:34, 27.97 it/sec, obj=3.01e-14]\n WARNING - 15:51:47: Relative MSE: [[1.87912128e-13]\n WARNING - 15:51:47:  [1.87912128e-13]\n WARNING - 15:51:47:  [1.87912129e-13]\n WARNING - 15:51:47:  [1.87912129e-13]\n WARNING - 15:51:47:  [1.87912129e-13]\n WARNING - 15:51:47:  [1.87912129e-13]]\n    INFO - 15:51:47:      2%|\u258e         | 25/1000 [00:00&lt;00:34, 27.88 it/sec, obj=1.88e-13]\n WARNING - 15:51:47: Relative MSE: [[1.87912128e-15]\n WARNING - 15:51:47:  [1.87912126e-15]\n WARNING - 15:51:47:  [1.87912131e-15]\n WARNING - 15:51:47:  [1.87912130e-15]\n WARNING - 15:51:47:  [1.87912130e-15]\n WARNING - 15:51:47:  [1.87912129e-15]]\n    INFO - 15:51:47:      3%|\u258e         | 26/1000 [00:00&lt;00:34, 27.87 it/sec, obj=1.88e-15]\n WARNING - 15:51:47: Relative MSE: [[7.51648515e-15]\n WARNING - 15:51:47:  [7.51648515e-15]\n WARNING - 15:51:47:  [7.51648509e-15]\n WARNING - 15:51:47:  [7.51648511e-15]\n WARNING - 15:51:47:  [7.51648514e-15]\n WARNING - 15:51:47:  [7.51648512e-15]]\n    INFO - 15:51:47:      3%|\u258e         | 27/1000 [00:00&lt;00:34, 27.82 it/sec, obj=7.52e-15]\n    INFO - 15:51:47: Optimization result:\n    INFO - 15:51:47:    Optimizer info:\n    INFO - 15:51:47:       Status: None\n    INFO - 15:51:47:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 15:51:47:       Number of calls to the objective function by the optimizer: 31\n    INFO - 15:51:47:    Solution:\n    INFO - 15:51:47:       Objective: 1.879121289980032e-15\n    INFO - 15:51:47:       Design space:\n    INFO - 15:51:47:          +---------------+-------------+-------------------+-------------+-------+\n    INFO - 15:51:47:          | Name          | Lower bound |       Value       | Upper bound | Type  |\n    INFO - 15:51:47:          +---------------+-------------+-------------------+-------------+-------+\n    INFO - 15:51:47:          | young_modulus |    195000   | 219999.9904632568 |    225000   | float |\n    INFO - 15:51:47:          +---------------+-------------+-------------------+-------------+-------+\n WARNING - 15:51:47: Relative MSE: [[1.87912128e-15]\n WARNING - 15:51:47:  [1.87912126e-15]\n WARNING - 15:51:47:  [1.87912131e-15]\n WARNING - 15:51:47:  [1.87912130e-15]\n WARNING - 15:51:47:  [1.87912130e-15]\n WARNING - 15:51:47:  [1.87912129e-15]]\n    INFO - 15:51:47: *** End CalibrationScenario execution (time: 0:00:01.061389) ***\n    INFO - 15:51:47: Parameters before calibration: {'young_modulus': array([210000.])}\n    INFO - 15:51:47: Parameters after calibration: {'young_modulus': 219999.99046325684}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n\n\n{'young_modulus': 219999.99046325684}\n</code></pre> <p>Total running time of the script: ( 0 minutes  27.306 seconds)</p> <p> Download Python source code: plot_01_calibration_on_scalars.py</p> <p> Download Jupyter notebook: plot_01_calibration_on_scalars.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/08_calibration/plot_02_calibration_on_curves/","title":"Usage of the model calibration based on curve outputs","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/08_calibration/plot_02_calibration_on_curves/#usage-of-the-model-calibration-based-on-curve-outputs","title":"Usage of the model calibration based on curve outputs","text":"<p>Calibrate a model based on curve outputs.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo_calibration.calibrator import CalibrationMetricSettings\nfrom gemseo_calibration.measures.integrated_measure import CurveScaling\nfrom numpy import atleast_1d\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.io.space_io import SpaceToolFileIO\nfrom vimseo.problems.mock.mock_curves.mock_curves import MockCurves\nfrom vimseo.storage_management.base_storage_manager import PersistencyPolicy\nfrom vimseo.tools.calibration.calibration_step import CalibrationStep\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepInputs\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepSettings\nfrom vimseo.tools.calibration.input_data import CALIBRATION_INPUT_DATA\nfrom vimseo.utilities.generate_validation_reference import (\n    generate_reference_from_parameter_space,\n)\n</code></pre> <p>We first define the logger level:</p> <pre><code>activate_logger(level=logging.INFO)\n</code></pre> <p>We want to calibrate an analytical model that takes inputs :math:<code>x, x_1</code> and returns the curve :math:<code>(y_{axis}, y)</code> where :math:<code>\\mathbf{y_{axis}} \\in [0,1]</code> and :math:<code>\\mathbf{y}=x \\times \\mathbf{y_{axis}} + x_1</code>. The objective is to find the best \\(x\\) such that the simulated and reference \\(y\\) match.</p> <p>Then, we need to create reference data. They are generated from the model to calibrate, which is biased by imposing a modified \\(x\\). Several samples are generated by varying \\(x_1\\).</p> <pre><code>X_TARGET = 1.5\nMockCurves.CURVE_NB_POINTS = 10\nmodel_name = \"MockCurves\"\nload_case = \"Dummy\"\nreference_mock_curves = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_persistency=PersistencyPolicy.DELETE_ALWAYS,\n        directory_scratch_persistency=PersistencyPolicy.DELETE_ALWAYS,\n    ),\n)\nreference_mock_curves.default_input_data[\"x\"] = atleast_1d(X_TARGET)\nreference_mock_curves.cache = None\nreference_data = generate_reference_from_parameter_space(\n    reference_mock_curves,\n    SpaceToolFileIO()\n    .read(CALIBRATION_INPUT_DATA / \"experimental_space_mock_curves.json\")\n    .parameter_space,\n    n_samples=2,\n    as_dataset=True,\n)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n    INFO - 15:51:13: Working directory is CustomDOETool/9\n    INFO - 15:51:13:  \n    INFO - 15:51:13: *** Start DOEScenario execution ***\n    INFO - 15:51:13: DOEScenario\n    INFO - 15:51:13:    Disciplines: Model MockCurves: \n    INFO - 15:51:13: \n    INFO - 15:51:13: Load case:\n    INFO - 15:51:13:    Load case Dummy: A dummy load case.\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Boundary condition variables:\n    INFO - 15:51:13:    []\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Plot parameters:\n    INFO - 15:51:13:    {\n    INFO - 15:51:13:     \"curves\": []\n    INFO - 15:51:13: }\n    INFO - 15:51:13:    Load:\n    INFO - 15:51:13:    Load(direction='', sign='', type='')\n    INFO - 15:51:13: \n    INFO - 15:51:13: Default values:\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Default geometrical variables:\n    INFO - 15:51:13:    {\n    INFO - 15:51:13:     \"x\": [\n    INFO - 15:51:13:         1.5\n    INFO - 15:51:13:     ],\n    INFO - 15:51:13:     \"x_1\": [\n    INFO - 15:51:13:         1.0\n    INFO - 15:51:13:     ]\n    INFO - 15:51:13: }\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Default numerical variables:\n    INFO - 15:51:13:    {}\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Default boundary conditions variables:\n    INFO - 15:51:13:    {}\n    INFO - 15:51:13:    \n    INFO - 15:51:13:    Default material variables:\n    INFO - 15:51:13:    {}\n    INFO - 15:51:13:    MDO formulation: DisciplinaryOpt\n    INFO - 15:51:13: Optimization problem:\n    INFO - 15:51:13:    minimize y(x_1)\n    INFO - 15:51:13:    with respect to x_1\n    INFO - 15:51:13:    over the design space:\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13:       | x_1  |     -inf    |  None |     inf     | float |\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13:     50%|\u2588\u2588\u2588\u2588\u2588     | 1/2 [00:00&lt;00:00, 17.15 it/sec, obj=[1.06803508 1.08318659 1.09833811 1.11348962 1.12864114 1.14379265\n    INFO - 15:51:13:  1.15894417 1.17409568 1.1892472  1.20439872 1.21955023 1.23470175\n    INFO - 15:51:13:  1.24985326 1.26500478 1.28015629 1.29530781 1.31045932 1.32561084\n    INFO - 15:51:13:  1.34076235 1.35591387 1.37106538 1.3862169  1.40136841 1.41651993\n    INFO - 15:51:13:  1.43167144 1.44682296 1.46197447 1.47712599 1.4922775  1.50742902\n    INFO - 15:51:13:  1.52258053 1.53773205 1.55288356 1.56803508 1.58318659 1.59833811\n    INFO - 15:51:13:  1.61348962 1.62864114 1.64379265 1.65894417 1.67409568 1.6892472\n    INFO - 15:51:13:  1.70439872 1.71955023 1.73470175 1.74985326 1.76500478 1.78015629\n    INFO - 15:51:13:  1.79530781 1.81045932 1.82561084 1.84076235 1.85591387 1.87106538\n    INFO - 15:51:13:  1.8862169  1.90136841 1.91651993 1.93167144 1.94682296 1.96197447\n    INFO - 15:51:13:  1.97712599 1.9922775  2.00742902 2.02258053 2.03773205 2.05288356\n    INFO - 15:51:13:  2.06803508 2.08318659 2.09833811 2.11348962 2.12864114 2.14379265\n    INFO - 15:51:13:  2.15894417 2.17409568 2.1892472  2.20439872 2.21955023 2.23470175\n    INFO - 15:51:13:  2.24985326 2.26500478 2.28015629 2.29530781 2.31045932 2.32561084\n    INFO - 15:51:13:  2.34076235 2.35591387 2.37106538 2.3862169  2.40136841 2.41651993\n    INFO - 15:51:13:  2.43167144 2.44682296 2.46197447 2.47712599 2.4922775  2.50742902\n    INFO - 15:51:13:  2.52258053 2.53773205 2.55288356 2.56803508]]\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:13: Removing job directory: default_archive/MockCurves/Dummy/1\n    INFO - 15:51:13:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:00&lt;00:00, 18.20 it/sec, obj=[1.04571757 1.06086908 1.0760206  1.09117211 1.10632363 1.12147514\n    INFO - 15:51:13:  1.13662666 1.15177817 1.16692969 1.1820812  1.19723272 1.21238423\n    INFO - 15:51:13:  1.22753575 1.24268726 1.25783878 1.27299029 1.28814181 1.30329332\n    INFO - 15:51:13:  1.31844484 1.33359635 1.34874787 1.36389939 1.3790509  1.39420242\n    INFO - 15:51:13:  1.40935393 1.42450545 1.43965696 1.45480848 1.46995999 1.48511151\n    INFO - 15:51:13:  1.50026302 1.51541454 1.53056605 1.54571757 1.56086908 1.5760206\n    INFO - 15:51:13:  1.59117211 1.60632363 1.62147514 1.63662666 1.65177817 1.66692969\n    INFO - 15:51:13:  1.6820812  1.69723272 1.71238423 1.72753575 1.74268726 1.75783878\n    INFO - 15:51:13:  1.77299029 1.78814181 1.80329332 1.81844484 1.83359635 1.84874787\n    INFO - 15:51:13:  1.86389939 1.8790509  1.89420242 1.90935393 1.92450545 1.93965696\n    INFO - 15:51:13:  1.95480848 1.96995999 1.98511151 2.00026302 2.01541454 2.03056605\n    INFO - 15:51:13:  2.04571757 2.06086908 2.0760206  2.09117211 2.10632363 2.12147514\n    INFO - 15:51:13:  2.13662666 2.15177817 2.16692969 2.1820812  2.19723272 2.21238423\n    INFO - 15:51:13:  2.22753575 2.24268726 2.25783878 2.27299029 2.28814181 2.30329332\n    INFO - 15:51:13:  2.31844484 2.33359635 2.34874787 2.36389939 2.3790509  2.39420242\n    INFO - 15:51:13:  2.40935393 2.42450545 2.43965696 2.45480848 2.46995999 2.48511151\n    INFO - 15:51:13:  2.50026302 2.51541454 2.53056605 2.54571757]]\n    INFO - 15:51:13: Optimization result:\n    INFO - 15:51:13:    Optimizer info:\n    INFO - 15:51:13:       Status: None\n    INFO - 15:51:13:       Message: None\n    INFO - 15:51:13:       Number of calls to the objective function by the optimizer: 2\n    INFO - 15:51:13:    Solution:\n    INFO - 15:51:13:       Objective: 18.482125036700516\n    INFO - 15:51:13:       Design space:\n    INFO - 15:51:13:          +------+-------------+-------------------+-------------+-------+\n    INFO - 15:51:13:          | Name | Lower bound |       Value       | Upper bound | Type  |\n    INFO - 15:51:13:          +------+-------------+-------------------+-------------+-------+\n    INFO - 15:51:13:          | x_1  |     -inf    | 1.045717566861349 |     inf     | float |\n    INFO - 15:51:13:          +------+-------------+-------------------+-------------+-------+\n    INFO - 15:51:13: *** End DOEScenario execution (time: 0:00:00.114780) ***\n</code></pre> <p>We now define the model used for the calibration:</p> <pre><code>model = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/calibration_curves\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/calibration_curves\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/calibration_curves/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:13: Found 50 entries in the cache file : ../../../model_runs/caches/calibration_curves/MockCurves_Dummy_cache.hdf node : node\n</code></pre> <p>Then, a step of calibration is defined. It uses the :class:<code>SBPISE</code> metric, which computes the area between the reference and the simulated curves. The curves are scaled to zero-mean and unitary standard deviation by setting the argument <code>scaling</code> to <code>CurveScaling.XYRange</code>, which is mandatory when calibrating for:  - several metrics in the same step  - several load cases in the same step</p> <pre><code>output_name = \"y\"\nstep = CalibrationStep(working_directory=\"curves\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Dummy\": reference_data,\n        },\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\"Dummy\": model},\n        control_outputs={\n            output_name: CalibrationMetricSettings(\n                measure=\"SBPISE\",\n                mesh=\"y_axis\",\n                scaling=CurveScaling.XYRange,\n            ).model_dump()\n        },\n        input_names=[\n            \"x_1\",\n        ],\n        parameter_names=[\"x\"],\n    ),\n)\nstep.save_results()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:13: Working directory is curves\n    INFO - 15:51:13: Found 50 entries in the cache file : ../../../model_runs/caches/calibration_curves/MockCurves_Dummy_cache.hdf node : node\n    INFO - 15:51:13: Calibration design space: Design space:\n    INFO - 15:51:13: +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13: | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:13: +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13: | x    |     -inf    |   1   |     inf     | float |\n    INFO - 15:51:13: +------+-------------+-------+-------------+-------+\n WARNING - 15:51:13: No coupling in MDA, switching chain_linearize to True.\n WARNING - 15:51:13: The optimization problem already observes \"Dummy:y_axis\".\n    INFO - 15:51:13:  \n    INFO - 15:51:13: *** Start CalibrationScenario execution ***\n    INFO - 15:51:13: CalibrationScenario\n    INFO - 15:51:13:    Disciplines: Calibrator\n    INFO - 15:51:13:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.037038926488982604\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.03703892648898259\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: SBPISE metric for variable Dummy:y: 0.0370389264889826\n WARNING - 15:51:13: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:13: Optimization problem:\n    INFO - 15:51:13:    minimize SBPISE[Dummy:y[Dummy:y_axis]](x)\n    INFO - 15:51:13:    with respect to x\n    INFO - 15:51:13:    over the design space:\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13:       | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13:       | x    |     -inf    |   1   |     inf     | float |\n    INFO - 15:51:13:       +------+-------------+-------+-------------+-------+\n    INFO - 15:51:13: Solving optimization problem with algorithm NLOPT_COBYLA:\n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.009259731622245653\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.009259731622245648\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: SBPISE metric for variable Dummy:y: 0.009259731622245651\n WARNING - 15:51:13: Weights (left, area, right): ([0. 1. 0.]).\n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.0\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.0\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: SBPISE metric for variable Dummy:y: 0.0\n WARNING - 15:51:13: Weights (left, area, right): ([0. 1. 0.]).\n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.006803068130629457\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:13: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:13: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:13: Area metric: 0.006803068130629459\n WARNING - 15:51:13: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:13: \n WARNING - 15:51:13: SBPISE metric for variable Dummy:y: 0.0068030681306294576\n WARNING - 15:51:13: Weights (left, area, right): ([0. 1. 0.]).\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.001972487209472446\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.0019724872094724452\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 0.0019724872094724457\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.0005787332263903528\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.0005787332263903529\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 0.0005787332263903528\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 6/1000 [00:00&lt;00:42, 23.37 it/sec, obj=0.000579]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.00013883812511488705\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 0.00013883812511488684\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 0.00013883812511488694\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 7/1000 [00:00&lt;00:43, 22.59 it/sec, obj=0.000139]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.617082664939675e-05\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.6170826649396885e-05\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 3.617082664939682e-05\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 8/1000 [00:00&lt;00:45, 21.97 it/sec, obj=3.62e-5]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 8.949242621301086e-06\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 8.949242621301115e-06\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 8.9492426213011e-06\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 9/1000 [00:00&lt;00:45, 21.60 it/sec, obj=8.95e-6]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 2.2606766655873146e-06\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 2.2606766655873354e-06\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 2.2606766655873248e-06\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 10/1000 [00:00&lt;00:46, 21.16 it/sec, obj=2.26e-6]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 5.637002413091872e-07\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 5.637002413092194e-07\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 5.637002413092033e-07\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 11/1000 [00:00&lt;00:47, 21.02 it/sec, obj=5.64e-7]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 1.4129229159920695e-07\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 1.4129229159920367e-07\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 1.412922915992053e-07\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|          | 12/1000 [00:00&lt;00:47, 20.87 it/sec, obj=1.41e-7]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.530008733158133e-08\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.5300087331583326e-08\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 3.5300087331582326e-08\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|\u258f         | 13/1000 [00:00&lt;00:47, 20.66 it/sec, obj=3.53e-8]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 8.830768224951687e-09\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 8.830768224950777e-09\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 8.830768224951232e-09\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      1%|\u258f         | 14/1000 [00:00&lt;00:47, 20.65 it/sec, obj=8.83e-9]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 2.2073327752164993e-09\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 2.207332775215225e-09\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 2.207332775215862e-09\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      2%|\u258f         | 15/1000 [00:00&lt;00:47, 20.61 it/sec, obj=2.21e-9]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 5.51923014059076e-10\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 5.51923014059166e-10\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 5.51923014059121e-10\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      2%|\u258f         | 16/1000 [00:00&lt;00:48, 20.48 it/sec, obj=5.52e-10]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 1.3797513923480454e-10\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 1.3797513923513745e-10\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 1.3797513923497098e-10\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      2%|\u258f         | 17/1000 [00:00&lt;00:47, 20.58 it/sec, obj=1.38e-10]\n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.4495188378427496e-11\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:14: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:14: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:14: Area metric: 3.449518837846689e-11\n WARNING - 15:51:14: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:14: \n WARNING - 15:51:14: SBPISE metric for variable Dummy:y: 3.4495188378447194e-11\n WARNING - 15:51:14: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:14:      2%|\u258f         | 18/1000 [00:00&lt;00:47, 20.57 it/sec, obj=3.45e-11]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 8.623709369531612e-12\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 8.623709369586376e-12\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 8.623709369558995e-12\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 19/1000 [00:01&lt;01:02, 15.69 it/sec, obj=8.62e-12]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 2.1559492736908384e-12\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 2.1559492737074858e-12\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 2.1559492736991623e-12\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 20/1000 [00:01&lt;01:01, 15.88 it/sec, obj=2.16e-12]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 5.38985947708611e-13\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 5.389859477118141e-13\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 5.389859477102126e-13\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 21/1000 [00:01&lt;01:01, 16.02 it/sec, obj=5.39e-13]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 1.3474682959885306e-13\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 1.3474682960637483e-13\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 1.3474682960261394e-13\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 22/1000 [00:01&lt;01:00, 16.20 it/sec, obj=1.35e-13]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 3.3686685993288324e-14\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 3.368668598792301e-14\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 3.3686685990605667e-14\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 23/1000 [00:01&lt;00:59, 16.34 it/sec, obj=3.37e-14]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 8.421676849369298e-15\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 8.421676848866063e-15\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 8.421676849117681e-15\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258f         | 24/1000 [00:01&lt;00:59, 16.43 it/sec, obj=8.42e-15]\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 2.1054188780341196e-15\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 2.105418877288298e-15\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 2.105418877661209e-15\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15:      2%|\u258e         | 25/1000 [00:01&lt;00:58, 16.59 it/sec, obj=2.11e-15]\n    INFO - 15:51:15: Optimization result:\n    INFO - 15:51:15:    Optimizer info:\n    INFO - 15:51:15:       Status: None\n    INFO - 15:51:15:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 15:51:15:       Number of calls to the objective function by the optimizer: 26\n    INFO - 15:51:15:    Solution:\n    INFO - 15:51:15:       Objective: 0.0\n    INFO - 15:51:15:       Design space:\n    INFO - 15:51:15:          +------+-------------+-------+-------------+-------+\n    INFO - 15:51:15:          | Name | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:15:          +------+-------------+-------+-------------+-------+\n    INFO - 15:51:15:          | x    |     -inf    |  1.5  |     inf     | float |\n    INFO - 15:51:15:          +------+-------------+-------+-------------+-------+\n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 0.0\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: Metrics on scaled curves for variable Dummy:y:\n WARNING - 15:51:15: MSE mismatch x-axis left bound: 0.0\n WARNING - 15:51:15: MSE mismatch x-axis right bound: 0.0\n WARNING - 15:51:15: Area metric: 0.0\n WARNING - 15:51:15: (model_support_length - reference_support_length) / model_support_length = 0.0\n WARNING - 15:51:15: \n WARNING - 15:51:15: SBPISE metric for variable Dummy:y: 0.0\n WARNING - 15:51:15: Weights (left, area, right): ([0. 1. 0.]).\n    INFO - 15:51:15: *** End CalibrationScenario execution (time: 0:00:01.711851) ***\n    INFO - 15:51:15: Parameters before calibration: {'x': array([1.])}\n    INFO - 15:51:15: Parameters after calibration: {'x': 1.5}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/post/opt_history_view.py:231: RuntimeWarning:\n\ninvalid value encountered in divide\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n</code></pre> <p>We can show the prior parameters, i.e. the optimizer starting point:</p> <pre><code>step.result.prior_parameters\n</code></pre> <p>Out:</p> <pre><code>{'x': array([1.])}\n</code></pre> <p>The outputs can be compared to the reference data, before and after calibration:</p> <pre><code>figs = step.plot_results(step.result, show=True, save=False)\nfigs[\"Dummy\"][\"simulated_versus_reference_curve_y_versus_y_axis\"]\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:15: Working directory is curves\n</code></pre> <p>The curves that have been defined as <code>control_outputs</code> can be retrieved as Pandas DataFrame:</p> <pre><code>step.result.curve_data\n</code></pre> <p>Out:</p> <pre><code>CurveData(posterior_dataframes=defaultdict(&lt;class 'list'&gt;, {'Dummy': [{'y':            y    y_axis\n0   1.068035  0.000000\n1   1.083187  0.010101\n2   1.098338  0.020202\n3   1.113490  0.030303\n4   1.128641  0.040404\n..       ...       ...\n95  2.507429  0.959596\n96  2.522581  0.969697\n97  2.537732  0.979798\n98  2.552884  0.989899\n99  2.568035  1.000000\n\n[100 rows x 2 columns]}, {'y':            y    y_axis\n0   1.045718  0.000000\n1   1.060869  0.010101\n2   1.076021  0.020202\n3   1.091172  0.030303\n4   1.106324  0.040404\n..       ...       ...\n95  2.485112  0.959596\n96  2.500263  0.969697\n97  2.515415  0.979798\n98  2.530566  0.989899\n99  2.545718  1.000000\n\n[100 rows x 2 columns]}]}), prior_dataframes=defaultdict(&lt;class 'list'&gt;, {'Dummy': [{'y':            y    y_axis\n0   1.068035  0.000000\n1   1.078136  0.010101\n2   1.088237  0.020202\n3   1.098338  0.030303\n4   1.108439  0.040404\n..       ...       ...\n95  2.027631  0.959596\n96  2.037732  0.969697\n97  2.047833  0.979798\n98  2.057934  0.989899\n99  2.068035  1.000000\n\n[100 rows x 2 columns]}, {'y':            y    y_axis\n0   1.045718  0.000000\n1   1.055819  0.010101\n2   1.065920  0.020202\n3   1.076021  0.030303\n4   1.086122  0.040404\n..       ...       ...\n95  2.005314  0.959596\n96  2.015415  0.969697\n97  2.025516  0.979798\n98  2.035617  0.989899\n99  2.045718  1.000000\n\n[100 rows x 2 columns]}]}), reference_dataframes=defaultdict(&lt;class 'list'&gt;, {'Dummy': [{'y':            y    y_axis\n0   1.068035  0.000000\n1   1.083187  0.010101\n2   1.098338  0.020202\n3   1.113490  0.030303\n4   1.128641  0.040404\n..       ...       ...\n95  2.507429  0.959596\n96  2.522581  0.969697\n97  2.537732  0.979798\n98  2.552884  0.989899\n99  2.568035  1.000000\n\n[100 rows x 2 columns]}, {'y':            y    y_axis\n0   1.045718  0.000000\n1   1.060869  0.010101\n2   1.076021  0.020202\n3   1.091172  0.030303\n4   1.106324  0.040404\n..       ...       ...\n95  2.485112  0.959596\n96  2.500263  0.969697\n97  2.515415  0.979798\n98  2.530566  0.989899\n99  2.545718  1.000000\n\n[100 rows x 2 columns]}]}))\n</code></pre> <p>Total running time of the script: ( 0 minutes  3.265 seconds)</p> <p> Download Python source code: plot_02_calibration_on_curves.py</p> <p> Download Jupyter notebook: plot_02_calibration_on_curves.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/08_calibration/plot_03_coupled_load_cases/","title":"Usage of the model calibration for several load cases in the same step","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/08_calibration/plot_03_coupled_load_cases/#usage-of-the-model-calibration-for-several-load-cases-in-the-same-step","title":"Usage of the model calibration for several load cases in the same step","text":"<p>Calibrate a model with coupling several load cases in a step.</p> <pre><code>from __future__ import annotations\n\nimport logging\n\nfrom gemseo_calibration.calibrator import CalibrationMetricSettings\nfrom numpy import atleast_1d\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.io.space_io import SpaceToolFileIO\nfrom vimseo.storage_management.base_storage_manager import PersistencyPolicy\nfrom vimseo.tools.calibration.calibration_step import CalibrationStep\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepInputs\nfrom vimseo.tools.calibration.calibration_step import CalibrationStepSettings\nfrom vimseo.tools.calibration.input_data import CALIBRATION_INPUT_DATA\nfrom vimseo.utilities.generate_validation_reference import (\n    generate_reference_from_parameter_space,\n)\n</code></pre> <p>We first define the logger level:</p> <pre><code>activate_logger(level=logging.INFO)\n</code></pre> <p>We suppose that we want to calibrate a Hook's law homogeneous elastic isotropic material from reference data on a beam for two load cases: - cantilever bending - three point bending We now generate the reference data from the model used for the calibration. We define an input space in which the reference data are generated:</p> <pre><code>space_tool_result = SpaceToolFileIO().read(\n    CALIBRATION_INPUT_DATA / \"experimental_space_beam_cantilever.json\"\n)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n</code></pre> <p>And we define a target Young modulus for the cantilever load case and the associated model:</p> <pre><code>model_name = \"BendingTestAnalytical\"\ntarget_model_cantilever = create_model(\n    model_name,\n    \"Cantilever\",\n    model_options=IntegratedModelSettings(\n        directory_archive_persistency=PersistencyPolicy.DELETE_ALWAYS,\n        directory_scratch_persistency=PersistencyPolicy.DELETE_ALWAYS,\n    ),\n)\ntarget_young_modulus_cantilever = 2.2e5\ntarget_model_cantilever.default_input_data[\"young_modulus\"] = atleast_1d(\n    target_young_modulus_cantilever\n)\ntarget_model_cantilever.cache = None\nreference_dataset_cantilever = generate_reference_from_parameter_space(\n    target_model_cantilever,\n    space_tool_result.parameter_space,\n    n_samples=6,\n    as_dataset=True,\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:16: Working directory is CustomDOETool/10\n    INFO - 15:51:17:  \n    INFO - 15:51:17: *** Start DOEScenario execution ***\n    INFO - 15:51:17: DOEScenario\n    INFO - 15:51:17:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:51:17: \n    INFO - 15:51:17: Load case:\n    INFO - 15:51:17:    Load case Cantilever: A cantilever load case.\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Boundary condition variables:\n    INFO - 15:51:17:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Plot parameters:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"curves\": []\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    Load:\n    INFO - 15:51:17:    Load(direction='', sign='', type='')\n    INFO - 15:51:17: \n    INFO - 15:51:17: Default values:\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default geometrical variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"height\": [\n    INFO - 15:51:17:         40.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"length\": [\n    INFO - 15:51:17:         600.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"width\": [\n    INFO - 15:51:17:         30.0\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default numerical variables:\n    INFO - 15:51:17:    {}\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default boundary conditions variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"imposed_dplt\": [\n    INFO - 15:51:17:         -5.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"relative_dplt_location\": [\n    INFO - 15:51:17:         1.0\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default material variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"nu_p\": [\n    INFO - 15:51:17:         0.3\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"young_modulus\": [\n    INFO - 15:51:17:         220000.0\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    MDO formulation: DisciplinaryOpt\n    INFO - 15:51:17: Optimization problem:\n    INFO - 15:51:17:    minimize reaction_forces(height, imposed_dplt, width)\n    INFO - 15:51:17:    with respect to height, imposed_dplt, width\n    INFO - 15:51:17:    over the design space:\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17:       | Name         | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17:       | height       |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       | imposed_dplt |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       | width        |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:     17%|\u2588\u258b        | 1/6 [00:00&lt;00:00,  9.11 it/sec, obj=-2.36e+3]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:     33%|\u2588\u2588\u2588\u258e      | 2/6 [00:00&lt;00:00,  9.95 it/sec, obj=-2.44e+3]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:     50%|\u2588\u2588\u2588\u2588\u2588     | 3/6 [00:00&lt;00:00, 10.45 it/sec, obj=-2.58e+3]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 4/6 [00:00&lt;00:00, 10.48 it/sec, obj=-2.55e+3]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 5/6 [00:00&lt;00:00, 10.54 it/sec, obj=-2.5e+3]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/Cantilever/1\n    INFO - 15:51:17:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6/6 [00:00&lt;00:00, 10.47 it/sec, obj=-2.32e+3]\n    INFO - 15:51:17: Optimization result:\n    INFO - 15:51:17:    Optimizer info:\n    INFO - 15:51:17:       Status: None\n    INFO - 15:51:17:       Message: None\n    INFO - 15:51:17:       Number of calls to the objective function by the optimizer: 6\n    INFO - 15:51:17:    Solution:\n    INFO - 15:51:17:       Objective: -2576.934727842181\n    INFO - 15:51:17:       Design space:\n    INFO - 15:51:17:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:17:          | Name         | Lower bound |      Value       | Upper bound | Type  |\n    INFO - 15:51:17:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:17:          | height       |     -inf    | 40.7178955078125 |     inf     | float |\n    INFO - 15:51:17:          | imposed_dplt |     -inf    | -4.9700927734375 |     inf     | float |\n    INFO - 15:51:17:          | width        |     -inf    | 30.1629638671875 |     inf     | float |\n    INFO - 15:51:17:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:17: *** End DOEScenario execution (time: 0:00:00.577771) ***\n</code></pre> <p>We now define a different Young modulus for the three-points load case, considering that the material used in this test is different (the two reference data are subjected to material variability):</p> <pre><code>target_model_three_points = create_model(\n    model_name,\n    \"ThreePoints\",\n    model_options=IntegratedModelSettings(\n        directory_archive_persistency=PersistencyPolicy.DELETE_ALWAYS,\n        directory_scratch_persistency=PersistencyPolicy.DELETE_ALWAYS,\n    ),\n)\ntarget_young_modulus_three_points = 2.3e5\ntarget_model_three_points.default_input_data[\"young_modulus\"] = atleast_1d(\n    target_young_modulus_three_points\n)\ntarget_model_three_points.cache = None\nreference_dataset_three_points = generate_reference_from_parameter_space(\n    target_model_three_points,\n    space_tool_result.parameter_space,\n    n_samples=6,\n    as_dataset=True,\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:17: Working directory is CustomDOETool/11\n    INFO - 15:51:17:  \n    INFO - 15:51:17: *** Start DOEScenario execution ***\n    INFO - 15:51:17: DOEScenario\n    INFO - 15:51:17:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:51:17: \n    INFO - 15:51:17: Load case:\n    INFO - 15:51:17:    Load case ThreePoints: A three-points load case.\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Boundary condition variables:\n    INFO - 15:51:17:    ['imposed_dplt', 'relative_support_location']\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Plot parameters:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"curves\": []\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    Load:\n    INFO - 15:51:17:    Load(direction='', sign='', type='')\n    INFO - 15:51:17: \n    INFO - 15:51:17: Default values:\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default geometrical variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"height\": [\n    INFO - 15:51:17:         40.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"length\": [\n    INFO - 15:51:17:         600.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"width\": [\n    INFO - 15:51:17:         30.0\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default numerical variables:\n    INFO - 15:51:17:    {}\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default boundary conditions variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"imposed_dplt\": [\n    INFO - 15:51:17:         -5.0\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"relative_support_location\": [\n    INFO - 15:51:17:         0.5\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    \n    INFO - 15:51:17:    Default material variables:\n    INFO - 15:51:17:    {\n    INFO - 15:51:17:     \"nu_p\": [\n    INFO - 15:51:17:         0.3\n    INFO - 15:51:17:     ],\n    INFO - 15:51:17:     \"young_modulus\": [\n    INFO - 15:51:17:         230000.0\n    INFO - 15:51:17:     ]\n    INFO - 15:51:17: }\n    INFO - 15:51:17:    MDO formulation: DisciplinaryOpt\n    INFO - 15:51:17: Optimization problem:\n    INFO - 15:51:17:    minimize reaction_forces(height, imposed_dplt, width)\n    INFO - 15:51:17:    with respect to height, imposed_dplt, width\n    INFO - 15:51:17:    over the design space:\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17:       | Name         | Lower bound | Value | Upper bound | Type  |\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17:       | height       |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       | imposed_dplt |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       | width        |     -inf    |  None |     inf     | float |\n    INFO - 15:51:17:       +--------------+-------------+-------+-------------+-------+\n    INFO - 15:51:17: Solving optimization problem with algorithm CustomDOE:\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17:     17%|\u2588\u258b        | 1/6 [00:00&lt;00:00,  8.42 it/sec, obj=-3.92e+4]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17:     33%|\u2588\u2588\u2588\u258e      | 2/6 [00:00&lt;00:00,  9.85 it/sec, obj=-4.09e+4]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17:     50%|\u2588\u2588\u2588\u2588\u2588     | 3/6 [00:00&lt;00:00, 10.02 it/sec, obj=-3.89e+4]\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:17: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:17: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 4/6 [00:00&lt;00:00, 10.18 it/sec, obj=-3.96e+4]\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 5/6 [00:00&lt;00:00, 10.09 it/sec, obj=-4.21e+4]\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18: Current root directory of job directory is /home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/08_calibration/default_archive.\n    INFO - 15:51:18: Removing job directory: default_archive/BendingTestAnalytical/ThreePoints/1\n    INFO - 15:51:18:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 6/6 [00:00&lt;00:00, 10.30 it/sec, obj=-4.2e+4]\n    INFO - 15:51:18: Optimization result:\n    INFO - 15:51:18:    Optimizer info:\n    INFO - 15:51:18:       Status: None\n    INFO - 15:51:18:       Message: None\n    INFO - 15:51:18:       Number of calls to the objective function by the optimizer: 6\n    INFO - 15:51:18:    Solution:\n    INFO - 15:51:18:       Objective: -42104.93679082081\n    INFO - 15:51:18:       Design space:\n    INFO - 15:51:18:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:18:          | Name         | Lower bound |      Value       | Upper bound | Type  |\n    INFO - 15:51:18:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:18:          | height       |     -inf    | 40.0338134765625 |     inf     | float |\n    INFO - 15:51:18:          | imposed_dplt |     -inf    | -5.0399169921875 |     inf     | float |\n    INFO - 15:51:18:          | width        |     -inf    | 30.5699462890625 |     inf     | float |\n    INFO - 15:51:18:          +--------------+-------------+------------------+-------------+-------+\n    INFO - 15:51:18: *** End DOEScenario execution (time: 0:00:00.587659) ***\n</code></pre> <p>We now define the models used for the calibration:</p> <pre><code>model_cantilever = create_model(\n    model_name,\n    \"Cantilever\",\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/calibration_coupled\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/calibration_coupled\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/calibration_coupled/{model_name}_Cantilever_cache.hdf\",\n    ),\n)\nmodel_three_points = create_model(\n    model_name,\n    \"ThreePoints\",\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/calibration_coupled\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/calibration_coupled\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/calibration_coupled/{model_name}_ThreePoints_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:18: Found 138 entries in the cache file : ../../../model_runs/caches/calibration_coupled/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:18: Found 138 entries in the cache file : ../../../model_runs/caches/calibration_coupled/BendingTestAnalytical_ThreePoints_cache.hdf node : node\n</code></pre> <p>We can now define a calibration step which will take into account both load cases to find the best compromise of Young modulus. The match between the posterior output data and the reference data cannot be perfect because we have deliberately used a different material to generate the two reference datasets. Assuming that we consider an equal weight of each load case in the calibration of the Young modulus, then we expect that the optimal value is the average of the two target values used to generate the reference data. Here, a relative mean square error metric is used to compute the mismatch between the simulated and reference data.</p> <p>.. note::</p> <pre><code>It is crucial to use a relative metric, which scales the simulated outputs\nto a standard magnitude (by dividing by the reference data typically).\nOtherwise, if the magnitude of the simulated outputs for each load case is\ndifferent, the optimizer will see metrics of different magnitudes in the objective\nfunction, and will give more weight to the metric of greater magnitude.\n</code></pre> <pre><code>output_name = \"reaction_forces\"\nstep = CalibrationStep(working_directory=\"coupled_step\")\nstep.execute(\n    inputs=CalibrationStepInputs(\n        reference_data={\n            \"Cantilever\": reference_dataset_cantilever,\n            \"ThreePoints\": reference_dataset_three_points,\n        },\n    ),\n    settings=CalibrationStepSettings(\n        model_name={\n            \"Cantilever\": model_cantilever,\n            \"ThreePoints\": model_three_points,\n        },\n        control_outputs={output_name: CalibrationMetricSettings(measure=\"RelativeMSE\")},\n        input_names=[\n            \"height\",\n            \"width\",\n            \"imposed_dplt\",\n        ],\n        parameter_names=[\"young_modulus\"],\n    ),\n)\nstep.save_results()\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:18: Working directory is coupled_step\n    INFO - 15:51:18: Found 138 entries in the cache file : ../../../model_runs/caches/calibration_coupled/BendingTestAnalytical_Cantilever_cache.hdf node : node\n    INFO - 15:51:18: Found 138 entries in the cache file : ../../../model_runs/caches/calibration_coupled/BendingTestAnalytical_ThreePoints_cache.hdf node : node\n    INFO - 15:51:18: Calibration design space: Design space:\n    INFO - 15:51:18: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:18: | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:18: +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:18: | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:18: +---------------+-------------+--------+-------------+-------+\n WARNING - 15:51:18: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:51:18:  \n    INFO - 15:51:18: *** Start CalibrationScenario execution ***\n    INFO - 15:51:18: CalibrationScenario\n    INFO - 15:51:18:    Disciplines: Calibrator\n    INFO - 15:51:18:    MDO formulation: DisciplinaryOpt\n WARNING - 15:51:18: Relative MSE: [[0.00756144]\n WARNING - 15:51:18:  [0.00756144]\n WARNING - 15:51:18:  [0.00756144]\n WARNING - 15:51:18:  [0.00756144]\n WARNING - 15:51:18:  [0.00756144]\n WARNING - 15:51:18:  [0.00756144]]\n WARNING - 15:51:18: Relative MSE: [[0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]]\n    INFO - 15:51:18: Optimization problem:\n    INFO - 15:51:18:    minimize 0.5*RelativeMSE[Cantilever:reaction_forces]+0.5*RelativeMSE[ThreePoints:reaction_forces](young_modulus)\n    INFO - 15:51:18:    with respect to young_modulus\n    INFO - 15:51:18:    over the design space:\n    INFO - 15:51:18:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:18:       | Name          | Lower bound | Value  | Upper bound | Type  |\n    INFO - 15:51:18:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:18:       | young_modulus |    190000   | 210000 |    230000   | float |\n    INFO - 15:51:18:       +---------------+-------------+--------+-------------+-------+\n    INFO - 15:51:18: Solving optimization problem with algorithm NLOPT_COBYLA:\n WARNING - 15:51:18: Relative MSE: [[0.00189036]\n WARNING - 15:51:18:  [0.00189036]\n WARNING - 15:51:18:  [0.00189036]\n WARNING - 15:51:18:  [0.00189036]\n WARNING - 15:51:18:  [0.00189036]\n WARNING - 15:51:18:  [0.00189036]]\n WARNING - 15:51:18: Relative MSE: [[0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]]\n WARNING - 15:51:18: Relative MSE: [[0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]\n WARNING - 15:51:18:  [0.]]\n WARNING - 15:51:18: Relative MSE: [[0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]\n WARNING - 15:51:18:  [0.00206612]]\n WARNING - 15:51:18: Relative MSE: [[0.00047259]\n WARNING - 15:51:18:  [0.00047259]\n WARNING - 15:51:18:  [0.00047259]\n WARNING - 15:51:18:  [0.00047259]\n WARNING - 15:51:18:  [0.00047259]\n WARNING - 15:51:18:  [0.00047259]]\n WARNING - 15:51:18: Relative MSE: [[0.00051653]\n WARNING - 15:51:18:  [0.00051653]\n WARNING - 15:51:18:  [0.00051653]\n WARNING - 15:51:18:  [0.00051653]\n WARNING - 15:51:18:  [0.00051653]\n WARNING - 15:51:18:  [0.00051653]]\n WARNING - 15:51:18: Relative MSE: [[0.00011815]\n WARNING - 15:51:18:  [0.00011815]\n WARNING - 15:51:18:  [0.00011815]\n WARNING - 15:51:18:  [0.00011815]\n WARNING - 15:51:18:  [0.00011815]\n WARNING - 15:51:18:  [0.00011815]]\n WARNING - 15:51:18: Relative MSE: [[0.00116219]\n WARNING - 15:51:18:  [0.00116219]\n WARNING - 15:51:18:  [0.00116219]\n WARNING - 15:51:18:  [0.00116219]\n WARNING - 15:51:18:  [0.00116219]\n WARNING - 15:51:18:  [0.00116219]]\n WARNING - 15:51:19: Relative MSE: [[0.00073842]\n WARNING - 15:51:19:  [0.00073842]\n WARNING - 15:51:19:  [0.00073842]\n WARNING - 15:51:19:  [0.00073842]\n WARNING - 15:51:19:  [0.00073842]\n WARNING - 15:51:19:  [0.00073842]]\n WARNING - 15:51:19: Relative MSE: [[0.00029055]\n WARNING - 15:51:19:  [0.00029055]\n WARNING - 15:51:19:  [0.00029055]\n WARNING - 15:51:19:  [0.00029055]\n WARNING - 15:51:19:  [0.00029055]\n WARNING - 15:51:19:  [0.00029055]]\n    INFO - 15:51:19:      1%|          | 6/1000 [00:00&lt;00:52, 19.02 it/sec, obj=0.000514]\n WARNING - 15:51:19: Relative MSE: [[0.00036183]\n WARNING - 15:51:19:  [0.00036183]\n WARNING - 15:51:19:  [0.00036183]\n WARNING - 15:51:19:  [0.00036183]\n WARNING - 15:51:19:  [0.00036183]\n WARNING - 15:51:19:  [0.00036183]]\n WARNING - 15:51:19: Relative MSE: [[0.00065373]\n WARNING - 15:51:19:  [0.00065373]\n WARNING - 15:51:19:  [0.00065373]\n WARNING - 15:51:19:  [0.00065373]\n WARNING - 15:51:19:  [0.00065373]\n WARNING - 15:51:19:  [0.00065373]]\n    INFO - 15:51:19:      1%|          | 7/1000 [00:00&lt;00:53, 18.71 it/sec, obj=0.000508]\n WARNING - 15:51:19: Relative MSE: [[0.00053351]\n WARNING - 15:51:19:  [0.00053351]\n WARNING - 15:51:19:  [0.00053351]\n WARNING - 15:51:19:  [0.00053351]\n WARNING - 15:51:19:  [0.00053351]\n WARNING - 15:51:19:  [0.00053351]]\n WARNING - 15:51:19: Relative MSE: [[0.00045398]\n WARNING - 15:51:19:  [0.00045398]\n WARNING - 15:51:19:  [0.00045398]\n WARNING - 15:51:19:  [0.00045398]\n WARNING - 15:51:19:  [0.00045398]\n WARNING - 15:51:19:  [0.00045398]]\n    INFO - 15:51:19:      1%|          | 8/1000 [00:00&lt;00:54, 18.09 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00059812]\n WARNING - 15:51:19:  [0.00059812]\n WARNING - 15:51:19:  [0.00059812]\n WARNING - 15:51:19:  [0.00059812]\n WARNING - 15:51:19:  [0.00059812]\n WARNING - 15:51:19:  [0.00059812]]\n WARNING - 15:51:19: Relative MSE: [[0.00039547]\n WARNING - 15:51:19:  [0.00039547]\n WARNING - 15:51:19:  [0.00039547]\n WARNING - 15:51:19:  [0.00039547]\n WARNING - 15:51:19:  [0.00039547]\n WARNING - 15:51:19:  [0.00039547]]\n    INFO - 15:51:19:      1%|          | 9/1000 [00:00&lt;00:55, 17.82 it/sec, obj=0.000497]\n WARNING - 15:51:19: Relative MSE: [[0.00056535]\n WARNING - 15:51:19:  [0.00056535]\n WARNING - 15:51:19:  [0.00056535]\n WARNING - 15:51:19:  [0.00056535]\n WARNING - 15:51:19:  [0.00056535]\n WARNING - 15:51:19:  [0.00056535]]\n WARNING - 15:51:19: Relative MSE: [[0.00042422]\n WARNING - 15:51:19:  [0.00042422]\n WARNING - 15:51:19:  [0.00042422]\n WARNING - 15:51:19:  [0.00042422]\n WARNING - 15:51:19:  [0.00042422]\n WARNING - 15:51:19:  [0.00042422]]\n    INFO - 15:51:19:      1%|          | 10/1000 [00:00&lt;00:56, 17.66 it/sec, obj=0.000495]\n WARNING - 15:51:19: Relative MSE: [[0.00051793]\n WARNING - 15:51:19:  [0.00051793]\n WARNING - 15:51:19:  [0.00051793]\n WARNING - 15:51:19:  [0.00051793]\n WARNING - 15:51:19:  [0.00051793]\n WARNING - 15:51:19:  [0.00051793]]\n WARNING - 15:51:19: Relative MSE: [[0.00046924]\n WARNING - 15:51:19:  [0.00046924]\n WARNING - 15:51:19:  [0.00046924]\n WARNING - 15:51:19:  [0.00046924]\n WARNING - 15:51:19:  [0.00046924]\n WARNING - 15:51:19:  [0.00046924]]\n    INFO - 15:51:19:      1%|          | 11/1000 [00:00&lt;00:57, 17.32 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00050259]\n WARNING - 15:51:19:  [0.00050259]\n WARNING - 15:51:19:  [0.00050259]\n WARNING - 15:51:19:  [0.00050259]\n WARNING - 15:51:19:  [0.00050259]\n WARNING - 15:51:19:  [0.00050259]]\n WARNING - 15:51:19: Relative MSE: [[0.00048475]\n WARNING - 15:51:19:  [0.00048475]\n WARNING - 15:51:19:  [0.00048475]\n WARNING - 15:51:19:  [0.00048475]\n WARNING - 15:51:19:  [0.00048475]\n WARNING - 15:51:19:  [0.00048475]]\n    INFO - 15:51:19:      1%|          | 12/1000 [00:00&lt;00:58, 16.99 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051023]\n WARNING - 15:51:19:  [0.00051023]\n WARNING - 15:51:19:  [0.00051023]\n WARNING - 15:51:19:  [0.00051023]\n WARNING - 15:51:19:  [0.00051023]\n WARNING - 15:51:19:  [0.00051023]]\n WARNING - 15:51:19: Relative MSE: [[0.00047696]\n WARNING - 15:51:19:  [0.00047696]\n WARNING - 15:51:19:  [0.00047696]\n WARNING - 15:51:19:  [0.00047696]\n WARNING - 15:51:19:  [0.00047696]\n WARNING - 15:51:19:  [0.00047696]]\n    INFO - 15:51:19:      1%|\u258f         | 13/1000 [00:00&lt;00:58, 16.94 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00052181]\n WARNING - 15:51:19:  [0.00052181]\n WARNING - 15:51:19:  [0.00052181]\n WARNING - 15:51:19:  [0.00052181]\n WARNING - 15:51:19:  [0.00052181]\n WARNING - 15:51:19:  [0.00052181]]\n WARNING - 15:51:19: Relative MSE: [[0.0004654]\n WARNING - 15:51:19:  [0.0004654]\n WARNING - 15:51:19:  [0.0004654]\n WARNING - 15:51:19:  [0.0004654]\n WARNING - 15:51:19:  [0.0004654]\n WARNING - 15:51:19:  [0.0004654]]\n    INFO - 15:51:19:      1%|\u258f         | 14/1000 [00:00&lt;00:58, 16.86 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.000516]\n WARNING - 15:51:19:  [0.000516]\n WARNING - 15:51:19:  [0.000516]\n WARNING - 15:51:19:  [0.000516]\n WARNING - 15:51:19:  [0.000516]\n WARNING - 15:51:19:  [0.000516]]\n WARNING - 15:51:19: Relative MSE: [[0.00047116]\n WARNING - 15:51:19:  [0.00047116]\n WARNING - 15:51:19:  [0.00047116]\n WARNING - 15:51:19:  [0.00047116]\n WARNING - 15:51:19:  [0.00047116]\n WARNING - 15:51:19:  [0.00047116]]\n    INFO - 15:51:19:      2%|\u258f         | 15/1000 [00:00&lt;00:58, 16.71 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051408]\n WARNING - 15:51:19:  [0.00051408]\n WARNING - 15:51:19:  [0.00051408]\n WARNING - 15:51:19:  [0.00051408]\n WARNING - 15:51:19:  [0.00051408]\n WARNING - 15:51:19:  [0.00051408]]\n WARNING - 15:51:19: Relative MSE: [[0.00047309]\n WARNING - 15:51:19:  [0.00047309]\n WARNING - 15:51:19:  [0.00047309]\n WARNING - 15:51:19:  [0.00047309]\n WARNING - 15:51:19:  [0.00047309]\n WARNING - 15:51:19:  [0.00047309]]\n    INFO - 15:51:19:      2%|\u258f         | 16/1000 [00:00&lt;00:59, 16.52 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051504]\n WARNING - 15:51:19:  [0.00051504]\n WARNING - 15:51:19:  [0.00051504]\n WARNING - 15:51:19:  [0.00051504]\n WARNING - 15:51:19:  [0.00051504]\n WARNING - 15:51:19:  [0.00051504]]\n WARNING - 15:51:19: Relative MSE: [[0.00047213]\n WARNING - 15:51:19:  [0.00047213]\n WARNING - 15:51:19:  [0.00047213]\n WARNING - 15:51:19:  [0.00047213]\n WARNING - 15:51:19:  [0.00047213]\n WARNING - 15:51:19:  [0.00047213]]\n    INFO - 15:51:19:      2%|\u258f         | 17/1000 [00:01&lt;00:59, 16.50 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051456]\n WARNING - 15:51:19:  [0.00051456]\n WARNING - 15:51:19:  [0.00051456]\n WARNING - 15:51:19:  [0.00051456]\n WARNING - 15:51:19:  [0.00051456]\n WARNING - 15:51:19:  [0.00051456]]\n WARNING - 15:51:19: Relative MSE: [[0.00047261]\n WARNING - 15:51:19:  [0.00047261]\n WARNING - 15:51:19:  [0.00047261]\n WARNING - 15:51:19:  [0.00047261]\n WARNING - 15:51:19:  [0.00047261]\n WARNING - 15:51:19:  [0.00047261]]\n    INFO - 15:51:19:      2%|\u258f         | 18/1000 [00:01&lt;00:59, 16.49 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051528]\n WARNING - 15:51:19:  [0.00051528]\n WARNING - 15:51:19:  [0.00051528]\n WARNING - 15:51:19:  [0.00051528]\n WARNING - 15:51:19:  [0.00051528]\n WARNING - 15:51:19:  [0.00051528]]\n WARNING - 15:51:19: Relative MSE: [[0.00047189]\n WARNING - 15:51:19:  [0.00047189]\n WARNING - 15:51:19:  [0.00047189]\n WARNING - 15:51:19:  [0.00047189]\n WARNING - 15:51:19:  [0.00047189]\n WARNING - 15:51:19:  [0.00047189]]\n    INFO - 15:51:19:      2%|\u258f         | 19/1000 [00:01&lt;00:59, 16.44 it/sec, obj=0.000494]\n WARNING - 15:51:19: Relative MSE: [[0.00051552]\n WARNING - 15:51:19:  [0.00051552]\n WARNING - 15:51:19:  [0.00051552]\n WARNING - 15:51:19:  [0.00051552]\n WARNING - 15:51:19:  [0.00051552]\n WARNING - 15:51:19:  [0.00051552]]\n WARNING - 15:51:19: Relative MSE: [[0.00047165]\n WARNING - 15:51:19:  [0.00047165]\n WARNING - 15:51:19:  [0.00047165]\n WARNING - 15:51:19:  [0.00047165]\n WARNING - 15:51:19:  [0.00047165]\n WARNING - 15:51:19:  [0.00047165]]\n    INFO - 15:51:19:      2%|\u258f         | 20/1000 [00:01&lt;00:59, 16.40 it/sec, obj=0.000494]\n WARNING - 15:51:20: Relative MSE: [[0.00051576]\n WARNING - 15:51:20:  [0.00051576]\n WARNING - 15:51:20:  [0.00051576]\n WARNING - 15:51:20:  [0.00051576]\n WARNING - 15:51:20:  [0.00051576]\n WARNING - 15:51:20:  [0.00051576]]\n WARNING - 15:51:20: Relative MSE: [[0.00047141]\n WARNING - 15:51:20:  [0.00047141]\n WARNING - 15:51:20:  [0.00047141]\n WARNING - 15:51:20:  [0.00047141]\n WARNING - 15:51:20:  [0.00047141]\n WARNING - 15:51:20:  [0.00047141]]\n    INFO - 15:51:20:      2%|\u258f         | 21/1000 [00:01&lt;00:59, 16.40 it/sec, obj=0.000494]\n WARNING - 15:51:20: Relative MSE: [[0.00051564]\n WARNING - 15:51:20:  [0.00051564]\n WARNING - 15:51:20:  [0.00051564]\n WARNING - 15:51:20:  [0.00051564]\n WARNING - 15:51:20:  [0.00051564]\n WARNING - 15:51:20:  [0.00051564]]\n WARNING - 15:51:20: Relative MSE: [[0.00047153]\n WARNING - 15:51:20:  [0.00047153]\n WARNING - 15:51:20:  [0.00047153]\n WARNING - 15:51:20:  [0.00047153]\n WARNING - 15:51:20:  [0.00047153]\n WARNING - 15:51:20:  [0.00047153]]\n    INFO - 15:51:20:      2%|\u258f         | 22/1000 [00:01&lt;00:59, 16.39 it/sec, obj=0.000494]\n WARNING - 15:51:20: Relative MSE: [[0.00051546]\n WARNING - 15:51:20:  [0.00051546]\n WARNING - 15:51:20:  [0.00051546]\n WARNING - 15:51:20:  [0.00051546]\n WARNING - 15:51:20:  [0.00051546]\n WARNING - 15:51:20:  [0.00051546]]\n WARNING - 15:51:20: Relative MSE: [[0.00047171]\n WARNING - 15:51:20:  [0.00047171]\n WARNING - 15:51:20:  [0.00047171]\n WARNING - 15:51:20:  [0.00047171]\n WARNING - 15:51:20:  [0.00047171]\n WARNING - 15:51:20:  [0.00047171]]\n    INFO - 15:51:20:      2%|\u258f         | 23/1000 [00:01&lt;00:59, 16.37 it/sec, obj=0.000494]\n    INFO - 15:51:20: Optimization result:\n    INFO - 15:51:20:    Optimizer info:\n    INFO - 15:51:20:       Status: None\n    INFO - 15:51:20:       Message: Successive iterates of the objective function are closer than ftol_rel or ftol_abs. GEMSEO stopped the driver.\n    INFO - 15:51:20:       Number of calls to the objective function by the optimizer: 25\n    INFO - 15:51:20:    Solution:\n    INFO - 15:51:20:       Objective: 0.0004935834156580209\n    INFO - 15:51:20:       Design space:\n    INFO - 15:51:20:          +---------------+-------------+-----------------+-------------+-------+\n    INFO - 15:51:20:          | Name          | Lower bound |      Value      | Upper bound | Type  |\n    INFO - 15:51:20:          +---------------+-------------+-----------------+-------------+-------+\n    INFO - 15:51:20:          | young_modulus |    190000   | 224777.83203125 |    230000   | float |\n    INFO - 15:51:20:          +---------------+-------------+-----------------+-------------+-------+\n WARNING - 15:51:20: Relative MSE: [[0.00051552]\n WARNING - 15:51:20:  [0.00051552]\n WARNING - 15:51:20:  [0.00051552]\n WARNING - 15:51:20:  [0.00051552]\n WARNING - 15:51:20:  [0.00051552]\n WARNING - 15:51:20:  [0.00051552]]\n WARNING - 15:51:20: Relative MSE: [[0.00047165]\n WARNING - 15:51:20:  [0.00047165]\n WARNING - 15:51:20:  [0.00047165]\n WARNING - 15:51:20:  [0.00047165]\n WARNING - 15:51:20:  [0.00047165]\n WARNING - 15:51:20:  [0.00047165]]\n    INFO - 15:51:20: *** End CalibrationScenario execution (time: 0:00:01.561538) ***\n    INFO - 15:51:20: Parameters before calibration: {'young_modulus': array([210000.])}\n    INFO - 15:51:20: Parameters after calibration: {'young_modulus': 224777.83203125}\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2170: DeprecationWarning:\n\n'parseString' deprecated - use 'parse_string'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pyparsing/util.py:439: DeprecationWarning:\n\n'parseAll' argument is deprecated, use 'parse_all'\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/matplotlib/_mathtext.py:2178: DeprecationWarning:\n\n'resetCache' deprecated - use 'reset_cache'\n</code></pre> <p>For scalar metrics, a bar plot shows the agreement between the simulated and reference outputs. for the Cantilever load case:</p> <pre><code>figures = step.plot_results(step.result, save=False, show=True)\nfigures[\"Cantilever\"][f\"simulated_versus_reference_{output_name}_bars\"]\n</code></pre> <p>And fof the ThreePoints load case:</p> <pre><code>figures[\"ThreePoints\"][f\"simulated_versus_reference_{output_name}_bars\"]\n</code></pre> <p>We expect that the best compromise is the average value between the two young modulus, which is 2.25e5:</p> <pre><code>step.result.posterior_parameters[\"young_modulus\"]\n</code></pre> <p>Out:</p> <pre><code>224777.83203125\n</code></pre> <p>Total running time of the script: ( 0 minutes  3.833 seconds)</p> <p> Download Python source code: plot_03_coupled_load_cases.py</p> <p> Download Jupyter notebook: plot_03_coupled_load_cases.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/","title":"Run sensitivity analysis","text":""},{"location":"generated/runnable_examples/09_sensitivity_analysis/#sensitivity-analysis-with-integrated-models","title":"Sensitivity Analysis with integrated models","text":"<p>Below is a gallery of examples about sensitivity analysis.</p> <p> Usage of the SensitivityTool </p> <p> Download all examples in Python source code: 09_sensitivity_analysis_python.zip</p> <p> Download all examples in Jupyter notebooks: 09_sensitivity_analysis_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/mg_execution_times/","title":"Computation times","text":"<p>00:01.766 total execution time for generated_runnable_examples_09_sensitivity_analysis files:</p> <p>+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_example_SensitivityTool_StraightBeamModel (docs/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel.py) | 00:01.766 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/","title":"Usage of the SensitivityTool","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/#usage-of-the-sensitivitytool","title":"Usage of the SensitivityTool","text":"<p>SensitivityTool provides methods for sensitivity analysis. BendingTestAnalytical is used to illustrate the use of this tool.</p>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/#import-the-packages","title":"Import the packages","text":"<pre><code>from __future__ import annotations\n\nimport logging\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.sensitivity.sensitivity import SensitivityTool\nfrom vimseo.tools.space.space_tool import SpaceTool\n\nactivate_logger(level=logging.INFO)\n</code></pre>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/#analysis-definition","title":"Analysis definition","text":"<p>Let's start instantiate a model:</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/sensitivity\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/sensitivity\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/sensitivity/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:02: Found 40 entries in the cache file : ../../../model_runs/caches/sensitivity/BendingTestAnalytical_Cantilever_cache.hdf node : node\n</code></pre>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/#create-a-parameter-space","title":"Create a parameter space","text":"<p>Based on the above, we create a parameter space. In this example, all the parameters are defined by Uniform distributions. The parameter spaces are built with the help of the SpaceTool. By default, a parameter space per load case is generated (if load_cases=None):</p> <pre><code>space_tool = SpaceTool(working_directory=\"SpaceTool_results\")\nprint(space_tool.get_available_space_builders())\n</code></pre> <p>Out:</p> <pre><code>['FromCenterAndCov', 'FromMinAndMax', 'FromModelCenterAndCov', 'FromModelMinAndMax', 'SpaceBuilder']\n</code></pre> <p>First, consider all input variables of the model except \"relative_dplt_location\".</p> <pre><code>retained_variables = model.get_input_data_names()\nretained_variables.remove(\"relative_dplt_location\")\nspace_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromModelCenterAndCov\",\n    variable_names=retained_variables,\n    use_default_values_as_center=True,\n    model=model,\n    cov=0.05,\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:02: Working directory is SpaceTool_results\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n\nSpaceToolResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-02', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'distribution_name': 'OTTriangularDistribution', 'space_builder_name': 'FromModelCenterAndCov', 'minimum_values': None, 'maximum_values': None, 'center_value_expr': '', 'use_default_values_as_center': True, 'variable_names': ['length', 'width', 'height', 'imposed_dplt', 'young_modulus', 'nu_p'], 'center_values': None, 'cov': 0.05, 'truncate_to_model_bounds': True, 'lower_bounds': None, 'upper_bounds': None, 'size': 1}, report={}, model=None), parameter_space=Parameter space:\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+\n| Name          | Lower bound |       Value       | Upper bound | Type  |                    Initial distribution                   | Transformation(x)= |\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+\n| young_modulus |    199500   | 210000.0000000001 |    220500   | float | Triangular(lower=199500.0, mode=210000.0, upper=220500.0) |      Trunc(x)      |\n| nu_p          |    0.285    |        0.3        |    0.315    | float |       Triangular(lower=0.285, mode=0.3, upper=0.315)      |         x          |\n| length        |     570     | 600.0000000000003 |     630     | float |      Triangular(lower=570.0, mode=600.0, upper=630.0)     |      Trunc(x)      |\n| width         |     28.5    | 30.00000000000004 |     31.5    | float |       Triangular(lower=28.5, mode=30.0, upper=31.5)       |      Trunc(x)      |\n| height        |      38     | 40.00000000000004 |      42     | float |       Triangular(lower=38.0, mode=40.0, upper=42.0)       |      Trunc(x)      |\n| imposed_dplt  |    -5.25    |         -5        |    -4.75    | float |      Triangular(lower=-5.25, mode=-5.0, upper=-4.75)      |         x          |\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+)\n</code></pre> <p>Then, specifically for \"relative_dplt_location\".</p> <pre><code>space_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromCenterAndCov\",\n    center_values={\"relative_dplt_location\": 0.9},\n    cov=0.05,\n)\nprint(space_tool.parameter_space)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:02: Working directory is SpaceTool_results\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\nUncertain space:\n+------------------------+-------------------------------------------------------------+--------------------+\n|          Name          |                     Initial distribution                    | Transformation(x)= |\n+------------------------+-------------------------------------------------------------+--------------------+\n|     young_modulus      |  Triangular(lower=199500.0, mode=210000.0, upper=220500.0)  |      Trunc(x)      |\n|          nu_p          |        Triangular(lower=0.285, mode=0.3, upper=0.315)       |         x          |\n|         length         |       Triangular(lower=570.0, mode=600.0, upper=630.0)      |      Trunc(x)      |\n|         width          |        Triangular(lower=28.5, mode=30.0, upper=31.5)        |      Trunc(x)      |\n|         height         |        Triangular(lower=38.0, mode=40.0, upper=42.0)        |      Trunc(x)      |\n|      imposed_dplt      |       Triangular(lower=-5.25, mode=-5.0, upper=-4.75)       |         x          |\n| relative_dplt_location | Triangular(lower=0.855, mode=0.9, upper=0.9450000000000001) |         x          |\n+------------------------+-------------------------------------------------------------+--------------------+\n</code></pre>"},{"location":"generated/runnable_examples/09_sensitivity_analysis/plot_example_SensitivityTool_StraightBeamModel/#using-the-sensitivitytool","title":"Using the SensitivityTool","text":"<p>First, the tool must be instantiated.</p> <pre><code>tool = SensitivityTool(working_directory=\"sensitivity_tool_results\")\n</code></pre> <p>The :class:<code>~.SensitivityTool</code> must be executed to generate the Design of Experiments. By default, it creates the sensitivity analysis through the |gemseo| API, computes sensitivity analysis indices and, generates a radar plot with the results. The execution returns either a dictionary or a pandas dataframe (if argument as_df=True).</p> <pre><code>output_names = [\"reaction_forces\", \"dplt_at_force_location\", \"maximum_dplt\"]\nsensitivity_indices = tool.execute(\n    model=model,\n    parameter_space=space_tool.parameter_space,\n    sensitivity_algo=\"MorrisAnalysis\",\n    output_names=output_names,\n    n_replicates=5,\n).indices\ntool.save_results()\n\nprint(tool.result)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:02: Working directory is sensitivity_tool_results\n WARNING - 15:38:02: No coupling in MDA, switching chain_linearize to True.\n    INFO - 15:38:02:  \n    INFO - 15:38:02: *** Start MorrisAnalysisSamplingPhase execution ***\n    INFO - 15:38:02: MorrisAnalysisSamplingPhase\n    INFO - 15:38:02:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:38:02: \n    INFO - 15:38:02: Load case:\n    INFO - 15:38:02:    Load case Cantilever: A cantilever load case.\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Boundary condition variables:\n    INFO - 15:38:02:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Plot parameters:\n    INFO - 15:38:02:    {\n    INFO - 15:38:02:     \"curves\": []\n    INFO - 15:38:02: }\n    INFO - 15:38:02:    Load:\n    INFO - 15:38:02:    Load(direction='', sign='', type='')\n    INFO - 15:38:02: \n    INFO - 15:38:02: Default values:\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Default geometrical variables:\n    INFO - 15:38:02:    {\n    INFO - 15:38:02:     \"height\": [\n    INFO - 15:38:02:         40.0\n    INFO - 15:38:02:     ],\n    INFO - 15:38:02:     \"length\": [\n    INFO - 15:38:02:         600.0\n    INFO - 15:38:02:     ],\n    INFO - 15:38:02:     \"width\": [\n    INFO - 15:38:02:         30.0\n    INFO - 15:38:02:     ]\n    INFO - 15:38:02: }\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Default numerical variables:\n    INFO - 15:38:02:    {}\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Default boundary conditions variables:\n    INFO - 15:38:02:    {\n    INFO - 15:38:02:     \"imposed_dplt\": [\n    INFO - 15:38:02:         -5.0\n    INFO - 15:38:02:     ],\n    INFO - 15:38:02:     \"relative_dplt_location\": [\n    INFO - 15:38:02:         1.0\n    INFO - 15:38:02:     ]\n    INFO - 15:38:02: }\n    INFO - 15:38:02:    \n    INFO - 15:38:02:    Default material variables:\n    INFO - 15:38:02:    {\n    INFO - 15:38:02:     \"nu_p\": [\n    INFO - 15:38:02:         0.3\n    INFO - 15:38:02:     ],\n    INFO - 15:38:02:     \"young_modulus\": [\n    INFO - 15:38:02:         210000.0\n    INFO - 15:38:02:     ]\n    INFO - 15:38:02: }\n    INFO - 15:38:02:    MDO formulation: MDF\n    INFO - 15:38:02: Running the algorithm MorrisDOE:\n    INFO - 15:38:02:      2%|\u258e         | 1/40 [00:00&lt;00:00, 96.82 it/sec]\n    INFO - 15:38:02:      5%|\u258c         | 2/40 [00:00&lt;00:00, 136.28 it/sec]\n    INFO - 15:38:02:      8%|\u258a         | 3/40 [00:00&lt;00:00, 157.71 it/sec]\n    INFO - 15:38:02:     10%|\u2588         | 4/40 [00:00&lt;00:00, 171.18 it/sec]\n    INFO - 15:38:02:     12%|\u2588\u258e        | 5/40 [00:00&lt;00:00, 183.44 it/sec]\n    INFO - 15:38:02:     15%|\u2588\u258c        | 6/40 [00:00&lt;00:00, 186.13 it/sec]\n    INFO - 15:38:02:     18%|\u2588\u258a        | 7/40 [00:00&lt;00:00, 193.33 it/sec]\n    INFO - 15:38:03:     20%|\u2588\u2588        | 8/40 [00:00&lt;00:00, 199.50 it/sec]\n    INFO - 15:38:03:     22%|\u2588\u2588\u258e       | 9/40 [00:00&lt;00:00, 204.70 it/sec]\n    INFO - 15:38:03:     25%|\u2588\u2588\u258c       | 10/40 [00:00&lt;00:00, 209.20 it/sec]\n    INFO - 15:38:03:     28%|\u2588\u2588\u258a       | 11/40 [00:00&lt;00:00, 209.99 it/sec]\n    INFO - 15:38:03:     30%|\u2588\u2588\u2588       | 12/40 [00:00&lt;00:00, 212.66 it/sec]\n    INFO - 15:38:03:     32%|\u2588\u2588\u2588\u258e      | 13/40 [00:00&lt;00:00, 215.26 it/sec]\n    INFO - 15:38:03:     35%|\u2588\u2588\u2588\u258c      | 14/40 [00:00&lt;00:00, 217.58 it/sec]\n    INFO - 15:38:03:     38%|\u2588\u2588\u2588\u258a      | 15/40 [00:00&lt;00:00, 214.33 it/sec]\n    INFO - 15:38:03:     40%|\u2588\u2588\u2588\u2588      | 16/40 [00:00&lt;00:00, 215.97 it/sec]\n    INFO - 15:38:03:     42%|\u2588\u2588\u2588\u2588\u258e     | 17/40 [00:00&lt;00:00, 218.21 it/sec]\n    INFO - 15:38:03:     45%|\u2588\u2588\u2588\u2588\u258c     | 18/40 [00:00&lt;00:00, 220.20 it/sec]\n    INFO - 15:38:03:     48%|\u2588\u2588\u2588\u2588\u258a     | 19/40 [00:00&lt;00:00, 217.72 it/sec]\n    INFO - 15:38:03:     50%|\u2588\u2588\u2588\u2588\u2588     | 20/40 [00:00&lt;00:00, 218.80 it/sec]\n    INFO - 15:38:03:     52%|\u2588\u2588\u2588\u2588\u2588\u258e    | 21/40 [00:00&lt;00:00, 220.02 it/sec]\n    INFO - 15:38:03:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 22/40 [00:00&lt;00:00, 221.17 it/sec]\n    INFO - 15:38:03:     57%|\u2588\u2588\u2588\u2588\u2588\u258a    | 23/40 [00:00&lt;00:00, 221.58 it/sec]\n    INFO - 15:38:03:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 24/40 [00:00&lt;00:00, 222.61 it/sec]\n    INFO - 15:38:03:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 25/40 [00:00&lt;00:00, 223.69 it/sec]\n    INFO - 15:38:03:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 26/40 [00:00&lt;00:00, 224.36 it/sec]\n    INFO - 15:38:03:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 27/40 [00:00&lt;00:00, 223.73 it/sec]\n    INFO - 15:38:03:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 28/40 [00:00&lt;00:00, 224.52 it/sec]\n    INFO - 15:38:03:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 29/40 [00:00&lt;00:00, 225.46 it/sec]\n    INFO - 15:38:03:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 30/40 [00:00&lt;00:00, 225.99 it/sec]\n    INFO - 15:38:03:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 31/40 [00:00&lt;00:00, 223.52 it/sec]\n    INFO - 15:38:03:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 32/40 [00:00&lt;00:00, 224.01 it/sec]\n    INFO - 15:38:03:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 33/40 [00:00&lt;00:00, 224.80 it/sec]\n    INFO - 15:38:03:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 34/40 [00:00&lt;00:00, 223.68 it/sec]\n    INFO - 15:38:03:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 35/40 [00:00&lt;00:00, 223.57 it/sec]\n    INFO - 15:38:03:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 36/40 [00:00&lt;00:00, 224.44 it/sec]\n    INFO - 15:38:03:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 37/40 [00:00&lt;00:00, 225.23 it/sec]\n    INFO - 15:38:03:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 38/40 [00:00&lt;00:00, 224.70 it/sec]\n    INFO - 15:38:03:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 39/40 [00:00&lt;00:00, 225.29 it/sec]\n    INFO - 15:38:03:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 40/40 [00:00&lt;00:00, 225.92 it/sec]\n    INFO - 15:38:03: *** End MorrisAnalysisSamplingPhase execution (time: 0:00:00.183012) ***\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/uncertainty/sensitivity/morris_analysis.py:294: RuntimeWarning:\n\ninvalid value encountered in divide\n\nResults of a sensitivity analysis.\n{\n    \"generic\": {\n        \"datetime\": \"13-02-2026_15-38-02\",\n        \"version\": \"0.1.dev17+gda5deed25.d20260213\"\n    },\n    \"misc\": {},\n    \"model\": {\n        \"curves\": [\n            [\n                \"dplt_grid\",\n                \"dplt\"\n            ],\n            [\n                \"moment_grid\",\n                \"moment\"\n            ]\n        ],\n        \"dataflow\": {\n            \"PostBendingTestAnalytical_Cantilever\": {\n                \"inputs\": [\n                    \"dplt\",\n                    \"dplt_grid\",\n                    \"moment\",\n                    \"moment_grid\",\n                    \"imposed_dplt_location\",\n                    \"reaction_forces\"\n                ],\n                \"outputs\": [\n                    \"reaction_forces\",\n                    \"maximum_dplt\",\n                    \"dplt_grid\",\n                    \"location_max_dplt\",\n                    \"dplt\",\n                    \"moment\",\n                    \"moment_grid\",\n                    \"dplt_at_force_location\",\n                    \"error_code\"\n                ]\n            },\n            \"PreBendingTestAnalytical_Cantilever\": {\n                \"inputs\": [\n                    \"length\",\n                    \"width\",\n                    \"height\",\n                    \"imposed_dplt\",\n                    \"relative_dplt_location\",\n                    \"young_modulus\",\n                    \"nu_p\"\n                ],\n                \"outputs\": [\n                    \"imposed_dplt_location\",\n                    \"quadratic_moment\",\n                    \"reaction_forces\",\n                    \"moment\",\n                    \"moment_grid\",\n                    \"solver\",\n                    \"boundary\"\n                ]\n            },\n            \"RunBendingTestAnalytical\": {\n                \"inputs\": [\n                    \"imposed_dplt_location\",\n                    \"quadratic_moment\",\n                    \"reaction_forces\",\n                    \"moment\",\n                    \"moment_grid\",\n                    \"solver\",\n                    \"boundary\",\n                    \"length\",\n                    \"width\",\n                    \"height\",\n                    \"imposed_dplt\",\n                    \"relative_dplt_location\",\n                    \"young_modulus\",\n                    \"nu_p\"\n                ],\n                \"outputs\": [\n                    \"dplt\",\n                    \"dplt_grid\",\n                    \"moment\",\n                    \"moment_grid\",\n                    \"imposed_dplt_location\",\n                    \"reaction_forces\"\n                ]\n            },\n            \"model_inputs\": [\n                \"length\",\n                \"width\",\n                \"height\",\n                \"imposed_dplt\",\n                \"relative_dplt_location\",\n                \"young_modulus\",\n                \"nu_p\"\n            ],\n            \"model_outputs\": [\n                \"reaction_forces\",\n                \"maximum_dplt\",\n                \"dplt_grid\",\n                \"location_max_dplt\",\n                \"dplt\",\n                \"moment\",\n                \"moment_grid\",\n                \"dplt_at_force_location\",\n                \"error_code\",\n                \"model\",\n                \"load_case\",\n                \"description\",\n                \"job_name\",\n                \"persistent_result_files\",\n                \"n_cpus\",\n                \"date\",\n                \"cpu_time\",\n                \"user\",\n                \"machine\",\n                \"vims_git_version\",\n                \"directory_archive_root\",\n                \"directory_archive_job\",\n                \"directory_scratch_root\",\n                \"directory_scratch_job\"\n            ],\n            \"subroutine_names\": []\n        },\n        \"default_inputs\": {\n            \"boundary conditions variables\": {\n                \"imposed_dplt\": [\n                    -5.0\n                ],\n                \"relative_dplt_location\": [\n                    1.0\n                ]\n            },\n            \"geometrical variables\": {\n                \"height\": [\n                    40.0\n                ],\n                \"length\": [\n                    600.0\n                ],\n                \"width\": [\n                    30.0\n                ]\n            },\n            \"material variables\": {\n                \"nu_p\": [\n                    0.3\n                ],\n                \"young_modulus\": [\n                    210000.0\n                ]\n            },\n            \"numerical variables\": {}\n        },\n        \"load_case\": {\n            \"bc_variable_names\": [\n                \"imposed_dplt\",\n                \"relative_dplt_location\"\n            ],\n            \"domain\": \"Beam\",\n            \"load\": {\n                \"direction\": \"\",\n                \"sign\": \"\",\n                \"type\": \"\"\n            },\n            \"name\": \"Cantilever\",\n            \"plot_parameters\": {\n                \"curves\": []\n            },\n            \"summary\": \"A cantilever load case.\"\n        },\n        \"name\": \"BendingTestAnalytical\",\n        \"summary\": \" An analytical model for the bending of a parallelepipedic beam\",\n        \"verbose\": false\n    },\n    \"report\": {\n        \"output_names\": [\n            \"reaction_forces\",\n            \"dplt_at_force_location\",\n            \"maximum_dplt\"\n        ]\n    },\n    \"settings\": {\n        \"n_replicates\": 5,\n        \"n_samples\": 0,\n        \"output_names\": [\n            \"reaction_forces\",\n            \"dplt_at_force_location\",\n            \"maximum_dplt\"\n        ],\n        \"sensitivity_algo\": \"MorrisAnalysis\"\n    }\n}\n\nInput variables by decreasing order of influence:\n   For output reaction_forces: ['length', 'height', 'relative_dplt_location', 'imposed_dplt', 'width', 'young_modulus', 'nu_p'].\n   For output dplt_at_force_location: ['imposed_dplt', 'relative_dplt_location', 'length', 'width', 'height', 'young_modulus', 'nu_p'].\n   For output maximum_dplt: ['relative_dplt_location', 'imposed_dplt', 'length', 'width', 'height', 'young_modulus', 'nu_p'].\nSensitivity indices:\n   Index mu\n      reaction_forces: [{'young_modulus': array([-13.43064013]), 'nu_p': array([0.]), 'length': array([58.60982709]), 'width': array([-14.47192315]), 'height': array([-13.80474496]), 'imposed_dplt': array([16.55844226]), 'relative_dplt_location': array([49.1739949])}]\n      dplt_at_force_location: [{'young_modulus': array([8.8817842e-16]), 'nu_p': array([0.]), 'length': array([-1.01049536e-05]), 'width': array([-5.32907052e-16]), 'height': array([1.77635684e-16]), 'imposed_dplt': array([0.02475083]), 'relative_dplt_location': array([-0.00022711])}]\n      maximum_dplt: [{'young_modulus': array([-1.77635684e-16]), 'nu_p': array([0.]), 'length': array([9.25911667e-06]), 'width': array([-1.0658141e-15]), 'height': array([-1.77635684e-16]), 'imposed_dplt': array([0.02923962]), 'relative_dplt_location': array([0.04288046])}]\n   Index mu_star\n      reaction_forces: [{'young_modulus': array([13.43064013]), 'nu_p': array([0.]), 'length': array([58.60982709]), 'width': array([14.47192315]), 'height': array([55.10011756]), 'imposed_dplt': array([16.55844226]), 'relative_dplt_location': array([49.1739949])}]\n      dplt_at_force_location: [{'young_modulus': array([1.95399252e-15]), 'nu_p': array([0.]), 'length': array([1.24849806e-05]), 'width': array([4.4408921e-15]), 'height': array([2.66453526e-15]), 'imposed_dplt': array([0.02475083]), 'relative_dplt_location': array([0.00024446])}]\n      maximum_dplt: [{'young_modulus': array([1.95399252e-15]), 'nu_p': array([0.]), 'length': array([1.94426342e-05]), 'width': array([4.26325641e-15]), 'height': array([4.08562073e-15]), 'imposed_dplt': array([0.02923962]), 'relative_dplt_location': array([0.04288046])}]\n   Index sigma\n      reaction_forces: [{'young_modulus': array([3.67260496]), 'nu_p': array([0.]), 'length': array([49.90184971]), 'width': array([5.76286543]), 'height': array([61.55049071]), 'imposed_dplt': array([9.26333405]), 'relative_dplt_location': array([26.92516706])}]\n      dplt_at_force_location: [{'young_modulus': array([2.17558393e-15]), 'nu_p': array([0.]), 'length': array([2.32090004e-05]), 'width': array([5.31721495e-15]), 'height': array([3.34219545e-15]), 'imposed_dplt': array([0.01246174]), 'relative_dplt_location': array([0.00045632])}]\n      maximum_dplt: [{'young_modulus': array([2.59858603e-15]), 'nu_p': array([0.]), 'length': array([3.15207404e-05]), 'width': array([4.64577597e-15]), 'height': array([4.97379915e-15]), 'imposed_dplt': array([0.01555085]), 'relative_dplt_location': array([0.0245328])}]\n   Index relative_sigma\n      reaction_forces: [{'young_modulus': array([0.27344973]), 'nu_p': array([nan]), 'length': array([0.85142462]), 'width': array([0.39821006]), 'height': array([1.11706641]), 'imposed_dplt': array([0.5594327]), 'relative_dplt_location': array([0.54754891])}]\n      dplt_at_force_location: [{'young_modulus': array([1.11340443]), 'nu_p': array([nan]), 'length': array([1.85895367]), 'width': array([1.19733036]), 'height': array([1.25432585]), 'imposed_dplt': array([0.50348774]), 'relative_dplt_location': array([1.86663484])}]\n      maximum_dplt: [{'young_modulus': array([1.32988535]), 'nu_p': array([nan]), 'length': array([1.62121758]), 'width': array([1.08972474]), 'height': array([1.2173913]), 'imposed_dplt': array([0.53184165]), 'relative_dplt_location': array([0.57212065])}]\n   Index min\n      reaction_forces: [{'young_modulus': array([9.2905588]), 'nu_p': array([0.]), 'length': array([24.01397044]), 'width': array([8.21014976]), 'height': array([23.25186439]), 'imposed_dplt': array([8.39985622]), 'relative_dplt_location': array([26.91142661])}]\n      dplt_at_force_location: [{'young_modulus': array([0.]), 'nu_p': array([0.]), 'length': array([2.84046155e-08]), 'width': array([8.8817842e-16]), 'height': array([0.]), 'imposed_dplt': array([0.01297183]), 'relative_dplt_location': array([9.02381732e-06])}]\n      maximum_dplt: [{'young_modulus': array([0.]), 'nu_p': array([0.]), 'length': array([1.89089637e-06]), 'width': array([1.77635684e-15]), 'height': array([8.8817842e-16]), 'imposed_dplt': array([0.01527829]), 'relative_dplt_location': array([0.0216497])}]\n   Index max\n      reaction_forces: [{'young_modulus': array([18.38485335]), 'nu_p': array([0.]), 'length': array([157.00575767]), 'width': array([22.81785918]), 'height': array([103.23843151]), 'imposed_dplt': array([31.42358486]), 'relative_dplt_location': array([83.35034553])}]\n      dplt_at_force_location: [{'young_modulus': array([3.55271368e-15]), 'nu_p': array([0.]), 'length': array([5.63319641e-05]), 'width': array([9.76996262e-15]), 'height': array([5.32907052e-15]), 'imposed_dplt': array([0.04443667]), 'relative_dplt_location': array([0.00113868])}]\n      maximum_dplt: [{'young_modulus': array([4.4408921e-15]), 'nu_p': array([0.]), 'length': array([7.17543771e-05]), 'width': array([7.99360578e-15]), 'height': array([8.8817842e-15]), 'imposed_dplt': array([0.054728]), 'relative_dplt_location': array([0.07790166])}]\n</code></pre> <p>The <code>MorrisAnalysis</code> method is used by default for the sensitivity analysis, but there is also the option to use 'CorrelationAnalysis' or 'SobolAnalysis'</p> <p>Plot the sensitivity of <code>reaction_forces</code> to the model inputs. Standard plots for each type of sensitivity analysis can be shown. Here, for a Morris analysis, a radar plot of the indices, and a (\\(\\sigma\\), \\(\\mu_{star}\\)) plot:</p> <pre><code>fig_sensitivity_reaction_forces = tool.plot_results(\n    tool.result,\n    output_names=output_names,\n    show=True,\n    save=False,\n)\n\n# And an interactive bar plot of the indices:\nfig_sensitivity_reaction_forces[\"bar_plot\"]\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/post/dataset/plots/_matplotlib/plot.py:87: UserWarning:\n\nThis figure includes Axes that are not compatible with tight_layout, so results might be incorrect.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n</code></pre> <p>Total running time of the script: ( 0 minutes  1.766 seconds)</p> <p> Download Python source code: plot_example_SensitivityTool_StraightBeamModel.py</p> <p> Download Jupyter notebook: plot_example_SensitivityTool_StraightBeamModel.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/10_surrogate_modelling/","title":"Build and select a surrogate model","text":""},{"location":"generated/runnable_examples/10_surrogate_modelling/#examples-of-surrogate-modelling","title":"Examples of surrogate modelling","text":"<p>Below is a gallery of examples on the creation of a surrogate model.</p> <p> Usage of the SurrogateTool for semi-analytical beam Model </p> <p> Download all examples in Python source code: 10_surrogate_modelling_python.zip</p> <p> Download all examples in Jupyter notebooks: 10_surrogate_modelling_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/","title":"Usage of the SurrogateTool for semi-analytical beam Model","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#usage-of-the-surrogatetool-for-semi-analytical-beam-model","title":"Usage of the SurrogateTool for semi-analytical beam Model","text":"<p>:class:<code>~.SurrogateTool</code> provides methods for the generation of surrogate models. It identifies the best surrogate and associated quality measures within a list of default surrogate candidates. It uses either a default list of candidates or candidates specified by the user. The :class:<code>~.BendingTestAnalytical</code> is used to illustrate the use of this tool.</p>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#import-the-packages","title":"Import the packages","text":"<pre><code>from __future__ import annotations\n\nimport logging\nimport pprint\n\nfrom gemseo.post.dataset.scatter_plot_matrix import ScatterMatrix\nfrom numpy import array\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.doe.doe import DOETool\nfrom vimseo.tools.space.space_tool import SpaceTool\nfrom vimseo.tools.surrogate.surrogate import SurrogateTool\n\nactivate_logger(level=logging.INFO)\n</code></pre>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#model-and-parameter-space","title":"Model and parameter space","text":"<p>Load the model (here a simple analytical beam model):</p> <pre><code>model_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/surrogate\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/surrogate\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/surrogate/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>The SpaceTool provides methods to build parameter spaces. One can check available builders first:</p> <pre><code>space_tool = SpaceTool(working_directory=\"SpaceTool_results\")\n</code></pre> <p>Build a parameter space based on custom minimum and maximum values. This parameter space has 2 scalar variables with large variations.</p> <pre><code>space_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromMinAndMax\",\n    minimum_values={\n        # \"length\": 200.0,\n        # \"width\": 5.0,\n        \"height\": 5.0,\n        \"imposed_dplt\": 0.0,\n        # \"relative_dplt_location\": 0.5,\n    },\n    maximum_values={\n        # \"length\": 1000.0,\n        # \"width\": 50.0,\n        \"height\": 50.0,\n        \"imposed_dplt\": 20.0,\n        # \"relative_dplt_location\": 1.0,\n    },\n)\nprint(space_tool.parameter_space)\n</code></pre>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#create-a-classgemseodatasetsdatasetdataset-from-a-doe","title":"Create a :class:<code>~.gemseo.datasets.dataset.Dataset</code> (from a DOE)","text":"<p>The :class:<code>~.SurrogateTool</code> used a dataset from which the surrogate model is generated. In this example we build the dataset by creating a DOE. However, the dataset could be manually created, or imported from a HDF5 cache file. To generate a dataset from a DOE we use the :class:<code>~.DOETool</code>, along with the :class:<code>~.SpaceTool</code>.</p> <pre><code>doe_tool = DOETool(working_directory=\"doe_tool_results\")\ndataset = doe_tool.execute(\n    model=model,\n    parameter_space=space_tool.parameter_space,\n    output_names=[\"reaction_forces\"],\n    algo=\"OT_OPT_LHS\",\n    n_samples=200,\n).dataset\nprint(dataset)\n</code></pre> <p>The generated dataset can also be plotted in a scatter matrix</p> <pre><code>scatter_matrix = ScatterMatrix(dataset)\nscatter_matrix.execute(save=False, show=True)\nfig = scatter_matrix.figures[0]\n\nfig\n</code></pre>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#building-a-surrogate-model","title":"Building a surrogate model","text":"<pre><code>surrogate_tool = SurrogateTool(working_directory=\"surrogate_tool_results\")\n</code></pre> <p>Settings of the tool can be checked (other options can be redefined throughout :code:<code>surrogate_tool.update_options()</code>):</p> <pre><code>pprint.pprint(surrogate_tool.options)\n</code></pre> <p>There are two main ways for using the SurrogateTool:</p> <ul> <li>One wants to use a specific surrogate function (e.g. 2nd order polynomial regression)</li> </ul> <p>.. code::</p> <p>surrogates = surrogate_tool.execute(model=model, doe_results=dataset,                                        algo=\"PolynomialRegressor\", algo_options={\"degree\": 2, \"fit_intercept\": True}                                        output_names=[\"dplt_at_force_location\"])</p> <ul> <li>One wants to select the best surrogate function over a set of candidates and their parameters (default candidates and other options can be redefined throughout :code:<code>surrogate_tool.update_options()</code>). A quality measure (associated with an evaluation method) is used. By default, it uses \"Mean Squared Error\" with \"kfolds\" evaluation method.</li> </ul> <pre><code>surrogate_results = surrogate_tool.execute(\n    model=model,\n    dataset=dataset,\n    output_names=[\"reaction_forces\"],\n    quality_measures=[\"MSEMeasure\", \"R2Measure\"],\n)\nsurrogate_tool.save_results()\nsurrogate = surrogate_results.model\nprint(surrogate_tool.selected_algo)\n</code></pre> <p>.. note::    It is possible to redefine candidate algorithms and their options (see |gemseo|    documentation for available algorithms).</p> <p>.. code::</p> <pre><code>   custom_candidates = {\"RBFRegressor\": {},\n                        \"LinearRegressor\", {'fit_intercept': [True, False]},\n                        \"PolynomialRegressor\", {'degree': [4, 5], 'fit_intercept': [True, False]}\n                        }\n   surrogate_tool.set_candidates(custom_candidates)\n</code></pre> <p>The surrogate model can then be used in place of the model (outputs restricted to \"dplt_at_force_location\"):</p> <pre><code>input_data = {\n    # \"young_modulus\": array([150000.0]),\n    # \"length\": array([5450.0]),\n    # \"width\": array([245.0]),\n    \"height\": array([35.0]),\n    \"imposed_dplt\": array([10.0]),\n}\noutput = surrogate.execute(input_data)\noutput[\"reaction_forces\"]\n</code></pre> <p>which can be compared to prediction of the original model:</p> <pre><code>true_output = model.execute(input_data)\ntrue_output[\"reaction_forces\"]\n</code></pre>"},{"location":"generated/runnable_examples/10_surrogate_modelling/_plot_example_SurrogateTool_StraightBeamModel/#analysing-the-quality-of-surrogates","title":"Analysing the quality of surrogates","text":"<p>SurrogateTool comes with functions to analyse several quality measures that could be complementary. One can define the quality measures to be evaluated, as well as the evaluation methods (alternatively, use default selection). Here, default ones are considered.</p> <p>Qualities are computed at each call to :meth:<code>~.execute()</code> method, but can be computed again with other parameters by :meth:<code>~.compute_quality()</code> method.</p> <p>Then, show the quality measures:</p> <pre><code>print(surrogate_tool.result)\n</code></pre> <p>Predictions versus observations can be plotted:</p> <pre><code>figures = surrogate_tool.plot_results(\n    surrogate_tool.result,\n    output_names=[\"reaction_forces\"],\n    show=True,\n    save=False,\n)\n</code></pre> <p>The user is invited to visit the |gemseo| documentation for a complete view of the available functionalities for surrogate generation and exploitation.</p> <p>Total running time of the script: ( 0 minutes  0.000 seconds)</p> <p> Download Python source code: _plot_example_SurrogateTool_StraightBeamModel.py</p> <p> Download Jupyter notebook: _plot_example_SurrogateTool_StraightBeamModel.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/","title":"Propagate uncertainties through a model","text":""},{"location":"generated/runnable_examples/11_uncertainty_quantification/#examples-of-uncertainty-quantification","title":"Examples of uncertainty quantification","text":"<p>Below is a gallery of examples on the uncertainty quantification of a model output variable.</p> <p> 1) Usage of the Uncertainty Quantification </p> <p> Download all examples in Python source code: 11_uncertainty_quantification_python.zip</p> <p> Download all examples in Jupyter notebooks: 11_uncertainty_quantification_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/mg_execution_times/","title":"Computation times","text":"<p>00:02.024 total execution time for generated_runnable_examples_11_uncertainty_quantification files:</p> <p>+----------------------------------------------------------------------------------------------------+-----------+--------+ | plot_01_uq (docs/runnable_examples/11_uncertainty_quantification/plot_01_uq.py) | 00:02.024 | 0.0 MB | +----------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/","title":"1) Usage of the Uncertainty Quantification","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/#1-usage-of-the-uncertainty-quantification","title":"1) Usage of the Uncertainty Quantification","text":"<p>The :class:<code>~.StatisticsTool</code> provides methods for quantifying uncertainties on a model output. The :class:<code>~.BendingTestAnalytical</code> is used to illustrate the use of this tool.</p> <pre><code>from __future__ import annotations\n\nimport logging\nfrom pprint import pprint\n\nfrom gemseo.datasets.dataset import Dataset\nfrom gemseo.post.dataset.scatter import Scatter\nfrom matplotlib import pyplot as plt\nfrom numpy import array\n\nfrom vimseo import EXAMPLE_RUNS_DIR_NAME\nfrom vimseo.api import activate_logger\nfrom vimseo.api import create_model\nfrom vimseo.core.model_settings import IntegratedModelSettings\nfrom vimseo.tools.doe.doe import DOETool\nfrom vimseo.tools.space.space_tool import SpaceTool\nfrom vimseo.tools.statistics.statistics_tool import StatisticsTool\n\nactivate_logger(level=logging.INFO)\n\nmodel_name = \"BendingTestAnalytical\"\nload_case = \"Cantilever\"\nmodel = create_model(\n    model_name,\n    load_case,\n    model_options=IntegratedModelSettings(\n        directory_archive_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/archive/uq\",\n        directory_scratch_root=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/scratch/uq\",\n        cache_file_path=f\"../../../{EXAMPLE_RUNS_DIR_NAME}/caches/uq/{model_name}_{load_case}_cache.hdf\",\n    ),\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:11: Found 100 entries in the cache file : ../../../model_runs/caches/uq/BendingTestAnalytical_Cantilever_cache.hdf node : node\n</code></pre> <p>It is possible to change a default input of the model.</p> <pre><code>model.default_input_data.update({\"imposed_dplt\": array([-15.0])})\n</code></pre>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/#2-define-the-uncertain-space","title":"2. Define the uncertain space","text":"<p>In addition to the model, we need to define the uncertain space over which statistics will be computed. The uncertainty is filled with independent random variables. This operation is performed with the :class:<code>~.SpaceTool</code>. Several builders can be used to construct the distributions.</p> <pre><code>space_tool = SpaceTool(working_directory=\"SpaceTool_results\")\nprint(space_tool.get_available_space_builders())\n</code></pre> <p>Out:</p> <pre><code>['FromCenterAndCov', 'FromMinAndMax', 'FromModelCenterAndCov', 'FromModelMinAndMax', 'SpaceBuilder']\n</code></pre> <p>The model can be used as input such that the bounds of the model input variables or the central value of its input variable intervals can be used to build the probability distributions of the random variables. Here the uncertain space is built from the model, using the central value of its input variable intervals. A coefficient of variation is used to define the width of the distribution, which is :math:<code>\\pm cov * central\\_value</code>. We consider independent random variables triangularly distributed:</p> <p>.. note::</p> <p>A triangular distribution is a probability distribution    defined by a lower bound, a mode and an upper bound:</p> <p>.. figure:: /_examples/uq/_static/triangular_distribution.png</p> <pre><code>  Probability density function of the random variable *friction*\n  distributed as a triangular distribution :math:`\\mathcal{T}(0.1, 0.2, 0.3)`.\n</code></pre> <p>Here, the space of parameters is built in two steps. First, considering all input variables of the model except \"relative_dplt_location\".</p> <pre><code>retained_variables = model.get_input_data_names()\nretained_variables.remove(\"relative_dplt_location\")\nspace_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromModelCenterAndCov\",\n    variable_names=retained_variables,\n    use_default_values_as_center=True,\n    model=model,\n    cov=0.05,\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:11: Working directory is SpaceTool_results\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n\n\nSpaceToolResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-51-11', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'distribution_name': 'OTTriangularDistribution', 'space_builder_name': 'FromModelCenterAndCov', 'minimum_values': None, 'maximum_values': None, 'center_value_expr': '', 'use_default_values_as_center': True, 'variable_names': ['length', 'width', 'height', 'imposed_dplt', 'young_modulus', 'nu_p'], 'center_values': None, 'cov': 0.05, 'truncate_to_model_bounds': True, 'lower_bounds': None, 'upper_bounds': None, 'size': 1}, report={}, model=None), parameter_space=Parameter space:\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+\n| Name          | Lower bound |       Value       | Upper bound | Type  |                    Initial distribution                   | Transformation(x)= |\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+\n| young_modulus |    199500   | 210000.0000000001 |    220500   | float | Triangular(lower=199500.0, mode=210000.0, upper=220500.0) |      Trunc(x)      |\n| nu_p          |    0.285    |        0.3        |    0.315    | float |       Triangular(lower=0.285, mode=0.3, upper=0.315)      |         x          |\n| length        |     570     | 600.0000000000003 |     630     | float |      Triangular(lower=570.0, mode=600.0, upper=630.0)     |      Trunc(x)      |\n| width         |     28.5    | 30.00000000000004 |     31.5    | float |       Triangular(lower=28.5, mode=30.0, upper=31.5)       |      Trunc(x)      |\n| height        |      38     | 40.00000000000004 |      42     | float |       Triangular(lower=38.0, mode=40.0, upper=42.0)       |      Trunc(x)      |\n| imposed_dplt  |    -15.75   |        -15        |    -14.25   | float |     Triangular(lower=-15.75, mode=-15.0, upper=-14.25)    |         x          |\n+---------------+-------------+-------------------+-------------+-------+-----------------------------------------------------------+--------------------+)\n</code></pre> <p>Then, specifically for \"relative_dplt_location\".</p> <pre><code>space_tool.execute(\n    distribution_name=\"OTTriangularDistribution\",\n    space_builder_name=\"FromCenterAndCov\",\n    center_values={\"relative_dplt_location\": 0.9},\n    cov=0.05,\n)\nparameter_space = space_tool.parameter_space\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:11: Working directory is SpaceTool_results\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/main.py:209: DeprecationWarning:\n\nConversion of an array with ndim &gt; 0 to a scalar is deprecated, and will error in future. Ensure you extract a single element from your array before performing this operation. (Deprecated NumPy 1.25.)\n</code></pre> <p>Other distributions can be used and the available ones can be listed with:</p> <pre><code>print(space_tool.get_available_distributions())\n</code></pre> <p>Out:</p> <pre><code>('OTUniformDistribution', 'OTTriangularDistribution', 'OTNormalDistribution')\n</code></pre> <p>.. note::</p> <p>For a one-shot use,    we can also instantiate a uncertain space    directly from :class:<code>ParameterSpace</code>.</p> <p>.. code::</p> <pre><code>  from gemseo.api import create_parameter_space\n\n  parameter_space = create_parameter_space()\n  for (name, minimum, mode, maximum) in [\n      (\"plate_len\", 210, 214.3, 220.0),\n        (\"plate_wid\", 50.5, 50.8, 51.0),\n        (\"plate_thick\", 2.9, 3.0, 3.1),\n        (\"friction\", 0.1, 0.2, 0.3),\n        (\"boundary\", 57000.0, 60000.0, 63000.0),\n        (\"huth_factor\", 0.95, 1., 1.05),\n        (\"preload\", -10500., -10000., -9500.)\n  ]:\n      parameter_space.add_random_variable(\n          name,\n          \"OTTriangularDistribution\",\n          minimum=minimum,\n          maximum=maximum,\n          mode=mode\n      )\n</code></pre> <p>In this case, we can use any distribution of    <code>OpenTURNS &lt;https://openturns.github.io/openturns/latest/user_manual/    probabilistic_modelling.html&gt;</code>    and    <code>SciPy &lt;https://docs.scipy.org/doc/scipy/reference/    stats.html#probability-distributions&gt;</code>.</p> <p>Discover this uncertain space and check its content by printing it:</p> <pre><code>print(parameter_space)\n</code></pre> <p>Out:</p> <pre><code>Uncertain space:\n+------------------------+-------------------------------------------------------------+--------------------+\n|          Name          |                     Initial distribution                    | Transformation(x)= |\n+------------------------+-------------------------------------------------------------+--------------------+\n|     young_modulus      |  Triangular(lower=199500.0, mode=210000.0, upper=220500.0)  |      Trunc(x)      |\n|          nu_p          |        Triangular(lower=0.285, mode=0.3, upper=0.315)       |         x          |\n|         length         |       Triangular(lower=570.0, mode=600.0, upper=630.0)      |      Trunc(x)      |\n|         width          |        Triangular(lower=28.5, mode=30.0, upper=31.5)        |      Trunc(x)      |\n|         height         |        Triangular(lower=38.0, mode=40.0, upper=42.0)        |      Trunc(x)      |\n|      imposed_dplt      |      Triangular(lower=-15.75, mode=-15.0, upper=-14.25)     |         x          |\n| relative_dplt_location | Triangular(lower=0.855, mode=0.9, upper=0.9450000000000001) |         x          |\n+------------------------+-------------------------------------------------------------+--------------------+\n</code></pre> <p>We can also sample this uncertain space:</p> <pre><code>three_samples = parameter_space.compute_samples(3, as_dict=True)\nprint(\"Three samples in the parameter space\", three_samples)\n</code></pre> <p>Out:</p> <pre><code>Three samples in the parameter space [{'young_modulus': array([202752.62219344]), 'nu_p': array([0.30528288]), 'length': array([587.42805404]), 'width': array([29.62851013]), 'height': array([40.03572386]), 'imposed_dplt': array([-15.24811955]), 'relative_dplt_location': array([0.89377835])}, {'young_modulus': array([204612.62851749]), 'nu_p': array([0.30509775]), 'length': array([586.66259878]), 'width': array([28.94353679]), 'height': array([38.64970893]), 'imposed_dplt': array([-14.94163202]), 'relative_dplt_location': array([0.91107004])}, {'young_modulus': array([208803.97826857]), 'nu_p': array([0.29387019]), 'length': array([604.8271154]), 'width': array([31.37922016]), 'height': array([39.01746569]), 'imposed_dplt': array([-14.44597422]), 'relative_dplt_location': array([0.91027066])}]\n</code></pre>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/#3-post-process","title":"3. Post-process","text":"<p>Lastly, we can generate some visualizations from 200 realizations of the input variables:</p> <pre><code>dataset = Dataset.from_array(\n    parameter_space.compute_samples(200), parameter_space.uncertain_variables\n)\n</code></pre> <p>|gemseo| provides several plots in package <code>gemseo.post.dataset</code>. Here, these 200 realizations for a pair of variables are shown in a scatter plot:</p> <pre><code>scatter_plot = Scatter(\n    dataset,\n    x=\"length\",\n    y=\"width\",\n)\nfig = scatter_plot.execute(\n    show=True,\n    save=False,\n    directory_path=space_tool.working_directory,\n    file_format=\"html\",\n)\nfig\n</code></pre> <p>Out:</p> <pre><code>[Figure({\n    'data': [{'hovertemplate': 'length=%{x}&lt;br&gt;width=%{y}&lt;extra&gt;&lt;/extra&gt;',\n              'legendgroup': '',\n              'marker': {'color': '#000001', 'symbol': 'circle'},\n              'mode': 'markers',\n              'name': '',\n              'orientation': 'v',\n              'showlegend': False,\n              'type': 'scatter',\n              'x': array([592.07768392, 609.34093296, 621.88886066, 595.7652567 , 606.95712995,\n                          590.93874026, 598.71987113, 606.00679779, 579.62394039, 594.32188374,\n                          584.85944588, 599.93974701, 588.19721456, 605.76968635, 581.63385415,\n                          618.03181724, 615.50788273, 608.74771814, 603.54778615, 611.23642901,\n                          603.41034411, 577.32692321, 596.05566204, 587.57932243, 590.02987269,\n                          584.62939564, 590.64326525, 581.52247337, 580.85344911, 599.39064575,\n                          594.75649686, 575.80266874, 592.60966763, 609.71049698, 588.78230571,\n                          590.25280444, 625.8461115 , 590.39697875, 593.86065715, 587.47119724,\n                          579.47387384, 613.59298031, 588.01651541, 583.83032051, 602.10220781,\n                          613.48471035, 617.67440148, 589.80817544, 611.89479446, 599.21036783,\n                          576.07614237, 588.81317008, 616.91927234, 600.36336022, 579.61773784,\n                          580.81143282, 624.02695567, 574.35523354, 597.04663498, 577.11482293,\n                          603.38634477, 590.11631981, 586.65379595, 616.4801109 , 582.63042456,\n                          603.42348572, 590.19764854, 597.71671945, 591.31193343, 617.40656747,\n                          611.97006232, 612.59033963, 601.33296095, 584.87711177, 589.00495616,\n                          606.44459805, 596.33204491, 604.92581403, 605.2097485 , 608.31128838,\n                          607.04292632, 577.45520885, 602.85660448, 600.19055338, 616.86048258,\n                          612.64123078, 599.77746509, 604.15862615, 575.43971884, 613.05392855,\n                          607.84981987, 611.45099803, 591.35306142, 606.15978208, 588.42668333,\n                          597.39517029, 579.78702037, 602.53651778, 615.50006339, 599.24430168,\n                          592.23257203, 595.79589154, 619.66380201, 623.98273857, 620.10130634,\n                          597.8868816 , 614.83585031, 592.90005063, 620.91303692, 601.75603556,\n                          597.30588938, 611.02649926, 608.37487919, 600.91336971, 590.03106673,\n                          596.55769779, 611.26121915, 601.26906822, 605.0594868 , 589.65432304,\n                          594.41059479, 585.58315   , 592.97445672, 579.61320481, 592.84546713,\n                          579.87238585, 602.12812139, 610.04625088, 584.97021876, 585.07842422,\n                          589.01308243, 583.34050917, 611.39215896, 594.56781942, 605.38893292,\n                          605.42717207, 585.59075376, 584.74224251, 590.79739633, 601.15505031,\n                          597.99730966, 585.56435118, 595.0804397 , 601.65395492, 614.60151202,\n                          624.26813691, 584.61176981, 584.2894191 , 598.43091253, 587.12140366,\n                          591.69928275, 605.49443192, 596.55176748, 606.03855848, 585.14744672,\n                          600.1784984 , 581.11306212, 588.12793579, 596.72131188, 616.4570976 ,\n                          613.76428097, 586.75025064, 577.14982536, 603.36999093, 589.48152738,\n                          593.8249851 , 604.94643899, 597.20722775, 598.54693829, 584.81355975,\n                          598.21529713, 579.14771462, 611.65642561, 593.535571  , 601.22674669,\n                          595.65908741, 625.08397094, 609.00560255, 602.80158246, 591.99823646,\n                          616.75866988, 588.28582571, 578.22479606, 617.93685041, 592.71983871,\n                          595.34230753, 599.29324612, 605.83750231, 614.41955955, 581.88187051,\n                          584.05515894, 588.91278676, 584.84214013, 600.5497794 , 600.85481367,\n                          595.52942097, 594.5206523 , 614.76217315, 614.40746141, 597.75445024]),\n              'xaxis': 'x',\n              'y': array([29.08210899, 30.36159024, 29.15081699, 29.40852256, 30.63523176,\n                          30.18915363, 28.84477919, 29.93669314, 29.54992158, 30.31908963,\n                          29.70515496, 29.87524839, 29.87160599, 30.21735339, 29.47880682,\n                          29.75794994, 29.78563976, 29.16693209, 28.74652565, 30.62890398,\n                          31.29627932, 30.57547673, 30.55542742, 30.29230273, 30.55015068,\n                          30.55820896, 29.29993848, 29.88118952, 30.39499766, 31.05586443,\n                          29.41874876, 30.0630493 , 28.73866036, 29.79861237, 30.2655541 ,\n                          29.7775917 , 30.84126381, 30.74180984, 29.74551002, 31.08838236,\n                          29.3240523 , 29.85294879, 30.41634176, 31.18329864, 29.62822678,\n                          30.81175395, 29.70708941, 29.6339    , 29.60371576, 30.04323295,\n                          29.76478968, 30.02974486, 29.18069058, 30.64007171, 30.13363519,\n                          29.85932947, 29.46702272, 30.238357  , 30.03775709, 31.42296859,\n                          29.51036417, 29.87758689, 30.80859273, 31.09516272, 29.99904035,\n                          29.08682021, 30.07733257, 30.27311059, 29.55732494, 30.30738661,\n                          30.27235393, 29.83265716, 30.76526472, 29.53634793, 30.40018109,\n                          29.74064939, 30.4381564 , 30.67908074, 29.8603854 , 30.1172304 ,\n                          29.63685929, 29.1827569 , 30.19931125, 29.68665247, 30.06633584,\n                          28.65820331, 30.13429182, 30.53843816, 31.17872257, 31.01264134,\n                          29.86325309, 30.4671542 , 29.45206427, 30.92105701, 30.32742412,\n                          30.44043364, 29.53298755, 29.18929666, 29.54868754, 29.0810678 ,\n                          31.0530147 , 30.27706358, 29.76113624, 28.94410533, 29.54368635,\n                          29.40159943, 30.4756888 , 29.26277222, 30.43799015, 30.07570145,\n                          29.25416734, 30.45399925, 31.21496201, 30.94013351, 31.10572102,\n                          30.34786206, 29.8464158 , 30.11832581, 30.17796187, 29.79175397,\n                          30.38137224, 30.0644645 , 30.40253899, 30.68575119, 30.43855907,\n                          29.9108458 , 29.2697412 , 30.67546201, 29.35332541, 30.38119486,\n                          29.65691914, 29.04185246, 29.87319592, 30.90268316, 29.82662672,\n                          30.47161171, 29.42339382, 30.75287529, 29.42307087, 29.91019499,\n                          30.25814136, 30.30174931, 29.48472463, 29.48376655, 30.67264215,\n                          30.0493459 , 29.82203338, 30.19379377, 29.56624189, 30.42574199,\n                          31.09341771, 30.45749963, 30.51853926, 29.73756911, 30.82365776,\n                          30.85079807, 30.45569426, 29.57180625, 30.84760515, 30.40435213,\n                          29.17928768, 31.01053828, 29.7607319 , 29.35649849, 29.37814172,\n                          28.90509035, 30.50586897, 30.19903141, 29.30779873, 30.36112536,\n                          29.76510329, 29.65982005, 30.87120538, 29.25907388, 29.40449024,\n                          30.01121271, 28.74984631, 30.07930915, 29.36209564, 29.74205487,\n                          29.66082328, 29.42456367, 31.31634542, 30.09307401, 30.41741902,\n                          30.27491721, 31.10316507, 29.56251857, 30.44261084, 29.31132108,\n                          29.4506236 , 30.44358831, 28.76629467, 29.7574874 , 29.97315184,\n                          30.67086067, 29.58980665, 30.60905258, 30.06988692, 29.36554881]),\n              'yaxis': 'y'}],\n    'layout': {'legend': {'tracegroupgap': 0},\n               'margin': {'t': 60},\n               'template': '...',\n               'title': {'text': ''},\n               'xaxis': {'anchor': 'y', 'domain': [0.0, 1.0], 'title': {'text': 'length'}},\n               'yaxis': {'anchor': 'x', 'domain': [0.0, 1.0], 'title': {'text': 'width'}}}\n})]\n</code></pre> <p>Dedicated plots from |v| tools can also be used. For instance, the :class:<code>~.SpaceTool</code> provides a scatter matrix plot where the diagonal blocks represent the histograms of the random variables while the other blocks represents the value of a variable versus another.</p> <pre><code>space_tool.plot_results(space_tool.result, save=False, show=True, n_samples=200)\n# Workaround for HTML rendering, instead of ``show=True``\nplt.show()\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n/home/charles-thoulon/Documents/softs/vimseo/docs/runnable_examples/11_uncertainty_quantification/plot_01_uq.py:199: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n</code></pre> <p>.. seealso::</p> <p><code>Examples of visualization tools &lt;https://gemseo.readthedocs.io/en/stable/examples/dataset/index.html&gt;</code>__    to post-process a :class:<code>~.gemseo.datasets.dataset.Dataset</code>.</p>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/#3-sample-the-model","title":"3. Sample the model","text":"<p>Then, we generate 100 input-output samples of the model by sampling the discipline with the :class:<code>~.DOETool</code> executed from a design of experiments (DOE). The :class:<code>~.DOETool</code> is based on :class:<code>~.gemseo.core.doe_scenario.DOEScenario</code> To place the samples over the input space, we can use an optimal <code>latin hypercube sampling (LHS) &lt;https://en.wikipedia.org/wiki/Latin_hypercube_sampling&gt;</code>__ technique.</p> <p>.. note::</p> <p>The LHS technique implemented by <code>\"OT_LHS\"</code> or <code>\"lhs\"</code> is stochastic:    given a number of samples :math:<code>N</code> and an input space of dimension :math:<code>d</code>,    executing it twice will lead to two different series of samples.    Here, we are looking for the series of samples that best covers the input space    (we talk about space-filling DOE);    for that,    we use <code>\"OT_OPT_LHS\"</code> relying on a global optimization algorithm    (simulated annealing).</p> <pre><code>doe_tool = DOETool(working_directory=\"doe_tool_results\")\noutput_names = [\"reaction_forces\"]\ndataset = doe_tool.execute(\n    model=model,\n    parameter_space=parameter_space,\n    output_names=output_names,\n    algo=\"OT_OPT_LHS\",\n    n_samples=100,\n).dataset\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:12: Working directory is doe_tool_results\n    INFO - 15:51:12:  \n    INFO - 15:51:12: *** Start DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_100 execution ***\n    INFO - 15:51:12: DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_100\n    INFO - 15:51:12:    Disciplines: Model BendingTestAnalytical:  An analytical model for the bending of a parallelepipedic beam\n    INFO - 15:51:12: \n    INFO - 15:51:12: Load case:\n    INFO - 15:51:12:    Load case Cantilever: A cantilever load case.\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Boundary condition variables:\n    INFO - 15:51:12:    ['imposed_dplt', 'relative_dplt_location']\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Plot parameters:\n    INFO - 15:51:12:    {\n    INFO - 15:51:12:     \"curves\": []\n    INFO - 15:51:12: }\n    INFO - 15:51:12:    Load:\n    INFO - 15:51:12:    Load(direction='', sign='', type='')\n    INFO - 15:51:12: \n    INFO - 15:51:12: Default values:\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Default geometrical variables:\n    INFO - 15:51:12:    {\n    INFO - 15:51:12:     \"height\": [\n    INFO - 15:51:12:         40.00000000000004\n    INFO - 15:51:12:     ],\n    INFO - 15:51:12:     \"length\": [\n    INFO - 15:51:12:         600.0000000000003\n    INFO - 15:51:12:     ],\n    INFO - 15:51:12:     \"width\": [\n    INFO - 15:51:12:         30.000000000000036\n    INFO - 15:51:12:     ]\n    INFO - 15:51:12: }\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Default numerical variables:\n    INFO - 15:51:12:    {}\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Default boundary conditions variables:\n    INFO - 15:51:12:    {\n    INFO - 15:51:12:     \"imposed_dplt\": [\n    INFO - 15:51:12:         -15.0\n    INFO - 15:51:12:     ],\n    INFO - 15:51:12:     \"relative_dplt_location\": [\n    INFO - 15:51:12:         0.9\n    INFO - 15:51:12:     ]\n    INFO - 15:51:12: }\n    INFO - 15:51:12:    \n    INFO - 15:51:12:    Default material variables:\n    INFO - 15:51:12:    {\n    INFO - 15:51:12:     \"nu_p\": [\n    INFO - 15:51:12:         0.3\n    INFO - 15:51:12:     ],\n    INFO - 15:51:12:     \"young_modulus\": [\n    INFO - 15:51:12:         210000.00000000006\n    INFO - 15:51:12:     ]\n    INFO - 15:51:12: }\n    INFO - 15:51:12:    MDO formulation: DisciplinaryOpt\n    INFO - 15:51:12: Optimization problem:\n    INFO - 15:51:12:    minimize reaction_forces(young_modulus, nu_p, length, width, height, imposed_dplt, relative_dplt_location)\n    INFO - 15:51:12:    with respect to height, imposed_dplt, length, nu_p, relative_dplt_location, width, young_modulus\n    INFO - 15:51:12:    over the design space:\n    INFO - 15:51:12:       +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12:       |          Name          |                     Initial distribution                    | Transformation(x)= |\n    INFO - 15:51:12:       +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12:       |     young_modulus      |  Triangular(lower=199500.0, mode=210000.0, upper=220500.0)  |      Trunc(x)      |\n    INFO - 15:51:12:       |          nu_p          |        Triangular(lower=0.285, mode=0.3, upper=0.315)       |         x          |\n    INFO - 15:51:12:       |         length         |       Triangular(lower=570.0, mode=600.0, upper=630.0)      |      Trunc(x)      |\n    INFO - 15:51:12:       |         width          |        Triangular(lower=28.5, mode=30.0, upper=31.5)        |      Trunc(x)      |\n    INFO - 15:51:12:       |         height         |        Triangular(lower=38.0, mode=40.0, upper=42.0)        |      Trunc(x)      |\n    INFO - 15:51:12:       |      imposed_dplt      |      Triangular(lower=-15.75, mode=-15.0, upper=-14.25)     |         x          |\n    INFO - 15:51:12:       | relative_dplt_location | Triangular(lower=0.855, mode=0.9, upper=0.9450000000000001) |         x          |\n    INFO - 15:51:12:       +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12: Solving optimization problem with algorithm OT_OPT_LHS:\n    INFO - 15:51:12:      1%|          | 1/100 [00:00&lt;00:00, 119.00 it/sec, obj=-9.37e+3]\n    INFO - 15:51:12:      2%|\u258f         | 2/100 [00:00&lt;00:00, 142.86 it/sec, obj=-9.07e+3]\n    INFO - 15:51:12:      3%|\u258e         | 3/100 [00:00&lt;00:00, 162.03 it/sec, obj=-1.1e+4]\n    INFO - 15:51:12:      4%|\u258d         | 4/100 [00:00&lt;00:00, 179.27 it/sec, obj=-8.2e+3]\n    INFO - 15:51:12:      5%|\u258c         | 5/100 [00:00&lt;00:00, 190.92 it/sec, obj=-9.45e+3]\n    INFO - 15:51:12:      6%|\u258c         | 6/100 [00:00&lt;00:00, 192.44 it/sec, obj=-9.11e+3]\n    INFO - 15:51:12:      7%|\u258b         | 7/100 [00:00&lt;00:00, 198.29 it/sec, obj=-8.51e+3]\n    INFO - 15:51:12:      8%|\u258a         | 8/100 [00:00&lt;00:00, 204.43 it/sec, obj=-8.03e+3]\n    INFO - 15:51:12:      9%|\u2589         | 9/100 [00:00&lt;00:00, 209.67 it/sec, obj=-9.3e+3]\n    INFO - 15:51:12:     10%|\u2588         | 10/100 [00:00&lt;00:00, 203.94 it/sec, obj=-7.85e+3]\n    INFO - 15:51:12:     11%|\u2588         | 11/100 [00:00&lt;00:00, 206.81 it/sec, obj=-1.02e+4]\n    INFO - 15:51:12:     12%|\u2588\u258f        | 12/100 [00:00&lt;00:00, 209.77 it/sec, obj=-8.24e+3]\n    INFO - 15:51:12:     13%|\u2588\u258e        | 13/100 [00:00&lt;00:00, 203.38 it/sec, obj=-1e+4]\n    INFO - 15:51:12:     14%|\u2588\u258d        | 14/100 [00:00&lt;00:00, 204.94 it/sec, obj=-9.05e+3]\n    INFO - 15:51:12:     15%|\u2588\u258c        | 15/100 [00:00&lt;00:00, 207.96 it/sec, obj=-9.73e+3]\n    INFO - 15:51:12:     16%|\u2588\u258c        | 16/100 [00:00&lt;00:00, 210.83 it/sec, obj=-8.26e+3]\n    INFO - 15:51:12:     17%|\u2588\u258b        | 17/100 [00:00&lt;00:00, 207.55 it/sec, obj=-9.72e+3]\n    INFO - 15:51:12:     18%|\u2588\u258a        | 18/100 [00:00&lt;00:00, 207.75 it/sec, obj=-8.27e+3]\n    INFO - 15:51:12:     19%|\u2588\u2589        | 19/100 [00:00&lt;00:00, 208.80 it/sec, obj=-9.32e+3]\n    INFO - 15:51:12:     20%|\u2588\u2588        | 20/100 [00:00&lt;00:00, 208.11 it/sec, obj=-9.74e+3]\n    INFO - 15:51:12:     21%|\u2588\u2588        | 21/100 [00:00&lt;00:00, 208.78 it/sec, obj=-1.06e+4]\n    INFO - 15:51:12:     22%|\u2588\u2588\u258f       | 22/100 [00:00&lt;00:00, 210.62 it/sec, obj=-8.66e+3]\n    INFO - 15:51:12:     23%|\u2588\u2588\u258e       | 23/100 [00:00&lt;00:00, 212.36 it/sec, obj=-8.83e+3]\n    INFO - 15:51:12:     24%|\u2588\u2588\u258d       | 24/100 [00:00&lt;00:00, 211.82 it/sec, obj=-8.79e+3]\n    INFO - 15:51:12:     25%|\u2588\u2588\u258c       | 25/100 [00:00&lt;00:00, 212.35 it/sec, obj=-1.13e+4]\n    INFO - 15:51:12:     26%|\u2588\u2588\u258c       | 26/100 [00:00&lt;00:00, 213.54 it/sec, obj=-9.27e+3]\n    INFO - 15:51:12:     27%|\u2588\u2588\u258b       | 27/100 [00:00&lt;00:00, 214.86 it/sec, obj=-8.01e+3]\n    INFO - 15:51:12:     28%|\u2588\u2588\u258a       | 28/100 [00:00&lt;00:00, 213.11 it/sec, obj=-9.87e+3]\n    INFO - 15:51:12:     29%|\u2588\u2588\u2589       | 29/100 [00:00&lt;00:00, 214.04 it/sec, obj=-9.84e+3]\n    INFO - 15:51:12:     30%|\u2588\u2588\u2588       | 30/100 [00:00&lt;00:00, 215.16 it/sec, obj=-1.11e+4]\n    INFO - 15:51:12:     31%|\u2588\u2588\u2588       | 31/100 [00:00&lt;00:00, 215.69 it/sec, obj=-8.74e+3]\n    INFO - 15:51:12:     32%|\u2588\u2588\u2588\u258f      | 32/100 [00:00&lt;00:00, 216.17 it/sec, obj=-7.77e+3]\n    INFO - 15:51:12:     33%|\u2588\u2588\u2588\u258e      | 33/100 [00:00&lt;00:00, 215.74 it/sec, obj=-1.02e+4]\n    INFO - 15:51:12:     34%|\u2588\u2588\u2588\u258d      | 34/100 [00:00&lt;00:00, 215.92 it/sec, obj=-9.89e+3]\n    INFO - 15:51:12:     35%|\u2588\u2588\u2588\u258c      | 35/100 [00:00&lt;00:00, 215.44 it/sec, obj=-1.01e+4]\n    INFO - 15:51:12:     36%|\u2588\u2588\u2588\u258c      | 36/100 [00:00&lt;00:00, 215.86 it/sec, obj=-1.04e+4]\n    INFO - 15:51:12:     37%|\u2588\u2588\u2588\u258b      | 37/100 [00:00&lt;00:00, 214.90 it/sec, obj=-1.22e+4]\n    INFO - 15:51:12:     38%|\u2588\u2588\u2588\u258a      | 38/100 [00:00&lt;00:00, 212.60 it/sec, obj=-1.05e+4]\n    INFO - 15:51:12:     39%|\u2588\u2588\u2588\u2589      | 39/100 [00:00&lt;00:00, 212.21 it/sec, obj=-9.66e+3]\n    INFO - 15:51:12:     40%|\u2588\u2588\u2588\u2588      | 40/100 [00:00&lt;00:00, 212.81 it/sec, obj=-1.09e+4]\n    INFO - 15:51:12:     41%|\u2588\u2588\u2588\u2588      | 41/100 [00:00&lt;00:00, 213.82 it/sec, obj=-1.14e+4]\n    INFO - 15:51:12:     42%|\u2588\u2588\u2588\u2588\u258f     | 42/100 [00:00&lt;00:00, 213.34 it/sec, obj=-9.71e+3]\n    INFO - 15:51:12:     43%|\u2588\u2588\u2588\u2588\u258e     | 43/100 [00:00&lt;00:00, 213.68 it/sec, obj=-1.07e+4]\n    INFO - 15:51:12:     44%|\u2588\u2588\u2588\u2588\u258d     | 44/100 [00:00&lt;00:00, 214.56 it/sec, obj=-9.63e+3]\n    INFO - 15:51:12:     45%|\u2588\u2588\u2588\u2588\u258c     | 45/100 [00:00&lt;00:00, 215.38 it/sec, obj=-1.17e+4]\n    INFO - 15:51:12:     46%|\u2588\u2588\u2588\u2588\u258c     | 46/100 [00:00&lt;00:00, 214.94 it/sec, obj=-1.1e+4]\n    INFO - 15:51:12:     47%|\u2588\u2588\u2588\u2588\u258b     | 47/100 [00:00&lt;00:00, 215.35 it/sec, obj=-9.43e+3]\n    INFO - 15:51:12:     48%|\u2588\u2588\u2588\u2588\u258a     | 48/100 [00:00&lt;00:00, 215.87 it/sec, obj=-1e+4]\n    INFO - 15:51:12:     49%|\u2588\u2588\u2588\u2588\u2589     | 49/100 [00:00&lt;00:00, 215.81 it/sec, obj=-9.99e+3]\n    INFO - 15:51:12:     50%|\u2588\u2588\u2588\u2588\u2588     | 50/100 [00:00&lt;00:00, 215.77 it/sec, obj=-8.61e+3]\n    INFO - 15:51:12:     51%|\u2588\u2588\u2588\u2588\u2588     | 51/100 [00:00&lt;00:00, 216.51 it/sec, obj=-9.75e+3]\n    INFO - 15:51:12:     52%|\u2588\u2588\u2588\u2588\u2588\u258f    | 52/100 [00:00&lt;00:00, 217.11 it/sec, obj=-8.97e+3]\n    INFO - 15:51:12:     53%|\u2588\u2588\u2588\u2588\u2588\u258e    | 53/100 [00:00&lt;00:00, 217.02 it/sec, obj=-9.97e+3]\n    INFO - 15:51:12:     54%|\u2588\u2588\u2588\u2588\u2588\u258d    | 54/100 [00:00&lt;00:00, 216.71 it/sec, obj=-1.02e+4]\n    INFO - 15:51:12:     55%|\u2588\u2588\u2588\u2588\u2588\u258c    | 55/100 [00:00&lt;00:00, 216.79 it/sec, obj=-1.02e+4]\n    INFO - 15:51:12:     56%|\u2588\u2588\u2588\u2588\u2588\u258c    | 56/100 [00:00&lt;00:00, 216.64 it/sec, obj=-9.45e+3]\n    INFO - 15:51:12:     57%|\u2588\u2588\u2588\u2588\u2588\u258b    | 57/100 [00:00&lt;00:00, 215.85 it/sec, obj=-1.07e+4]\n    INFO - 15:51:12:     58%|\u2588\u2588\u2588\u2588\u2588\u258a    | 58/100 [00:00&lt;00:00, 215.59 it/sec, obj=-8.46e+3]\n    INFO - 15:51:12:     59%|\u2588\u2588\u2588\u2588\u2588\u2589    | 59/100 [00:00&lt;00:00, 216.09 it/sec, obj=-9.61e+3]\n    INFO - 15:51:12:     60%|\u2588\u2588\u2588\u2588\u2588\u2588    | 60/100 [00:00&lt;00:00, 216.55 it/sec, obj=-9.29e+3]\n    INFO - 15:51:12:     61%|\u2588\u2588\u2588\u2588\u2588\u2588    | 61/100 [00:00&lt;00:00, 216.23 it/sec, obj=-7.4e+3]\n    INFO - 15:51:12:     62%|\u2588\u2588\u2588\u2588\u2588\u2588\u258f   | 62/100 [00:00&lt;00:00, 216.57 it/sec, obj=-1.21e+4]\n    INFO - 15:51:12:     63%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e   | 63/100 [00:00&lt;00:00, 217.14 it/sec, obj=-9.36e+3]\n    INFO - 15:51:12:     64%|\u2588\u2588\u2588\u2588\u2588\u2588\u258d   | 64/100 [00:00&lt;00:00, 217.55 it/sec, obj=-1.06e+4]\n    INFO - 15:51:12:     65%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 65/100 [00:00&lt;00:00, 217.20 it/sec, obj=-9.85e+3]\n    INFO - 15:51:12:     66%|\u2588\u2588\u2588\u2588\u2588\u2588\u258c   | 66/100 [00:00&lt;00:00, 217.53 it/sec, obj=-8.67e+3]\n    INFO - 15:51:12:     67%|\u2588\u2588\u2588\u2588\u2588\u2588\u258b   | 67/100 [00:00&lt;00:00, 218.08 it/sec, obj=-9.66e+3]\n    INFO - 15:51:12:     68%|\u2588\u2588\u2588\u2588\u2588\u2588\u258a   | 68/100 [00:00&lt;00:00, 216.98 it/sec, obj=-9.53e+3]\n    INFO - 15:51:12:     69%|\u2588\u2588\u2588\u2588\u2588\u2588\u2589   | 69/100 [00:00&lt;00:00, 216.79 it/sec, obj=-1.21e+4]\n    INFO - 15:51:12:     70%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 70/100 [00:00&lt;00:00, 217.27 it/sec, obj=-1.01e+4]\n    INFO - 15:51:12:     71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588   | 71/100 [00:00&lt;00:00, 217.89 it/sec, obj=-8.71e+3]\n    INFO - 15:51:12:     72%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f  | 72/100 [00:00&lt;00:00, 217.93 it/sec, obj=-1.17e+4]\n    INFO - 15:51:12:     73%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e  | 73/100 [00:00&lt;00:00, 218.34 it/sec, obj=-1.04e+4]\n    INFO - 15:51:12:     74%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  | 74/100 [00:00&lt;00:00, 218.63 it/sec, obj=-9.74e+3]\n    INFO - 15:51:12:     75%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 75/100 [00:00&lt;00:00, 219.22 it/sec, obj=-8.81e+3]\n    INFO - 15:51:12:     76%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c  | 76/100 [00:00&lt;00:00, 219.31 it/sec, obj=-9.55e+3]\n    INFO - 15:51:12:     77%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b  | 77/100 [00:00&lt;00:00, 219.51 it/sec, obj=-9.78e+3]\n    INFO - 15:51:12:     78%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  | 78/100 [00:00&lt;00:00, 219.98 it/sec, obj=-9.81e+3]\n    INFO - 15:51:12:     79%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589  | 79/100 [00:00&lt;00:00, 220.49 it/sec, obj=-1.06e+4]\n    INFO - 15:51:12:     80%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 80/100 [00:00&lt;00:00, 220.29 it/sec, obj=-1.1e+4]\n    INFO - 15:51:12:     81%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588  | 81/100 [00:00&lt;00:00, 220.36 it/sec, obj=-9.65e+3]\n    INFO - 15:51:12:     82%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f | 82/100 [00:00&lt;00:00, 220.77 it/sec, obj=-9.51e+3]\n    INFO - 15:51:12:     83%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e | 83/100 [00:00&lt;00:00, 221.20 it/sec, obj=-9.38e+3]\n    INFO - 15:51:12:     84%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d | 84/100 [00:00&lt;00:00, 221.10 it/sec, obj=-8.64e+3]\n    INFO - 15:51:12:     85%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 85/100 [00:00&lt;00:00, 220.87 it/sec, obj=-1.26e+4]\n    INFO - 15:51:12:     86%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c | 86/100 [00:00&lt;00:00, 221.10 it/sec, obj=-8.64e+3]\n    INFO - 15:51:12:     87%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b | 87/100 [00:00&lt;00:00, 221.30 it/sec, obj=-9.26e+3]\n    INFO - 15:51:12:     88%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a | 88/100 [00:00&lt;00:00, 220.67 it/sec, obj=-8.99e+3]\n    INFO - 15:51:12:     89%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589 | 89/100 [00:00&lt;00:00, 220.92 it/sec, obj=-1.09e+4]\n    INFO - 15:51:12:     90%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 90/100 [00:00&lt;00:00, 221.35 it/sec, obj=-1.07e+4]\n    INFO - 15:51:12:     91%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 | 91/100 [00:00&lt;00:00, 221.25 it/sec, obj=-8.82e+3]\n    INFO - 15:51:12:     92%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258f| 92/100 [00:00&lt;00:00, 221.28 it/sec, obj=-1.09e+4]\n    INFO - 15:51:12:     93%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e| 93/100 [00:00&lt;00:00, 221.61 it/sec, obj=-1.05e+4]\n    INFO - 15:51:12:     94%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d| 94/100 [00:00&lt;00:00, 222.01 it/sec, obj=-8.26e+3]\n    INFO - 15:51:12:     95%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 95/100 [00:00&lt;00:00, 221.93 it/sec, obj=-7.9e+3]\n    INFO - 15:51:12:     96%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c| 96/100 [00:00&lt;00:00, 221.89 it/sec, obj=-9.61e+3]\n    INFO - 15:51:12:     97%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b| 97/100 [00:00&lt;00:00, 222.20 it/sec, obj=-7.71e+3]\n    INFO - 15:51:12:     98%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a| 98/100 [00:00&lt;00:00, 222.56 it/sec, obj=-9.1e+3]\n    INFO - 15:51:12:     99%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2589| 99/100 [00:00&lt;00:00, 222.12 it/sec, obj=-8.73e+3]\n    INFO - 15:51:12:    100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [00:00&lt;00:00, 222.33 it/sec, obj=-9.39e+3]\n    INFO - 15:51:12: Optimization result:\n    INFO - 15:51:12:    Optimizer info:\n    INFO - 15:51:12:       Status: None\n    INFO - 15:51:12:       Message: None\n    INFO - 15:51:12:       Number of calls to the objective function by the optimizer: 100\n    INFO - 15:51:12:    Solution:\n    INFO - 15:51:12:       Objective: -12628.333932773297\n    INFO - 15:51:12:       Design space:\n    INFO - 15:51:12:          +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12:          |          Name          |                     Initial distribution                    | Transformation(x)= |\n    INFO - 15:51:12:          +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12:          |     young_modulus      |  Triangular(lower=199500.0, mode=210000.0, upper=220500.0)  |      Trunc(x)      |\n    INFO - 15:51:12:          |          nu_p          |        Triangular(lower=0.285, mode=0.3, upper=0.315)       |         x          |\n    INFO - 15:51:12:          |         length         |       Triangular(lower=570.0, mode=600.0, upper=630.0)      |      Trunc(x)      |\n    INFO - 15:51:12:          |         width          |        Triangular(lower=28.5, mode=30.0, upper=31.5)        |      Trunc(x)      |\n    INFO - 15:51:12:          |         height         |        Triangular(lower=38.0, mode=40.0, upper=42.0)        |      Trunc(x)      |\n    INFO - 15:51:12:          |      imposed_dplt      |      Triangular(lower=-15.75, mode=-15.0, upper=-14.25)     |         x          |\n    INFO - 15:51:12:          | relative_dplt_location | Triangular(lower=0.855, mode=0.9, upper=0.9450000000000001) |         x          |\n    INFO - 15:51:12:          +------------------------+-------------------------------------------------------------+--------------------+\n    INFO - 15:51:12: *** End DOE_BendingTestAnalytical_Cantilever_OT_OPT_LHS_100 execution (time: 0:00:00.463097) ***\n</code></pre> <p>The Dataset containing the DOE result is a <code>Pandas &lt;https://pandas.pydata.org&gt;</code>__ <code>DataFrame</code>. People used to Pandas can go much further in terms of data analysis (filtering, plotting, sorting, ...).</p> <pre><code>print(dataset.describe())\ndataset.to_csv(doe_tool.working_directory / \"data.csv\", sep=\";\")\n</code></pre> <p>Out:</p> <pre><code>GROUP             inputs                                                                                             outputs\nVARIABLE   young_modulus        nu_p      length       width      height imposed_dplt relative_dplt_location reaction_forces\nCOMPONENT              0           0           0           0           0            0                      0               0\ncount         100.000000  100.000000  100.000000  100.000000  100.000000   100.000000             100.000000      100.000000\nmean       210005.511999    0.299994  600.009767   30.000892   40.000695   -15.000093               0.899975    -9662.162514\nstd          4324.978485    0.006135   12.339617    0.612487    0.816029     0.308581               0.018516     1074.715533\nmin        200581.178400    0.286398  573.590282   28.687341   38.249402   -15.712991               0.857272   -12628.333933\n25%        206998.379499    0.295729  591.408456   29.561105   39.419986   -15.219837               0.886844   -10251.378923\n50%        210002.198295    0.300027  600.104095   29.996546   39.993815   -14.999020               0.900006    -9641.605037\n75%        213057.306879    0.304340  608.517336   30.438497   40.585883   -14.784672               0.912774    -8826.880678\nmax        220348.631497    0.313206  628.926780   31.314395   41.731229   -14.309492               0.941171    -7395.834046\n</code></pre>"},{"location":"generated/runnable_examples/11_uncertainty_quantification/plot_01_uq/#4-compute-statistics","title":"4. Compute statistics","text":"<p>The :class:<code>~.StatisticsTool</code> relies on |gemseo| to compute statistics on a sampling. It allows to test several probability distributions to find the one that best fits to the output distribution according to a fitting criterion and a selection criterion. Then, based on this synthetic distribution, several statistics indicators can be computed like mean value, standard deviation or percentiles.</p> <p>Select the output variable on which statistics are computed.</p> <pre><code>output_name = output_names[0]\n</code></pre> <p>The following options are used by default:</p> <pre><code>pprint(StatisticsTool().options)\n</code></pre> <p>Out:</p> <pre><code>{'confidence': 0.95,\n 'coverage': 0.05,\n 'dataset': None,\n 'fitting_criterion': 'Kolmogorov',\n 'level': 0.05,\n 'selection_criterion': 'best',\n 'tested_distributions': ['Uniform',\n                          'Normal',\n                          'LogNormal',\n                          'Exponential',\n                          'WeibullMin'],\n 'variable_names': []}\n</code></pre> <p>Default options can be overriden through the :meth:<code>~.StatisticsTool.execute</code> method. Here the confidence value is modified.</p> <pre><code>statistic_tool = StatisticsTool(working_directory=\"statistics_tool_results\")\nresults = statistic_tool.execute(\n    dataset=dataset,\n    variable_names=[output_name],\n    confidence=0.98,\n)\nprint(results)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:51:12: Working directory is statistics_tool_results\n    INFO - 15:51:12: | Set goodness-of-fit criterion: Kolmogorov.\n    INFO - 15:51:12: | Set significance level of hypothesis test: 0.05.\n    INFO - 15:51:12: Fit different distributions (Uniform, Normal, LogNormal, Exponential, WeibullMin) per variable and compute the goodness-of-fit criterion.\n    INFO - 15:51:12: | Fit different distributions for reaction_forces.\n    INFO - 15:51:12: Select the best distribution for each variable.\n    INFO - 15:51:12: | The best distribution for reaction_forces[0] is WeibullMin([5697.67,5.737,-14933.6]).\nResults of a Statistics analysis.\n{\n    \"generic\": {\n        \"datetime\": \"13-02-2026_15-51-12\",\n        \"version\": \"0.1.dev17+gda5deed25.d20260213\"\n    },\n    \"misc\": {},\n    \"model\": null,\n    \"report\": {},\n    \"settings\": {\n        \"confidence\": 0.98,\n        \"coverage\": 0.05,\n        \"fitting_criterion\": \"Kolmogorov\",\n        \"level\": 0.05,\n        \"selection_criterion\": \"best\",\n        \"tested_distributions\": [\n            \"Uniform\",\n            \"Normal\",\n            \"LogNormal\",\n            \"Exponential\",\n            \"WeibullMin\"\n        ],\n        \"variable_names\": [\n            \"reaction_forces\"\n        ]\n    }\n}\n\nBest fitting distribution:\n+--------------------------------------+\n|           reaction_forces            |\n+--------------------------------------+\n| WeibullMin([5697.67,5.737,-14933.6]) |\n+--------------------------------------+\n\nFitting matrix (goodness-of-fit measures):\n+-----------------+-----------------------+--------------------+--------------------+-----------------------+--------------------+------------+\n|     Variable    |        Uniform        |       Normal       |     LogNormal      |      Exponential      |     WeibullMin     | Selection  |\n+-----------------+-----------------------+--------------------+--------------------+-----------------------+--------------------+------------+\n| reaction_forces | 5.713485287443738e-05 | 0.7680985200194305 | 0.7746323177782352 | 4.558305418956205e-11 | 0.8917679358498344 | WeibullMin |\n+-----------------+-----------------------+--------------------+--------------------+-----------------------+--------------------+------------+\n\nStatistics indicators:\nOrderedDict([('maximum', {'reaction_forces': array([inf])}), ('minimum', {'reaction_forces': array([-14933.62924665])}), ('range', {'reaction_forces': array([inf])}), ('mean', {'reaction_forces': array([-9660.98586513])}), ('median', {'reaction_forces': array([-9588.57719802])}), ('compute_standard_deviation', {'reaction_forces': array([1064.73584445])}), ('variance', {'reaction_forces': array([1133662.41845893])}), ('percentile_5', {'reaction_forces': array([-11538.53804302])}), ('percentile_10', {'reaction_forces': array([-11084.67365462])}), ('percentile_25', {'reaction_forces': array([-10348.1809608])}), ('percentile_50', {'reaction_forces': array([-9588.57719802])}), ('percentile_75', {'reaction_forces': array([-8902.15269676])}), ('percentile_90', {'reaction_forces': array([-8344.40897986])}), ('percentile_95', {'reaction_forces': array([-8035.12191788])}), ('tolerance_interval', {'reaction_forces': [Bounds(lower=array([-9872.2535252]), upper=array([-9294.21362661]))]}), ('a_value', {'reaction_forces': array([[-12461.47306024]])}), ('b_value', {'reaction_forces': array([[-11202.39862381]])})])\n</code></pre> <p>The fitted synthetic distribution can be plotted.</p> <pre><code>statistic_tool.plot_results(results, variable=output_name, save=False, show=True)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n&lt;Figure size 1200x600 with 2 Axes&gt;\n</code></pre> <p>Total running time of the script: ( 0 minutes  2.024 seconds)</p> <p> Download Python source code: plot_01_uq.py</p> <p> Download Jupyter notebook: plot_01_uq.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/12_bayesian_calibration/","title":"Use Bayesian inference to estimate the probability distribution of samples","text":""},{"location":"generated/runnable_examples/12_bayesian_calibration/#examples-of-bayesian-inference","title":"Examples of Bayesian inference","text":"<p>Below is a gallery of examples of Bayesian inference applied to the calibration of distributions.</p> <p> Usage of Bayesian inference </p> <p> Download all examples in Python source code: 12_bayesian_calibration_python.zip</p> <p> Download all examples in Jupyter notebooks: 12_bayesian_calibration_jupyter.zip</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"generated/runnable_examples/12_bayesian_calibration/mg_execution_times/","title":"Computation times","text":"<p>01:35.566 total execution time for generated_runnable_examples_12_bayesian_calibration files:</p> <p>+----------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+ | plot_12_bayesian_calibration (docs/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration.py) | 01:35.566 | 0.0 MB | +----------------------------------------------------------------------------------------------------------------------------------------------------+-----------+--------+</p>"},{"location":"generated/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration/","title":"Usage of Bayesian inference","text":"<p>Note</p> <p>Click here to download the full example code</p>"},{"location":"generated/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration/#usage-of-bayesian-inference","title":"Usage of Bayesian inference","text":"<p>The :class:<code>~.BayesTool</code> provides methods to perform the calibration under uncertainties of a model.</p> <pre><code>from __future__ import annotations\n\nfrom gemseo.datasets.dataset import Dataset\nfrom numpy import random\nfrom openturns import ComposedDistribution\nfrom openturns import Uniform\nfrom strenum import StrEnum\n\nfrom vimseo.api import activate_logger\nfrom vimseo.tools.bayes.bayes_analysis import BayesTool\nfrom vimseo.tools.bayes.bayes_analysis_result import PosteriorChecks\nfrom vimseo.tools.statistics.statistics_tool import StatisticsTool\n\nrandom.seed(0)  # noqa: NPY002\n\nactivate_logger()\n\nN_MCMC = 100\n</code></pre>"},{"location":"generated/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration/#1-set-up-of-the-stochastic-model","title":"1) Set-up of the stochastic model","text":"<p>We start loading the experimental data that will be processed to calibrate models:</p> <pre><code>data_modulus = random.logistic(150000, 8000, 8)  # noqa: NPY002\n</code></pre> <p>We want to calibrate several probabilistic models, that is to say probability distributions, for instance Normal, Weibull, Log-normal:</p> <pre><code>class Models(StrEnum):\n    NORMAL = \"Normal\"\n    WEIBULL_MIN = \"WeibullMin\"\n    LOG_NORMAL = \"LogNormal\"\n\n\nanalysis_n = BayesTool(working_directory=\"normal_model\")\nanalysis_l = BayesTool(working_directory=\"lognormal_model\")\nanalysis_w = BayesTool(working_directory=\"weibullmin_model\")\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning:\n\n&lt;module 'openturns.dist' from '/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/openturns/dist.py'&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning:\n\n&lt;built-in function array&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n</code></pre> <p>For each model, it is necessary to define a prior. Except for the Normal model, it is difficult to give an initial guess for the Weibull and Lognormal model. To achieve this goal, we compute the frequentist estimates of the model parameters. The result of the frequentist estimate for the Normal model:</p> <pre><code>statistic_tool = StatisticsTool()\ndataset = Dataset.from_array(data_modulus.reshape(-1, 1))\nresults_normal = statistic_tool.execute(\n    dataset=dataset, tested_distributions=[\"Normal\"]\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:07: Working directory is StatisticsTool/7\n    INFO - 15:38:07: | Set goodness-of-fit criterion: Kolmogorov.\n    INFO - 15:38:07: | Set significance level of hypothesis test: 0.05.\n    INFO - 15:38:07: Fit different distributions (Normal) per variable and compute the goodness-of-fit criterion.\n    INFO - 15:38:07: | Fit different distributions for x_0.\n    INFO - 15:38:07: Select the best distribution for each variable.\n    INFO - 15:38:07: | The best distribution for x_0[0] is Normal([153865,6190.86]).\n</code></pre> <p>From this result, we set-up the prior:</p> <pre><code>prior_normal = ComposedDistribution([Uniform(110000, 160000), Uniform(2000, 12000)])\n</code></pre> <p>Similarly for the Weibull Min model: the frequentist estimate:</p> <pre><code>results_weibull = statistic_tool.execute(\n    dataset=dataset, tested_distributions=[\"WeibullMin\"]\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:07: Working directory is StatisticsTool/8\n    INFO - 15:38:07: | Set goodness-of-fit criterion: Kolmogorov.\n    INFO - 15:38:07: | Set significance level of hypothesis test: 0.05.\n    INFO - 15:38:07: Fit different distributions (WeibullMin) per variable and compute the goodness-of-fit criterion.\n    INFO - 15:38:07: | Fit different distributions for x_0.\n    INFO - 15:38:07: Select the best distribution for each variable.\n    INFO - 15:38:07: | The best distribution for x_0[0] is WeibullMin([8881.89,0.786344,147538]).\n</code></pre> <p>And the corresponding prior:</p> <pre><code>prior_weibull = ComposedDistribution([\n    Uniform(2000, 30000),\n    Uniform(0.1, 5),\n    Uniform(130000, min(data_modulus)),\n])\n</code></pre> <p>And for the Log Normal model:</p> <pre><code>results_lognormal = statistic_tool.execute(\n    dataset=dataset, tested_distributions=[\"LogNormal\"]\n)\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:07: Working directory is StatisticsTool/9\n    INFO - 15:38:07: | Set goodness-of-fit criterion: Kolmogorov.\n    INFO - 15:38:07: | Set significance level of hypothesis test: 0.05.\n    INFO - 15:38:07: Fit different distributions (LogNormal) per variable and compute the goodness-of-fit criterion.\n    INFO - 15:38:07: | Fit different distributions for x_0.\n    INFO - 15:38:07: Select the best distribution for each variable.\n    INFO - 15:38:07: | The best distribution for x_0[0] is LogNormal([9.10154,0.549377,143435]).\n</code></pre> <p>And corresponding prior:</p> <pre><code>prior_lognormal = ComposedDistribution([\n    Uniform(4, 15),\n    Uniform(0.01, 5),\n    Uniform(130000, min(data_modulus)),\n])\n</code></pre>"},{"location":"generated/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration/#2-executing-bayesian-inference","title":"2) Executing Bayesian inference","text":"<p>We can now sample the posterior distribution of the parameters of the normal model,</p> <pre><code>analysis_n.execute(\n    likelihood_dist=Models.NORMAL,\n    prior_dist=prior_normal,\n    data=data_modulus,\n    n_mcmc=N_MCMC,\n)\nanalysis_n.save_results()\nanalysis_n.result\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:07: Working directory is normal_model\n\n\n  0%|          | 0/100 [00:00&lt;?, ?it/s]\n\n 64%|######4   | 64/100 [00:00&lt;00:00, 639.32it/s]\n100%|##########| 100/100 [00:00&lt;00:00, 608.67it/s]\n\nBayesAnalysisResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-07', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'likelihood_dist': 'Normal', 'prior_dist': &lt;openturns.model_copula.ComposedDistribution; proxy of &lt;Swig Object of type 'OT::ComposedDistribution *' at 0x7d5207951aa0&gt; &gt;, 'frozen_variables': {}}, report={}, model=None), raw_samples=array([[[134998.81387976,   6999.84497324],\n        [135000.8461801 ,   7001.51023739],\n        [135003.70474143,   7000.12948091],\n        ...,\n        [134984.13308618,   6998.79095725],\n        [134994.57504503,   6997.85538255],\n        [134994.9207681 ,   7001.48288663]],\n\n       [[134994.87037127,   7000.18766419],\n        [134999.20158564,   7003.0107474 ],\n        [135002.07240448,   7000.1402315 ],\n        ...,\n        [134984.72473605,   6998.83114841],\n        [134985.98516188,   6998.0038366 ],\n        [134993.37200983,   7001.47573781]],\n\n       [[134995.57350347,   7000.22103216],\n        [134998.48380321,   7002.7218349 ],\n        [135004.15231766,   6998.64396303],\n        ...,\n        [134983.63743421,   6997.57410357],\n        [134975.69326528,   6996.43524083],\n        [134977.82688779,   7005.51947823]],\n\n       ...,\n\n       [[155654.14484208,   5706.30581235],\n        [154083.27558284,   4606.93999371],\n        [154695.08713883,   6476.95581719],\n        ...,\n        [158064.52252949,   5799.71371532],\n        [156989.32933381,   6222.45636738],\n        [155134.26711863,   5385.306681  ]],\n\n       [[154923.06310122,   6836.69645086],\n        [154083.27558284,   4606.93999371],\n        [157463.95407574,   6573.18778495],\n        ...,\n        [158064.52252949,   5799.71371532],\n        [158010.12801527,   6226.50455578],\n        [155035.31700282,   5206.47530265]],\n\n       [[155517.81478962,   6491.11207254],\n        [154061.76366549,   4801.10254279],\n        [157881.2780495 ,   6886.2236991 ],\n        ...,\n        [157795.57495445,   5827.59889206],\n        [158905.79333766,   6591.97246817],\n        [154759.15332458,   5091.48495941]]]), thin_number=30, ndim=2, processed_samples=None, posterior_predictive=None, lppd=None, ml=None)\n</code></pre> <p>of the parameters of the weibull model,</p> <pre><code>analysis_w.execute(\n    likelihood_dist=Models.WEIBULL_MIN,\n    prior_dist=prior_weibull,\n    data=data_modulus,\n    n_mcmc=N_MCMC,\n)\nanalysis_w.save_results()\nanalysis_w.result\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:07: Working directory is weibullmin_model\n\n\n  0%|          | 0/100 [00:00&lt;?, ?it/s]\n\n 49%|####9     | 49/100 [00:00&lt;00:00, 488.60it/s]\n100%|##########| 100/100 [00:00&lt;00:00, 522.44it/s]\n\nBayesAnalysisResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-07', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'likelihood_dist': 'WeibullMin', 'prior_dist': &lt;openturns.model_copula.ComposedDistribution; proxy of &lt;Swig Object of type 'OT::ComposedDistribution *' at 0x7d52028a8270&gt; &gt;, 'frozen_variables': {}}, report={}, model=None), raw_samples=array([[[1.59974057e+04, 2.55001549e+00, 1.38770167e+05],\n        [1.60003612e+04, 2.55055831e+00, 1.38766683e+05],\n        [1.60049353e+04, 2.54988750e+00, 1.38764813e+05],\n        ...,\n        [1.59980415e+04, 2.54978476e+00, 1.38772699e+05],\n        [1.60004211e+04, 2.54969802e+00, 1.38769308e+05],\n        [1.59954402e+04, 2.55109808e+00, 1.38769168e+05]],\n\n       [[1.59954891e+04, 2.55011544e+00, 1.38769738e+05],\n        [1.59989474e+04, 2.55054210e+00, 1.38764715e+05],\n        [1.60048468e+04, 2.54991016e+00, 1.38764689e+05],\n        ...,\n        [1.59979961e+04, 2.54977961e+00, 1.38772796e+05],\n        [1.60006905e+04, 2.55008435e+00, 1.38767055e+05],\n        [1.59952148e+04, 2.55123898e+00, 1.38768983e+05]],\n\n       [[1.59963447e+04, 2.55010877e+00, 1.38770359e+05],\n        [1.59983762e+04, 2.55044700e+00, 1.38765953e+05],\n        [1.60048468e+04, 2.54991016e+00, 1.38764689e+05],\n        ...,\n        [1.59990298e+04, 2.54915161e+00, 1.38776289e+05],\n        [1.59998637e+04, 2.55044548e+00, 1.38769370e+05],\n        [1.59930686e+04, 2.55191731e+00, 1.38767097e+05]],\n\n       ...,\n\n       [[1.41996252e+04, 2.36458673e+00, 1.43115573e+05],\n        [7.17265424e+03, 1.51704911e+00, 1.44666052e+05],\n        [1.46876351e+04, 2.39197538e+00, 1.42236356e+05],\n        ...,\n        [1.70392234e+04, 2.87915975e+00, 1.41111248e+05],\n        [9.70553289e+03, 2.09122996e+00, 1.44700942e+05],\n        [6.58897818e+03, 1.13427171e+00, 1.47157151e+05]],\n\n       [[1.23330919e+04, 2.03166313e+00, 1.43887645e+05],\n        [7.17265424e+03, 1.51704911e+00, 1.44666052e+05],\n        [1.07186482e+04, 1.71046133e+00, 1.44177994e+05],\n        ...,\n        [1.74653388e+04, 3.14537303e+00, 1.40414023e+05],\n        [1.00013155e+04, 2.22592526e+00, 1.44255908e+05],\n        [6.89888512e+03, 1.15887416e+00, 1.47040571e+05]],\n\n       [[1.60723655e+04, 2.65443887e+00, 1.40961479e+05],\n        [8.28924206e+03, 1.51450470e+00, 1.44216251e+05],\n        [9.84518360e+03, 1.65160761e+00, 1.45586752e+05],\n        ...,\n        [1.74653388e+04, 3.14537303e+00, 1.40414023e+05],\n        [1.06937069e+04, 1.97681901e+00, 1.43260574e+05],\n        [6.89888512e+03, 1.15887416e+00, 1.47040571e+05]]]), thin_number=30, ndim=3, processed_samples=None, posterior_predictive=None, lppd=None, ml=None)\n</code></pre> <p>of the parameters of the lognormal model,</p> <pre><code>analysis_l.execute(\n    likelihood_dist=Models.LOG_NORMAL,\n    prior_dist=prior_lognormal,\n    data=data_modulus,\n    n_mcmc=N_MCMC,\n)\nanalysis_l.save_results()\nanalysis_l.result\n</code></pre> <p>Out:</p> <pre><code>    INFO - 15:38:08: Working directory is lognormal_model\n\n\n  0%|          | 0/100 [00:00&lt;?, ?it/s]\n\n 54%|#####4    | 54/100 [00:00&lt;00:00, 536.10it/s]\n100%|##########| 100/100 [00:00&lt;00:00, 582.65it/s]\n\nBayesAnalysisResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-07', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'likelihood_dist': 'LogNormal', 'prior_dist': &lt;openturns.model_copula.ComposedDistribution; proxy of &lt;Swig Object of type 'OT::ComposedDistribution *' at 0x7d52079510b0&gt; &gt;, 'frozen_variables': {}}, report={}, model=None), raw_samples=array([[[9.49861761e+00, 2.50477400e+00, 1.38767940e+05],\n        [9.50212447e+00, 2.50547371e+00, 1.38769001e+05],\n        [9.49902546e+00, 2.50524424e+00, 1.38767471e+05],\n        ...,\n        [9.50069846e+00, 2.50468672e+00, 1.38768213e+05],\n        [9.49981985e+00, 2.50482842e+00, 1.38768414e+05],\n        [9.49796166e+00, 2.50615203e+00, 1.38772742e+05]],\n\n       [[9.49826981e+00, 2.50437301e+00, 1.38768339e+05],\n        [9.50212447e+00, 2.50547371e+00, 1.38769001e+05],\n        [9.49897420e+00, 2.50598418e+00, 1.38763887e+05],\n        ...,\n        [9.50026811e+00, 2.50473933e+00, 1.38768419e+05],\n        [9.49981985e+00, 2.50482842e+00, 1.38768414e+05],\n        [9.49797721e+00, 2.50660874e+00, 1.38773848e+05]],\n\n       [[9.49309654e+00, 2.50342389e+00, 1.38763874e+05],\n        [9.50227965e+00, 2.50482987e+00, 1.38772601e+05],\n        [9.49881829e+00, 2.50619727e+00, 1.38763052e+05],\n        ...,\n        [9.50022861e+00, 2.50471322e+00, 1.38768919e+05],\n        [9.49986707e+00, 2.50482790e+00, 1.38768266e+05],\n        [9.49797721e+00, 2.50660874e+00, 1.38773848e+05]],\n\n       ...,\n\n       [[1.03252563e+01, 3.61029671e+00, 1.47374700e+05],\n        [9.71154836e+00, 7.56948674e-01, 1.41141103e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [9.14748643e+00, 1.31622264e+00, 1.45384956e+05]],\n\n       [[1.03252563e+01, 3.61029671e+00, 1.47374700e+05],\n        [9.45794546e+00, 7.38859766e-01, 1.42186481e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [9.14748643e+00, 1.31622264e+00, 1.45384956e+05]],\n\n       [[1.05755349e+01, 3.65788381e+00, 1.47385479e+05],\n        [9.45319957e+00, 7.38865358e-01, 1.42216874e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [8.68100172e+00, 1.29053718e+00, 1.46412044e+05]]]), thin_number=30, ndim=3, processed_samples=None, posterior_predictive=None, lppd=None, ml=None)\n</code></pre> <p>Then, we determine the burnin for each MCMC sampling. First for the Normal model:</p> <pre><code>analysis_n.plot_burnin(analysis_n.result, save=False, show=True)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n&lt;Figure size 640x480 with 2 Axes&gt;\n</code></pre> <p>Then, the Weibull Min model:</p> <pre><code>analysis_w.plot_burnin(analysis_w.result, save=False, show=True)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n&lt;Figure size 640x480 with 3 Axes&gt;\n</code></pre> <p>And the Log Normal model:</p> <pre><code>analysis_l.plot_burnin(analysis_l.result, save=False, show=True)\n</code></pre> <p></p> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n\n&lt;Figure size 640x480 with 3 Axes&gt;\n</code></pre> <p>A value of 50 for the burnin seems ok for sampler is thus selected.</p> <pre><code>burnin = 50\n</code></pre> <p>Then, we post-process the results for each models before analyzing the results, first for the Normal model:</p> <pre><code>analysis_n.post(50)\n# then for the Weibull Min model:\nanalysis_w.post(50)\n# And the Log Normal model:\nanalysis_l.post(50)\n</code></pre> <p>Out:</p> <pre><code> WARNING - 15:38:08: A minimum of posterior samples of samples is recommended to ensure convergence.\n WARNING - 15:38:08: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|5         | 51/1000 [00:00&lt;00:01, 507.37it/s]\n\n 12%|#1        | 115/1000 [00:00&lt;00:01, 578.27it/s]\n\n 17%|#7        | 173/1000 [00:00&lt;00:01, 556.07it/s]\n\n 23%|##3       | 233/1000 [00:00&lt;00:01, 570.22it/s]\n\n 30%|##9       | 295/1000 [00:00&lt;00:01, 585.57it/s]\n\n 37%|###6      | 369/1000 [00:00&lt;00:00, 633.81it/s]\n\n 43%|####3     | 433/1000 [00:00&lt;00:00, 634.67it/s]\n\n 50%|####9     | 497/1000 [00:00&lt;00:00, 550.01it/s]\n\n 55%|#####5    | 554/1000 [00:00&lt;00:00, 510.25it/s]\n\n 61%|######    | 607/1000 [00:01&lt;00:00, 501.76it/s]\n\n 67%|######6   | 669/1000 [00:01&lt;00:00, 533.51it/s]\n\n 75%|#######4  | 746/1000 [00:01&lt;00:00, 598.02it/s]\n\n 81%|########  | 808/1000 [00:01&lt;00:00, 575.24it/s]\n\n 87%|########7 | 870/1000 [00:01&lt;00:00, 586.36it/s]\n\n 93%|#########3| 932/1000 [00:01&lt;00:00, 591.89it/s]\n\n 99%|#########9| 994/1000 [00:01&lt;00:00, 596.51it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 573.34it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  7%|6         | 66/1000 [00:00&lt;00:01, 655.34it/s]\n\n 14%|#3        | 135/1000 [00:00&lt;00:01, 674.02it/s]\n\n 20%|##        | 203/1000 [00:00&lt;00:01, 567.43it/s]\n\n 27%|##6       | 268/1000 [00:00&lt;00:01, 594.92it/s]\n\n 33%|###2      | 329/1000 [00:00&lt;00:01, 576.35it/s]\n\n 39%|###8      | 388/1000 [00:00&lt;00:01, 530.38it/s]\n\n 47%|####6     | 466/1000 [00:00&lt;00:00, 600.94it/s]\n\n 53%|#####2    | 528/1000 [00:00&lt;00:00, 559.51it/s]\n\n 59%|#####8    | 590/1000 [00:01&lt;00:00, 575.04it/s]\n\n 65%|######5   | 650/1000 [00:01&lt;00:00, 581.91it/s]\n\n 71%|#######1  | 713/1000 [00:01&lt;00:00, 594.01it/s]\n\n 77%|#######7  | 774/1000 [00:01&lt;00:00, 569.55it/s]\n\n 85%|########4 | 846/1000 [00:01&lt;00:00, 611.62it/s]\n\n 91%|#########1| 913/1000 [00:01&lt;00:00, 627.41it/s]\n\n 98%|#########7| 977/1000 [00:01&lt;00:00, 609.54it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 596.16it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 60/1000 [00:00&lt;00:01, 589.14it/s]\n\n 12%|#1        | 119/1000 [00:00&lt;00:01, 521.83it/s]\n\n 18%|#7        | 179/1000 [00:00&lt;00:01, 552.60it/s]\n\n 24%|##3       | 235/1000 [00:00&lt;00:01, 549.20it/s]\n\n 29%|##9       | 291/1000 [00:00&lt;00:01, 507.08it/s]\n\n 36%|###5      | 358/1000 [00:00&lt;00:01, 554.29it/s]\n\n 42%|####2     | 424/1000 [00:00&lt;00:00, 585.90it/s]\n\n 48%|####8     | 484/1000 [00:00&lt;00:00, 526.36it/s]\n\n 55%|#####5    | 550/1000 [00:00&lt;00:00, 562.10it/s]\n\n 61%|######1   | 612/1000 [00:01&lt;00:00, 576.00it/s]\n\n 68%|######8   | 680/1000 [00:01&lt;00:00, 605.80it/s]\n\n 76%|#######5  | 755/1000 [00:01&lt;00:00, 647.45it/s]\n\n 84%|########3 | 835/1000 [00:01&lt;00:00, 690.14it/s]\n\n 90%|######### | 905/1000 [00:01&lt;00:00, 616.32it/s]\n\n 97%|#########6| 969/1000 [00:01&lt;00:00, 599.48it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 579.96it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|5         | 52/1000 [00:00&lt;00:01, 517.91it/s]\n\n 11%|#1        | 111/1000 [00:00&lt;00:01, 558.61it/s]\n\n 17%|#6        | 167/1000 [00:00&lt;00:01, 505.87it/s]\n\n 22%|##1       | 219/1000 [00:00&lt;00:01, 508.32it/s]\n\n 28%|##8       | 282/1000 [00:00&lt;00:01, 548.50it/s]\n\n 34%|###3      | 338/1000 [00:00&lt;00:01, 519.77it/s]\n\n 39%|###9      | 391/1000 [00:00&lt;00:01, 503.46it/s]\n\n 46%|####6     | 461/1000 [00:00&lt;00:00, 557.46it/s]\n\n 52%|#####1    | 518/1000 [00:00&lt;00:00, 541.08it/s]\n\n 58%|#####8    | 585/1000 [00:01&lt;00:00, 577.97it/s]\n\n 66%|######6   | 665/1000 [00:01&lt;00:00, 640.77it/s]\n\n 73%|#######3  | 730/1000 [00:01&lt;00:00, 613.49it/s]\n\n 79%|#######9  | 792/1000 [00:01&lt;00:00, 523.81it/s]\n\n 85%|########4 | 847/1000 [00:01&lt;00:00, 526.61it/s]\n\n 90%|######### | 902/1000 [00:01&lt;00:00, 520.73it/s]\n\n 98%|#########8| 982/1000 [00:01&lt;00:00, 595.41it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 559.59it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 64/1000 [00:00&lt;00:01, 639.71it/s]\n\n 13%|#2        | 128/1000 [00:00&lt;00:01, 488.00it/s]\n\n 18%|#7        | 179/1000 [00:00&lt;00:01, 483.62it/s]\n\n 24%|##3       | 236/1000 [00:00&lt;00:01, 510.85it/s]\n\n 29%|##8       | 289/1000 [00:00&lt;00:01, 490.66it/s]\n\n 34%|###3      | 339/1000 [00:00&lt;00:01, 454.10it/s]\n\n 40%|###9      | 397/1000 [00:00&lt;00:01, 489.90it/s]\n\n 46%|####5     | 456/1000 [00:00&lt;00:01, 518.47it/s]\n\n 53%|#####3    | 531/1000 [00:01&lt;00:00, 585.28it/s]\n\n 59%|#####9    | 591/1000 [00:01&lt;00:00, 584.59it/s]\n\n 65%|######5   | 652/1000 [00:01&lt;00:00, 588.44it/s]\n\n 71%|#######1  | 712/1000 [00:01&lt;00:00, 554.55it/s]\n\n 77%|#######6  | 769/1000 [00:01&lt;00:00, 555.80it/s]\n\n 84%|########4 | 843/1000 [00:01&lt;00:00, 606.67it/s]\n\n 92%|#########1| 915/1000 [00:01&lt;00:00, 638.09it/s]\n\n 99%|#########8| 987/1000 [00:01&lt;00:00, 659.88it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 566.53it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 61/1000 [00:00&lt;00:01, 606.81it/s]\n\n 13%|#2        | 127/1000 [00:00&lt;00:01, 634.69it/s]\n\n 19%|#9        | 191/1000 [00:00&lt;00:01, 607.95it/s]\n\n 25%|##5       | 252/1000 [00:00&lt;00:01, 509.30it/s]\n\n 30%|###       | 305/1000 [00:00&lt;00:01, 508.95it/s]\n\n 37%|###6      | 368/1000 [00:00&lt;00:01, 545.15it/s]\n\n 42%|####2     | 424/1000 [00:00&lt;00:01, 546.35it/s]\n\n 48%|####8     | 480/1000 [00:00&lt;00:00, 534.67it/s]\n\n 54%|#####3    | 535/1000 [00:01&lt;00:00, 507.71it/s]\n\n 59%|#####8    | 587/1000 [00:01&lt;00:00, 476.04it/s]\n\n 64%|######4   | 645/1000 [00:01&lt;00:00, 503.75it/s]\n\n 70%|#######   | 700/1000 [00:01&lt;00:00, 514.13it/s]\n\n 76%|#######6  | 761/1000 [00:01&lt;00:00, 541.46it/s]\n\n 84%|########3 | 838/1000 [00:01&lt;00:00, 604.98it/s]\n\n 90%|######### | 900/1000 [00:01&lt;00:00, 600.11it/s]\n\n 96%|#########6| 961/1000 [00:01&lt;00:00, 579.70it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 553.26it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|5         | 56/1000 [00:00&lt;00:01, 559.59it/s]\n\n 11%|#1        | 112/1000 [00:00&lt;00:01, 537.11it/s]\n\n 18%|#7        | 175/1000 [00:00&lt;00:01, 572.98it/s]\n\n 23%|##3       | 233/1000 [00:00&lt;00:01, 472.05it/s]\n\n 29%|##9       | 290/1000 [00:00&lt;00:01, 501.42it/s]\n\n 35%|###4      | 349/1000 [00:00&lt;00:01, 527.05it/s]\n\n 41%|####1     | 410/1000 [00:00&lt;00:01, 549.74it/s]\n\n 47%|####6     | 467/1000 [00:00&lt;00:00, 553.04it/s]\n\n 52%|#####2    | 524/1000 [00:00&lt;00:00, 533.00it/s]\n\n 58%|#####8    | 582/1000 [00:01&lt;00:00, 545.51it/s]\n\n 64%|######3   | 638/1000 [00:01&lt;00:00, 543.26it/s]\n\n 69%|######9   | 693/1000 [00:01&lt;00:00, 529.12it/s]\n\n 76%|#######5  | 757/1000 [00:01&lt;00:00, 560.02it/s]\n\n 81%|########1 | 814/1000 [00:01&lt;00:00, 543.98it/s]\n\n 87%|########6 | 869/1000 [00:01&lt;00:00, 534.47it/s]\n\n 92%|#########2| 925/1000 [00:01&lt;00:00, 540.35it/s]\n\n 99%|#########8| 987/1000 [00:01&lt;00:00, 562.35it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 538.35it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|4         | 49/1000 [00:00&lt;00:01, 484.71it/s]\n\n 12%|#1        | 115/1000 [00:00&lt;00:01, 586.48it/s]\n\n 17%|#7        | 174/1000 [00:00&lt;00:01, 567.44it/s]\n\n 24%|##3       | 238/1000 [00:00&lt;00:01, 592.79it/s]\n\n 31%|###       | 309/1000 [00:00&lt;00:01, 632.55it/s]\n\n 37%|###7      | 373/1000 [00:00&lt;00:01, 563.01it/s]\n\n 43%|####3     | 431/1000 [00:00&lt;00:01, 532.57it/s]\n\n 49%|####8     | 486/1000 [00:00&lt;00:01, 479.24it/s]\n\n 54%|#####3    | 536/1000 [00:01&lt;00:00, 464.26it/s]\n\n 60%|######    | 600/1000 [00:01&lt;00:00, 510.29it/s]\n\n 65%|######5   | 653/1000 [00:01&lt;00:00, 513.30it/s]\n\n 71%|#######   | 706/1000 [00:01&lt;00:00, 502.18it/s]\n\n 77%|#######6  | 769/1000 [00:01&lt;00:00, 532.29it/s]\n\n 83%|########3 | 833/1000 [00:01&lt;00:00, 561.68it/s]\n\n 89%|########9 | 890/1000 [00:01&lt;00:00, 525.77it/s]\n\n 94%|#########4| 944/1000 [00:01&lt;00:00, 522.14it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 536.03it/s]\n WARNING - 15:38:22: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n WARNING - 15:38:24: A minimum of posterior samples of samples is recommended to ensure convergence.\n WARNING - 15:38:24: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|4         | 46/1000 [00:00&lt;00:02, 451.35it/s]\n\n 10%|#         | 105/1000 [00:00&lt;00:01, 530.78it/s]\n\n 16%|#5        | 159/1000 [00:00&lt;00:01, 488.83it/s]\n\n 21%|##        | 209/1000 [00:00&lt;00:01, 458.45it/s]\n\n 26%|##6       | 260/1000 [00:00&lt;00:01, 475.03it/s]\n\n 32%|###2      | 323/1000 [00:00&lt;00:01, 524.08it/s]\n\n 38%|###7      | 376/1000 [00:00&lt;00:01, 466.59it/s]\n\n 43%|####3     | 434/1000 [00:00&lt;00:01, 497.44it/s]\n\n 48%|####8     | 485/1000 [00:00&lt;00:01, 494.33it/s]\n\n 54%|#####4    | 541/1000 [00:01&lt;00:00, 512.66it/s]\n\n 59%|#####9    | 593/1000 [00:01&lt;00:00, 507.15it/s]\n\n 66%|######6   | 660/1000 [00:01&lt;00:00, 553.21it/s]\n\n 72%|#######1  | 716/1000 [00:01&lt;00:00, 538.06it/s]\n\n 77%|#######7  | 773/1000 [00:01&lt;00:00, 545.92it/s]\n\n 83%|########2 | 828/1000 [00:01&lt;00:00, 497.73it/s]\n\n 89%|########8 | 889/1000 [00:01&lt;00:00, 527.39it/s]\n\n 95%|#########5| 951/1000 [00:01&lt;00:00, 551.08it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 513.16it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|5         | 51/1000 [00:00&lt;00:01, 507.45it/s]\n\n 12%|#1        | 116/1000 [00:00&lt;00:01, 588.36it/s]\n\n 18%|#8        | 181/1000 [00:00&lt;00:01, 610.54it/s]\n\n 24%|##4       | 243/1000 [00:00&lt;00:01, 551.28it/s]\n\n 30%|###       | 300/1000 [00:00&lt;00:01, 552.46it/s]\n\n 36%|###5      | 356/1000 [00:00&lt;00:01, 536.83it/s]\n\n 41%|####1     | 411/1000 [00:00&lt;00:01, 505.73it/s]\n\n 47%|####6     | 469/1000 [00:00&lt;00:01, 526.06it/s]\n\n 53%|#####2    | 529/1000 [00:00&lt;00:00, 545.61it/s]\n\n 58%|#####8    | 585/1000 [00:01&lt;00:00, 502.07it/s]\n\n 64%|######4   | 640/1000 [00:01&lt;00:00, 513.97it/s]\n\n 69%|######9   | 693/1000 [00:01&lt;00:00, 511.43it/s]\n\n 76%|#######5  | 755/1000 [00:01&lt;00:00, 541.06it/s]\n\n 81%|########1 | 814/1000 [00:01&lt;00:00, 554.30it/s]\n\n 87%|########7 | 870/1000 [00:01&lt;00:00, 532.48it/s]\n\n 92%|#########2| 924/1000 [00:01&lt;00:00, 520.60it/s]\n\n 98%|#########7| 977/1000 [00:01&lt;00:00, 518.46it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 528.65it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 43/1000 [00:00&lt;00:02, 428.48it/s]\n\n  9%|8         | 86/1000 [00:00&lt;00:02, 424.51it/s]\n\n 14%|#3        | 139/1000 [00:00&lt;00:01, 470.96it/s]\n\n 19%|#8        | 187/1000 [00:00&lt;00:01, 418.90it/s]\n\n 25%|##5       | 252/1000 [00:00&lt;00:01, 493.69it/s]\n\n 31%|###       | 308/1000 [00:00&lt;00:01, 514.66it/s]\n\n 37%|###6      | 368/1000 [00:00&lt;00:01, 539.08it/s]\n\n 44%|####3     | 438/1000 [00:00&lt;00:00, 586.95it/s]\n\n 50%|#####     | 500/1000 [00:00&lt;00:00, 594.95it/s]\n\n 57%|#####7    | 572/1000 [00:01&lt;00:00, 631.91it/s]\n\n 64%|######3   | 636/1000 [00:01&lt;00:00, 583.67it/s]\n\n 70%|######9   | 696/1000 [00:01&lt;00:00, 531.64it/s]\n\n 76%|#######5  | 757/1000 [00:01&lt;00:00, 550.19it/s]\n\n 81%|########1 | 814/1000 [00:01&lt;00:00, 546.19it/s]\n\n 87%|########7 | 870/1000 [00:01&lt;00:00, 505.56it/s]\n\n 92%|#########2| 922/1000 [00:01&lt;00:00, 508.36it/s]\n\n 98%|#########8| 981/1000 [00:01&lt;00:00, 530.04it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 528.77it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|5         | 59/1000 [00:00&lt;00:01, 589.74it/s]\n\n 12%|#1        | 119/1000 [00:00&lt;00:01, 592.08it/s]\n\n 18%|#7        | 179/1000 [00:00&lt;00:02, 299.16it/s]\n\n 22%|##2       | 220/1000 [00:00&lt;00:02, 306.83it/s]\n\n 26%|##5       | 258/1000 [00:00&lt;00:02, 312.04it/s]\n\n 29%|##9       | 294/1000 [00:00&lt;00:02, 310.83it/s]\n\n 33%|###2      | 329/1000 [00:00&lt;00:02, 310.84it/s]\n\n 37%|###7      | 372/1000 [00:01&lt;00:01, 341.06it/s]\n\n 43%|####3     | 433/1000 [00:01&lt;00:01, 413.92it/s]\n\n 50%|#####     | 501/1000 [00:01&lt;00:01, 487.05it/s]\n\n 56%|#####6    | 560/1000 [00:01&lt;00:00, 515.81it/s]\n\n 62%|######1   | 618/1000 [00:01&lt;00:00, 533.76it/s]\n\n 67%|######7   | 673/1000 [00:01&lt;00:00, 506.75it/s]\n\n 75%|#######4  | 749/1000 [00:01&lt;00:00, 577.44it/s]\n\n 81%|########1 | 812/1000 [00:01&lt;00:00, 591.94it/s]\n\n 87%|########7 | 873/1000 [00:01&lt;00:00, 574.20it/s]\n\n 94%|#########3| 940/1000 [00:02&lt;00:00, 599.05it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 469.22it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|5         | 51/1000 [00:00&lt;00:01, 501.30it/s]\n\n 11%|#1        | 111/1000 [00:00&lt;00:01, 556.65it/s]\n\n 17%|#6        | 167/1000 [00:00&lt;00:01, 536.53it/s]\n\n 22%|##2       | 222/1000 [00:00&lt;00:01, 539.92it/s]\n\n 29%|##8       | 288/1000 [00:00&lt;00:01, 579.77it/s]\n\n 35%|###4      | 347/1000 [00:00&lt;00:01, 524.22it/s]\n\n 41%|####      | 407/1000 [00:00&lt;00:01, 546.58it/s]\n\n 46%|####6     | 463/1000 [00:00&lt;00:00, 546.47it/s]\n\n 52%|#####1    | 519/1000 [00:00&lt;00:00, 523.41it/s]\n\n 57%|#####7    | 572/1000 [00:01&lt;00:00, 509.79it/s]\n\n 62%|######2   | 625/1000 [00:01&lt;00:00, 511.91it/s]\n\n 68%|######7   | 677/1000 [00:01&lt;00:00, 468.85it/s]\n\n 74%|#######4  | 744/1000 [00:01&lt;00:00, 523.74it/s]\n\n 80%|########  | 802/1000 [00:01&lt;00:00, 538.94it/s]\n\n 88%|########7 | 875/1000 [00:01&lt;00:00, 591.78it/s]\n\n 94%|#########4| 941/1000 [00:01&lt;00:00, 610.97it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 553.68it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 45/1000 [00:00&lt;00:02, 442.42it/s]\n\n 11%|#         | 107/1000 [00:00&lt;00:01, 543.18it/s]\n\n 17%|#6        | 166/1000 [00:00&lt;00:01, 556.84it/s]\n\n 22%|##2       | 222/1000 [00:00&lt;00:01, 545.45it/s]\n\n 28%|##8       | 282/1000 [00:00&lt;00:01, 564.34it/s]\n\n 35%|###4      | 349/1000 [00:00&lt;00:01, 595.95it/s]\n\n 41%|####1     | 410/1000 [00:00&lt;00:00, 598.26it/s]\n\n 48%|####7     | 478/1000 [00:00&lt;00:00, 622.05it/s]\n\n 54%|#####4    | 541/1000 [00:00&lt;00:00, 619.00it/s]\n\n 60%|######    | 603/1000 [00:01&lt;00:00, 561.24it/s]\n\n 66%|######6   | 662/1000 [00:01&lt;00:00, 568.25it/s]\n\n 72%|#######2  | 720/1000 [00:01&lt;00:00, 543.63it/s]\n\n 78%|#######7  | 776/1000 [00:01&lt;00:00, 533.60it/s]\n\n 83%|########2 | 830/1000 [00:01&lt;00:00, 531.86it/s]\n\n 89%|########9 | 892/1000 [00:01&lt;00:00, 556.44it/s]\n\n 95%|#########4| 948/1000 [00:01&lt;00:00, 551.74it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 554.46it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|5         | 59/1000 [00:00&lt;00:01, 584.25it/s]\n\n 12%|#1        | 118/1000 [00:00&lt;00:01, 579.52it/s]\n\n 18%|#7        | 176/1000 [00:00&lt;00:01, 553.58it/s]\n\n 24%|##3       | 237/1000 [00:00&lt;00:01, 570.77it/s]\n\n 30%|###       | 302/1000 [00:00&lt;00:01, 597.02it/s]\n\n 36%|###6      | 362/1000 [00:00&lt;00:01, 579.75it/s]\n\n 42%|####2     | 421/1000 [00:00&lt;00:01, 574.92it/s]\n\n 48%|####7     | 479/1000 [00:00&lt;00:00, 541.04it/s]\n\n 53%|#####3    | 534/1000 [00:00&lt;00:00, 540.31it/s]\n\n 59%|#####9    | 591/1000 [00:01&lt;00:00, 547.47it/s]\n\n 65%|######5   | 651/1000 [00:01&lt;00:00, 559.53it/s]\n\n 71%|#######1  | 711/1000 [00:01&lt;00:00, 567.09it/s]\n\n 77%|#######7  | 774/1000 [00:01&lt;00:00, 584.46it/s]\n\n 83%|########3 | 833/1000 [00:01&lt;00:00, 552.18it/s]\n\n 90%|########9 | 895/1000 [00:01&lt;00:00, 570.45it/s]\n\n 95%|#########5| 953/1000 [00:01&lt;00:00, 563.90it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 564.65it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 64/1000 [00:00&lt;00:01, 638.90it/s]\n\n 13%|#2        | 128/1000 [00:00&lt;00:01, 535.41it/s]\n\n 19%|#9        | 192/1000 [00:00&lt;00:01, 578.40it/s]\n\n 26%|##6       | 260/1000 [00:00&lt;00:01, 615.30it/s]\n\n 32%|###2      | 323/1000 [00:00&lt;00:01, 583.69it/s]\n\n 39%|###8      | 386/1000 [00:00&lt;00:01, 596.29it/s]\n\n 45%|####4     | 447/1000 [00:00&lt;00:00, 579.03it/s]\n\n 51%|#####     | 506/1000 [00:00&lt;00:00, 559.97it/s]\n\n 56%|#####6    | 563/1000 [00:00&lt;00:00, 541.62it/s]\n\n 62%|######2   | 624/1000 [00:01&lt;00:00, 559.74it/s]\n\n 68%|######8   | 681/1000 [00:01&lt;00:00, 552.42it/s]\n\n 74%|#######3  | 737/1000 [00:01&lt;00:00, 543.05it/s]\n\n 80%|########  | 805/1000 [00:01&lt;00:00, 581.92it/s]\n\n 86%|########6 | 864/1000 [00:01&lt;00:00, 533.54it/s]\n\n 92%|#########2| 922/1000 [00:01&lt;00:00, 545.67it/s]\n\n 98%|#########7| 978/1000 [00:01&lt;00:00, 537.38it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 560.08it/s]\n WARNING - 15:38:39: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n WARNING - 15:38:40: A minimum of posterior samples of samples is recommended to ensure convergence.\n WARNING - 15:38:40: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 42/1000 [00:00&lt;00:02, 416.44it/s]\n\n 10%|9         | 98/1000 [00:00&lt;00:01, 498.99it/s]\n\n 17%|#6        | 168/1000 [00:00&lt;00:01, 586.79it/s]\n\n 23%|##2       | 227/1000 [00:00&lt;00:01, 557.16it/s]\n\n 30%|###       | 305/1000 [00:00&lt;00:01, 632.36it/s]\n\n 37%|###7      | 370/1000 [00:00&lt;00:00, 636.77it/s]\n\n 43%|####3     | 434/1000 [00:00&lt;00:00, 628.45it/s]\n\n 50%|####9     | 498/1000 [00:00&lt;00:00, 596.83it/s]\n\n 56%|#####6    | 564/1000 [00:00&lt;00:00, 614.27it/s]\n\n 63%|######2   | 626/1000 [00:01&lt;00:00, 576.62it/s]\n\n 68%|######8   | 685/1000 [00:01&lt;00:00, 543.56it/s]\n\n 75%|#######4  | 746/1000 [00:01&lt;00:00, 561.66it/s]\n\n 81%|########1 | 814/1000 [00:01&lt;00:00, 593.69it/s]\n\n 88%|########7 | 875/1000 [00:01&lt;00:00, 596.93it/s]\n\n 94%|#########3| 936/1000 [00:01&lt;00:00, 557.92it/s]\n\n 99%|#########9| 993/1000 [00:01&lt;00:00, 530.56it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 571.50it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 45/1000 [00:00&lt;00:02, 439.26it/s]\n\n 10%|#         | 104/1000 [00:00&lt;00:01, 525.77it/s]\n\n 16%|#6        | 163/1000 [00:00&lt;00:01, 554.58it/s]\n\n 22%|##1       | 219/1000 [00:00&lt;00:01, 532.24it/s]\n\n 28%|##8       | 280/1000 [00:00&lt;00:01, 557.10it/s]\n\n 34%|###4      | 342/1000 [00:00&lt;00:01, 577.12it/s]\n\n 40%|####      | 400/1000 [00:00&lt;00:01, 564.09it/s]\n\n 46%|####5     | 457/1000 [00:00&lt;00:01, 542.18it/s]\n\n 52%|#####2    | 520/1000 [00:00&lt;00:00, 567.08it/s]\n\n 58%|#####7    | 577/1000 [00:01&lt;00:00, 556.14it/s]\n\n 63%|######3   | 633/1000 [00:01&lt;00:00, 489.92it/s]\n\n 69%|######9   | 693/1000 [00:01&lt;00:00, 518.29it/s]\n\n 75%|#######5  | 750/1000 [00:01&lt;00:00, 529.53it/s]\n\n 80%|########  | 804/1000 [00:01&lt;00:00, 519.61it/s]\n\n 87%|########7 | 870/1000 [00:01&lt;00:00, 559.05it/s]\n\n 93%|#########2| 927/1000 [00:01&lt;00:00, 515.94it/s]\n\n 98%|#########8| 980/1000 [00:01&lt;00:00, 503.90it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 533.66it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 42/1000 [00:00&lt;00:02, 412.01it/s]\n\n  9%|8         | 89/1000 [00:00&lt;00:02, 439.42it/s]\n\n 15%|#4        | 146/1000 [00:00&lt;00:01, 497.81it/s]\n\n 20%|##        | 203/1000 [00:00&lt;00:01, 525.12it/s]\n\n 26%|##6       | 261/1000 [00:00&lt;00:01, 543.56it/s]\n\n 32%|###2      | 325/1000 [00:00&lt;00:01, 576.04it/s]\n\n 39%|###8      | 389/1000 [00:00&lt;00:01, 595.85it/s]\n\n 45%|####4     | 449/1000 [00:00&lt;00:00, 579.92it/s]\n\n 51%|#####     | 508/1000 [00:00&lt;00:00, 576.16it/s]\n\n 57%|#####6    | 570/1000 [00:01&lt;00:00, 588.19it/s]\n\n 63%|######2   | 629/1000 [00:01&lt;00:00, 508.62it/s]\n\n 68%|######8   | 682/1000 [00:01&lt;00:00, 483.96it/s]\n\n 74%|#######4  | 740/1000 [00:01&lt;00:00, 509.10it/s]\n\n 80%|########  | 802/1000 [00:01&lt;00:00, 538.81it/s]\n\n 86%|########5 | 858/1000 [00:01&lt;00:00, 541.31it/s]\n\n 91%|#########1| 913/1000 [00:01&lt;00:00, 543.56it/s]\n\n 98%|#########7| 977/1000 [00:01&lt;00:00, 571.13it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 540.55it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 61/1000 [00:00&lt;00:01, 609.97it/s]\n\n 12%|#2        | 122/1000 [00:00&lt;00:01, 459.57it/s]\n\n 17%|#7        | 173/1000 [00:00&lt;00:01, 476.94it/s]\n\n 22%|##2       | 224/1000 [00:00&lt;00:01, 484.74it/s]\n\n 28%|##8       | 280/1000 [00:00&lt;00:01, 509.62it/s]\n\n 33%|###3      | 332/1000 [00:00&lt;00:01, 503.46it/s]\n\n 40%|###9      | 399/1000 [00:00&lt;00:01, 555.25it/s]\n\n 46%|####5     | 457/1000 [00:00&lt;00:00, 561.33it/s]\n\n 52%|#####2    | 525/1000 [00:00&lt;00:00, 597.34it/s]\n\n 59%|#####8    | 586/1000 [00:01&lt;00:00, 591.59it/s]\n\n 65%|######4   | 646/1000 [00:01&lt;00:00, 585.26it/s]\n\n 70%|#######   | 705/1000 [00:01&lt;00:00, 545.37it/s]\n\n 76%|#######6  | 761/1000 [00:01&lt;00:00, 538.09it/s]\n\n 82%|########1 | 816/1000 [00:01&lt;00:00, 506.69it/s]\n\n 87%|########6 | 869/1000 [00:01&lt;00:00, 509.68it/s]\n\n 93%|#########3| 930/1000 [00:01&lt;00:00, 537.01it/s]\n\n 99%|#########9| 993/1000 [00:01&lt;00:00, 559.92it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 537.68it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|5         | 53/1000 [00:00&lt;00:01, 524.31it/s]\n\n 11%|#1        | 114/1000 [00:00&lt;00:01, 568.18it/s]\n\n 17%|#7        | 171/1000 [00:00&lt;00:01, 537.50it/s]\n\n 23%|##2       | 227/1000 [00:00&lt;00:01, 544.96it/s]\n\n 28%|##8       | 282/1000 [00:00&lt;00:01, 526.69it/s]\n\n 34%|###4      | 343/1000 [00:00&lt;00:01, 551.52it/s]\n\n 40%|####      | 400/1000 [00:00&lt;00:01, 556.64it/s]\n\n 47%|####6     | 468/1000 [00:00&lt;00:00, 593.82it/s]\n\n 53%|#####2    | 528/1000 [00:00&lt;00:00, 580.22it/s]\n\n 59%|#####8    | 587/1000 [00:01&lt;00:00, 573.18it/s]\n\n 64%|######4   | 645/1000 [00:01&lt;00:00, 532.76it/s]\n\n 70%|######9   | 699/1000 [00:01&lt;00:00, 483.02it/s]\n\n 75%|#######4  | 749/1000 [00:01&lt;00:00, 470.19it/s]\n\n 80%|########  | 801/1000 [00:01&lt;00:00, 482.57it/s]\n\n 85%|########5 | 852/1000 [00:01&lt;00:00, 489.13it/s]\n\n 90%|######### | 904/1000 [00:01&lt;00:00, 496.98it/s]\n\n 97%|#########6| 966/1000 [00:01&lt;00:00, 531.42it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 526.17it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|4         | 49/1000 [00:00&lt;00:01, 477.76it/s]\n\n 11%|#         | 109/1000 [00:00&lt;00:01, 547.50it/s]\n\n 17%|#7        | 170/1000 [00:00&lt;00:01, 573.54it/s]\n\n 23%|##2       | 228/1000 [00:00&lt;00:01, 532.59it/s]\n\n 29%|##8       | 287/1000 [00:00&lt;00:01, 552.04it/s]\n\n 34%|###4      | 343/1000 [00:00&lt;00:01, 517.64it/s]\n\n 40%|####      | 403/1000 [00:00&lt;00:01, 542.47it/s]\n\n 47%|####6     | 469/1000 [00:00&lt;00:00, 575.86it/s]\n\n 53%|#####2    | 528/1000 [00:00&lt;00:00, 570.21it/s]\n\n 59%|#####8    | 590/1000 [00:01&lt;00:00, 583.73it/s]\n\n 65%|######4   | 649/1000 [00:01&lt;00:00, 580.99it/s]\n\n 71%|#######1  | 713/1000 [00:01&lt;00:00, 598.01it/s]\n\n 77%|#######7  | 773/1000 [00:01&lt;00:00, 596.55it/s]\n\n 83%|########3 | 833/1000 [00:01&lt;00:00, 584.10it/s]\n\n 90%|########9 | 895/1000 [00:01&lt;00:00, 593.28it/s]\n\n 96%|#########5| 956/1000 [00:01&lt;00:00, 594.59it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 576.24it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 41/1000 [00:00&lt;00:02, 408.91it/s]\n\n  9%|9         | 94/1000 [00:00&lt;00:01, 477.21it/s]\n\n 16%|#5        | 155/1000 [00:00&lt;00:01, 535.00it/s]\n\n 22%|##1       | 215/1000 [00:00&lt;00:01, 559.19it/s]\n\n 27%|##7       | 273/1000 [00:00&lt;00:01, 566.43it/s]\n\n 33%|###3      | 330/1000 [00:00&lt;00:01, 558.69it/s]\n\n 39%|###8      | 386/1000 [00:00&lt;00:01, 553.76it/s]\n\n 44%|####4     | 445/1000 [00:00&lt;00:00, 564.16it/s]\n\n 50%|#####     | 502/1000 [00:00&lt;00:00, 565.14it/s]\n\n 56%|#####5    | 559/1000 [00:01&lt;00:00, 540.88it/s]\n\n 62%|######2   | 624/1000 [00:01&lt;00:00, 571.76it/s]\n\n 69%|######8   | 687/1000 [00:01&lt;00:00, 587.99it/s]\n\n 75%|#######4  | 747/1000 [00:01&lt;00:00, 553.66it/s]\n\n 80%|########  | 803/1000 [00:01&lt;00:00, 548.03it/s]\n\n 86%|########5 | 859/1000 [00:01&lt;00:00, 521.95it/s]\n\n 92%|#########2| 923/1000 [00:01&lt;00:00, 552.23it/s]\n\n100%|#########9| 996/1000 [00:01&lt;00:00, 601.29it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 560.39it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  6%|6         | 63/1000 [00:00&lt;00:01, 624.64it/s]\n\n 14%|#3        | 138/1000 [00:00&lt;00:01, 693.64it/s]\n\n 21%|##        | 208/1000 [00:00&lt;00:01, 657.65it/s]\n\n 27%|##7       | 274/1000 [00:00&lt;00:01, 553.12it/s]\n\n 34%|###3      | 336/1000 [00:00&lt;00:01, 573.12it/s]\n\n 40%|###9      | 395/1000 [00:00&lt;00:01, 558.82it/s]\n\n 45%|####5     | 452/1000 [00:00&lt;00:01, 540.83it/s]\n\n 51%|#####     | 509/1000 [00:00&lt;00:00, 549.18it/s]\n\n 57%|#####6    | 569/1000 [00:00&lt;00:00, 562.46it/s]\n\n 63%|######2   | 626/1000 [00:01&lt;00:00, 543.72it/s]\n\n 68%|######8   | 681/1000 [00:01&lt;00:00, 483.72it/s]\n\n 74%|#######3  | 735/1000 [00:01&lt;00:00, 494.87it/s]\n\n 79%|#######9  | 791/1000 [00:01&lt;00:00, 511.28it/s]\n\n 84%|########4 | 843/1000 [00:01&lt;00:00, 509.32it/s]\n\n 91%|#########1| 910/1000 [00:01&lt;00:00, 553.51it/s]\n\n 97%|#########6| 968/1000 [00:01&lt;00:00, 559.25it/s]\n100%|##########| 1000/1000 [00:01&lt;00:00, 553.45it/s]\n WARNING - 15:38:55: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\nBayesAnalysisResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-07', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'likelihood_dist': 'LogNormal', 'prior_dist': &lt;openturns.model_copula.ComposedDistribution; proxy of &lt;Swig Object of type 'OT::ComposedDistribution *' at 0x7d52079510b0&gt; &gt;, 'frozen_variables': {}}, report={}, model=None), raw_samples=array([[[9.49861761e+00, 2.50477400e+00, 1.38767940e+05],\n        [9.50212447e+00, 2.50547371e+00, 1.38769001e+05],\n        [9.49902546e+00, 2.50524424e+00, 1.38767471e+05],\n        ...,\n        [9.50069846e+00, 2.50468672e+00, 1.38768213e+05],\n        [9.49981985e+00, 2.50482842e+00, 1.38768414e+05],\n        [9.49796166e+00, 2.50615203e+00, 1.38772742e+05]],\n\n       [[9.49826981e+00, 2.50437301e+00, 1.38768339e+05],\n        [9.50212447e+00, 2.50547371e+00, 1.38769001e+05],\n        [9.49897420e+00, 2.50598418e+00, 1.38763887e+05],\n        ...,\n        [9.50026811e+00, 2.50473933e+00, 1.38768419e+05],\n        [9.49981985e+00, 2.50482842e+00, 1.38768414e+05],\n        [9.49797721e+00, 2.50660874e+00, 1.38773848e+05]],\n\n       [[9.49309654e+00, 2.50342389e+00, 1.38763874e+05],\n        [9.50227965e+00, 2.50482987e+00, 1.38772601e+05],\n        [9.49881829e+00, 2.50619727e+00, 1.38763052e+05],\n        ...,\n        [9.50022861e+00, 2.50471322e+00, 1.38768919e+05],\n        [9.49986707e+00, 2.50482790e+00, 1.38768266e+05],\n        [9.49797721e+00, 2.50660874e+00, 1.38773848e+05]],\n\n       ...,\n\n       [[1.03252563e+01, 3.61029671e+00, 1.47374700e+05],\n        [9.71154836e+00, 7.56948674e-01, 1.41141103e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [9.14748643e+00, 1.31622264e+00, 1.45384956e+05]],\n\n       [[1.03252563e+01, 3.61029671e+00, 1.47374700e+05],\n        [9.45794546e+00, 7.38859766e-01, 1.42186481e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [9.14748643e+00, 1.31622264e+00, 1.45384956e+05]],\n\n       [[1.05755349e+01, 3.65788381e+00, 1.47385479e+05],\n        [9.45319957e+00, 7.38865358e-01, 1.42216874e+05],\n        [9.53245702e+00, 4.51606742e+00, 1.47532336e+05],\n        ...,\n        [8.33486111e+00, 1.10457614e+00, 1.47189269e+05],\n        [8.78618317e+00, 7.98811450e-01, 1.45345562e+05],\n        [8.68100172e+00, 1.29053718e+00, 1.46412044e+05]]]), thin_number=30, ndim=3, processed_samples=array([[8.11986433e+00, 4.00060900e+00, 1.44288343e+05],\n       [9.66461938e+00, 4.46855270e-01, 1.33086803e+05],\n       [1.08685984e+01, 3.18219737e+00, 1.47116603e+05],\n       [8.40515225e+00, 3.75182599e+00, 1.46181213e+05],\n       [9.51525557e+00, 2.81743991e-01, 1.33657727e+05],\n       [9.37302078e+00, 7.56528665e-01, 1.35233105e+05],\n       [7.70137568e+00, 4.22750188e+00, 1.42003768e+05],\n       [1.04386515e+01, 3.93749175e+00, 1.46263710e+05],\n       [9.77259457e+00, 4.65623294e-01, 1.33402778e+05],\n       [7.84466459e+00, 4.46179585e+00, 1.43311732e+05],\n       [8.55384131e+00, 1.62501599e+00, 1.35401661e+05],\n       [9.50131857e+00, 7.88834889e-01, 1.38079851e+05],\n       [8.25511430e+00, 2.12044509e+00, 1.41139913e+05],\n       [9.63718743e+00, 6.80017683e-01, 1.40881470e+05],\n       [9.16103016e+00, 5.02386549e-01, 1.44861657e+05],\n       [9.95525633e+00, 8.78398072e-01, 1.33956721e+05],\n       [9.74819497e+00, 4.39191264e+00, 1.43876188e+05],\n       [1.01293296e+01, 1.57805968e+00, 1.37369215e+05],\n       [9.63014734e+00, 2.21127595e+00, 1.45977247e+05],\n       [7.84438134e+00, 2.08478874e+00, 1.42141484e+05],\n       [9.85358016e+00, 2.72237357e-01, 1.34461381e+05],\n       [9.78353008e+00, 1.15805944e+00, 1.45615863e+05],\n       [1.01762731e+01, 2.79628158e+00, 1.47287495e+05],\n       [9.82972990e+00, 8.46351766e-01, 1.35556723e+05],\n       [1.01941908e+01, 1.59122429e+00, 1.41955177e+05],\n       [9.55266202e+00, 1.98059437e+00, 1.41281542e+05],\n       [9.81194190e+00, 3.81922614e-01, 1.32133460e+05],\n       [9.06221297e+00, 7.54563757e-01, 1.42884152e+05],\n       [8.15330592e+00, 1.76918688e+00, 1.46833381e+05],\n       [1.16584017e+01, 3.31416139e+00, 1.47444569e+05]]), posterior_predictive=class=DeconditionedDistribution name=DeconditionedDistribution dimension=1 conditioned distribution=class=LogNormal name=LogNormal dimension=1 muLog=8.681 sigmaLog=1.29054 gamma=146412 conditioning distribution=class=UserDefined name=UserDefined dimension=3 points=class=Sample name=Unnamed implementation=class=SampleImplementation name=Unnamed size=30 dimension=3 data=[[7.70138,4.2275,142004],[7.84438,2.08479,142141],[7.84466,4.4618,143312],[8.11986,4.00061,144288],[8.15331,1.76919,146833],[8.25511,2.12045,141140],[8.40515,3.75183,146181],[8.55384,1.62502,135402],[9.06221,0.754564,142884],[9.16103,0.502387,144862],[9.37302,0.756529,135233],[9.50132,0.788835,138080],[9.51526,0.281744,133658],[9.55266,1.98059,141282],[9.63015,2.21128,145977],[9.63719,0.680018,140881],[9.66462,0.446855,133087],[9.74819,4.39191,143876],[9.77259,0.465623,133403],[9.78353,1.15806,145616],[9.81194,0.381923,132133],[9.82973,0.846352,135557],[9.85358,0.272237,134461],[9.95526,0.878398,133957],[10.1293,1.57806,137369],[10.1763,2.79628,147287],[10.1942,1.59122,141955],[10.4387,3.93749,146264],[10.8686,3.1822,147117],[11.6584,3.31416,147445]] probabilities=class=Point name=Unnamed dimension=30 values=[0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333] link function=class=Function name=Unnamed implementation=class=FunctionImplementation name=Unnamed description=[p0,p1,p2,y0,y1,y2] evaluationImplementation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2] gradientImplementation=class=SymbolicGradient name=Unnamed evaluation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2] hessianImplementation=class=SymbolicHessian name=Unnamed evaluation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2], lppd=163.66669600140796, ml=171.17029918608625)\n</code></pre> <p>we generate the plots for the Normal model,</p> <pre><code>figs_n = analysis_n.plot_results()\n# the Weibull Min model\nfigs_w = analysis_w.plot_results()\n# and the Log Normal model\nfigs_l = analysis_l.plot_results()\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n</code></pre> <p>The first conclusion that can be drawn from the plots of the posterior samples for each model is that that priors were elicited.</p>"},{"location":"generated/runnable_examples/12_bayesian_calibration/plot_12_bayesian_calibration/#3-validating-models","title":"3) Validating models","text":"<p>We aim now to validate models. From the earlier posterior predictive plots, we can perform qualitative analyses. The posterior predictive distributions refer to predictions for all models averaged over all posterior samples. Though the predictions from all models are rather coherent with respect to the data, those from the Normal model are not as relevant as for the others. In particular, they are symmetric contrary to the data. It is harder to discriminate between the two other models using only visual plots.</p> <pre><code># To continue the analyses,\n# we study several numerical indicators,\n# lppds and marginal likelihoods.\n# We instanciate a class PosteriorChecks\n# to analyze and summarize the results,\ncheck_n = PosteriorChecks(analysis_n.result)\ncheck_l = PosteriorChecks(analysis_l.result)\ncheck_w = PosteriorChecks(analysis_w.result)\n</code></pre> <p>Aside from posterior predictive plots that are qualitative assessments, we can focus on quantitative metrics that will account in particular for the fact that the Weibull and Lognormal models have higher number of parameters.</p> <pre><code>print(check_n)\nprint(check_w)\nprint(check_l)\n</code></pre> <p>Out:</p> <pre><code>Bayesian verification indices for Normal model.\n+--------------------+--------------------+\n|        lppd        |         ml         |\n+--------------------+--------------------+\n| 166.65906243176482 | 166.58195411481304 |\n+--------------------+--------------------+\nBayesian verification indices for WeibullMin model.\n+-------------------+--------------------+\n|        lppd       |         ml         |\n+-------------------+--------------------+\n| 165.7418873160612 | 168.17278385649885 |\n+-------------------+--------------------+\nBayesian verification indices for LogNormal model.\n+--------------------+--------------------+\n|        lppd        |         ml         |\n+--------------------+--------------------+\n| 163.66669600140796 | 171.17029918608625 |\n+--------------------+--------------------+\n</code></pre> <p>Consistently with earlier observations, the Weibull model seems to have the best predictive accuracy according to the lppd. The marginal likelihoods are harder to compare because the priors for the Weibull and Lognormal models have much wider support, penalizing thus heavily these models. It is interesting to notice that the ml for the Lognormal model in spite of a much wider support, has a better predictive accuracy sufficiently larger to compensate the difference from the priors.</p> <p>4). The Weibull model and the Lognormal have 3 parameters instead of 2 for the Normal with the default parametrization of OpenTURNS distribution. We try to calibrate these two models by freezing some parameters, (the location parameter) which is carried out by indicating the frozen parameters and their associated values. ==================================</p> <pre><code>prior_weibull_b = ComposedDistribution([Uniform(50_000, 200_000), Uniform(1, 100)])\ndict_frozen = {\"frozen_index\": [2], \"frozen_values\": [0]}\n</code></pre> <p>We can now sample as earlier the posterior distribution of the parameters of the new models.</p> <pre><code>analysis_w_b = BayesTool(working_directory=\"weibullmin_2_frozen\")\nanalysis_w_b.execute(\n    likelihood_dist=Models.WEIBULL_MIN,\n    prior_dist=prior_weibull_b,\n    data=data_modulus,\n    n_mcmc=N_MCMC,\n    frozen_variables=dict_frozen,\n)\nanalysis_w_b.save_results()\n\nprior_lognormal_b = ComposedDistribution([Uniform(2, 20), Uniform(0.005, 0.5)])\nanalysis_l_b = BayesTool(working_directory=\"lognormal_2_frozen\")\nanalysis_l_b.execute(\n    likelihood_dist=Models.LOG_NORMAL,\n    prior_dist=prior_lognormal_b,\n    data=data_modulus,\n    n_mcmc=N_MCMC,\n    frozen_variables=dict_frozen,\n)\nanalysis_l_b.save_results()\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning:\n\n&lt;module 'openturns.dist' from '/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/openturns/dist.py'&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n\n/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/pydantic/_internal/_generate_schema.py:547: UserWarning:\n\n&lt;built-in function array&gt; is not a Python type (it may be an instance of an object), Pydantic will allow any object with no validation since we cannot even enforce that the input is an instance of the given type. To get rid of this error wrap the type with `pydantic.SkipValidation`.\n\n    INFO - 15:38:57: Working directory is weibullmin_2_frozen\n\n\n  0%|          | 0/100 [00:00&lt;?, ?it/s]\n\n 50%|#####     | 50/100 [00:00&lt;00:00, 496.29it/s]\n\n100%|##########| 100/100 [00:00&lt;00:00, 462.46it/s]\n100%|##########| 100/100 [00:00&lt;00:00, 466.91it/s]\n    INFO - 15:38:57: Working directory is lognormal_2_frozen\n\n\n  0%|          | 0/100 [00:00&lt;?, ?it/s]\n\n 41%|####1     | 41/100 [00:00&lt;00:00, 409.31it/s]\n\n 88%|########8 | 88/100 [00:00&lt;00:00, 441.54it/s]\n100%|##########| 100/100 [00:00&lt;00:00, 433.23it/s]\n</code></pre> <p>Then, we determine the burnin for each MCMC sampling:</p> <pre><code>analysis_w_b.plot_burnin(analysis_w_b.result, save=True, show=True)\nanalysis_l_b.plot_burnin(analysis_l_b.result, save=True, show=True)\n\n# Finally,\n# as earlier,\n# we launch several\n# post-processing analyses:\nanalysis_w_b.post(50)\n# And the Log Normal model:\nanalysis_l_b.post(50)\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n\n WARNING - 15:38:58: A minimum of posterior samples of samples is recommended to ensure convergence.\n WARNING - 15:38:58: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|3         | 38/1000 [00:00&lt;00:02, 379.79it/s]\n\n  8%|8         | 80/1000 [00:00&lt;00:02, 403.32it/s]\n\n 13%|#2        | 126/1000 [00:00&lt;00:02, 428.32it/s]\n\n 18%|#7        | 179/1000 [00:00&lt;00:01, 465.66it/s]\n\n 23%|##2       | 226/1000 [00:00&lt;00:01, 430.79it/s]\n\n 27%|##7       | 270/1000 [00:00&lt;00:01, 408.08it/s]\n\n 32%|###1      | 315/1000 [00:00&lt;00:01, 418.16it/s]\n\n 36%|###5      | 358/1000 [00:00&lt;00:01, 392.82it/s]\n\n 40%|###9      | 398/1000 [00:00&lt;00:01, 384.88it/s]\n\n 44%|####3     | 437/1000 [00:01&lt;00:01, 350.40it/s]\n\n 47%|####7     | 473/1000 [00:01&lt;00:01, 350.41it/s]\n\n 51%|#####1    | 512/1000 [00:01&lt;00:01, 358.51it/s]\n\n 56%|#####5    | 555/1000 [00:01&lt;00:01, 378.09it/s]\n\n 60%|#####9    | 599/1000 [00:01&lt;00:01, 395.54it/s]\n\n 65%|######4   | 646/1000 [00:01&lt;00:00, 415.28it/s]\n\n 70%|######9   | 697/1000 [00:01&lt;00:00, 441.14it/s]\n\n 74%|#######4  | 744/1000 [00:01&lt;00:00, 449.19it/s]\n\n 79%|#######9  | 790/1000 [00:01&lt;00:00, 446.09it/s]\n\n 84%|########3 | 839/1000 [00:02&lt;00:00, 455.45it/s]\n\n 88%|########8 | 885/1000 [00:02&lt;00:00, 406.23it/s]\n\n 93%|#########3| 931/1000 [00:02&lt;00:00, 419.07it/s]\n\n 97%|#########7| 974/1000 [00:02&lt;00:00, 381.79it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 399.51it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  3%|3         | 34/1000 [00:00&lt;00:02, 339.91it/s]\n\n  7%|6         | 68/1000 [00:00&lt;00:02, 334.91it/s]\n\n 11%|#1        | 111/1000 [00:00&lt;00:02, 375.34it/s]\n\n 15%|#4        | 149/1000 [00:00&lt;00:02, 370.54it/s]\n\n 19%|#8        | 187/1000 [00:00&lt;00:02, 370.77it/s]\n\n 22%|##2       | 225/1000 [00:00&lt;00:02, 367.77it/s]\n\n 26%|##6       | 265/1000 [00:00&lt;00:01, 375.35it/s]\n\n 30%|###       | 305/1000 [00:00&lt;00:01, 379.49it/s]\n\n 35%|###4      | 349/1000 [00:00&lt;00:01, 395.03it/s]\n\n 39%|###9      | 390/1000 [00:01&lt;00:01, 397.34it/s]\n\n 43%|####3     | 431/1000 [00:01&lt;00:01, 399.59it/s]\n\n 47%|####7     | 473/1000 [00:01&lt;00:01, 404.70it/s]\n\n 51%|#####1    | 514/1000 [00:01&lt;00:01, 403.30it/s]\n\n 56%|#####5    | 555/1000 [00:01&lt;00:01, 380.85it/s]\n\n 59%|#####9    | 594/1000 [00:01&lt;00:01, 362.80it/s]\n\n 64%|######3   | 636/1000 [00:01&lt;00:00, 377.26it/s]\n\n 69%|######8   | 687/1000 [00:01&lt;00:00, 414.61it/s]\n\n 74%|#######3  | 738/1000 [00:01&lt;00:00, 440.32it/s]\n\n 78%|#######8  | 783/1000 [00:01&lt;00:00, 439.23it/s]\n\n 83%|########3 | 834/1000 [00:02&lt;00:00, 458.36it/s]\n\n 88%|########8 | 881/1000 [00:02&lt;00:00, 434.40it/s]\n\n 93%|#########3| 931/1000 [00:02&lt;00:00, 452.11it/s]\n\n 98%|#########8| 981/1000 [00:02&lt;00:00, 463.21it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 405.29it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 44/1000 [00:00&lt;00:02, 432.45it/s]\n\n  9%|8         | 88/1000 [00:00&lt;00:02, 424.09it/s]\n\n 13%|#3        | 131/1000 [00:00&lt;00:02, 392.02it/s]\n\n 18%|#7        | 177/1000 [00:00&lt;00:01, 415.58it/s]\n\n 22%|##2       | 220/1000 [00:00&lt;00:01, 419.25it/s]\n\n 26%|##6       | 263/1000 [00:00&lt;00:01, 392.75it/s]\n\n 31%|###1      | 312/1000 [00:00&lt;00:01, 420.80it/s]\n\n 36%|###5      | 355/1000 [00:00&lt;00:01, 415.78it/s]\n\n 40%|####      | 400/1000 [00:00&lt;00:01, 425.33it/s]\n\n 45%|####4     | 448/1000 [00:01&lt;00:01, 439.06it/s]\n\n 49%|####9     | 493/1000 [00:01&lt;00:01, 405.96it/s]\n\n 54%|#####3    | 536/1000 [00:01&lt;00:01, 408.90it/s]\n\n 58%|#####7    | 578/1000 [00:01&lt;00:01, 409.59it/s]\n\n 62%|######2   | 620/1000 [00:01&lt;00:00, 409.16it/s]\n\n 67%|######6   | 667/1000 [00:01&lt;00:00, 424.68it/s]\n\n 71%|#######1  | 713/1000 [00:01&lt;00:00, 433.36it/s]\n\n 76%|#######5  | 757/1000 [00:01&lt;00:00, 426.89it/s]\n\n 80%|########  | 800/1000 [00:01&lt;00:00, 424.25it/s]\n\n 84%|########4 | 845/1000 [00:02&lt;00:00, 430.63it/s]\n\n 89%|########8 | 889/1000 [00:02&lt;00:00, 432.42it/s]\n\n 94%|#########3| 935/1000 [00:02&lt;00:00, 438.60it/s]\n\n 98%|#########8| 980/1000 [00:02&lt;00:00, 441.25it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 424.50it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|3         | 37/1000 [00:00&lt;00:02, 368.42it/s]\n\n  8%|8         | 80/1000 [00:00&lt;00:02, 398.49it/s]\n\n 12%|#2        | 120/1000 [00:00&lt;00:02, 348.38it/s]\n\n 16%|#6        | 162/1000 [00:00&lt;00:02, 370.44it/s]\n\n 20%|##        | 200/1000 [00:00&lt;00:02, 357.30it/s]\n\n 25%|##4       | 247/1000 [00:00&lt;00:01, 392.27it/s]\n\n 29%|##8       | 287/1000 [00:00&lt;00:01, 375.47it/s]\n\n 33%|###3      | 334/1000 [00:00&lt;00:01, 401.63it/s]\n\n 38%|###7      | 375/1000 [00:00&lt;00:01, 390.26it/s]\n\n 42%|####2     | 422/1000 [00:01&lt;00:01, 410.90it/s]\n\n 46%|####6     | 464/1000 [00:01&lt;00:01, 371.88it/s]\n\n 50%|#####     | 503/1000 [00:01&lt;00:01, 374.96it/s]\n\n 55%|#####4    | 547/1000 [00:01&lt;00:01, 392.38it/s]\n\n 59%|#####8    | 587/1000 [00:01&lt;00:01, 383.05it/s]\n\n 64%|######3   | 637/1000 [00:01&lt;00:00, 414.80it/s]\n\n 68%|######8   | 680/1000 [00:01&lt;00:00, 418.06it/s]\n\n 72%|#######2  | 725/1000 [00:01&lt;00:00, 423.29it/s]\n\n 77%|#######6  | 768/1000 [00:01&lt;00:00, 374.70it/s]\n\n 81%|########  | 808/1000 [00:02&lt;00:00, 381.21it/s]\n\n 85%|########5 | 851/1000 [00:02&lt;00:00, 393.61it/s]\n\n 89%|########9 | 894/1000 [00:02&lt;00:00, 402.70it/s]\n\n 94%|#########4| 943/1000 [00:02&lt;00:00, 427.25it/s]\n\n 99%|#########8| 987/1000 [00:02&lt;00:00, 429.69it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 396.19it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|4         | 48/1000 [00:00&lt;00:02, 471.79it/s]\n\n 10%|9         | 96/1000 [00:00&lt;00:02, 426.53it/s]\n\n 14%|#3        | 139/1000 [00:00&lt;00:02, 420.67it/s]\n\n 18%|#8        | 182/1000 [00:00&lt;00:02, 400.20it/s]\n\n 23%|##2       | 228/1000 [00:00&lt;00:01, 419.31it/s]\n\n 27%|##7       | 272/1000 [00:00&lt;00:01, 424.73it/s]\n\n 32%|###2      | 320/1000 [00:00&lt;00:01, 441.78it/s]\n\n 36%|###6      | 365/1000 [00:00&lt;00:01, 413.68it/s]\n\n 41%|####1     | 412/1000 [00:00&lt;00:01, 430.10it/s]\n\n 46%|####5     | 456/1000 [00:01&lt;00:01, 400.66it/s]\n\n 50%|####9     | 497/1000 [00:01&lt;00:01, 394.73it/s]\n\n 55%|#####4    | 549/1000 [00:01&lt;00:01, 428.63it/s]\n\n 59%|#####9    | 593/1000 [00:01&lt;00:01, 406.47it/s]\n\n 64%|######3   | 635/1000 [00:01&lt;00:00, 391.91it/s]\n\n 68%|######7   | 675/1000 [00:01&lt;00:00, 355.13it/s]\n\n 72%|#######1  | 716/1000 [00:01&lt;00:00, 367.78it/s]\n\n 76%|#######5  | 758/1000 [00:01&lt;00:00, 381.23it/s]\n\n 80%|########  | 803/1000 [00:01&lt;00:00, 399.25it/s]\n\n 85%|########5 | 852/1000 [00:02&lt;00:00, 423.55it/s]\n\n 90%|########9 | 897/1000 [00:02&lt;00:00, 429.12it/s]\n\n 94%|#########4| 945/1000 [00:02&lt;00:00, 440.35it/s]\n\n 99%|#########9| 990/1000 [00:02&lt;00:00, 402.06it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 408.22it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  3%|3         | 31/1000 [00:00&lt;00:03, 301.86it/s]\n\n  6%|6         | 65/1000 [00:00&lt;00:02, 320.30it/s]\n\n 10%|#         | 101/1000 [00:00&lt;00:02, 337.36it/s]\n\n 15%|#4        | 146/1000 [00:00&lt;00:02, 378.85it/s]\n\n 19%|#9        | 192/1000 [00:00&lt;00:01, 406.93it/s]\n\n 23%|##3       | 233/1000 [00:00&lt;00:02, 382.46it/s]\n\n 27%|##7       | 273/1000 [00:00&lt;00:01, 383.75it/s]\n\n 31%|###1      | 312/1000 [00:00&lt;00:01, 367.45it/s]\n\n 35%|###5      | 352/1000 [00:00&lt;00:01, 374.75it/s]\n\n 39%|###9      | 394/1000 [00:01&lt;00:01, 386.12it/s]\n\n 44%|####4     | 440/1000 [00:01&lt;00:01, 406.02it/s]\n\n 48%|####8     | 481/1000 [00:01&lt;00:01, 403.75it/s]\n\n 53%|#####2    | 526/1000 [00:01&lt;00:01, 415.97it/s]\n\n 57%|#####6    | 569/1000 [00:01&lt;00:01, 418.84it/s]\n\n 61%|######1   | 612/1000 [00:01&lt;00:00, 421.01it/s]\n\n 66%|######6   | 660/1000 [00:01&lt;00:00, 435.91it/s]\n\n 70%|#######   | 704/1000 [00:01&lt;00:00, 392.67it/s]\n\n 74%|#######4  | 745/1000 [00:01&lt;00:00, 383.40it/s]\n\n 79%|#######8  | 789/1000 [00:02&lt;00:00, 396.97it/s]\n\n 84%|########3 | 838/1000 [00:02&lt;00:00, 423.07it/s]\n\n 88%|########8 | 881/1000 [00:02&lt;00:00, 389.14it/s]\n\n 92%|#########2| 921/1000 [00:02&lt;00:00, 378.81it/s]\n\n 97%|#########7| 971/1000 [00:02&lt;00:00, 410.02it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 397.93it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  5%|4         | 48/1000 [00:00&lt;00:02, 471.69it/s]\n\n 10%|9         | 96/1000 [00:00&lt;00:01, 456.64it/s]\n\n 14%|#4        | 142/1000 [00:00&lt;00:01, 438.97it/s]\n\n 19%|#8        | 189/1000 [00:00&lt;00:01, 450.51it/s]\n\n 24%|##3       | 235/1000 [00:00&lt;00:01, 452.10it/s]\n\n 28%|##8       | 281/1000 [00:00&lt;00:01, 413.34it/s]\n\n 33%|###2      | 326/1000 [00:00&lt;00:01, 418.89it/s]\n\n 37%|###6      | 369/1000 [00:00&lt;00:01, 411.25it/s]\n\n 41%|####1     | 414/1000 [00:00&lt;00:01, 422.30it/s]\n\n 46%|####5     | 457/1000 [00:01&lt;00:01, 407.20it/s]\n\n 50%|####9     | 498/1000 [00:01&lt;00:01, 404.44it/s]\n\n 54%|#####4    | 540/1000 [00:01&lt;00:01, 408.26it/s]\n\n 58%|#####8    | 584/1000 [00:01&lt;00:00, 416.95it/s]\n\n 63%|######3   | 634/1000 [00:01&lt;00:00, 440.50it/s]\n\n 68%|######7   | 679/1000 [00:01&lt;00:00, 417.62it/s]\n\n 73%|#######2  | 727/1000 [00:01&lt;00:00, 432.31it/s]\n\n 77%|#######7  | 771/1000 [00:01&lt;00:00, 416.28it/s]\n\n 81%|########1 | 813/1000 [00:01&lt;00:00, 396.63it/s]\n\n 86%|########6 | 861/1000 [00:02&lt;00:00, 419.19it/s]\n\n 91%|#########1| 912/1000 [00:02&lt;00:00, 442.87it/s]\n\n 96%|#########6| 961/1000 [00:02&lt;00:00, 454.84it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 428.51it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 44/1000 [00:00&lt;00:02, 439.00it/s]\n\n  9%|8         | 88/1000 [00:00&lt;00:02, 420.44it/s]\n\n 14%|#3        | 135/1000 [00:00&lt;00:01, 440.36it/s]\n\n 18%|#8        | 180/1000 [00:00&lt;00:01, 439.27it/s]\n\n 22%|##2       | 224/1000 [00:00&lt;00:01, 416.59it/s]\n\n 27%|##6       | 266/1000 [00:00&lt;00:01, 383.04it/s]\n\n 30%|###       | 305/1000 [00:00&lt;00:01, 373.26it/s]\n\n 34%|###4      | 343/1000 [00:00&lt;00:01, 374.58it/s]\n\n 38%|###8      | 381/1000 [00:00&lt;00:01, 368.72it/s]\n\n 42%|####1     | 419/1000 [00:01&lt;00:01, 362.15it/s]\n\n 46%|####5     | 456/1000 [00:01&lt;00:01, 345.04it/s]\n\n 51%|#####     | 509/1000 [00:01&lt;00:01, 396.51it/s]\n\n 55%|#####5    | 550/1000 [00:01&lt;00:01, 380.80it/s]\n\n 60%|######    | 600/1000 [00:01&lt;00:00, 412.04it/s]\n\n 64%|######4   | 642/1000 [00:01&lt;00:00, 406.96it/s]\n\n 68%|######8   | 684/1000 [00:01&lt;00:00, 391.16it/s]\n\n 72%|#######2  | 724/1000 [00:01&lt;00:00, 383.67it/s]\n\n 77%|#######7  | 774/1000 [00:01&lt;00:00, 415.73it/s]\n\n 82%|########1 | 816/1000 [00:02&lt;00:00, 388.25it/s]\n\n 86%|########5 | 856/1000 [00:02&lt;00:00, 375.90it/s]\n\n 90%|########9 | 899/1000 [00:02&lt;00:00, 388.51it/s]\n\n 94%|#########4| 943/1000 [00:02&lt;00:00, 401.47it/s]\n\n 98%|#########8| 984/1000 [00:02&lt;00:00, 400.83it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 391.95it/s]\n WARNING - 15:39:17: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n WARNING - 15:39:20: A minimum of posterior samples of samples is recommended to ensure convergence.\n WARNING - 15:39:20: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|3         | 38/1000 [00:00&lt;00:02, 377.94it/s]\n\n  8%|7         | 77/1000 [00:00&lt;00:02, 380.89it/s]\n\n 12%|#2        | 121/1000 [00:00&lt;00:02, 401.92it/s]\n\n 16%|#6        | 165/1000 [00:00&lt;00:02, 411.68it/s]\n\n 21%|##        | 207/1000 [00:00&lt;00:02, 361.92it/s]\n\n 25%|##5       | 252/1000 [00:00&lt;00:01, 386.28it/s]\n\n 30%|###       | 303/1000 [00:00&lt;00:01, 421.30it/s]\n\n 35%|###4      | 346/1000 [00:00&lt;00:01, 366.18it/s]\n\n 38%|###8      | 385/1000 [00:01&lt;00:01, 358.29it/s]\n\n 42%|####2     | 422/1000 [00:01&lt;00:01, 327.19it/s]\n\n 47%|####6     | 466/1000 [00:01&lt;00:01, 356.42it/s]\n\n 50%|#####     | 503/1000 [00:01&lt;00:01, 343.10it/s]\n\n 54%|#####4    | 544/1000 [00:01&lt;00:01, 361.01it/s]\n\n 58%|#####8    | 583/1000 [00:01&lt;00:01, 368.39it/s]\n\n 63%|######2   | 626/1000 [00:01&lt;00:00, 381.73it/s]\n\n 66%|######6   | 665/1000 [00:01&lt;00:00, 367.73it/s]\n\n 71%|#######   | 709/1000 [00:01&lt;00:00, 385.11it/s]\n\n 75%|#######4  | 748/1000 [00:02&lt;00:00, 355.88it/s]\n\n 78%|#######8  | 785/1000 [00:02&lt;00:00, 350.80it/s]\n\n 82%|########2 | 821/1000 [00:02&lt;00:00, 342.17it/s]\n\n 86%|########5 | 856/1000 [00:02&lt;00:00, 326.34it/s]\n\n 89%|########9 | 894/1000 [00:02&lt;00:00, 337.70it/s]\n\n 93%|#########2| 929/1000 [00:02&lt;00:00, 336.95it/s]\n\n 96%|#########6| 963/1000 [00:02&lt;00:00, 332.86it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 359.36it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 40/1000 [00:00&lt;00:02, 393.40it/s]\n\n  8%|8         | 85/1000 [00:00&lt;00:02, 420.83it/s]\n\n 13%|#2        | 128/1000 [00:00&lt;00:02, 392.10it/s]\n\n 17%|#6        | 168/1000 [00:00&lt;00:02, 391.18it/s]\n\n 21%|##1       | 212/1000 [00:00&lt;00:01, 404.75it/s]\n\n 25%|##5       | 253/1000 [00:00&lt;00:01, 397.47it/s]\n\n 30%|##9       | 295/1000 [00:00&lt;00:01, 403.18it/s]\n\n 34%|###3      | 336/1000 [00:00&lt;00:01, 382.92it/s]\n\n 38%|###8      | 381/1000 [00:00&lt;00:01, 400.31it/s]\n\n 42%|####2     | 422/1000 [00:01&lt;00:01, 399.01it/s]\n\n 46%|####6     | 463/1000 [00:01&lt;00:01, 389.01it/s]\n\n 50%|#####     | 503/1000 [00:01&lt;00:01, 386.01it/s]\n\n 54%|#####4    | 544/1000 [00:01&lt;00:01, 392.63it/s]\n\n 59%|#####8    | 590/1000 [00:01&lt;00:00, 412.25it/s]\n\n 64%|######3   | 636/1000 [00:01&lt;00:00, 424.63it/s]\n\n 68%|######7   | 679/1000 [00:01&lt;00:00, 378.13it/s]\n\n 72%|#######1  | 718/1000 [00:01&lt;00:00, 351.09it/s]\n\n 76%|#######5  | 755/1000 [00:01&lt;00:00, 344.82it/s]\n\n 79%|#######9  | 791/1000 [00:02&lt;00:00, 331.56it/s]\n\n 82%|########2 | 825/1000 [00:02&lt;00:00, 329.61it/s]\n\n 86%|########5 | 859/1000 [00:02&lt;00:00, 309.32it/s]\n\n 89%|########9 | 894/1000 [00:02&lt;00:00, 319.25it/s]\n\n 93%|#########2| 927/1000 [00:02&lt;00:00, 309.55it/s]\n\n 96%|#########5| 959/1000 [00:02&lt;00:00, 294.95it/s]\n\n100%|#########9| 997/1000 [00:02&lt;00:00, 316.31it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 361.51it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  3%|3         | 34/1000 [00:00&lt;00:02, 334.27it/s]\n\n  7%|6         | 68/1000 [00:00&lt;00:02, 330.02it/s]\n\n 10%|#         | 104/1000 [00:00&lt;00:02, 339.85it/s]\n\n 14%|#4        | 140/1000 [00:00&lt;00:02, 347.24it/s]\n\n 18%|#7        | 175/1000 [00:00&lt;00:02, 315.31it/s]\n\n 21%|##        | 207/1000 [00:00&lt;00:02, 308.99it/s]\n\n 24%|##4       | 240/1000 [00:00&lt;00:02, 314.52it/s]\n\n 27%|##7       | 272/1000 [00:00&lt;00:02, 315.14it/s]\n\n 30%|###       | 304/1000 [00:00&lt;00:02, 299.79it/s]\n\n 34%|###3      | 337/1000 [00:01&lt;00:02, 307.20it/s]\n\n 37%|###7      | 372/1000 [00:01&lt;00:01, 316.63it/s]\n\n 41%|####1     | 414/1000 [00:01&lt;00:01, 346.80it/s]\n\n 45%|####5     | 454/1000 [00:01&lt;00:01, 360.33it/s]\n\n 50%|####9     | 496/1000 [00:01&lt;00:01, 375.96it/s]\n\n 54%|#####3    | 535/1000 [00:01&lt;00:01, 378.13it/s]\n\n 58%|#####8    | 581/1000 [00:01&lt;00:01, 402.00it/s]\n\n 62%|######2   | 622/1000 [00:01&lt;00:00, 401.61it/s]\n\n 66%|######6   | 663/1000 [00:01&lt;00:00, 394.04it/s]\n\n 70%|#######   | 703/1000 [00:01&lt;00:00, 393.39it/s]\n\n 75%|#######4  | 746/1000 [00:02&lt;00:00, 403.99it/s]\n\n 79%|#######8  | 787/1000 [00:02&lt;00:00, 382.41it/s]\n\n 83%|########2 | 826/1000 [00:02&lt;00:00, 361.64it/s]\n\n 86%|########6 | 863/1000 [00:02&lt;00:00, 355.06it/s]\n\n 90%|########9 | 899/1000 [00:02&lt;00:00, 355.03it/s]\n\n 94%|#########4| 941/1000 [00:02&lt;00:00, 372.45it/s]\n\n 98%|#########7| 979/1000 [00:02&lt;00:00, 365.41it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 353.14it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  3%|3         | 33/1000 [00:00&lt;00:02, 324.58it/s]\n\n  7%|7         | 70/1000 [00:00&lt;00:02, 350.48it/s]\n\n 11%|#         | 106/1000 [00:00&lt;00:02, 345.21it/s]\n\n 14%|#4        | 141/1000 [00:00&lt;00:02, 339.73it/s]\n\n 18%|#8        | 182/1000 [00:00&lt;00:02, 363.79it/s]\n\n 22%|##2       | 222/1000 [00:00&lt;00:02, 373.34it/s]\n\n 26%|##6       | 260/1000 [00:00&lt;00:02, 330.16it/s]\n\n 29%|##9       | 294/1000 [00:00&lt;00:02, 315.13it/s]\n\n 34%|###4      | 340/1000 [00:00&lt;00:01, 354.70it/s]\n\n 38%|###8      | 384/1000 [00:01&lt;00:01, 377.95it/s]\n\n 42%|####2     | 425/1000 [00:01&lt;00:01, 387.11it/s]\n\n 47%|####6     | 469/1000 [00:01&lt;00:01, 400.48it/s]\n\n 51%|#####1    | 510/1000 [00:01&lt;00:01, 401.79it/s]\n\n 55%|#####5    | 551/1000 [00:01&lt;00:01, 366.89it/s]\n\n 59%|#####8    | 589/1000 [00:01&lt;00:01, 369.89it/s]\n\n 63%|######2   | 629/1000 [00:01&lt;00:00, 377.63it/s]\n\n 67%|######6   | 668/1000 [00:01&lt;00:00, 379.80it/s]\n\n 71%|#######   | 708/1000 [00:01&lt;00:00, 384.85it/s]\n\n 75%|#######5  | 750/1000 [00:02&lt;00:00, 393.23it/s]\n\n 79%|#######9  | 790/1000 [00:02&lt;00:00, 389.73it/s]\n\n 84%|########3 | 835/1000 [00:02&lt;00:00, 405.07it/s]\n\n 88%|########7 | 876/1000 [00:02&lt;00:00, 373.00it/s]\n\n 92%|#########1| 915/1000 [00:02&lt;00:00, 377.50it/s]\n\n 96%|#########6| 960/1000 [00:02&lt;00:00, 394.86it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 375.56it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  3%|3         | 33/1000 [00:00&lt;00:02, 325.61it/s]\n\n  7%|6         | 68/1000 [00:00&lt;00:02, 338.44it/s]\n\n 11%|#         | 109/1000 [00:00&lt;00:02, 369.22it/s]\n\n 16%|#5        | 156/1000 [00:00&lt;00:02, 403.14it/s]\n\n 20%|#9        | 197/1000 [00:00&lt;00:02, 382.52it/s]\n\n 24%|##3       | 236/1000 [00:00&lt;00:02, 380.05it/s]\n\n 28%|##7       | 275/1000 [00:00&lt;00:02, 354.34it/s]\n\n 31%|###1      | 314/1000 [00:00&lt;00:01, 364.42it/s]\n\n 35%|###5      | 351/1000 [00:00&lt;00:01, 363.39it/s]\n\n 39%|###8      | 388/1000 [00:01&lt;00:01, 347.85it/s]\n\n 43%|####2     | 427/1000 [00:01&lt;00:01, 359.27it/s]\n\n 47%|####6     | 468/1000 [00:01&lt;00:01, 373.00it/s]\n\n 51%|#####     | 508/1000 [00:01&lt;00:01, 378.96it/s]\n\n 55%|#####5    | 551/1000 [00:01&lt;00:01, 393.30it/s]\n\n 60%|#####9    | 596/1000 [00:01&lt;00:00, 408.31it/s]\n\n 64%|######3   | 637/1000 [00:01&lt;00:00, 389.71it/s]\n\n 68%|######7   | 679/1000 [00:01&lt;00:00, 397.69it/s]\n\n 72%|#######2  | 723/1000 [00:01&lt;00:00, 405.73it/s]\n\n 76%|#######6  | 764/1000 [00:02&lt;00:00, 396.81it/s]\n\n 80%|########  | 804/1000 [00:02&lt;00:00, 392.41it/s]\n\n 84%|########4 | 844/1000 [00:02&lt;00:00, 381.36it/s]\n\n 89%|########8 | 888/1000 [00:02&lt;00:00, 397.93it/s]\n\n 93%|#########2| 928/1000 [00:02&lt;00:00, 380.32it/s]\n\n 97%|#########6| 967/1000 [00:02&lt;00:00, 371.67it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 378.82it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|3         | 35/1000 [00:00&lt;00:02, 343.58it/s]\n\n  7%|7         | 70/1000 [00:00&lt;00:02, 325.85it/s]\n\n 10%|#         | 103/1000 [00:00&lt;00:02, 322.64it/s]\n\n 14%|#4        | 141/1000 [00:00&lt;00:02, 343.72it/s]\n\n 18%|#7        | 177/1000 [00:00&lt;00:02, 347.69it/s]\n\n 22%|##1       | 215/1000 [00:00&lt;00:02, 357.81it/s]\n\n 26%|##5       | 259/1000 [00:00&lt;00:01, 383.87it/s]\n\n 30%|##9       | 298/1000 [00:00&lt;00:01, 385.76it/s]\n\n 34%|###3      | 339/1000 [00:00&lt;00:01, 393.04it/s]\n\n 38%|###7      | 379/1000 [00:01&lt;00:01, 377.90it/s]\n\n 42%|####1     | 417/1000 [00:01&lt;00:01, 371.41it/s]\n\n 46%|####5     | 455/1000 [00:01&lt;00:01, 352.76it/s]\n\n 49%|####9     | 493/1000 [00:01&lt;00:01, 358.82it/s]\n\n 53%|#####3    | 531/1000 [00:01&lt;00:01, 364.90it/s]\n\n 57%|#####6    | 570/1000 [00:01&lt;00:01, 371.80it/s]\n\n 61%|######    | 608/1000 [00:01&lt;00:01, 361.67it/s]\n\n 65%|######5   | 652/1000 [00:01&lt;00:00, 384.06it/s]\n\n 69%|######9   | 691/1000 [00:01&lt;00:00, 377.83it/s]\n\n 73%|#######3  | 734/1000 [00:01&lt;00:00, 391.60it/s]\n\n 78%|#######8  | 780/1000 [00:02&lt;00:00, 411.32it/s]\n\n 82%|########2 | 822/1000 [00:02&lt;00:00, 381.09it/s]\n\n 86%|########6 | 861/1000 [00:02&lt;00:00, 368.60it/s]\n\n 90%|########9 | 899/1000 [00:02&lt;00:00, 371.04it/s]\n\n 94%|#########3| 940/1000 [00:02&lt;00:00, 381.74it/s]\n\n 98%|#########8| 981/1000 [00:02&lt;00:00, 388.13it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 374.02it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 41/1000 [00:00&lt;00:02, 406.64it/s]\n\n  8%|8         | 82/1000 [00:00&lt;00:02, 371.09it/s]\n\n 13%|#2        | 126/1000 [00:00&lt;00:02, 399.85it/s]\n\n 17%|#7        | 172/1000 [00:00&lt;00:01, 421.06it/s]\n\n 22%|##1       | 216/1000 [00:00&lt;00:01, 425.41it/s]\n\n 26%|##6       | 262/1000 [00:00&lt;00:01, 435.25it/s]\n\n 31%|###       | 306/1000 [00:00&lt;00:01, 426.10it/s]\n\n 35%|###4      | 349/1000 [00:00&lt;00:01, 399.96it/s]\n\n 40%|####      | 400/1000 [00:00&lt;00:01, 431.94it/s]\n\n 44%|####4     | 444/1000 [00:01&lt;00:01, 410.54it/s]\n\n 49%|####8     | 486/1000 [00:01&lt;00:01, 397.42it/s]\n\n 53%|#####3    | 531/1000 [00:01&lt;00:01, 411.02it/s]\n\n 58%|#####7    | 577/1000 [00:01&lt;00:00, 423.33it/s]\n\n 62%|######2   | 620/1000 [00:01&lt;00:00, 406.12it/s]\n\n 66%|######6   | 664/1000 [00:01&lt;00:00, 415.48it/s]\n\n 71%|#######   | 709/1000 [00:01&lt;00:00, 424.26it/s]\n\n 76%|#######5  | 756/1000 [00:01&lt;00:00, 435.55it/s]\n\n 80%|########  | 803/1000 [00:01&lt;00:00, 444.08it/s]\n\n 85%|########5 | 851/1000 [00:02&lt;00:00, 452.69it/s]\n\n 90%|########9 | 897/1000 [00:02&lt;00:00, 437.58it/s]\n\n 94%|#########4| 942/1000 [00:02&lt;00:00, 440.19it/s]\n\n 99%|#########8| 987/1000 [00:02&lt;00:00, 393.60it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 418.09it/s]\n\n\n  0%|          | 0/1000 [00:00&lt;?, ?it/s]\n\n  4%|4         | 40/1000 [00:00&lt;00:02, 389.22it/s]\n\n  8%|8         | 80/1000 [00:00&lt;00:02, 392.63it/s]\n\n 12%|#2        | 122/1000 [00:00&lt;00:02, 401.20it/s]\n\n 17%|#7        | 173/1000 [00:00&lt;00:01, 442.56it/s]\n\n 22%|##2       | 220/1000 [00:00&lt;00:01, 448.80it/s]\n\n 26%|##6       | 265/1000 [00:00&lt;00:01, 446.48it/s]\n\n 31%|###1      | 310/1000 [00:00&lt;00:01, 444.32it/s]\n\n 36%|###5      | 355/1000 [00:00&lt;00:01, 411.18it/s]\n\n 40%|####      | 405/1000 [00:00&lt;00:01, 435.94it/s]\n\n 46%|####5     | 455/1000 [00:01&lt;00:01, 452.70it/s]\n\n 50%|#####     | 501/1000 [00:01&lt;00:01, 435.67it/s]\n\n 55%|#####4    | 545/1000 [00:01&lt;00:01, 406.16it/s]\n\n 59%|#####8    | 587/1000 [00:01&lt;00:01, 387.84it/s]\n\n 63%|######2   | 627/1000 [00:01&lt;00:00, 386.36it/s]\n\n 67%|######6   | 666/1000 [00:01&lt;00:00, 361.73it/s]\n\n 70%|#######   | 703/1000 [00:01&lt;00:00, 361.20it/s]\n\n 75%|#######5  | 752/1000 [00:01&lt;00:00, 395.12it/s]\n\n 80%|#######9  | 796/1000 [00:01&lt;00:00, 407.53it/s]\n\n 84%|########4 | 842/1000 [00:02&lt;00:00, 420.25it/s]\n\n 89%|########8 | 889/1000 [00:02&lt;00:00, 431.57it/s]\n\n 93%|#########3| 933/1000 [00:02&lt;00:00, 419.37it/s]\n\n 98%|#########7| 976/1000 [00:02&lt;00:00, 399.93it/s]\n100%|##########| 1000/1000 [00:02&lt;00:00, 408.38it/s]\n WARNING - 15:39:41: Make sure enough samples are generated to draw reliable conclusions from the criterion (at least 10000)\n\nBayesAnalysisResult(metadata=ToolResultMetadata(generic={'datetime': '13-02-2026_15-38-57', 'version': '0.1.dev17+gda5deed25.d20260213'}, misc={}, settings={'likelihood_dist': 'LogNormal', 'prior_dist': &lt;openturns.model_copula.ComposedDistribution; proxy of &lt;Swig Object of type 'OT::ComposedDistribution *' at 0x7d52018d6fd0&gt; &gt;, 'frozen_variables': {'frozen_index': [2], 'frozen_values': [0], 'free_index': [0, 1]}}, report={}, model=None), raw_samples=array([[[11.00121549,  0.25248745],\n        [10.99691202,  0.25257572],\n        [10.99743624,  0.25243309],\n        ...,\n        [11.00142941,  0.25251733],\n        [11.00011424,  0.25250409],\n        [10.99974273,  0.25247598]],\n\n       [[11.00428442,  0.25253197],\n        [10.99711163,  0.25258226],\n        [10.99712618,  0.25242813],\n        ...,\n        [11.00139699,  0.25258143],\n        [11.00005803,  0.25250421],\n        [10.99964031,  0.25247347]],\n\n       [[11.00421944,  0.25253119],\n        [10.99675799,  0.25258553],\n        [10.99738701,  0.25243245],\n        ...,\n        [11.00332671,  0.25257792],\n        [10.99968811,  0.25250345],\n        [10.9992602 ,  0.25246603]],\n\n       ...,\n\n       [[11.98716978,  0.07715029],\n        [11.94184058,  0.03133937],\n        [11.92789296,  0.08905049],\n        ...,\n        [11.9464981 ,  0.02144362],\n        [11.94683129,  0.10204826],\n        [11.96183229,  0.04211263]],\n\n       [[11.99604416,  0.07011528],\n        [11.94184058,  0.03133937],\n        [11.92508748,  0.08967541],\n        ...,\n        [11.9464981 ,  0.02144362],\n        [11.94683129,  0.10204826],\n        [11.96567   ,  0.03864846]],\n\n       [[11.99070408,  0.06443735],\n        [11.94184058,  0.03133937],\n        [11.92508748,  0.08967541],\n        ...,\n        [11.94486091,  0.02492213],\n        [11.94627612,  0.08031736],\n        [11.96567   ,  0.03864846]]]), thin_number=30, ndim=2, processed_samples=array([[12.04362329,  0.30165567],\n       [11.88245374,  0.32747021],\n       [11.74263701,  0.25467476],\n       [12.01539955,  0.32232748],\n       [12.18417722,  0.21349517],\n       [11.89935386,  0.22787692],\n       [11.81340227,  0.33242365],\n       [11.85499788,  0.24479216],\n       [11.77084265,  0.24648572],\n       [11.70863965,  0.20426163],\n       [11.93125146,  0.23021074],\n       [12.12083006,  0.24141713],\n       [12.02519947,  0.25562158],\n       [11.82483702,  0.24226401],\n       [11.67810085,  0.24988467],\n       [11.91767216,  0.22893374],\n       [11.40239818,  0.25005269],\n       [11.83032765,  0.27322957],\n       [11.910849  ,  0.13916548],\n       [11.89429635,  0.25180115],\n       [11.87577928,  0.19369965],\n       [12.14638082,  0.2385905 ],\n       [11.78921768,  0.2879001 ],\n       [11.75436455,  0.2493984 ],\n       [11.88836957,  0.18182776],\n       [11.91093008,  0.29011424],\n       [11.78117943,  0.26646513],\n       [11.94869067,  0.15479709],\n       [12.11584861,  0.30921284],\n       [11.86224505,  0.12708573]]), posterior_predictive=class=DeconditionedDistribution name=DeconditionedDistribution dimension=1 conditioned distribution=class=LogNormal name=LogNormal dimension=1 muLog=11.976 sigmaLog=0.029581 gamma=0 conditioning distribution=class=UserDefined name=UserDefined dimension=3 points=class=Sample name=Unnamed implementation=class=SampleImplementation name=Unnamed size=30 dimension=3 data=[[11.4024,0.250053,0],[11.6781,0.249885,0],[11.7086,0.204262,0],[11.7426,0.254675,0],[11.7544,0.249398,0],[11.7708,0.246486,0],[11.7812,0.266465,0],[11.7892,0.2879,0],[11.8134,0.332424,0],[11.8248,0.242264,0],[11.8303,0.27323,0],[11.855,0.244792,0],[11.8622,0.127086,0],[11.8758,0.1937,0],[11.8825,0.32747,0],[11.8884,0.181828,0],[11.8943,0.251801,0],[11.8994,0.227877,0],[11.9108,0.139165,0],[11.9109,0.290114,0],[11.9177,0.228934,0],[11.9313,0.230211,0],[11.9487,0.154797,0],[12.0154,0.322327,0],[12.0252,0.255622,0],[12.0436,0.301656,0],[12.1158,0.309213,0],[12.1208,0.241417,0],[12.1464,0.23859,0],[12.1842,0.213495,0]] probabilities=class=Point name=Unnamed dimension=30 values=[0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333,0.0333333] link function=class=Function name=Unnamed implementation=class=FunctionImplementation name=Unnamed description=[p0,p1,p2,y0,y1,y2] evaluationImplementation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2] gradientImplementation=class=SymbolicGradient name=Unnamed evaluation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2] hessianImplementation=class=SymbolicHessian name=Unnamed evaluation=class=SymbolicEvaluation name=Unnamed inputVariablesNames=[p0,p1,p2] outputVariablesNames=[y0,y1,y2] formulas=[p0,p1,p2], lppd=167.07233312699879, ml=188.11852670608147)\n</code></pre> <p>the Weibull Min model</p> <pre><code>figs_w_b = analysis_w_b.plot_results()\n# and the Log Normal model\nfigs_l_b = analysis_l_b.plot_results()\n</code></pre> <p>Out:</p> <pre><code>/home/charles-thoulon/Documents/softs/vimseo/.tox/doc/lib/python3.11/site-packages/gemseo/utils/matplotlib_figure.py:59: UserWarning:\n\nFigureCanvasAgg is non-interactive, and thus cannot be shown\n</code></pre> <p>First, for each model, the posterior samples are not uniformly distributed showing that priors were elicited.</p> <pre><code># Furthermore,\n# posterior predictive plots show\n# that with a smaller number\n# of degrees of freedom,\n# the Weibull seems less appropriate\n# than the Lognormal model.\n\n\n# Finally, we instanciate\n# the new checks:\ncheck_l_b = PosteriorChecks(analysis_l_b.result)\ncheck_w_b = PosteriorChecks(analysis_w_b.result)\n\n# We can compute next the different criteria\n# for the different models.\nprint(check_n)\nprint(check_w_b)\nprint(check_l_b)\n</code></pre> <p>Out:</p> <pre><code>Bayesian verification indices for Normal model.\n+--------------------+--------------------+\n|        lppd        |         ml         |\n+--------------------+--------------------+\n| 166.65906243176482 | 166.58195411481304 |\n+--------------------+--------------------+\nBayesian verification indices for WeibullMin model.\n+------------------+-------------------+\n|       lppd       |         ml        |\n+------------------+-------------------+\n| 174.513004447341 | 175.0112610829105 |\n+------------------+-------------------+\nBayesian verification indices for LogNormal model.\n+--------------------+--------------------+\n|        lppd        |         ml         |\n+--------------------+--------------------+\n| 167.07233312699879 | 188.11852670608147 |\n+--------------------+--------------------+\n</code></pre> <p>By removing a degree of freedom the Weibull model becomes less accurate, The downgrade for the Lognormal model is not as significant. These conclusions are consistent with the observations from the posterior predictive plots. The marginal likelihoods are harder to compare because the priors are not compatible, either wider (Lognormal model) or smaller (Weibull model).</p> <p>Total running time of the script: ( 1 minutes  35.566 seconds)</p> <p> Download Python source code: plot_12_bayesian_calibration.py</p> <p> Download Jupyter notebook: plot_12_bayesian_calibration.ipynb</p> <p>Gallery generated by mkdocs-gallery</p>"},{"location":"how_to/abaqus_model_integration/","title":"Integrate new models","text":""},{"location":"how_to/abaqus_model_integration/#integration_of_model","title":"Integration of models","text":""},{"location":"how_to/abaqus_model_integration/#abaqus-models","title":"Abaqus models","text":"<p>Consider a user that has developed an Abaqus model, containing:</p> <ul> <li>a pre-processing CAE python scripts that is already parametric   (some input values can be changed to modify the meshing)</li> <li>a post-processing CAE python script that reads the ODB file and   processes some final output data.</li> </ul> <p>Then the integration of such a model in VIMSEO can be done as following. Note that the same procedure applies for plugins, typically <code>vimseo-composites</code></p>"},{"location":"how_to/abaqus_model_integration/#abaqus-cae-scripts","title":"Abaqus CAE scripts","text":"<p>Create a new directory in <code>vimseo.lib_vims.new_model</code>. Add an empty <code>__init__.py</code> file in this directory. Copy your Abaqus scripts in this directory, and rename the files into: - script_preproc_new_model.py - script_postproc_new_model.py</p>"},{"location":"how_to/abaqus_model_integration/#pre-processing","title":"Pre-processing","text":"<p>VIMSEO Abaqus wrapper will write a <code>json</code> file containing the values of <code>i1</code> and <code>i2</code> to be used in your pre-processing script. Thus, at the beginning of your pre-processing script, you may paste the following lines:</p> <pre><code>import abaqus_utilities as utils\n\nfile_job_inputs = utils.ARG_FILE\ndico = utils.import_json_inputs(file_job_inputs)\n\ninp_name = dico['job_name']  # Name of the INP file to create (without .inp)\ni1 = dico['i1']\n</code></pre> <p>Then <code>i1</code> can be used as an input variable in your original script.</p> <p>Note</p> <p>You can print information about the script by using the following utility: <code>utils.printAll('My information\\n')</code></p>"},{"location":"how_to/abaqus_model_integration/#post-processing","title":"Post-processing","text":"<p>In principle, your post-processing script already loads Abaqus ODB data and processes it to extract useful Quantities of Interest. Then, these values should be given to the post-processor of Abaqus VIMSEO wrapper. A utility is dedicated to this task, and can be used by pasting the following lines at the end of your script:</p> <pre><code>import abaqus_utilities as utils\n\ndico_vims_output = {}\ndico_vims_output['o1'] = ...\ndico_vims_output['o2'] = ...\n\nutils.write_json_dict(utils.OUT_FILE, dico_vims_output)\n</code></pre>"},{"location":"how_to/abaqus_model_integration/#vimseo-python-part","title":"VIMSEO Python part","text":"<p>First, new classes must be added in VIMSEO. The easiest way is to start by duplicating an existing model. The EOMS UMAT model is interesting because it is a simple model with a subroutine.</p> <p>We assume the new model is called <code>NewModel</code> and has a load case called <code>LC1</code>, and has inputs <code>i1</code>, <code>i2</code> and outputs <code>o1</code>, <code>o2</code>. We also consider that the load case is associated to a specific domain, which allows to avoid clashes in load case names. We assume the domain is called <code>NewDomain</code>.</p> <p>Create a new directory in <code>vimseo/problems</code>, for instance <code>vimseo/problems/new_model</code> Add empty files: - __init__.py - pre_new_model.py - post_new_model.py - new_model.py in this directory.</p> <p>Also create an empty file <code>new_domain.py</code> in <code>vimseo/problems/load_cases</code>.</p> <p>Then:</p> <ul> <li>paste the following code in   <code>vimseo/problems/load_cases/new_domain.py</code>:</li> </ul> <pre><code>from __future__ import annotations\n\nfrom dataclasses import dataclass\n\nfrom vimseo.core.load_case import LoadCase\n\n\n@dataclass\nclass LC1(LoadCase):\n    \"\"\"An LC1 load case.\"\"\"\n</code></pre> <ul> <li>Paste the following code in <code>pre_new_model.py</code>:</li> </ul> <pre><code>from __future__ import annotations\nfrom numpy import array\nfrom vimseo.wrapper.abaqus.pre_abaqus_wrapper import PreAbaqusWrapper\nfrom vimseo.wrapper.abaqus.utilities import LibraryFile\n\n\nclass PreNewModel_LC1(PreAbaqusWrapper):\n    \"\"\"Pre-processor for model ``NewModel``.\"\"\"\n\n    _ABAQUS_SCRIPT = LibraryFile(\n        file_path=\"new_model/script_preproc_new_model.py\"\n    )\n\n    def __init__(self, **options):\n        super().__init__(**options)\n        self.default_inputs.update(\n            {\n                \"i1\": array([1.0]),\n                \"i2\": array([2.0]),\n            }\n        )\n</code></pre> <ul> <li>Paste the following code in <code>post_new_model.py</code>:</li> </ul> <pre><code>from __future__ import annotations\n\nfrom vimseo.wrapper.abaqus.post_abaqus_wrapper import PostAbaqusWrapper\nfrom vimseo.wrapper.abaqus.utilities import LibraryFile\n\n\nclass PostNewModel_LC1(PostAbaqusWrapper):\n    \"\"\"Post-process analysis of model ``NewModel``.\"\"\"\n\n    JOB_OUTPUT_FORMAT = \"json\"\n    _ABAQUS_SCRIPT = LibraryFile(\n        file_path=\"new_model/script_postproc_new_model.py\"\n    )\n</code></pre> <ul> <li>Paste the following code in <code>new_model.py</code>:</li> </ul> <pre><code>class NewModel(IntegratedModel):\n    \"\"\"A new model based on Abaqus.\"\"\"\n\n    SUMMARY = (\n        \"Describe the model.\"\n    )\n\n    # If the model has input variables that control its numerical behaviour\n    # (mesh size, number of time steps etc...), indicate their names here.\n    NUMERICAL_VARIABLE_NAMES = []\n\n    PRE_PROC_FAMILY = \"PreNewModel\"\n\n    # Use \"RunAbaqusWrapper_Explicit\" if the model uses Abaqus explicit.\n    # Otherwise, Abaqus implicit considered.\n    RUN_FAMILY = \"RunAbaqusWrapper_Implicit\"\n\n    # TODO\n    SUBROUTINES_NAMES = []\n\n    # This variable defines the material grammar.\n    # It is not the material values. The grammar defines the name and the type\n    # of the material properties. The bounds of the properties can also be defined.\n    # The values are defined in the variable ``MATERIAL_FILE``.\n    # For a simple isotropic elastic material,\n    # the existing ``Ta6v`` material can be used.\n    # If a more complex is to be used, then you can have a look\n    # at the EOMS material (orthotropic elastic max-stress material).\n    # You can also write your own grammar.\n\n    _MATERIAL_GRAMMAR_FILE = MATERIAL_LIB_DIR / \"Ta6v_grammar.json\"\n\n    # The material property values are defined in this file.\n    # Note that probability distributions of the material properties\n    # can also be defined.\n    # Unspecified distributions are defined like this:\n    # \"distribution\":{\"name\":\"\",\"mode\":0.0,\"minimum\":-1000000000000.0,\"maximum\":1000000000000.0,\"sigma\":0.0,\"mu\":1.0,\"lower_bound\":100000.0,\"upper_bound\":150000.0,\"parameters\":[]}\n    # The Ta6v defines Normal distributions.\n    # The EOMS material does not defines distributions.\n    # You can pick-up in these two examples to define your material values.\n    MATERIAL_FILE = MATERIAL_LIB_DIR / \"Ta6v.json\"\n\n    POST_PROC_FAMILY = \"PostNewModel\"\n\n    N_CPUS = 1\n\n    _LOAD_CASE_DOMAIN = \"NewDomain\"\n</code></pre>"},{"location":"how_to/abaqus_model_integration/#abaqus-commands-under-windows","title":"Abaqus commands under Windows","text":"<p>To specify the Abaqus commands for pre/post and run under Windows, the absolute path to the <code>.bat</code> abaqus executable must be prescribed. For this path: <code>C:\\Users\\Public\\docker_abaqus\\abq2022.bat</code>, then the following commands must be prescribed:</p> <pre><code>\"CMD_ABAQUS_CAE\": \"C:/Users/Public/docker_abaqus/abq2022.bat cae noGUI={{abaqus_script}}\",\n\"CMD_ABAQUS_RUN\": \"C:/Users/Public/docker_abaqus/abq2022.bat job={{job_name}} cpus={{n_cpus}}{% if subroutine_names|length &gt; 0 %} user={{subroutine_names[0]}}{% endif %} {% if is_implicit == False %} double=both {% endif %}inter\",\n</code></pre> <p>Note that the blackslahes must be slashes in the command path, and that the <code>.bat</code> suffix must be kept.</p>"},{"location":"how_to/run_a_study/","title":"Run a study","text":""},{"location":"how_to/run_a_study/#run_study","title":"Set-up a study","text":""},{"location":"how_to/run_a_study/#case-of-multiple-layups","title":"Case of multiple layups","text":"<p>When running a study involving simulations of several layups, one current limitation is that VIMSEO cannot process the cache file if these layups have different lengths. The simulations are correctly stored in the cache but trying to convert the cache to a dataset or calling the executable <code>cache_viewer</code> (see handling_failed_simulations) to visualize the cache entries will fail.</p> <p>To overcome this issue, one approach is to prefix the cache file name by the layup, which segregates the caches by layups. Thus, at model instanciation, specify the <code>cache_file_path</code> like this:</p> <pre><code>from vimseo.api import create_model\nfrom vimseo.utilities.database import encode\n\nmodel_name = \"OpfmCube\"\nload_case = \"PST\"\nmodel = create_model(\n    model_name, load_case,\n    cache_file_path=f\"layup{encode(layup)}_{model_name}_{load_case}_cache.hdf\"\n)\n</code></pre> <p>In addition, since the layup strongly controls the physics of the laminate, it may be interesting to separate the tool results and the individual simulations per layup. As a result, you may create the mode like this:</p> <pre><code>from vimseo.api import create_model\nfrom vimseo.utilities.database import encode\n\nmodel_name = \"OpfmCube\"\nload_case = \"PST\"\nmodel = create_model(\n    model_name, load_case,\n    cache_file_path=f\"layup{encode(layup)}_{model_name}_{load_case}_cache.hdf\",\n    root_directory=f\"layup{layup}_{model_name}_{laod_case}_runs\",\n)\n</code></pre> <p>And create the tool like this:</p> <pre><code>from vimseo.tools.sensitivity.sensitivity import SensitivityTool\n\ntool = SensitivityTool(root_directory=f\"layup{layup}_{model_name}_{load_case}\")\n</code></pre>"},{"location":"how_to/run_a_study/#running-simulations","title":"Running simulations","text":""},{"location":"how_to/run_a_study/#calmip","title":"CALMIP","text":"<p>Note</p> <p>The generic project <code>a_project</code> used as example in the documentation should be replaced by <code>vimseo</code>, and <code>a_plugin</code> by the considered VIMSEO plugin (e.g. <code>vims_composites</code>).</p> <p>VIMSEO is first installed on CALMIP.</p> <p>Note</p> <p>The below procedure explains a user-mode installation, which means that VIMSEO sources are frozen in the environment. Modification of the sources do not modify the environment unless you re-install. For developers, you can also install VIMSEO in developer-mode</p> <p>First load a Python environment (provided by conda on CALMIP), with a Python version compatible with VIMSEO:</p> <pre><code>module load python/3.11.3\n</code></pre> <p>The easiest way is to install with pip: Create an empty python environment and activate and install.</p> <p>If you work in a VIMSEO plugin, you also need to install it.</p> <p>Warning</p> <p>For the moment, the subroutine compilation does not work on CALMIP. So you can skip the subroutine installation <code>pip install src/extensions</code>. It means that the UnitCell models will not work. Since they are fast, they can be easily run on another machine.</p> <p>Note</p> <p>Running <code>module load python/3.11.3</code> is only necessary at the generation of VIMSEO environment. Then, a <code>python</code> is available in this environment, so activating it is sufficient to have <code>python</code>. Once the environment is installed, to run simulations, we recommend the following procedure:</p> <ul> <li>deactivate the <code>conda</code> base env which is automatically activated:   <code>conda deactivate</code></li> <li>do not run <code>module load python/3.11.3</code> to avoid conflicts with   VIMSEO environment</li> <li>activate   VIMSEO environment</li> </ul> <p>Then, load the Abaqus module, necessary to execute Abaqus CAE in interactive mode (used in the model pre and post processors):</p> <pre><code>module load abaqus/2022\n</code></pre> <p>Note that by default, Abaqus points to licence server <code>27000@ica-abaqus.insa-toulouse.fr</code>. To use IRT licence server, you can copy-paste the below instruction in a file <code>abaqus_v6.env</code> placed in your home:</p> <pre><code>license_server_type=FLEXNET\nabaquslm_license_file=\"27001@license-abaqus.pf.irt-saintexupery.com\"\nacademic=RESEARCH\n</code></pre> <p>On CALMIP, it is recommended to store job outputs on <code>/tmpdir</code>, so you may work in this directory, typically <code>/tmpdir/${USER}/my_wkdir</code>.</p> <p>On a HPC cluster, you need to submit jobs through a job scheduler. So, the run-processor of the wrapper must use a job executor which will execute Abaqus through the job scheduler of the cluster. To do so, you can override the configuration by placing a config file in your working directory. Copy the below instruction in a file whose name ends with <code>.config</code> in your working directory:</p> <pre><code>{\n\"N_CPUS\": \"\",\n\"JOB_EXECUTOR\": \"SlurmAbaqus\",\n\"CMD_ABAQUS_CAE\": \"abq2022hf1 cae noGUI={{abaqus_script}}\",\n\"CMD_ABAQUS_RUN\": \"\",\n\"LOGGER_MODE\": \"info\",\n\"TEST_LOGGER_MODE\": \"info\",\n\"ROOT_DIRECTORY\": \"\",\n\"WORKING_DIRECTORY\": \"\",\n\"VIMS_TEST_DIR\": \"/tmp/tests\",\n\"CMD_ABAQUS_CAE_POST\": \"\"\n}\n</code></pre> <p>The pre and post processors always use an interactive job executor. The command executed by these two processors are the above <code>CMD_ABAQUS_CAE</code>. For a job executor of type <code>BaseJobScheduler</code>, as it is the case for the <code>SlurmAbaqus</code> job executor, the Abaqus command executed through the job scheduler is defined by the class attribute <code>_COMMAND_TEMPLATE</code> of the job executor class. It is tested for Abaqus jobs submitted through the Slurm job scheduler available on CALMIP, and in principle should not be modified. You can still override this default command by specifying a non-empty command in the configuration variable <code>CMD_ABAQUS_RUN</code>.</p> <p>You can test that VIMSEO can submit a job by executing the below script (to be copy-pasted in a <code>.py</code> file):</p> <pre><code>from vimseo.api import create_model\nfrom vimseo.api import create_model, activate_logger, LOGGER_LEVELS\n\nactivate_logger(level=LOGGER_LEVELS[\"info\"])\n\nmodel = create_model(\"OpfmPlate\", \"PST\", check_subprocess=True, directory_naming_method=\"NUMBERED\")\nmodel.cache = None\nmodel.set_n_cpus(12)\nprint(model._run_processor.n_cpus)\nmodel.execute()\nprint(model.get_output_data())\n</code></pre> <p>Another key point is to avoid that your VIMSEO Python process being killed when your connexion to the cluster closes. There are two possibilities:</p> <ul> <li> <p>run you Python command in <code>nohup</code>:   <pre><code>nohup python my_vims_script.py 2&gt;&amp;1 | tee out.txt &amp;\n</code></pre></p> </li> <li> <p>use <code>tmux</code>, a terminal emulator.   A command launched in <code>tmux</code> will persist after the connexion closes:</p> </li> </ul> <pre><code>tmux\npython my_vims_script.py 2&gt;&amp;1 | tee out.txt\n</code></pre> <p>To reattach to the tmux session, first list the available sessions with <code>tmux ls</code>,   and attach to the desired session with <code>tmux attach-session -t i</code> where <code>i</code>   is the i-th session.</p>"},{"location":"how_to/run_a_study/#handling_failed_simulations","title":"Handling failed simulation","text":"<p>VIMSEO Abaqus wrapper allows to be tolerant to some errors occurring during a model execution. The tolerance to error can be controlled with argument <code>check_subprocess</code> at model creation:</p> <ul> <li> <p>setting <code>check_subprocess</code> to <code>True</code> should normally raise a   <code>CalledSubprocessError</code> error either if one of the subprocess of the   pre, run and post processors fails, or if the outputs of the   run-processor are not as expected by method   <code>~.check_job_completion</code>. If the model is   running by a scenario, the scenario should also fail. The failed model   simulation is not stored in the model cache. So after debugging, if the   same scenario is run again, the model should be fully re-executed.</p> </li> <li> <p>setting <code>check_subprocess</code> to <code>False</code> (default behaviour) makes the   model more tolerant to errors. If one of the subprocess of the pre, run   and post processors fails, or if the outputs of the run-processor are   not as expected, <code>NaN</code> values are set to model outputs, the error code   in the model output is set to one, and the model execution terminates   without error. As a result, this simulation is stored in the cache. This   may cause a problem when, after debugging, the user wants to re-execute   the model (or the scenario executing the model), because the cache will   be activated and will return the <code>NaN</code> outputs previously obtained. To   enable full re-execution of the model, the cache entry corresponding to   these inputs must be deleted from the cache.</p> </li> </ul> <p>To help the user manage the cache (which can be seen here as a database of model executions), two executables are accessible from a terminal where the environment in which VIMSEO is installed is activated:</p> <ul> <li> <p><code>cache_viewer</code>. You may enter <code>cache_viewer -h</code> to get some   help. It allows to visualize the cache content as a dataset, with some   options to filter some entries.</p> </li> <li> <p><code>cache_delete_entry</code>. You may enter   <code>cache_delete_entry -h</code> to get some help. It allows to delete an entry,   typically one having an error code to one and that you want to fully   re-execute.</p> </li> </ul> <p>Warning</p> <p>At the moment, there is an assumption that the cache entry index and the index of the dataset row shown with <code>cache_viewer</code> are the same. This may be wrong if you remove another entry than the last ones. The problem is that you may try to delete non-existing entries when you will view the cache again, after having deleted entries. If <code>cache_delete_entry</code> bugs, you can also use the <code>hdfview</code> tool, which is a standard tool for <code>hdf5</code> file manipulation. <code>hdfview</code> allows to delete hdf groups and thus can be used in replacement of <code>cache_delete_entry</code>.</p>"},{"location":"how_to/run_a_study/#run-abaqus-models-using-a-docker-container","title":"Run Abaqus models using a Docker container","text":"<p>A Docker container where Abaqus is installed is available. In a terminal, run:</p> <pre><code>docker login https://registry-elliot-fire.pf.irt-saintexupery.com/\n</code></pre> <p>with :</p> <pre><code>user: firetracker\npassword: 31onFire34\n</code></pre> <p>Then, pull the images:</p> <pre><code>docker pull registry-elliot-fire.pf.irt-saintexupery.com/abaqus:2022-int\ndocker pull registry-elliot-fire.pf.irt-saintexupery.com/abaqus:2022-ext\n</code></pre> <p>Warning</p> <p>The image is heavy, make sure you have at least 25 Go available on your disk.</p> <p>The <code>2022-int</code> tag is configured to use the internal URL to licence server, and the <code>2022-ext</code> is configured to use the external URL to licence server.</p>"},{"location":"how_to/run_a_study/#run-abaqus-model-on-linux","title":"Run Abaqus model on Linux","text":"<p>Copy this code block in your <code>.bashrc</code> file:</p> <pre><code>export ABAQUS_DOCKER_IMAGE_NAME=\"registry-elliot-fire.pf.irt-saintexupery.com/abaqus:2022-int\"\nfunction abq_2022_docker() {\n    local CURRENT_DIR\n    CURRENT_DIR=$(pwd)\n    docker run --rm -v \"${CURRENT_DIR}\":\"${CURRENT_DIR}\" --workdir \"${CURRENT_DIR}\" -it ${ABAQUS_DOCKER_IMAGE_NAME} abq2022 interactive $*\n}\n</code></pre> <p>Then, source it:</p> <pre><code>source ~/.bashrc\n</code></pre> <p>You should now be able to call Abaqus in a shell by using the defined function (<code>abq_2022_docker</code> here, it can be renamed as you wish).</p>"},{"location":"how_to/run_a_study/#run-abaqus-model-on-windows","title":"Run Abaqus model on Windows","text":"<p>You need to install <code>Docker Desktop</code>, which can be found on IRT application portal (type <code>Software center</code> in the Windows search bar).</p> <p>Note</p> <p><code>Docker Desktop</code> requires the <code>Windows System Linux</code> (WSL). To install it, issue a ticket to the IT. You must also add your user to the Docker group, which should also be done through a ticket to the IT.</p> <p>In Docker Desktop, in the Images tab, search for the above image and run it. Make sure that the engine is running.</p> <p>Then, copy the below code snippet in a <code>.bat</code> file (for example <code>abq_2022_docker.bat</code>):</p> <pre><code>@echo off\nsetlocal\nset ABAQUS_DOCKER_IMAGE_NAME=registry-vimseo.pf.irt-saintexupery.com/abaqus:2022-int\nset CURRENT_DIR=%cd%\ndocker run --rm -v \"%CURRENT_DIR%\":\"/workdir\" --workdir \"/workdir\" %ABAQUS_DOCKER_IMAGE_NAME% abq2022 %*\nREM setx PATH \"%PATH%;C:\\Scripts\"\nREM setx PATHEXT %PATHEXT%;.\nendlocal\n</code></pre>"},{"location":"how_to/run_a_study/#first-interactive-test","title":"First interactive test","text":"<p>Before running VIMSEO Abaqus models, an interactive test in a terminal can be done (git CMD or Powershell):</p> <ul> <li> <p>Add the above <code>.bat</code> file to the <code>PATH</code> (in Windows menu, select   <code>Modify environment variable for your account</code> and add the directory   containing the <code>.bat</code> file to the <code>PATH</code> variable),</p> </li> <li> <p>modify the <code>.bat</code> file to add the <code>-it</code> option to <code>docker run</code>:   <pre><code>docker run --rm -v \"%CURRENT_DIR%\":\"/workdir\" --workdir \"/workdir\" -it %ABAQUS_DOCKER_IMAGE_NAME% abq2022 %*\n</code></pre></p> </li> </ul> <p>Then move to an existing VIMSEO job directory where an Abaqus was run, and run the Abaqus command line as specified by VIMSEO Abaqus wrapper. For instance, to run the pre-processing and run-processing for a model with subroutines:</p> <pre><code>abq_2022_docker cae noGUI={{abaqus_script}}\nabq_2022_docker interactive job={{job_name}} cpus={{n_cpus}} user=index_subroutines.f\n</code></pre>"},{"location":"how_to/run_a_study/#vimseo-model-execution","title":"VIMSEO model execution","text":"<p>To run a VIMSEO Abaqus model on Windows, use the following VIMSEO configuration:</p> <pre><code>\"CMD_ABAQUS_CAE\": \"C:/Users/Public/docker_abaqus/abq_2022_docker.bat cae noGUI={{abaqus_script}}\",\n\"CMD_ABAQUS_RUN\": \"C:/Users/Public/docker_abaqus/abq_2022_docker.bat job={{job_name}} cpus={{n_cpus}}{% if subroutine_names|length &gt; 0 %} user={{subroutine_names[0]}}{% endif %} {% if is_implicit == False %}double=both {% endif %}inter\",\n</code></pre> <p>(The path to the <code>.bat</code> is an example, but the idea is to use linux-like path (<code>/</code>)). Also, make sure that the <code>-it</code> option in the <code>docker run</code> command of the <code>.bat</code> file is removed.</p>"},{"location":"how_to/parameter_space/","title":"Define a Space of Parameters","text":""},{"location":"how_to/parameter_space/#parameter-space-definition","title":"Parameter space definition","text":"<p>Definition of a parameter space</p>"},{"location":"how_to/parameter_space/parameter_space/","title":"Parameter space","text":""},{"location":"how_to/parameter_space/parameter_space/#set-up-a-parameter-space","title":"Set up a parameter space","text":"<p>A space of uncertain parameters is an input to several tools in VIMSEO: for instance a sensitivity analysis, a DOE, a model to model code verification. Setting up a parameter space with a large number of variables requires to specify a large number of options. In VIMSEO, the tool in charge of generating a parameter space is the so called <code>SpaceTool</code>. The variables are in general treated by groups. For example, the first group has a normal distribution centered on the model default value, and second group has a uniform distribution spanning the entire variable range. The <code>SpaceTool</code> allows to set up a parameter space by successive updates. At each update, a list of variables, a <code>SpaceBuilder</code> and its settings can be selected. Four <code>SpaceBuilder</code> are available:   - <code>FromModelCenterAndCov</code>: suited to set up distributions based on model default values     and a coefficient of variation. Note that the center of the distribution can be chosen     based on a relationship between the minimum and maximum bounds of the variable,     but it requires that both bounds are defined.   - <code>FromModelMinAndMax</code>: suited to set up distributions from the bounds of the variables     if both bounds are defined.   - <code>FromCenterAndCov</code>   - <code>FromMinAndMax</code></p> <p>The last two are agnostic of the model.</p> <p>Even if this process can be performed programmatically, being able to visualize the chosen distributions and how they are located with respect to the model bounds is very useful. Indeed, the distributions can be truncated by the bounds and, for example, a triangular distribution may have a shape very different from the expected one.</p> <p>As a result, VIMSEO has a dedicated dashboard to set up a parameter space. The dashboard can be displayed by typing <code>dashboard_space</code> in a console where VIMSEO is installed. The following inputs can be used to initialize the parameter space:   - a model   - a <code>SpaceTool</code> result   - a material values <code>JSON</code> file</p> <p>If the model is the input, the parameter space can be initialized to the model material by ticking the checkbox <code>From model material</code>. Only the variables for which probability distributions are defined will be considered to build the parameter space.</p> <p></p> <p>For VIMSEO beam models, the default material defines probability distributions for the</p> <p></p> <p>As explained above, the parameter space can then be updated by first selecting in the sidebar the variables to modify:</p> <p></p> <p>Then the <code>SpaceBuilder</code> must be chosen, and its settings:</p> <p></p> <p>Then the <code>Submit space parameters</code> must be clicked.</p> <p>The process of selecting variables, a space builer and its settings and validating by clicking the <code>Submit space parameters</code> can be repeated until the user is satisfied with the parameter space.</p> <p>Note</p> <p>To avoid setting distributions whose support is outside the model bounds, the model bounds can be shown by ticking the <code>Show model bounds</code> checkbox at the bottom of the sidebar. The part of the distribution which is outside the bounds is shown by a vertical red band.</p> <p>The parameter space can finally be downloaded as a <code>JSON</code> file.</p>"},{"location":"reference/SUMMARY/","title":"SUMMARY","text":"<ul> <li>vimseo<ul> <li>api</li> <li>config<ul> <li>base_configuration</li> <li>base_configuration_factory</li> <li>config_components</li> <li>configuration_settings</li> <li>global_configuration</li> </ul> </li> <li>core<ul> <li>base_component</li> <li>base_discipline_model</li> <li>base_integrated_model</li> <li>components<ul> <li>component_factory</li> <li>discipline_wrapper_component</li> <li>external_software_component</li> <li>library_file</li> <li>post<ul> <li>post_processor</li> </ul> </li> <li>pre<ul> <li>pre_processor</li> </ul> </li> <li>run<ul> <li>run_processor</li> </ul> </li> <li>subroutines<ul> <li>subroutine_wrapper</li> <li>subroutine_wrapper_factory</li> </ul> </li> </ul> </li> <li>factory</li> <li>gemseo_discipline_wrapper</li> <li>inputs_handler</li> <li>load</li> <li>load_case</li> <li>load_case_factory</li> <li>model_composition</li> <li>model_description</li> <li>model_factory</li> <li>model_metadata</li> <li>model_result</li> <li>model_settings</li> <li>pre_run_post_model</li> </ul> </li> <li>direct_measures<ul> <li>curve_measure</li> <li>direct_measure</li> <li>direct_measure_factory</li> </ul> </li> <li>io<ul> <li>base_tool_io</li> <li>io_factory</li> <li>space_io</li> <li>test_data<ul> <li>dataset</li> <li>space_tool</li> </ul> </li> </ul> </li> <li>job_executor<ul> <li>base_executor</li> <li>base_interactive_executor</li> <li>base_job_options</li> <li>base_user_job_options</li> <li>job_executor_factory</li> <li>job_scheduler<ul> <li>base_job_scheduler_executor</li> </ul> </li> </ul> </li> <li>lib_vimseo<ul> <li>solver_utilities</li> </ul> </li> <li>material<ul> <li>material</li> <li>material_property</li> <li>material_relation</li> <li>metadata</li> <li>test_references</li> </ul> </li> <li>material_lib</li> <li>problems<ul> <li>beam_analytic<ul> <li>bending_test_analytical</li> <li>post_bending_test_analytical</li> <li>pre_bending_test_analytical</li> <li>reference_dataset_builder</li> <li>run_bending_test_analytical</li> </ul> </li> <li>beam_explicit<ul> <li>analytical_laws</li> <li>reference_dataset_builder</li> </ul> </li> <li>load_cases<ul> <li>beam</li> <li>dummy</li> <li>mock</li> </ul> </li> <li>mock<ul> <li>mock_component<ul> <li>mock_component</li> </ul> </li> <li>mock_convergence<ul> <li>mock_convergence</li> </ul> </li> <li>mock_curves<ul> <li>mock_curves</li> </ul> </li> <li>mock_fields<ul> <li>fields</li> <li>mock_fields</li> </ul> </li> <li>mock_main<ul> <li>mock_model</li> </ul> </li> <li>mock_model_persistent<ul> <li>mock_model_persistent</li> </ul> </li> <li>mock_reference_data</li> <li>output_data</li> </ul> </li> <li>sandbox<ul> <li>models</li> </ul> </li> </ul> </li> <li>storage_management<ul> <li>archive_settings</li> <li>base_archive_storage</li> <li>base_storage_manager</li> <li>certificates</li> <li>dashboard<ul> <li>db_viewer</li> <li>db_viewer_entry_point</li> <li>db_viewer_model</li> </ul> </li> <li>directory_storage</li> <li>mlflow_storage</li> <li>mlflow_ui_entry_point</li> <li>scratch_settings</li> <li>scratch_storage</li> </ul> </li> <li>tools<ul> <li>base_analysis_tool</li> <li>base_composite_tool</li> <li>base_metadata</li> <li>base_result</li> <li>base_settings</li> <li>base_tool</li> <li>bayes<ul> <li>bayes_analysis</li> <li>bayes_analysis_result</li> </ul> </li> <li>calibration<ul> <li>calibration_metrics</li> <li>calibration_step</li> <li>calibration_step_result</li> <li>direct_measure_calibration_step</li> <li>direct_measures_result</li> <li>input_data</li> </ul> </li> <li>design_value<ul> <li>design_value_result</li> <li>design_value_tool</li> </ul> </li> <li>doe<ul> <li>custom_doe</li> <li>doe</li> <li>doe_result</li> </ul> </li> <li>io<ul> <li>base_reader_file</li> <li>dataset_result</li> <li>material_result</li> <li>reader_file_dataframe</li> <li>reader_file_dataset</li> <li>reader_file_result</li> <li>reader_material</li> <li>reader_parameter_space</li> <li>reader_tools_factory</li> </ul> </li> <li>lib<ul> <li>one_at_a_time</li> <li>run_from_yaml</li> <li>space_builder_factory</li> <li>space_builders</li> <li>visualisation<ul> <li>generic_layout</li> <li>identity</li> <li>utils</li> </ul> </li> </ul> </li> <li>metadata</li> <li>mock<ul> <li>mock_tool</li> </ul> </li> <li>model_tool</li> <li>post_tools<ul> <li>base_plot</li> <li>calibration_plots</li> <li>distribution_comparison_plot</li> <li>error_scatter_matrix_plot</li> <li>line_plot</li> <li>metric_bar_plot</li> <li>parallel_coordinates_plot</li> <li>plot_factory</li> <li>plot_parameters</li> <li>plot_result</li> <li>predict_vs_true_plot</li> <li>sensitivity_plot_factory</li> <li>sensitivity_plots</li> <li>verification_case_plots</li> <li>verification_plots</li> </ul> </li> <li>sensitivity<ul> <li>sensitivity</li> <li>sensitivity_result</li> </ul> </li> <li>space<ul> <li>random_variable_interface</li> <li>space_tool</li> <li>space_tool_result</li> </ul> </li> <li>statistics<ul> <li>statistics_result</li> <li>statistics_tool</li> </ul> </li> <li>surrogate<ul> <li>surrogate</li> <li>surrogate_result</li> </ul> </li> <li>tool_results_factory</li> <li>tools_factory</li> <li>validation<ul> <li>test_data</li> <li>validation_point</li> <li>validation_point_reference</li> <li>validation_point_result</li> </ul> </li> <li>validation_case<ul> <li>validation_case</li> <li>validation_case_result</li> </ul> </li> <li>verification<ul> <li>base_verification</li> <li>solution_verification</li> <li>solution_verification_case</li> <li>solution_verification_indicators</li> <li>verification_result</li> <li>verification_vs_data</li> <li>verification_vs_model</li> <li>verification_vs_model_from_parameter_space</li> </ul> </li> </ul> </li> <li>utilities<ul> <li>cache_manipulator</li> <li>cache_viewer</li> <li>curves</li> <li>curves_generator</li> <li>datasets</li> <li>distribution</li> <li>distribution_utils</li> <li>doc<ul> <li>deactivate_examples</li> <li>generate_model_gallery</li> </ul> </li> <li>encoded_to_numerical_vectors</li> <li>failed_imports</li> <li>fields</li> <li>file_utils</li> <li>generate_material_description_table</li> <li>generate_validation_reference</li> <li>json_grammar_utils</li> <li>list_utils</li> <li>loading_component_unitcell</li> <li>metrics<ul> <li>error_metrics</li> </ul> </li> <li>model_data</li> <li>plotting_utils</li> <li>portable_path</li> <li>pytest_conftest</li> <li>sandbox<ul> <li>job_bundle</li> <li>save_parser</li> </ul> </li> <li>sklearn_estimator_wrapper</li> <li>test_utils</li> </ul> </li> <li>workflow<ul> <li>dashboard_workflow</li> <li>dashboard_workflow_model</li> <li>entry_point</li> <li>workflow</li> <li>workflow_executor</li> <li>workflow_step</li> </ul> </li> </ul> </li> </ul>"},{"location":"reference/vimseo/","title":"API","text":""},{"location":"reference/vimseo/#vimseo","title":"vimseo","text":""},{"location":"reference/vimseo/api/","title":"Api","text":""},{"location":"reference/vimseo/api/#vimseo.api","title":"api","text":""},{"location":"reference/vimseo/api/#vimseo.api-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/api/#vimseo.api-classes","title":"Classes","text":""},{"location":"reference/vimseo/api/#vimseo.api-functions","title":"Functions","text":""},{"location":"reference/vimseo/api/#vimseo.api.create_model","title":"create_model","text":"<pre><code>create_model(\n    model_name,\n    load_case_name,\n    model_options: IntegratedModelSettings | None = None,\n    **options\n) -&gt; IntegratedModel\n</code></pre> <p>Create a model from its name.</p> <p>Parameters:</p> <ul> <li> <code>model_name</code>           \u2013            <p>string, name of the model to create (see :meth:<code>~vimseo.api.get_available_models</code> for valid names)</p> </li> <li> <code>load_case_name</code>           \u2013            <p>The name of the load case that the model will execute.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the model.</p> </li> </ul> <p>Returns: An instance of an :class:<code>.IntegratedModel</code>.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def create_model(\n    model_name,\n    load_case_name,\n    model_options: IntegratedModelSettings | None = None,\n    **options,\n) -&gt; IntegratedModel:\n    \"\"\"Create a model from its name.\n\n    Args:\n        model_name: string, name of the model to create\n            (see :meth:`~vimseo.api.get_available_models` for valid names)\n        load_case_name: The name of the load case that the model will execute.\n        options: The options of the model.\n\n    Returns: An instance of an :class:`.IntegratedModel`.\n    \"\"\"\n    if model_options:\n        options = model_options.model_dump()\n    return ModelFactory().create(model_name, load_case_name, **options)\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.get_available_load_cases","title":"get_available_load_cases","text":"<pre><code>get_available_load_cases(model_name: str) -&gt; list[str]\n</code></pre> <p>Find the load cases available for this model.</p> <p>Parameters:</p> <ul> <li> <code>model_name</code>               (<code>str</code>)           \u2013            <p>The model name.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>list[str]</code>           \u2013            <p>The load cases associated with the specified model.</p> </li> </ul> Source code in <code>src/vimseo/api.py</code> <pre><code>def get_available_load_cases(model_name: str) -&gt; list[str]:\n    \"\"\"Find the load cases available for this model.\n\n    Args:\n        model_name: The model name.\n\n    Returns:\n        The load cases associated with the specified model.\n    \"\"\"\n    lc_factory = LoadCaseFactory()\n    model_class = ModelFactory().get_class(model_name)\n    domain = model_class._LOAD_CASE_DOMAIN\n    all_load_case_names = []\n    for class_name in lc_factory.class_names:\n        if domain != \"\" and class_name.startswith(domain):\n            class_name = class_name.removeprefix(f\"{domain}_\")\n        try:\n            lc = lc_factory.create(class_name, domain=domain)\n            all_load_case_names.append(lc.name)\n        except ImportError:\n            continue\n    # Remove duplicate names\n    load_case_names = list(set(all_load_case_names))\n    matching_load_case_names = []\n    for load_case_name in load_case_names:\n        try:\n            create_model(\n                model_name,\n                load_case_name,\n                IntegratedModelSettings(archive_manager=\"DirectoryArchive\"),\n            )\n            matching_load_case_names.append(load_case_name)\n        except (ImportError, AttributeError):\n            continue\n    return sorted(matching_load_case_names)\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.get_available_metrics","title":"get_available_metrics","text":"<pre><code>get_available_metrics()\n</code></pre> <p>The available comparison metrics.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def get_available_metrics():\n    \"\"\"The available comparison metrics.\"\"\"\n    return MetricFactory().class_names\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.get_available_models","title":"get_available_models","text":"<pre><code>get_available_models(load_case: str = '') -&gt; list[str]\n</code></pre> <p>Returns the list of the available models.</p> <p>Parameters:</p> <ul> <li> <code>load_case</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The considered load case. If specified, only the models using this load case are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>list[str]</code>           \u2013            <p>The list of names of the available models.</p> </li> </ul> Source code in <code>src/vimseo/api.py</code> <pre><code>def get_available_models(load_case: str = \"\") -&gt; list[str]:\n    \"\"\"Returns the list of the available models.\n\n    Args:\n        load_case: The considered load case. If specified, only the models\n            using this load case are returned.\n\n    Returns:\n        The list of names of the available models.\n    \"\"\"\n    mf = ModelFactory()\n    model_names = mf.class_names\n    if load_case == \"\":\n        return model_names\n    model_to_lc = {}\n    for model_name in model_names:\n        model_to_lc[model_name] = get_available_load_cases(model_name)\n    models = []\n    for model, load_cases in model_to_lc.items():\n        if load_case in load_cases:\n            models.append(model)\n    return sorted(models)\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.get_available_plots","title":"get_available_plots","text":"<pre><code>get_available_plots()\n</code></pre> <p>The available plots, deriving from <code>Plotter</code>.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def get_available_plots():\n    \"\"\"The available plots, deriving from ``Plotter``.\"\"\"\n    class_names = PlotFactory().class_names\n    class_names.remove(\"Plotter\")\n    return class_names\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.get_available_tools","title":"get_available_tools","text":"<pre><code>get_available_tools()\n</code></pre> <p>The available tools.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def get_available_tools():\n    \"\"\"The available tools.\"\"\"\n    class_names = ToolsFactory().class_names\n    class_names.remove(\"BaseTool\")\n    return class_names\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.print_config","title":"print_config","text":"<pre><code>print_config()\n</code></pre> <p>Returns: representation of the current configuration variables.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def print_config():\n    \"\"\"Returns: representation of the current configuration variables.\"\"\"\n    LOGGER.info(configuration.model_dump())\n</code></pre>"},{"location":"reference/vimseo/api/#vimseo.api.print_config_help","title":"print_config_help","text":"<pre><code>print_config_help()\n</code></pre> <p>Return the help about configuration file.</p> Source code in <code>src/vimseo/api.py</code> <pre><code>def print_config_help():\n    \"\"\"Return the help about configuration file.\"\"\"\n    LOGGER.info(configuration.model_fields)\n</code></pre>"},{"location":"reference/vimseo/config/","title":"Config","text":""},{"location":"reference/vimseo/config/#vimseo.config","title":"config","text":""},{"location":"reference/vimseo/config/base_configuration/","title":"Base configuration","text":""},{"location":"reference/vimseo/config/base_configuration/#vimseo.config.base_configuration","title":"base_configuration","text":""},{"location":"reference/vimseo/config/base_configuration/#vimseo.config.base_configuration-classes","title":"Classes","text":""},{"location":"reference/vimseo/config/base_configuration/#vimseo.config.base_configuration.BaseConfiguration","title":"BaseConfiguration","text":"<p>               Bases: <code>BaseSettings</code></p> <p>Base configuration class for Vimseo.</p>"},{"location":"reference/vimseo/config/base_configuration_factory/","title":"Base configuration factory","text":""},{"location":"reference/vimseo/config/base_configuration_factory/#vimseo.config.base_configuration_factory","title":"base_configuration_factory","text":"<p>A factory of configurations.</p>"},{"location":"reference/vimseo/config/base_configuration_factory/#vimseo.config.base_configuration_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/config/base_configuration_factory/#vimseo.config.base_configuration_factory.BaseConfigurationFactory","title":"BaseConfigurationFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory of configurations.</p>"},{"location":"reference/vimseo/config/config_components/","title":"Config components","text":""},{"location":"reference/vimseo/config/config_components/#vimseo.config.config_components","title":"config_components","text":"<p>Global VIMSEO configuration.</p>"},{"location":"reference/vimseo/config/config_components/#vimseo.config.config_components-classes","title":"Classes","text":""},{"location":"reference/vimseo/config/configuration_settings/","title":"Configuration settings","text":""},{"location":"reference/vimseo/config/configuration_settings/#vimseo.config.configuration_settings","title":"configuration_settings","text":"<p>Global VIMSEO configuration.</p>"},{"location":"reference/vimseo/config/configuration_settings/#vimseo.config.configuration_settings-classes","title":"Classes","text":""},{"location":"reference/vimseo/config/configuration_settings/#vimseo.config.configuration_settings.VimseoSettings","title":"VimseoSettings","text":"<p>               Bases: <code>BaseConfiguration</code></p> <p>Global configuration.</p>"},{"location":"reference/vimseo/config/global_configuration/","title":"Global configuration","text":""},{"location":"reference/vimseo/config/global_configuration/#vimseo.config.global_configuration","title":"global_configuration","text":"<p>Global VIMSEO configuration.</p>"},{"location":"reference/vimseo/config/global_configuration/#vimseo.config.global_configuration-classes","title":"Classes","text":""},{"location":"reference/vimseo/config/global_configuration/#vimseo.config.global_configuration-functions","title":"Functions","text":""},{"location":"reference/vimseo/config/global_configuration/#vimseo.config.global_configuration.to_snake_case","title":"to_snake_case","text":"<pre><code>to_snake_case(camel_case: str) -&gt; str\n</code></pre> <p>Convert a CamelCase name to snake_case name.</p> Source code in <code>src/vimseo/config/global_configuration.py</code> <pre><code>def to_snake_case(camel_case: str) -&gt; str:\n    \"\"\"Convert a CamelCase name to snake_case name.\"\"\"\n    return re.sub(r\"(?&lt;!^)(?=[A-Z])\", \"_\", name).lower()\n</code></pre>"},{"location":"reference/vimseo/core/","title":"Core","text":""},{"location":"reference/vimseo/core/#vimseo.core","title":"core","text":"<p>Core classes : Integrated model, Design value, Calibration, Validity domain.</p>"},{"location":"reference/vimseo/core/base_component/","title":"Base component","text":""},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component","title":"base_component","text":""},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component.BaseComponent","title":"BaseComponent","text":"<pre><code>BaseComponent(\n    load_case_name: str,\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n)\n</code></pre> <p>               Bases: <code>GemseoDisciplineWrapper</code></p> <p>A base component.</p> <p>A <code>IntegratedModel</code> executes a chain of <code>BaseComponent</code>.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str,\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n) -&gt; None:\n    super().__init__()\n    self._load_case_name = load_case_name\n    self._job_directory = \"\"\n\n    # \"\"\"Initialize input grammar and default values from the material.\n\n    # In strict (non-dynamic) mode, the material grammar is hard-coded in a json file.\n    # In dynamic mode, the material grammar is defined from the material, itself being\n    # defined from the json material values file. So the material grammar is generated\n    # from the user-defined material values.\n    # \"\"\"\n\n    if material_grammar_file != \"\":\n        # Dynamic mode\n        # temp_dir = tempfile.TemporaryDirectory()\n        # dir_path = Path(temp_dir.name)\n        # material.to_legacy_json_schema(write=True, dir_path=dir_path)\n        # self.input_grammar.update_from_file(\n        #     dir_path / f\"{material_grammar_file.name}_legacy_grammar.json\"\n        # )\n        # Would be the best solution but error parsing the schema.\n        # self.input_grammar.update_from_schema(\n        #     material_grammar_file.to_legacy_json_schema()\n        # )\n        # temp_dir.cleanup()\n        # Strict mode:\n        self.input_grammar.update_from_file(material_grammar_file)\n\n    if material is not None:\n        self.default_input_data.update({\n            name: atleast_1d(value)\n            for name, value in material.get_values_as_dict().items()\n        })\n</code></pre>"},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component.BaseComponent-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component.BaseComponent.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component.BaseComponent-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/base_component/#vimseo.core.base_component.BaseComponent.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/","title":"Base discipline model","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model","title":"base_discipline_model","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel","title":"BaseDisciplineModel","text":"<pre><code>BaseDisciplineModel(\n    load_case_name: str = \"Dummy\", **options\n)\n</code></pre> <p>               Bases: <code>IntegratedModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/base_discipline_model/#vimseo.core.base_discipline_model.BaseDisciplineModel.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/","title":"Base integrated model","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model","title":"base_integrated_model","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel","title":"IntegratedModel","text":"<pre><code>IntegratedModel(\n    load_case_name: str,\n    components: Iterable[BaseComponent],\n    **options\n)\n</code></pre> <p>               Bases: <code>GemseoDisciplineWrapper</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>components</code>               (<code>Iterable[BaseComponent]</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str,\n    components: Iterable[BaseComponent],\n    **options,\n):\n    options = IntegratedModelSettings(**options).model_dump()\n    self.name = self.__class__.__name__\n    self.__material = (\n        Material.from_json(self.MATERIAL_FILE) if self.MATERIAL_FILE != \"\" else None\n    )\n    self.__load_case = LoadCaseFactory().create(\n        load_case_name, domain=self._LOAD_CASE_DOMAIN\n    )\n\n    if options[\"cache_file_path\"] != \"\":\n        self._cache_file_path = options[\"cache_file_path\"]\n        Path(self._cache_file_path).parent.mkdir(parents=True, exist_ok=True)\n    else:\n        self._cache_file_path = f\"{self.name}_{self.__load_case.name}_cache.hdf\"\n\n    super().__init__(name=self.__class__.__name__)\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n\n    self._job_name = options[\"job_name\"]\n\n    self._run_time = np.nan\n\n    self._datetime = datetime.today()\n\n    self._chain = MDOChain(components)\n\n    self._scratch_manager = DirectoryScratch(\n        root_directory=Path(options[\"directory_scratch_root\"]),\n        persistency=options[\"directory_scratch_persistency\"],\n        job_name=self._job_name,\n        model_name=self.__class__.__name__,\n        load_case_name=self.__load_case.name,\n    )\n\n    archive_options = {\n        \"persistency\": options[\"directory_archive_persistency\"],\n        \"model_name\": self.name,\n        \"load_case_name\": self.__load_case.name,\n        \"root_directory\": Path(options[\"directory_archive_root\"]),\n        \"job_name\": self._job_name,\n        \"persistent_file_names\": [\n            names\n            for c in self._chain.disciplines\n            for names in c._PERSISTENT_FILE_NAMES\n        ],\n    }\n    self._archive_manager = NAME_TO_ARCHIVE_CLASS[options[\"archive_manager\"]](\n        **archive_options\n    )\n\n    output_names = self._chain.disciplines[-1].output_grammar.names\n    self._chain.output_grammar.restrict_to(output_names)\n\n    self.input_grammar = deepcopy(self._chain.input_grammar)\n    self.default_input_data = self._chain.default_input_data\n    for name in self.input_grammar.names:\n        self.input_grammar.required_names.add(name)\n\n    self.output_grammar = deepcopy(self._chain.disciplines[-1].output_grammar)\n    self.output_grammar.update_from_data(DEFAULT_METADATA)\n    for name in DEFAULT_METADATA:\n        self.output_grammar.required_names.add(name)\n    for field_name in self.FIELDS_FROM_FILE:\n        self.output_grammar.update_from_data({field_name: [\"names\"]})\n        self.output_grammar.required_names.add(field_name)\n\n    # Set status to DONE, to avoid being locked in FAILED mode.\n    self._chain._status = ExecutionStatus.Status.DONE\n    for disc in self._chain.disciplines:\n        disc._status = ExecutionStatus.Status.DONE\n\n    # Set cache of internal disciplines to None, such that the model cache\n    # can be deactivated simply with ``model.cache = None``.\n    self._chain.cache = None\n    for disc in self._chain.disciplines:\n        disc.cache = None\n\n    self._component_with_jacobian = self._chain.disciplines[0]\n    # TODO check if integration of jacobian is correct\n    self._set_differentiated_names(self._chain.disciplines[0])\n\n    if isinstance(self._chain.disciplines[0].input_grammar, JSONGrammar):\n        self.lower_bounds, self.upper_bounds, self.input_space = load_input_bounds(\n            self._chain.disciplines[0].input_grammar\n        )\n    else:\n        self.input_space = {}\n        self.lower_bounds = {}\n        self.upper_bounds = {}\n        for name in self._chain.disciplines[0].input_grammar.names:\n            self.lower_bounds[name] = [-inf]\n            self.upper_bounds[name] = [inf]\n            self.input_space[name] = [-inf, inf]\n\n    # Set status to DONE, to avoid being locked in FAILED mode.\n    self.execution_status.value = ExecutionStatus.Status.DONE\n\n    # Reset execution time, otherwise the execution is cumulated over all the\n    # executions of the model instance.\n    self._chain.exec_time = 0.0\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model.IntegratedModel.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/core/base_integrated_model/#vimseo.core.base_integrated_model-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/factory/","title":"Factory","text":""},{"location":"reference/vimseo/core/factory/#vimseo.core.factory","title":"factory","text":""},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/","title":"Gemseo discipline wrapper","text":""},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/#vimseo.core.gemseo_discipline_wrapper","title":"gemseo_discipline_wrapper","text":""},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/#vimseo.core.gemseo_discipline_wrapper-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/#vimseo.core.gemseo_discipline_wrapper.GemseoDisciplineWrapper","title":"GemseoDisciplineWrapper","text":"<p>               Bases: <code>Discipline</code></p> <p>The base class for disciplines.</p> <p>The :meth:<code>.execute</code> method is used to do compute output data from input data. The :meth:<code>.linearize</code> method can be used to compute the Jacobian of the differentiable outputs with respect to differentiated inputs. The :attr:<code>.jac</code> stores this Jacobian. This method can evaluate the true derivatives (default) if the :meth:<code>_compute_jacobian</code> method is implemented or approximated the derivatives, depending on the :attr:<code>.linearization_mode</code> (one of :attr:<code>.LinearizationMode</code>).</p>"},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/#vimseo.core.gemseo_discipline_wrapper.GemseoDisciplineWrapper-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/gemseo_discipline_wrapper/#vimseo.core.gemseo_discipline_wrapper.GemseoDisciplineWrapper.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/","title":"Inputs handler","text":""},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler","title":"inputs_handler","text":"<p>Handling of model default inputs by splitting the input variables by category.</p>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler","title":"InputDataHandler","text":"<pre><code>InputDataHandler(model: IntegratedModel)\n</code></pre> <p>A handler on model default inputs to ease get/set access to model default inputs.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def __init__(self, model: IntegratedModel):\n    self.__model = model\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.get_boundary_condition_data","title":"get_boundary_condition_data","text":"<pre><code>get_boundary_condition_data()\n</code></pre> <p>Get the boundary conditions default data of the model.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def get_boundary_condition_data(self):\n    \"\"\"Get the boundary conditions default data of the model.\"\"\"\n    return self.get_data(self.__model.boundary_condition_variable_names)\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.get_data","title":"get_data","text":"<pre><code>get_data(names: Iterable[str])\n</code></pre> <p>Return a dictionary containing the values corresponding to the names.</p> <p>The values are numbers or strings. Only default inputs being arrays of size equal to one are retained.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def get_data(self, names: Iterable[str]):\n    \"\"\"Return a dictionary containing the values corresponding to the names.\n\n    The values are numbers or strings. Only default inputs being arrays of size equal\n    to one are retained.\n    \"\"\"\n    return {\n        name: (\n            self.__model.default_input_data[name][0]\n            if self.__model.default_input_data[name].size == 1\n            else self.__model.default_input_data[name]\n        )\n        for name in names\n    }\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.get_geometrical_data","title":"get_geometrical_data","text":"<pre><code>get_geometrical_data()\n</code></pre> <p>Get the geometrical default data of the model.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def get_geometrical_data(self):\n    \"\"\"Get the geometrical default data of the model.\"\"\"\n    return self.get_data(self.__model.geometrical_variable_names)\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.get_material_data","title":"get_material_data","text":"<pre><code>get_material_data()\n</code></pre> <p>Get the material default data of the model.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def get_material_data(self):\n    \"\"\"Get the material default data of the model.\"\"\"\n    return self.get_data(self.__model.material_variable_names)\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.get_numerical_data","title":"get_numerical_data","text":"<pre><code>get_numerical_data()\n</code></pre> <p>Get the numerical default data of the model.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def get_numerical_data(self):\n    \"\"\"Get the numerical default data of the model.\"\"\"\n    return self.get_data(self.__model.numerical_variable_names)\n</code></pre>"},{"location":"reference/vimseo/core/inputs_handler/#vimseo.core.inputs_handler.InputDataHandler.set_data","title":"set_data","text":"<pre><code>set_data(data: Mapping[str, Number | str])\n</code></pre> <p>Set the model default inputs.</p> Source code in <code>src/vimseo/core/inputs_handler.py</code> <pre><code>def set_data(self, data: Mapping[str, Number | str]):\n    \"\"\"Set the model default inputs.\"\"\"\n    self.__model.default_input_data.update({\n        name: atleast_1d(value) for name, value in data.items()\n    })\n</code></pre>"},{"location":"reference/vimseo/core/load/","title":"Load","text":""},{"location":"reference/vimseo/core/load/#vimseo.core.load","title":"load","text":""},{"location":"reference/vimseo/core/load/#vimseo.core.load-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/load/#vimseo.core.load.Load","title":"Load  <code>dataclass</code>","text":"<pre><code>Load(\n    direction: LoadDirectionLiteral = \"\",\n    sign: LoadSign = \"\",\n    type: LoadType = \"\",\n)\n</code></pre> <p>The load of a load case.</p>"},{"location":"reference/vimseo/core/load_case/","title":"Load case","text":""},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case","title":"load_case","text":""},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase","title":"LoadCase  <code>dataclass</code>","text":"<pre><code>LoadCase(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>A load case.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names() -&gt; Iterable[str]\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def get_bc_variable_names(self) -&gt; Iterable[str]:\n    \"\"\"The name of the boundary condition variables.\"\"\"\n    return []\n</code></pre>"},{"location":"reference/vimseo/core/load_case/#vimseo.core.load_case.LoadCase.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/core/load_case_factory/","title":"Load case factory","text":""},{"location":"reference/vimseo/core/load_case_factory/#vimseo.core.load_case_factory","title":"load_case_factory","text":""},{"location":"reference/vimseo/core/load_case_factory/#vimseo.core.load_case_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/load_case_factory/#vimseo.core.load_case_factory.LoadCaseFactory","title":"LoadCaseFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Model factory to create the Model from a name or a class.</p>"},{"location":"reference/vimseo/core/load_case_factory/#vimseo.core.load_case_factory.LoadCaseFactory-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/load_case_factory/#vimseo.core.load_case_factory.LoadCaseFactory.create","title":"create","text":"<pre><code>create(\n    load_case_name: str, domain: str = \"\", **options\n) -&gt; LoadCase\n</code></pre> <p>Create a load case.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The name of the load case (its class name).</p> </li> <li> <code>domain</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The domain of the load case.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the load case.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>LoadCase</code>           \u2013            <p>The instance of the class.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>TypeError</code>             \u2013            <p>If the class cannot be instantiated.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case_factory.py</code> <pre><code>def create(\n    self,\n    load_case_name: str,\n    domain: str = \"\",\n    **options,\n) -&gt; LoadCase:\n    \"\"\"Create a load case.\n\n    Args:\n        load_case_name: The name of the load case (its class name).\n        domain: The domain of the load case.\n        **options: The options of the load case.\n    \"\"\"\n    class_name = f\"{domain}_{load_case_name}\" if domain != \"\" else load_case_name\n    dummy_lc = super().create(class_name)\n    json_path = dummy_lc.auto_get_file(\".json\", raise_error=False)\n\n    lc_options = {}\n    if json_path:\n        with pathlib.Path(json_path[0]).open(encoding=\"utf-8\") as f:\n            lc_options = json.load(f)\n\n        if \"plot_parameters\" in lc_options:\n            lc_options[\"plot_parameters\"] = PlotParameters(\n                curves=[\n                    tuple(curve)\n                    for curve in lc_options[\"plot_parameters\"][\"curves\"]\n                    if isinstance(curve, list)\n                ]\n            )\n    lc_options[\"name\"] = load_case_name\n    if domain != \"\":\n        lc_options[\"domain\"] = domain\n\n    cls = self.get_class(class_name)\n    try:\n        return cls(**lc_options)\n    except TypeError:\n        LOGGER.exception(\n            (\"Failed to create class %s with keyword arguments %s.\"),\n            class_name,\n            lc_options,\n        )\n        raise\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/","title":"Model composition","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition","title":"model_composition","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition","title":"ModelComposition","text":"<pre><code>ModelComposition(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>IntegratedModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/model_composition.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n    if \"base_model\" not in options:\n        msg = \"A base_model must be provided to create a ModelComposition.\"\n        raise ImportError(msg)\n\n    model = options.pop(\"base_model\")\n    post_components = (\n        options.pop(\"post_components\") if \"post_components\" in options else []\n    )\n    options = IntegratedModelSettings(**options).model_dump()\n\n    self.base_model = model\n\n    # Rely on base model cache\n    self.cache = None\n\n    full_load_case_name = (\n        f\"{model._LOAD_CASE_DOMAIN}_{load_case_name}\"\n        if model._LOAD_CASE_DOMAIN\n        else load_case_name\n    )\n\n    super().__init__(\n        full_load_case_name,\n        [DisciplineWrapperComponent(full_load_case_name, model), *post_components],\n        **options,\n    )\n\n    self._LOAD_CASE_DOMAIN = model._LOAD_CASE_DOMAIN\n    self.CURVES = model.CURVES\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.CURVES","title":"CURVES  <code>instance-attribute</code>","text":"<pre><code>CURVES = CURVES\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/model_composition/#vimseo.core.model_composition.ModelComposition.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/core/model_description/","title":"Model description","text":""},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description","title":"model_description","text":""},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.BaseDescription","title":"BaseDescription","text":"<p>A dummy base class for ruff to <code>runtime-evaluated-base-classes</code>.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription","title":"ModelDescription  <code>dataclass</code>","text":"<pre><code>ModelDescription(\n    name: str = \"\",\n    summary: str = \"\",\n    load_case: LoadCase = None,\n    dataflow: dict[str, dict[str, list[str]]] = dict(),\n    default_inputs: dict[str, ndarray] = dict(),\n    curves: list[tuple[str]] = (),\n    verbose: bool = False,\n)\n</code></pre> <p>               Bases: <code>BaseDescription</code></p> <p>The description of a model.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription.dataflow","title":"dataflow  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dataflow: dict[str, dict[str, list[str]]] = field(\n    default_factory=dict\n)\n</code></pre> <p>The model dataflow.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription.default_inputs","title":"default_inputs  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>default_inputs: dict[str, ndarray] = field(\n    default_factory=dict\n)\n</code></pre> <p>The model default inputs.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription.load_case","title":"load_case  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load_case: LoadCase = None\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The model name.</p>"},{"location":"reference/vimseo/core/model_description/#vimseo.core.model_description.ModelDescription.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the model .</p>"},{"location":"reference/vimseo/core/model_factory/","title":"Model factory","text":""},{"location":"reference/vimseo/core/model_factory/#vimseo.core.model_factory","title":"model_factory","text":""},{"location":"reference/vimseo/core/model_factory/#vimseo.core.model_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_factory/#vimseo.core.model_factory.ModelFactory","title":"ModelFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Model factory to create the Model from a name or a class.</p>"},{"location":"reference/vimseo/core/model_factory/#vimseo.core.model_factory.ModelFactory-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_factory/#vimseo.core.model_factory.ModelFactory.class_names","title":"class_names  <code>property</code>","text":"<pre><code>class_names: list[str]\n</code></pre> <p>The sorted names of the available classes.</p>"},{"location":"reference/vimseo/core/model_metadata/","title":"Model metadata","text":""},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata","title":"model_metadata","text":""},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData","title":"MetaData  <code>dataclass</code>","text":"<pre><code>MetaData(\n    model: ndarray[str],\n    load_case: ndarray[str],\n    error_code: ndarray[int],\n    description: ndarray[str],\n    job_name: ndarray[str],\n    persistent_result_files: ndarray[str],\n    n_cpus: ndarray[int],\n    date: ndarray[str],\n    cpu_time: ndarray[float],\n    user: ndarray[str],\n    machine: ndarray[str],\n    vims_git_version: ndarray[str],\n    directory_archive_root: ndarray[str],\n    directory_archive_job: ndarray[str],\n    directory_scratch_root: ndarray[str],\n    directory_scratch_job: ndarray[str],\n)\n</code></pre>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.cpu_time","title":"cpu_time  <code>instance-attribute</code>","text":"<pre><code>cpu_time: ndarray[float]\n</code></pre> <p>Execution time of the current job (seconds).</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.date","title":"date  <code>instance-attribute</code>","text":"<pre><code>date: ndarray[str]\n</code></pre> <p>Date of the job execution (at termination).</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.description","title":"description  <code>instance-attribute</code>","text":"<pre><code>description: ndarray[str]\n</code></pre> <p>Free textual description of the current job, for later manual inspection of the archive.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.directory_archive_job","title":"directory_archive_job  <code>instance-attribute</code>","text":"<pre><code>directory_archive_job: ndarray[str]\n</code></pre> <p>Relative path to the current archive folder.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.directory_archive_root","title":"directory_archive_root  <code>instance-attribute</code>","text":"<pre><code>directory_archive_root: ndarray[str]\n</code></pre> <p>Path to the archive root directory.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.directory_scratch_job","title":"directory_scratch_job  <code>instance-attribute</code>","text":"<pre><code>directory_scratch_job: ndarray[str]\n</code></pre> <p>Relative path to the current scratch folder.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.directory_scratch_root","title":"directory_scratch_root  <code>instance-attribute</code>","text":"<pre><code>directory_scratch_root: ndarray[str]\n</code></pre> <p>Path to the scratch root directory.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.error_code","title":"error_code  <code>instance-attribute</code>","text":"<pre><code>error_code: ndarray[int]\n</code></pre> <p>Code of error of the execution.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.job_name","title":"job_name  <code>instance-attribute</code>","text":"<pre><code>job_name: ndarray[str]\n</code></pre> <p>Name of the current job.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.load_case","title":"load_case  <code>instance-attribute</code>","text":"<pre><code>load_case: ndarray[str]\n</code></pre> <p>Name of the load_case.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.machine","title":"machine  <code>instance-attribute</code>","text":"<pre><code>machine: ndarray[str]\n</code></pre> <p>Name of the user which run the current job.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.model","title":"model  <code>instance-attribute</code>","text":"<pre><code>model: ndarray[str]\n</code></pre> <p>Name of the model.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.n_cpus","title":"n_cpus  <code>instance-attribute</code>","text":"<pre><code>n_cpus: ndarray[int]\n</code></pre> <p>Number of CPUs querried for the execution.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.persistent_result_files","title":"persistent_result_files  <code>instance-attribute</code>","text":"<pre><code>persistent_result_files: ndarray[str]\n</code></pre> <p>List of attached persistent result files.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.user","title":"user  <code>instance-attribute</code>","text":"<pre><code>user: ndarray[str]\n</code></pre> <p>Name of the user who launched the current job.</p>"},{"location":"reference/vimseo/core/model_metadata/#vimseo.core.model_metadata.MetaData.vims_git_version","title":"vims_git_version  <code>instance-attribute</code>","text":"<pre><code>vims_git_version: ndarray[str]\n</code></pre> <p>VIMSEO version: ID of the git commit checked-out at execution.</p>"},{"location":"reference/vimseo/core/model_result/","title":"Model result","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result","title":"model_result","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult","title":"ModelResult  <code>dataclass</code>","text":"<pre><code>ModelResult(\n    metadata: ToolResultMetadata | None = None,\n    scalars: ScalarDataType = dict(),\n    vectors: Mapping[str, ndarray] = dict(),\n    curves: Iterable[Curve] = list(),\n    fields: Mapping[\n        str, Iterable[Field | Path | str]\n    ] = dict(),\n    snapshots: Iterable[Path | str] = list(),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a model execution in a user-friendly format.</p> <p>Scalars, vectors, curves and fields are stored separately in ease to handle objects.</p>"},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult.from_data","title":"from_data  <code>classmethod</code>","text":"<pre><code>from_data(\n    model_data: ModelDataType,\n    model: IntegratedModel | None = None,\n    load_fields: bool = False,\n) -&gt; ModelResult\n</code></pre> <p>Create a ModelResult from raw model data.</p> Source code in <code>src/vimseo/core/model_result.py</code> <pre><code>@classmethod\ndef from_data(\n    cls,\n    model_data: ModelDataType,\n    model: IntegratedModel | None = None,\n    load_fields: bool = False,\n) -&gt; ModelResult:\n    \"\"\"Create a ModelResult from raw model data.\"\"\"\n\n    archive_manager = DirectoryArchive(\n        PersistencyPolicy.DELETE_ALWAYS,\n        \"\",\n        \"\",\n    )\n    archive_result = archive_manager._prepare_archive_result(model_data)\n    model = (\n        model\n        if model is not None\n        else create_model(\n            archive_result[\"metadata\"][\"model\"],\n            archive_result[\"metadata\"][\"load_case\"],\n        )\n    )\n    result = ModelResult()\n    result.metadata.model = model.description\n    for name in MetaDataNames:\n        result.metadata.report[name] = archive_result[\"metadata\"][name]\n    data = dict(archive_result[\"inputs\"], **archive_result[\"outputs\"])\n    for variables in model.curves:\n        curve = Curve({\n            variables[0]: data[variables[0]],\n            variables[1]: data[variables[1]],\n        })\n        result.curves.append(curve)\n    for variable_names in data:\n        if variable_names not in [\n            name for curve_names in model.curves for name in curve_names\n        ] + list(MetaDataNames):\n            if isinstance(data[variable_names], ndarray):\n                result.vectors[variable_names] = data[variable_names]\n            else:\n                result.scalars[variable_names] = data[variable_names]\n\n    for field_name in model.FIELDS_FROM_FILE:\n        result.fields[field_name] = [\n            (\n                Field.load(\n                    Path(\n                        archive_result[\"metadata\"][\n                            MetaDataNames.directory_archive_job\n                        ]\n                    )\n                    / file_name\n                )\n                if load_fields\n                else file_name\n            )\n            for file_name in atleast_1d(data[field_name])\n        ]\n\n    return result\n</code></pre>"},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result.ModelResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/core/model_result/#vimseo.core.model_result-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/model_settings/","title":"Model settings","text":""},{"location":"reference/vimseo/core/model_settings/#vimseo.core.model_settings","title":"model_settings","text":""},{"location":"reference/vimseo/core/model_settings/#vimseo.core.model_settings-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/model_settings/#vimseo.core.model_settings-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/model_settings/#vimseo.core.model_settings.IntegratedModelSettings","title":"IntegratedModelSettings","text":"<p>               Bases: <code>BaseArchiveSettings</code>, <code>DirectoryScratchSettings</code></p> <p>The options of the <code>IntegratedModel</code> constructor.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/","title":"Pre run post model","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model","title":"pre_run_post_model","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel","title":"PreRunPostModel","text":"<pre><code>PreRunPostModel(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>IntegratedModel</code></p> <p>A model chaining a pre-processor, a run-processor, and a post-processor.</p> <p>An <code>PreRunPostModel</code> contains three :class:<code>~.ExternalSoftwareComponent</code>: The model execution is basically the sequenced execution of these three chained components.</p> <p>The description of the components is done through the following class attributes: * <code>PRE_PROC_FAMILY</code> * <code>RUN_FAMILY</code> * <code>POST_PROC_FAMILY</code> For instance, PRE_PROC_FAMILY = \"PreStraightBeam\" corresponds to the preprocessor family of the analytical beam model <code>StraightBeamModel</code>. If this model is instantiated for the <code>Cantilever</code> load case, the model preprocessor class is <code>PreStraightBeam_Cantilever</code> according to the naming convention <code>{PRE_PROC_FAMILY}_{load_case}</code> (and similarly for the postprocessor).</p> <p>For FE models using a user subroutine, the list of subroutines used is defined in class attribute <code>SUBROUTINE_NAMES</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n\n    options = IntegratedModelSettings(**options).model_dump()\n    material = (\n        Material.from_json(self.MATERIAL_FILE) if self.MATERIAL_FILE != \"\" else None\n    )\n\n    component_factory = ComponentFactory()\n\n    run_processor = component_factory.create(\n        self.RUN_FAMILY,\n        material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n        material=material,\n        check_subprocess=options[\"check_subprocess\"],\n    )\n    self._subroutine_names = deepcopy(self.SUBROUTINES_NAMES)\n    for sub_name in self._subroutine_names:\n        run_processor.subroutine_list.append(\n            SubroutineWrapperFactory().create(sub_name)\n        )\n\n    load_case = LoadCaseFactory().create(\n        load_case_name, domain=self._LOAD_CASE_DOMAIN\n    )\n    components = [\n        component_factory.create(\n            self.PRE_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n            material=material,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n        run_processor,\n        component_factory.create(\n            self.POST_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n    ]\n\n    # run component has its grammar defined from pre and post components:\n    components[1].input_grammar = deepcopy(components[0].output_grammar)\n    components[1].input_grammar.update(components[0].input_grammar)\n    components[1].output_grammar = deepcopy(components[2].input_grammar)\n\n    super().__init__(load_case_name, components, **options)\n\n    self._pre_processor = self._chain.disciplines[0]\n    self._run_processor = self._chain.disciplines[1]\n    self._post_processor = self._chain.disciplines[2]\n\n    self._component_with_jacobian = self.run\n    self._set_differentiated_names(self.run)\n\n    self.run.job_executor._user_job_options.update({\"n_cpus\": self.N_CPUS})\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.N_CPUS","title":"N_CPUS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>N_CPUS = 1\n</code></pre> <p>The default number of cpus used to run the model.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.POST_PROC_FAMILY","title":"POST_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>POST_PROC_FAMILY = None\n</code></pre> <p>The prefix of the post-processor class name.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.PRE_PROC_FAMILY","title":"PRE_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>PRE_PROC_FAMILY = None\n</code></pre> <p>The prefix of the pre-processor class name (typically <code>MyPre</code> for a pre- processor class named <code>MyPre_MyLoadCase</code>).</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.RUN_FAMILY","title":"RUN_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>RUN_FAMILY = None\n</code></pre> <p>The prefix of the run-processor class name.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.SUBROUTINES_NAMES","title":"SUBROUTINES_NAMES  <code>class-attribute</code>","text":"<pre><code>SUBROUTINES_NAMES: Sequence[str] = []\n</code></pre> <p>The names of the subroutines.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.run","title":"run  <code>property</code>","text":"<pre><code>run: RunProcessor\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = super().get_dataflow()\n    dataflow[\"subroutine_names\"] = self._subroutine_names\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/pre_run_post_model/#vimseo.core.pre_run_post_model.PreRunPostModel.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/core/components/","title":"Components","text":""},{"location":"reference/vimseo/core/components/#vimseo.core.components","title":"components","text":""},{"location":"reference/vimseo/core/components/component_factory/","title":"Component factory","text":""},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory","title":"component_factory","text":""},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory.ComponentFactory","title":"ComponentFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>BaseComponent factory to create a component from a name or a class.</p>"},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory.ComponentFactory-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory.ComponentFactory.SEP","title":"SEP  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SEP = '_'\n</code></pre> <p>The character used to separate the BaseComponent name from the loadcase.</p>"},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory.ComponentFactory-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/component_factory/#vimseo.core.components.component_factory.ComponentFactory.create","title":"create","text":"<pre><code>create(\n    base_class_name: str,\n    load_case_name: str = \"\",\n    **options: Any\n) -&gt; Any\n</code></pre> <p>Return an instance of a class.</p> <p>Parameters:</p> <ul> <li> <code>base_class_name</code>               (<code>str</code>)           \u2013            <p>The name of the family class of component to create.</p> </li> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the load case.</p> </li> <li> <code>**options</code>               (<code>Any</code>, default:                   <code>{}</code> )           \u2013            <p>The arguments to be passed to the class constructor.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Any</code>           \u2013            <p>The instance of the class.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>TypeError</code>             \u2013            <p>If the class cannot be instantiated.</p> </li> </ul> Source code in <code>src/vimseo/core/components/component_factory.py</code> <pre><code>def create(\n    self,\n    base_class_name: str,\n    load_case_name: str = \"\",\n    **options: Any,\n) -&gt; Any:\n    \"\"\"Return an instance of a class.\n\n    Args:\n        base_class_name: The name of the family class of component to create.\n        load_case_name: The name of the load case.\n        **options: The arguments to be passed to the class constructor.\n\n    Returns:\n        The instance of the class.\n\n    Raises:\n        TypeError: If the class cannot be instantiated.\n    \"\"\"\n\n    if base_class_name is None:\n        return None\n\n    if load_case_name == \"\":\n        class_name = base_class_name\n    else:\n        class_name = base_class_name + self.SEP + load_case_name\n\n    try:\n        klass = self.get_class(class_name)\n        return klass(load_case_name=load_case_name, **options)\n    except TypeError:\n        LOGGER.exception(\n            \"Failed to create class %s with arguments %s %s\",\n            base_class_name,\n            load_case_name,\n            options,\n        )\n</code></pre>"},{"location":"reference/vimseo/core/components/discipline_wrapper_component/","title":"Discipline wrapper component","text":""},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component","title":"discipline_wrapper_component","text":""},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component.DisciplineWrapperComponent","title":"DisciplineWrapperComponent","text":"<pre><code>DisciplineWrapperComponent(\n    load_case_name: str, discipline: Discipline\n)\n</code></pre> <p>               Bases: <code>BaseComponent</code></p> <p>A component that wraps a GEMSEO discipline.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>discipline</code>               (<code>Discipline</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/discipline_wrapper_component.py</code> <pre><code>def __init__(self, load_case_name: str, discipline: Discipline):\n    super().__init__(load_case_name)\n\n    self._discipline = discipline\n    self.input_grammar = discipline.input_grammar\n    self.output_grammar = deepcopy(discipline.output_grammar)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n</code></pre>"},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component.DisciplineWrapperComponent-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component.DisciplineWrapperComponent.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component.DisciplineWrapperComponent-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/discipline_wrapper_component/#vimseo.core.components.discipline_wrapper_component.DisciplineWrapperComponent.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/components/external_software_component/","title":"External software component","text":""},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component","title":"external_software_component","text":""},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent","title":"ExternalSoftwareComponent","text":"<pre><code>ExternalSoftwareComponent(\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n)\n</code></pre> <p>               Bases: <code>BaseComponent</code></p> <p>A component to execute an external software.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n) -&gt; None:\n    super().__init__(load_case_name, material_grammar_file, material)\n    self._job_executor = BaseJobExecutor(\"\")\n    self._check_subprocess = check_subprocess\n    self._attached_files = []\n</code></pre>"},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/core/components/external_software_component/#vimseo.core.components.external_software_component.ExternalSoftwareComponent.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/components/library_file/","title":"Library file","text":""},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file","title":"library_file","text":""},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file.LibraryFile","title":"LibraryFile  <code>dataclass</code>","text":"<pre><code>LibraryFile(\n    package_name: Path | str = \"vimseo\",\n    file_path: Path | str = \"\",\n)\n</code></pre> <p>A file contained in the library (e.g. lib_vims).</p>"},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file.LibraryFile-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file.LibraryFile.file_path","title":"file_path  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>file_path: Path | str = ''\n</code></pre> <p>The path to the file relative to the library.</p>"},{"location":"reference/vimseo/core/components/library_file/#vimseo.core.components.library_file.LibraryFile.package_name","title":"package_name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>package_name: Path | str = 'vimseo'\n</code></pre> <p>The name of the package containing the library.</p> <p>The library naming convention is \"lib_{package_name}\".</p>"},{"location":"reference/vimseo/core/components/post/","title":"Post","text":""},{"location":"reference/vimseo/core/components/post/#vimseo.core.components.post","title":"post","text":""},{"location":"reference/vimseo/core/components/post/post_processor/","title":"Post processor","text":""},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor","title":"post_processor","text":""},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor","title":"PostProcessor","text":"<pre><code>PostProcessor(**options)\n</code></pre> <p>               Bases: <code>ExternalSoftwareComponent</code></p> <p>Class defining library of components dedicated to post-processing.</p> <p>_run method to be overloaded.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/components/post/post_processor/#vimseo.core.components.post.post_processor.PostProcessor.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/core/components/pre/","title":"Pre","text":""},{"location":"reference/vimseo/core/components/pre/#vimseo.core.components.pre","title":"pre","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/","title":"Pre processor","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor","title":"pre_processor","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor","title":"PreProcessor","text":"<pre><code>PreProcessor(**options)\n</code></pre> <p>               Bases: <code>ExternalSoftwareComponent</code></p> <p>Class defining library of components dedicated to pre-processing.</p> <p>_run method to be overloaded.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/pre/pre_processor.py</code> <pre><code>def __init__(self, **options) -&gt; None:\n    \"\"\"\n    Args:\n        material_grammar_file: The ``json`` file defining the material parameters.\n        material: The material.\n    \"\"\"\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = True\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/core/components/pre/pre_processor/#vimseo.core.components.pre.pre_processor.PreProcessor.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/components/run/","title":"Run","text":""},{"location":"reference/vimseo/core/components/run/#vimseo.core.components.run","title":"run","text":""},{"location":"reference/vimseo/core/components/run/run_processor/","title":"Run processor","text":""},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor","title":"run_processor","text":""},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor","title":"RunProcessor","text":"<pre><code>RunProcessor(**options)\n</code></pre> <p>               Bases: <code>ExternalSoftwareComponent</code></p> <p>Class defining library of components dedicated to running models.</p> <p>_run method to be overloaded.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/run/run_processor.py</code> <pre><code>def __init__(self, **options):\n    \"\"\"\n    Args:\n        material: The material.\n    \"\"\"\n    super().__init__(**options)\n    self.subroutine_list = []\n    self._job_executor = BaseJobExecutor(\"\")\n    self._user_job_options = BaseUserJobSettings()\n</code></pre>"},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs used to run the external software.</p>"},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor.subroutine_list","title":"subroutine_list  <code>instance-attribute</code>","text":"<pre><code>subroutine_list: list[SubroutineWrapper] = []\n</code></pre> <p>A list of subroutines.</p>"},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor-functions","title":"Functions","text":""},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/core/components/run/run_processor/#vimseo.core.components.run.run_processor.RunProcessor.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/core/components/subroutines/","title":"Subroutines","text":""},{"location":"reference/vimseo/core/components/subroutines/#vimseo.core.components.subroutines","title":"subroutines","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper/","title":"Subroutine wrapper","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper/#vimseo.core.components.subroutines.subroutine_wrapper","title":"subroutine_wrapper","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper/#vimseo.core.components.subroutines.subroutine_wrapper-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper/#vimseo.core.components.subroutines.subroutine_wrapper.SubroutineWrapper","title":"SubroutineWrapper","text":"<pre><code>SubroutineWrapper()\n</code></pre> <p>A wrapper for user subroutines.</p> Source code in <code>src/vimseo/core/components/subroutines/subroutine_wrapper.py</code> <pre><code>def __init__(self):\n    if not self._SUBROUTINE_PATH:\n        msg = \"A subroutine file must be defined.\"\n        raise ValueError(msg)\n</code></pre>"},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper_factory/","title":"Subroutine wrapper factory","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper_factory/#vimseo.core.components.subroutines.subroutine_wrapper_factory","title":"subroutine_wrapper_factory","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper_factory/#vimseo.core.components.subroutines.subroutine_wrapper_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/core/components/subroutines/subroutine_wrapper_factory/#vimseo.core.components.subroutines.subroutine_wrapper_factory.SubroutineWrapperFactory","title":"SubroutineWrapperFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>SubroutineWrapper factory to create a subroutine wrapper from a name or a class.</p>"},{"location":"reference/vimseo/direct_measures/","title":"Direct measures","text":""},{"location":"reference/vimseo/direct_measures/#vimseo.direct_measures","title":"direct_measures","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/","title":"Curve measure","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure","title":"curve_measure","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure-classes","title":"Classes","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.BaseCurveMeasure","title":"BaseCurveMeasure","text":"<p>               Bases: <code>BaseDirectMeasure</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.BaseCurveMeasure-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.BaseCurveMeasure.compute","title":"compute  <code>abstractmethod</code>","text":"<pre><code>compute(a: Curve) -&gt; float\n</code></pre> <p>An abstract method for computing a direct measure on a curve.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>Curve</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/curve_measure.py</code> <pre><code>@abstractmethod\ndef compute(self, a: Curve) -&gt; float:\n    \"\"\"An abstract method for computing a direct measure on a curve.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.DummyModulus","title":"DummyModulus","text":"<p>               Bases: <code>BaseCurveMeasure</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.DummyModulus-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.DummyModulus.compute","title":"compute","text":"<pre><code>compute(a: Curve) -&gt; float\n</code></pre> <p>An abstract method for computing a direct measure on a curve.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>Curve</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/curve_measure.py</code> <pre><code>def compute(self, a: Curve) -&gt; float:\n    return self.IMPOSED_MODULUS\n</code></pre>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.MaxStrength","title":"MaxStrength","text":"<p>               Bases: <code>BaseCurveMeasure</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.MaxStrength-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.MaxStrength.compute","title":"compute","text":"<pre><code>compute(a: Curve) -&gt; float\n</code></pre> <p>An abstract method for computing a direct measure on a curve.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>Curve</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/curve_measure.py</code> <pre><code>def compute(self, a: Curve) -&gt; float:\n    return a.y[-1]\n</code></pre>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.Modulus1050","title":"Modulus1050","text":"<p>               Bases: <code>BaseCurveMeasure</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.Modulus1050-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.Modulus1050.compute","title":"compute","text":"<pre><code>compute(a: Curve) -&gt; float\n</code></pre> <p>An abstract method for computing a direct measure on a curve.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>Curve</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/curve_measure.py</code> <pre><code>def compute(self, a: Curve) -&gt; float:\n    stress = a.y\n    max_stress = np_max(np_abs(stress))\n    return local_slope_computation(\n        a.x,\n        stress,\n        y_min=0.10 * max_stress,\n        y_max=0.50 * max_stress,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.ModulusE005E025","title":"ModulusE005E025","text":"<p>               Bases: <code>BaseCurveMeasure</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.ModulusE005E025-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure.ModulusE005E025.compute","title":"compute","text":"<pre><code>compute(a: Curve) -&gt; float\n</code></pre> <p>An abstract method for computing a direct measure on a curve.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>Curve</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>float</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/curve_measure.py</code> <pre><code>def compute(self, a: Curve) -&gt; float:\n    return local_slope_computation(\n        a.x, a.y, x_min=0.0005, x_max=0.0025, method=\"average\"\n    )\n</code></pre>"},{"location":"reference/vimseo/direct_measures/curve_measure/#vimseo.direct_measures.curve_measure-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/direct_measure/","title":"Direct measure","text":""},{"location":"reference/vimseo/direct_measures/direct_measure/#vimseo.direct_measures.direct_measure","title":"direct_measure","text":"<p>A base direct measure class to compare two quantities.</p>"},{"location":"reference/vimseo/direct_measures/direct_measure/#vimseo.direct_measures.direct_measure-classes","title":"Classes","text":""},{"location":"reference/vimseo/direct_measures/direct_measure/#vimseo.direct_measures.direct_measure.BaseDirectMeasure","title":"BaseDirectMeasure","text":"<p>               Bases: <code>Generic[_InputT, _OutputT]</code></p> <p>A base class to implement metrics.</p> <p>A metric is used to compare two quantities <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/direct_measures/direct_measure/#vimseo.direct_measures.direct_measure.BaseDirectMeasure-functions","title":"Functions","text":""},{"location":"reference/vimseo/direct_measures/direct_measure/#vimseo.direct_measures.direct_measure.BaseDirectMeasure.compute","title":"compute  <code>abstractmethod</code>","text":"<pre><code>compute(a: _InputT) -&gt; _OutputT\n</code></pre> <p>Evaluate the direct measure.</p> <p>Parameters:</p> <ul> <li> <code>a</code>               (<code>_InputT</code>)           \u2013            <p>A quantity.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>_OutputT</code>           \u2013            <p>The direct measure on <code>a</code>.</p> </li> </ul> Source code in <code>src/vimseo/direct_measures/direct_measure.py</code> <pre><code>@abstractmethod\ndef compute(self, a: _InputT) -&gt; _OutputT:\n    \"\"\"Evaluate the direct measure.\n\n    Args:\n        a: A quantity.\n\n    Returns:\n        The direct measure on ``a``.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/direct_measures/direct_measure_factory/","title":"Direct measure factory","text":""},{"location":"reference/vimseo/direct_measures/direct_measure_factory/#vimseo.direct_measures.direct_measure_factory","title":"direct_measure_factory","text":"<p>A factory of direct measures.</p>"},{"location":"reference/vimseo/direct_measures/direct_measure_factory/#vimseo.direct_measures.direct_measure_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/direct_measures/direct_measure_factory/#vimseo.direct_measures.direct_measure_factory.DirectMeasureFactory","title":"DirectMeasureFactory","text":"<p>               Bases: <code>BaseFactory[BaseDirectMeasure[Any, Any]]</code></p> <p>A factory of direct measures.</p>"},{"location":"reference/vimseo/io/","title":"Io","text":""},{"location":"reference/vimseo/io/#vimseo.io","title":"io","text":""},{"location":"reference/vimseo/io/base_tool_io/","title":"Base tool io","text":""},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io","title":"base_tool_io","text":""},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io-classes","title":"Classes","text":""},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io.BaseToolFileIO","title":"BaseToolFileIO","text":"<p>A base class to handle reading and writing tool results.</p>"},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io.BaseToolFileIO-functions","title":"Functions","text":""},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io.BaseToolFileIO.read","title":"read  <code>abstractmethod</code>","text":"<pre><code>read(\n    file_name: str | Path, directory_path: str | Path = \"\"\n) -&gt; Any\n</code></pre> <p>Read a result.</p> Source code in <code>src/vimseo/io/base_tool_io.py</code> <pre><code>@abstractmethod\ndef read(self, file_name: str | Path, directory_path: str | Path = \"\") -&gt; Any:\n    \"\"\"Read a result.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/io/base_tool_io/#vimseo.io.base_tool_io.BaseToolFileIO.write","title":"write  <code>abstractmethod</code>","text":"<pre><code>write(\n    data: Any,\n    file_base_name: str | Path = \"\",\n    directory_path: str | Path = \"\",\n) -&gt; dict\n</code></pre> <p>Write a result.</p> Source code in <code>src/vimseo/io/base_tool_io.py</code> <pre><code>@abstractmethod\ndef write(\n    self,\n    data: Any,\n    file_base_name: str | Path = \"\",\n    directory_path: str | Path = \"\",\n) -&gt; dict:\n    \"\"\"Write a result.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/io/io_factory/","title":"Io factory","text":""},{"location":"reference/vimseo/io/io_factory/#vimseo.io.io_factory","title":"io_factory","text":""},{"location":"reference/vimseo/io/io_factory/#vimseo.io.io_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/io/io_factory/#vimseo.io.io_factory.IOFactory","title":"IOFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Analysis tool factory to create an analysis tool from a name or a class.</p>"},{"location":"reference/vimseo/io/space_io/","title":"Space io","text":""},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io","title":"space_io","text":""},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io-classes","title":"Classes","text":""},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io.SpaceToolFileIO","title":"SpaceToolFileIO","text":"<p>               Bases: <code>BaseToolFileIO</code></p> <p>A base class to handle reading and writing tool results.</p>"},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io.SpaceToolFileIO-functions","title":"Functions","text":""},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io.SpaceToolFileIO.read","title":"read","text":"<pre><code>read(\n    file_name: str | Path, directory_path: str | Path = \"\"\n) -&gt; SpaceToolResult\n</code></pre> <p>Read a space tool result.</p> <p>Parameters:</p> <ul> <li> <code>file_name</code>               (<code>str | Path</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/io/space_io.py</code> <pre><code>def read(\n    self, file_name: str | Path, directory_path: str | Path = \"\"\n) -&gt; SpaceToolResult:\n    \"\"\"Read a space tool result.\"\"\"\n\n    if Path(file_name).suffix != self._EXTENSION:\n        msg = f\"{self.__class__.__name__} requires the file suffix to be {self._EXTENSION}.\"\n        raise ValueError(msg)\n    file_path = (\n        file_name if directory_path == \"\" else Path(directory_path) / file_name\n    )\n    with Path(file_path).open() as f:\n        data = json.load(f)\n\n    result = SpaceToolResult()\n    result.parameter_space = ParameterSpace()\n    result.metadata = self.create_metadata(data)\n    result.parameter_space = self.create_parameter_space(data)\n    return result\n</code></pre>"},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io.SpaceToolFileIO.read_buffer","title":"read_buffer","text":"<pre><code>read_buffer(buf: BinaryIO | TextIO) -&gt; SpaceToolResult\n</code></pre> <p>Read a space tool result.</p> Source code in <code>src/vimseo/io/space_io.py</code> <pre><code>def read_buffer(self, buf: BinaryIO | TextIO) -&gt; SpaceToolResult:\n    \"\"\"Read a space tool result.\"\"\"\n\n    data = json.loads(buf)\n\n    result = SpaceToolResult()\n    result.parameter_space = ParameterSpace()\n    result.metadata = self.create_metadata(data)\n    result.parameter_space = self.create_parameter_space(data)\n    return result\n</code></pre>"},{"location":"reference/vimseo/io/space_io/#vimseo.io.space_io.SpaceToolFileIO.write","title":"write","text":"<pre><code>write(\n    result: SpaceToolResult,\n    file_base_name: str | Path = \"\",\n    directory_path: str | Path = \"\",\n) -&gt; dict\n</code></pre> <p>Write a result.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SpaceToolResult</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>file_base_name</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/io/space_io.py</code> <pre><code>def write(\n    self,\n    result: SpaceToolResult,\n    file_base_name: str | Path = \"\",\n    directory_path: str | Path = \"\",\n) -&gt; dict:\n    data = {\n        \"parameter_space\": self._serialize_distribution_parameters(\n            result.parameter_space\n        ),\n        \"metadata\": result.metadata,\n    }\n    json_data = json.dumps(\n        data,\n        ensure_ascii=True,\n        indent=4,\n        cls=EnhancedJSONEncoderModelWrapper,\n    )\n\n    if file_base_name == \"\":\n        LOGGER.warning(\"No base file name provided, no file is written.\")\n        return json_data\n\n    if file_base_name != \"\":\n        directory_path = (\n            Path.cwd() if directory_path == \"\" else Path(directory_path)\n        )\n        file_path = directory_path / f\"{file_base_name}{self._EXTENSION}\"\n        Path(file_path).write_text(json_data)\n\n    return json_data\n</code></pre>"},{"location":"reference/vimseo/io/test_data/","title":"Test data","text":""},{"location":"reference/vimseo/io/test_data/#vimseo.io.test_data","title":"test_data","text":""},{"location":"reference/vimseo/io/test_data/dataset/","title":"Dataset","text":""},{"location":"reference/vimseo/io/test_data/dataset/#vimseo.io.test_data.dataset","title":"dataset","text":""},{"location":"reference/vimseo/io/test_data/space_tool/","title":"Space tool","text":""},{"location":"reference/vimseo/io/test_data/space_tool/#vimseo.io.test_data.space_tool","title":"space_tool","text":""},{"location":"reference/vimseo/job_executor/","title":"Job executor","text":""},{"location":"reference/vimseo/job_executor/#vimseo.job_executor","title":"job_executor","text":""},{"location":"reference/vimseo/job_executor/base_executor/","title":"Base executor","text":""},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor","title":"base_executor","text":"<p>A base job executor.</p>"},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor.BaseJobExecutor","title":"BaseJobExecutor","text":"<pre><code>BaseJobExecutor(command_template: str)\n</code></pre> <p>A base job executor.</p> Source code in <code>src/vimseo/job_executor/base_executor.py</code> <pre><code>def __init__(self, command_template: str):\n    self._command_line = \"\"\n    self._n_used_tokens = 0\n    self._is_blocking_subprocess = self._IS_BLOCKING_SUBPROCESS\n    self._command_template = (\n        command_template if command_template != \"\" else self._COMMAND_TEMPLATE\n    )\n    self._job_name = \"\"\n    self._job_directory = \"\"\n    self._convergence_log_length = 0\n    self._job_options = None\n    self._user_job_options = self._USER_JOB_OPTIONS_MODEL().model_dump()\n</code></pre>"},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor.BaseJobExecutor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor.BaseJobExecutor.DEFAULT_EXECUTABLE","title":"DEFAULT_EXECUTABLE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_EXECUTABLE = ''\n</code></pre> <p>The default executable name.</p>"},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor.BaseJobExecutor-functions","title":"Functions","text":""},{"location":"reference/vimseo/job_executor/base_executor/#vimseo.job_executor.base_executor.BaseJobExecutor.execute","title":"execute","text":"<pre><code>execute(check_subprocess: bool = False)\n</code></pre> <p>Execute a job.</p> <p>Parameters:</p> <ul> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to raise an error in case of subprocess failure.</p> </li> </ul> Source code in <code>src/vimseo/job_executor/base_executor.py</code> <pre><code>def execute(\n    self,\n    check_subprocess: bool = False,\n):\n    \"\"\"Execute a job.\n\n    Args:\n        check_subprocess: Whether to raise an error in case of subprocess failure.\n    \"\"\"\n    self._command_line = self._replace_in_command_line(self._command_template)\n    return self._execute_external_software(\n        self._command_line.split(), check_subprocess\n    )\n</code></pre>"},{"location":"reference/vimseo/job_executor/base_interactive_executor/","title":"Base interactive executor","text":""},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor","title":"base_interactive_executor","text":"<p>A base class to define interactive job executors.</p>"},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor.BaseInteractiveExecutor","title":"BaseInteractiveExecutor","text":"<pre><code>BaseInteractiveExecutor(command_template: str)\n</code></pre> <p>               Bases: <code>BaseJobExecutor</code></p> <p>A base interactive job executor.</p> Source code in <code>src/vimseo/job_executor/base_executor.py</code> <pre><code>def __init__(self, command_template: str):\n    self._command_line = \"\"\n    self._n_used_tokens = 0\n    self._is_blocking_subprocess = self._IS_BLOCKING_SUBPROCESS\n    self._command_template = (\n        command_template if command_template != \"\" else self._COMMAND_TEMPLATE\n    )\n    self._job_name = \"\"\n    self._job_directory = \"\"\n    self._convergence_log_length = 0\n    self._job_options = None\n    self._user_job_options = self._USER_JOB_OPTIONS_MODEL().model_dump()\n</code></pre>"},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor.BaseInteractiveExecutor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor.BaseInteractiveExecutor.DEFAULT_EXECUTABLE","title":"DEFAULT_EXECUTABLE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_EXECUTABLE = ''\n</code></pre> <p>The default executable name.</p>"},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor.BaseInteractiveExecutor-functions","title":"Functions","text":""},{"location":"reference/vimseo/job_executor/base_interactive_executor/#vimseo.job_executor.base_interactive_executor.BaseInteractiveExecutor.execute","title":"execute","text":"<pre><code>execute(check_subprocess: bool = False)\n</code></pre> <p>Execute a job.</p> <p>Parameters:</p> <ul> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to raise an error in case of subprocess failure.</p> </li> </ul> Source code in <code>src/vimseo/job_executor/base_executor.py</code> <pre><code>def execute(\n    self,\n    check_subprocess: bool = False,\n):\n    \"\"\"Execute a job.\n\n    Args:\n        check_subprocess: Whether to raise an error in case of subprocess failure.\n    \"\"\"\n    self._command_line = self._replace_in_command_line(self._command_template)\n    return self._execute_external_software(\n        self._command_line.split(), check_subprocess\n    )\n</code></pre>"},{"location":"reference/vimseo/job_executor/base_job_options/","title":"Base job options","text":""},{"location":"reference/vimseo/job_executor/base_job_options/#vimseo.job_executor.base_job_options","title":"base_job_options","text":"<p>The job options (user and internal) for all the executors.</p>"},{"location":"reference/vimseo/job_executor/base_job_options/#vimseo.job_executor.base_job_options-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/base_job_options/#vimseo.job_executor.base_job_options.BaseJobSettings","title":"BaseJobSettings","text":"<p>               Bases: <code>BaseUserJobSettings</code></p> <p>The options of a job execution.</p> <p>They extend the user job options <code>BaseUserJobSettings</code> with options used internally, and that are known at model execution like the job directory.</p>"},{"location":"reference/vimseo/job_executor/base_user_job_options/","title":"Base user job options","text":""},{"location":"reference/vimseo/job_executor/base_user_job_options/#vimseo.job_executor.base_user_job_options","title":"base_user_job_options","text":"<p>The user job options for all job executors.</p>"},{"location":"reference/vimseo/job_executor/base_user_job_options/#vimseo.job_executor.base_user_job_options-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/base_user_job_options/#vimseo.job_executor.base_user_job_options.BaseUserJobSettings","title":"BaseUserJobSettings","text":"<p>               Bases: <code>BaseSettings</code></p> <p>The base user job options.</p>"},{"location":"reference/vimseo/job_executor/job_executor_factory/","title":"Job executor factory","text":""},{"location":"reference/vimseo/job_executor/job_executor_factory/#vimseo.job_executor.job_executor_factory","title":"job_executor_factory","text":"<p>A factory of job executors.</p>"},{"location":"reference/vimseo/job_executor/job_executor_factory/#vimseo.job_executor.job_executor_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/job_executor_factory/#vimseo.job_executor.job_executor_factory.JobExecutorFactory","title":"JobExecutorFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory of job executors.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/","title":"Job scheduler","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/#vimseo.job_executor.job_scheduler","title":"job_scheduler","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/","title":"Base job scheduler executor","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor","title":"base_job_scheduler_executor","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor-classes","title":"Classes","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor","title":"BaseJobSchedulerExecutor","text":"<pre><code>BaseJobSchedulerExecutor(command_template: str)\n</code></pre> <p>               Bases: <code>BaseJobExecutor</code></p> <p>A base executor for submitting jobs through a job scheduler.</p> Source code in <code>src/vimseo/job_executor/job_scheduler/base_job_scheduler_executor.py</code> <pre><code>def __init__(self, command_template: str):\n    super().__init__(command_template)\n    self._job_scheduler_job_directory = \"\"\n    self._job_id = -1\n</code></pre>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.DEFAULT_EXECUTABLE","title":"DEFAULT_EXECUTABLE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_EXECUTABLE = ''\n</code></pre> <p>The default executable name.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.ENV_FILENAME","title":"ENV_FILENAME  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ENV_FILENAME = ''\n</code></pre> <p>The name of the file defining the environment for the job scheduler.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.EXECUTABLE_PATH","title":"EXECUTABLE_PATH  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>EXECUTABLE_PATH = ''\n</code></pre> <p>The path to the executable.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.LICENSE_SERVER_ADDRESS","title":"LICENSE_SERVER_ADDRESS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>LICENSE_SERVER_ADDRESS = ''\n</code></pre> <p>The address of the license server.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.job_scheduler_job_directory","title":"job_scheduler_job_directory  <code>property</code>","text":"<pre><code>job_scheduler_job_directory\n</code></pre> <p>The path to the job directory generated by the job scheduler.</p>"},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor-functions","title":"Functions","text":""},{"location":"reference/vimseo/job_executor/job_scheduler/base_job_scheduler_executor/#vimseo.job_executor.job_scheduler.base_job_scheduler_executor.BaseJobSchedulerExecutor.execute","title":"execute","text":"<pre><code>execute(check_subprocess: bool = False)\n</code></pre> <p>Execute a job.</p> <p>Parameters:</p> <ul> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to raise an error in case of subprocess failure.</p> </li> </ul> Source code in <code>src/vimseo/job_executor/base_executor.py</code> <pre><code>def execute(\n    self,\n    check_subprocess: bool = False,\n):\n    \"\"\"Execute a job.\n\n    Args:\n        check_subprocess: Whether to raise an error in case of subprocess failure.\n    \"\"\"\n    self._command_line = self._replace_in_command_line(self._command_template)\n    return self._execute_external_software(\n        self._command_line.split(), check_subprocess\n    )\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/","title":"Lib vimseo","text":""},{"location":"reference/vimseo/lib_vimseo/#vimseo.lib_vimseo","title":"lib_vimseo","text":""},{"location":"reference/vimseo/lib_vimseo/solver_utilities/","title":"Solver utilities","text":""},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities","title":"solver_utilities","text":"<p>Utility functions for solver interaction.</p>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities-functions","title":"Functions","text":""},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.get_metadata_txt","title":"get_metadata_txt","text":"<pre><code>get_metadata_txt()\n</code></pre> <p>Generate metadata as string (time stamp + user).</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def get_metadata_txt():\n    \"\"\"Generate metadata as string (time stamp + user).\"\"\"\n    return (\n        \"## Generated the \" + time_stamper_full_text() + \"   by  \" + getpass.getuser()\n    )\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.import_json_inputs","title":"import_json_inputs","text":"<pre><code>import_json_inputs(json_input_file)\n</code></pre> <p>Base function importing job input parameters from a JSON file</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def import_json_inputs(json_input_file):\n    \"\"\"Base function importing job input parameters from a JSON file\"\"\"\n\n    # TODO factorise this function wih load_job_arguments()\n\n    with open(json_input_file, 'r') as input_file:\n        inputs = json.loads(input_file.read())\n        for k, v in inputs.items():\n            if isinstance(v, unicode):  # noqa: F821\n                # unicode strings are casted into strings\n                inputs[k] = str(v)\n            if isinstance(v, (list, type(np.array([0.0])))):\n                # np.array with only one element is unpacked into a scalar\n                if len(v) == 1:\n                    inputs[k] = v[0]\n                    if isinstance(v[0], unicode):  # noqa: F821\n                        # unicode strings are casted into strings\n                        inputs[k] = str(v[0])\n                elif len(v) == 0:\n                    msg = \"Error - empty input value for the following input key: \"\n                    raise ValueError(msg, k)\n\n        return inputs\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.load_job_arguments","title":"load_job_arguments","text":"<pre><code>load_job_arguments()\n</code></pre> <p>Load json file containing arguments for Abaqus. List are casted to Numpy arrays, and unicode strings are casted to strings.</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def load_job_arguments():\n    \"\"\"Load json file containing arguments for Abaqus.\n    List are casted to Numpy arrays, and unicode strings are casted to strings.\"\"\"\n\n    arguments = json.load(open(ARG_FILE))\n    for k, v in arguments.items():\n        if isinstance(v, list):\n            arguments[k] = array(v)\n        if isinstance(v, unicode):  # noqa: F821\n            arguments[k] = str(arguments[k])\n    return arguments\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.local_slope_computation","title":"local_slope_computation","text":"<pre><code>local_slope_computation(\n    x_curve,\n    y_curve,\n    x_min=None,\n    x_max=None,\n    y_min=None,\n    y_max=None,\n    method=\"regression\",\n)\n</code></pre> <p>Computes the slope (y over x) of the curve (x_curve;y_curve) in the segment [x_min;x_max] or [y_min;y_max].</p> Args <p>x_curve: [list] vector of x_values y_curve: [list] vector of y values x_min: [float] initial value of the x-interval where to compute the slope x_max: [float] final   value of the x-interval where to compute the slope y_min: [float] initial value of the y-interval where to compute the slope y_max: [float] final   value of the y-interval where to compute the slope method:[str] \"regression\" or \"average\"</p> <p>Examples:     &gt;&gt;&gt; modulus_e005_e025 = local_slope_computation(     ...     strain_history, stress_history, x_min=0.0005, x_max=0.0025, method=\"average\"     ... )     &gt;&gt;&gt; modulus_10_50 = local_slope_computation(     ...     strain_history,     ...     stress_history,     ...     x_min=0.10 * strain_fail,     ...     x_max=0.50 * strain_fail,     ...     method=\"regression\",     ... ) Returns:     modulus: [float] the local computed slope</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def local_slope_computation(\n    x_curve,\n    y_curve,\n    x_min=None,\n    x_max=None,\n    y_min=None,\n    y_max=None,\n    method=\"regression\",\n):\n    \"\"\"Computes the slope (y over x) of the curve (x_curve;y_curve) in the segment [x_min;x_max] or [y_min;y_max].\n\n    Args :\n        x_curve: [list] vector of x_values\n        y_curve: [list] vector of y values\n        x_min: [float] initial value of the x-interval where to compute the slope\n        x_max: [float] final   value of the x-interval where to compute the slope\n        y_min: [float] initial value of the y-interval where to compute the slope\n        y_max: [float] final   value of the y-interval where to compute the slope\n        method:[str] \"regression\" or \"average\"\n    Examples:\n        &gt;&gt;&gt; modulus_e005_e025 = local_slope_computation(\n        ...     strain_history, stress_history, x_min=0.0005, x_max=0.0025, method=\"average\"\n        ... )\n        &gt;&gt;&gt; modulus_10_50 = local_slope_computation(\n        ...     strain_history,\n        ...     stress_history,\n        ...     x_min=0.10 * strain_fail,\n        ...     x_max=0.50 * strain_fail,\n        ...     method=\"regression\",\n        ... )\n    Returns:\n        modulus: [float] the local computed slope\n    \"\"\"\n\n    if x_min is not None and x_max is not None and y_min is None and y_max is None:\n        z_curve, z_min, z_max = x_curve, x_min, x_max\n    elif x_min is None and x_max is None and y_min is not None and y_max is not None:\n        z_curve, z_min, z_max = y_curve, y_min, y_max\n    else:\n        # if not ((x_min is None and x_max is None) or (y_min is None and y_max is None)):\n        msg = \"Either (x_min and x_max) or (y_min and y_max) should not be None\"\n        raise ValueError(msg)\n\n    if method == \"regression\":  # linear regression\n        list_indexes = [\n            i\n            for i in range(len(z_curve))\n            if abs(z_min) &lt;= abs(z_curve[i]) &lt;= abs(z_max)\n        ]\n\n        if len(list_indexes) &lt; 2:\n            return np.nan  # not enough point for linear regression\n\n        # compute stiffness by linear regression\n        x = [x_curve[j] for j in list_indexes]\n        y = [y_curve[j] for j in list_indexes]\n\n        x_ponderate = np.vstack([x, np.ones(len(x))]).T\n        modulus, _c = np.linalg.lstsq(x_ponderate, y, rcond=-1)[0]\n\n    elif method == \"average\":  # basic slope between two extreme points\n        x_min_found, x_max_found, y_min_found, y_max_found = (\n            np.nan,\n            np.nan,\n            np.nan,\n            np.nan,\n        )\n        for i in range(len(z_curve)):\n            if abs(z_curve[i]) &gt;= abs(z_min):\n                x_min_found = x_curve[i]\n                y_min_found = y_curve[i]\n                break\n        for j in range(i + 1, len(z_curve)):\n            x_max_found = x_curve[j]\n            y_max_found = y_curve[j]\n            if abs(z_curve[j]) &gt;= abs(z_max):\n                break\n\n        modulus = (y_max_found - y_min_found) / (x_max_found - x_min_found)\n    else:\n        msg = \"Unexpected value for resolution method: \"\n        raise ValueError(msg, method)\n\n    return modulus\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.time_stamper_formatted","title":"time_stamper_formatted","text":"<pre><code>time_stamper_formatted()\n</code></pre> <p>Generate a string time stamp, meant for suffixing folder names.</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def time_stamper_formatted():\n    \"\"\"Generate a string time stamp, meant for suffixing folder names.\"\"\"\n    return time_stamper_full_text().replace(\":\", \"-\").replace(\" \", \"_\")\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.time_stamper_full_text","title":"time_stamper_full_text","text":"<pre><code>time_stamper_full_text()\n</code></pre> <p>Generate a string time stamp, meant for text prints.</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def time_stamper_full_text():\n    \"\"\"Generate a string time stamp, meant for text prints.\"\"\"\n    return str(datetime.datetime.now())[0:19]\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.write_job_arguments_to_file","title":"write_job_arguments_to_file","text":"<pre><code>write_job_arguments_to_file(argument_file, data)\n</code></pre> <p>Write a json file containing the parameters for the external solver.</p> <p><code>data</code> can contain Dataclasses and NumPy arrays.</p> <p>Parameters:</p> <ul> <li> <code>argument_file</code>           \u2013            <p>The path to the json file containing the arguments for the solver.</p> </li> <li> <code>data</code>           \u2013            <p>A dictionary containing the parameters necessary for the Abaqus script.</p> </li> </ul> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def write_job_arguments_to_file(argument_file, data):\n    \"\"\"Write a json file containing the parameters for the external solver.\n\n    ``data`` can contain Dataclasses and NumPy arrays.\n\n    Args:\n        argument_file: The path to the json file containing the arguments for the solver.\n        data: A dictionary containing the parameters necessary for the Abaqus script.\n\n    \"\"\"\n    with open(argument_file, \"w\") as f:\n        json.dump(dict(data), f, cls=EnhancedJSONEncoderModelWrapper)\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.write_job_outputs_csv_exhaustive","title":"write_job_outputs_csv_exhaustive","text":"<pre><code>write_job_outputs_csv_exhaustive(\n    output_file, dict_scalars, dict_curves\n)\n</code></pre> <p>Write an exhaustive CSV output file based on scalars and curves outputs, formated for human reading.</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def write_job_outputs_csv_exhaustive(output_file, dict_scalars, dict_curves):\n    \"\"\"Write an exhaustive CSV output file based on scalars and curves outputs,\n    formated for human reading.\"\"\"\n\n    with open(output_file, 'w') as f:\n        f.write(get_metadata_txt())\n\n        # Writing the scalars in the text file\n        f.write(\"\\n########################################################\\n\")\n        for key, value in dict_scalars.items():\n            value_format = \"{0:.3f}\".format(value) if isinstance(value, float) else value\n            f.write(key + \" = \" + str(value_format) + \"\\n\")\n\n        # Writing the curves in the text file\n        f.write(\"########################################################\\n\")\n        for key in dict_curves:\n            f.write(key + \" ; \")\n        f.write(\"\\n\")\n        max_len = max(len(v) for k, v in dict_curves.items())\n        for i in range(max_len):\n            for key in dict_curves:\n                if i &lt; len(dict_curves[key]):\n                    formated_text = \"{0:.6f}\".format(dict_curves[key][i])\n                    f.write(formated_text)\n\n                f.write(\";\")\n\n            f.write(\"\\n\")\n        f.close()\n</code></pre>"},{"location":"reference/vimseo/lib_vimseo/solver_utilities/#vimseo.lib_vimseo.solver_utilities.write_json_dict","title":"write_json_dict","text":"<pre><code>write_json_dict(output_file, dict_outputs)\n</code></pre> <p>Dumps a dict of outputs (scalars and curves) into a local json file Args:     output_file: name of the JSON file to dump the data into (e.g.     \"job_arguments.json\")     dict_outputs: dictionnary of data to be dumped into the json file</p> Source code in <code>src/vimseo/lib_vimseo/solver_utilities.py</code> <pre><code>def write_json_dict(output_file, dict_outputs):\n    \"\"\"Dumps a dict of outputs (scalars and curves) into a local json file\n    Args:\n        output_file: name of the JSON file to dump the data into (e.g.\n        \"job_arguments.json\")\n        dict_outputs: dictionnary of data to be dumped into the json file\n    \"\"\"\n    with open(output_file, 'w') as f:\n        f.write(json.dumps(dict_outputs, indent=4))\n</code></pre>"},{"location":"reference/vimseo/material/","title":"Material","text":""},{"location":"reference/vimseo/material/#vimseo.material","title":"material","text":""},{"location":"reference/vimseo/material/material/","title":"Material","text":""},{"location":"reference/vimseo/material/material/#vimseo.material.material","title":"material","text":"<p>Formalisation of a material.</p> <p>A material is composed of properties. At instantiation of a material, a validation of the arguments passed to Material  constructor is automatically done (via Pydantic.dataclasses).</p>"},{"location":"reference/vimseo/material/material/#vimseo.material.material-classes","title":"Classes","text":""},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material","title":"Material","text":"<p>               Bases: <code>BaseJsonIO</code></p> <p>A stochastic material.</p> <p>It can be used as a deterministic material, where the properties have a given value. Probability distribution can be associated to some material properties, such that a probabilistic parameter space can be defined from this material.</p>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.name_to_property","title":"name_to_property  <code>property</code>","text":"<pre><code>name_to_property\n</code></pre> <p>The mapping between property names and the corresponding property.</p>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.properties","title":"properties  <code>property</code>","text":"<pre><code>properties\n</code></pre> <p>The material properties.</p>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.uncertain_variables","title":"uncertain_variables  <code>property</code>","text":"<pre><code>uncertain_variables\n</code></pre> <p>The names of the variables to which a distribution (not the default empty one) is associated.</p>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material-functions","title":"Functions","text":""},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.get_property","title":"get_property","text":"<pre><code>get_property(relation_name: str, property_name: str)\n</code></pre> <p>Get a material property in a given material relation.</p> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def get_property(self, relation_name: str, property_name: str):\n    \"\"\"Get a material property in a given material relation.\"\"\"\n    material_relations = [\n        mat_rel\n        for mat_rel in self.material_relations\n        if mat_rel.name == relation_name\n    ]\n    if len(material_relations) != 1:\n        msg = f\"No material relation with name {relation_name}.\"\n        raise ValueError(msg)\n    properties = [\n        prop\n        for prop in material_relations[0].properties\n        if prop.name == property_name\n    ]\n    if len(properties) != 1:\n        msg = (\n            f\"No material property with name {property_name} found in \"\n            f\"material relation {relation_name}.\"\n        )\n        raise ValueError(msg)\n    return properties[0]\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.get_values_as_dict","title":"get_values_as_dict","text":"<pre><code>get_values_as_dict() -&gt; Mapping[str, float]\n</code></pre> <p>Return the material property values as a mapping.</p> <p>Return: A mapping of property name to their value.</p> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def get_values_as_dict(self) -&gt; Mapping[str, float]:\n    \"\"\"Return the material property values as a mapping.\n\n    Return: A mapping of property name to their value.\n    \"\"\"\n    return {\n        prop.name: prop.value\n        for material_relation in self.material_relations\n        for prop in material_relation.properties\n    }\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.to_json_schema","title":"to_json_schema","text":"<pre><code>to_json_schema(\n    dir_path: Path | str = \"\", file_name: str = \"\"\n) -&gt; None\n</code></pre> <p>Write the material as a JSON schema.</p> <p>The JSON schema is a full translation of the Pydantic model.</p> <p>Parameters:</p> <ul> <li> <code>dir_path</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The directory path under which to write the JSON file. By default, the current working directory is considered.</p> </li> <li> <code>file_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the JSON schema file. By default, the name is the material name suffixed by <code>_grammar</code>.</p> </li> </ul> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def to_json_schema(self, dir_path: Path | str = \"\", file_name: str = \"\") -&gt; None:\n    \"\"\"Write the material as a JSON schema.\n\n    The JSON schema is a full translation of the Pydantic model.\n\n    Args:\n        dir_path: The directory path under which to write the JSON file.\n            By default, the current working directory is considered.\n        file_name: The name of the JSON schema file.\n            By default, the name is the material name suffixed by ``_grammar``.\n    \"\"\"\n    dir_path = Path.cwd() if dir_path == \"\" else dir_path\n    file_path = f\"{self.name}_grammar.json\" if file_name == \"\" else file_name\n    json_schema = json.dumps(self.model_json_schema(), indent=4)\n    Path(dir_path / file_path).write_text(json_schema)\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.to_legacy_json_schema","title":"to_legacy_json_schema","text":"<pre><code>to_legacy_json_schema(\n    write: bool = False,\n    dir_path: Path | str = \"\",\n    file_name: str = \"\",\n) -&gt; None\n</code></pre> <p>Write the material as a legacy JSON schema.</p> <p>The legacy JSON schema (as used before 21/08/2024 to define a material) is a simplified version of the full Pydantic model. It contains only the material property type and bounds, if defined.</p> <p>Parameters:</p> <ul> <li> <code>dir_path</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The directory path under which to write the JSON file. By default, the current working directory is considered.</p> </li> <li> <code>file_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the JSON schema file. By default, the name is the material name suffixed by <code>_grammar</code>.</p> </li> </ul> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def to_legacy_json_schema(\n    self, write: bool = False, dir_path: Path | str = \"\", file_name: str = \"\"\n) -&gt; None:\n    \"\"\"Write the material as a legacy JSON schema.\n\n    The legacy JSON schema (as used before 21/08/2024 to define a material)\n    is a simplified version of the full Pydantic model.\n    It contains only the material property type and bounds, if defined.\n\n    Args:\n        dir_path: The directory path under which to write the JSON file.\n            By default, the current working directory is considered.\n        file_name: The name of the JSON schema file.\n            By default, the name is the material name suffixed by ``_grammar``.\n    \"\"\"\n    fields = {}\n    for mat_rel in self.material_relations:\n        for prop in mat_rel.properties:\n            fields[prop.name] = (\n                list[confloat(le=prop.upper_bound, ge=prop.lower_bound)],\n                Field(description=prop.description),\n            )\n    model = create_model(f\"{self.name}Legacy\", **fields)\n    json_schema = model.model_json_schema()\n    if write:\n        dir_path = Path.cwd() if dir_path == \"\" else dir_path\n        file_name = (\n            f\"{self.name}_legacy_grammar.json\" if file_name == \"\" else file_name\n        )\n        Path(dir_path / file_name).write_text(json.dumps(json_schema, indent=4))\n    return json_schema\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.to_parameter_space","title":"to_parameter_space","text":"<pre><code>to_parameter_space(variable_names: Iterable[str] = ())\n</code></pre> <p>Return the material as a parameter space.</p> <p>The parameter space contains only the uncertain variables.</p> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def to_parameter_space(self, variable_names: Iterable[str] = ()):\n    \"\"\"Return the material as a parameter space.\n\n    The parameter space contains only the uncertain variables.\n    \"\"\"\n    variable_names = (\n        self.uncertain_variables if len(variable_names) == 0 else variable_names\n    )\n    parameter_space = ParameterSpace()\n    for prop in self.properties:\n        if prop.name in variable_names:\n            if prop.name in self.uncertain_variables:\n                parameter_space.add_random_variable(\n                    prop.name,\n                    f\"OT{prop.distribution.name}Distribution\",\n                    settings=prop.distribution,\n                )\n            else:\n                parameter_space.add_variable(\n                    name=prop.name,\n                    value=prop.value,\n                    lower_bound=prop.lower_bound,\n                    upper_bound=prop.upper_bound,\n                )\n    return parameter_space\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.update_from_dict","title":"update_from_dict","text":"<pre><code>update_from_dict(\n    values: Mapping[str, Number], relation_name: str = \"\"\n)\n</code></pre> <p>Update the properties from a dictionary of property name to values.</p> <p>If the property is stochastic, the mean value of the distribution is made equal to the new value, keeping other distribution parameters equal.</p> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def update_from_dict(self, values: Mapping[str, Number], relation_name: str = \"\"):\n    \"\"\"Update the properties from a dictionary of property name to values.\n\n    If the property is stochastic, the mean value of the distribution is made equal\n    to the new value, keeping other distribution parameters equal.\n    \"\"\"\n\n    material_relations = (\n        self.material_relations\n        if relation_name == \"\"\n        else [\n            mat_rel\n            for mat_rel in self.material_relations\n            if mat_rel.name == relation_name\n        ]\n    )\n    for name, value in values.items():\n        for material_relation in material_relations:\n            for prop in material_relation.properties:\n                if prop.name == name:\n                    prop.value = value\n                    # TODO identify uncertain properties in another way than by\n                    #  this indirect check\n                    if prop.distribution.name != \"\":\n                        if prop.distribution.name == \"Normal\":\n                            prop.distribution.sigma *= value / prop.distribution.mu\n                            prop.distribution.mu = value\n                        elif prop.distribution.name == \"Uniform\":\n                            pass\n                            # delta = value - 0.5 * (\n                            #     prop.distribution.upper + prop.distribution.lower\n                            # )\n                            # prop.distribution.lower += delta\n                            # prop.distribution.upper += delta\n                        else:\n                            msg = (\n                                f\"Only deterministic, Normal and Uniform distributions \"\n                                f\"properties can be updated. \"\n                                f\"You are trying to update \"\n                                f\"variable {prop.name} having a \"\n                                f\"{prop.distribution.name} distribution.\"\n                            )\n                            raise ValueError(msg)\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material.Material.update_from_parameter_space","title":"update_from_parameter_space","text":"<pre><code>update_from_parameter_space(\n    parameter_space: ParameterSpace,\n)\n</code></pre> <p>Set distributions of properties from a parameter space.</p> Note <p>The deterministic values are not updated.</p> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def update_from_parameter_space(self, parameter_space: ParameterSpace):\n    \"\"\"Set distributions of properties from a parameter space.\n\n    Note:\n        The deterministic values are not updated.\n    \"\"\"\n    name_to_property = {\n        prop.name: prop\n        for mat_rel in self.material_relations\n        for prop in mat_rel.properties\n    }\n    for name, distribution in parameter_space.distributions.items():\n        if name in name_to_property:\n            p = name_to_property[name]\n            distribution = DistributionParameters(\n                **distribution.marginals[0].settings\n            )\n            p.distribution = distribution\n            p.distribution.lower_bound = p.lower_bound\n            p.distribution.upper_bound = p.upper_bound\n</code></pre>"},{"location":"reference/vimseo/material/material/#vimseo.material.material-functions","title":"Functions","text":""},{"location":"reference/vimseo/material/material/#vimseo.material.material.create_material_from_legacy_grammar","title":"create_material_from_legacy_grammar","text":"<pre><code>create_material_from_legacy_grammar(\n    material_name: str,\n    file_path: Path,\n    default_values: Mapping[str:float] | None = None,\n)\n</code></pre> <p>A util function to create a material from a legacy material JSON grammar (approach used before 21/08/2024).</p> <p>Parameters:</p> <ul> <li> <code>material_name</code>               (<code>str</code>)           \u2013            <p>The name of the material. Only used when exporting the new material.</p> </li> <li> <code>file_path</code>               (<code>Path</code>)           \u2013            <p>The path to the legacy JSON grammar file.</p> </li> <li> <code>default_values</code>               (<code>Mapping[str:float] | None</code>, default:                   <code>None</code> )           \u2013            <p>A mapping of variable name to the default material property value. If default values are defined in the JSON grammar, they are considered but are updated by <code>default_values</code>.</p> </li> </ul> Source code in <code>src/vimseo/material/material.py</code> <pre><code>def create_material_from_legacy_grammar(\n    material_name: str,\n    file_path: Path,\n    default_values: Mapping[str:float] | None = None,\n):\n    \"\"\"A util function to create a material from a legacy material JSON grammar (approach\n    used before 21/08/2024).\n\n    Args:\n        material_name: The name of the material.\n            Only used when exporting the new material.\n        file_path: The path to the legacy JSON grammar file.\n        default_values: A mapping of variable name\n            to the default material property value.\n            If default values are defined in the JSON grammar, they are considered\n            but are updated by ``default_values``.\n    \"\"\"\n    material_relation_to_names = None\n    grammar = JSONGrammar(\"material\")\n    grammar.update_from_file(file_path)\n    lower_bounds, upper_bounds, input_space = load_input_bounds(grammar)\n    default_values_ = load_default_inputs(grammar)\n    if default_values is not None:\n        default_values_.update(default_values)\n    if not material_relation_to_names:\n        properties = []\n        for name in input_space:\n            lower_bound = lower_bounds.get(name, -DEFAULT_MIN_MAX)\n            upper_bound = upper_bounds.get(name, DEFAULT_MIN_MAX)\n            properties.append(\n                MaterialProperty(\n                    name=name,\n                    lower_bound=lower_bound,\n                    upper_bound=upper_bound,\n                    value=default_values_[name],\n                )\n            )\n\n        mat_rel = MaterialRelation(\n            name=\"DefaultMaterialRelation\", properties=properties\n        )\n    return Material(name=material_name, material_relations=[mat_rel])\n</code></pre>"},{"location":"reference/vimseo/material/material_property/","title":"Material property","text":""},{"location":"reference/vimseo/material/material_property/#vimseo.material.material_property","title":"material_property","text":"<p>A material property.</p>"},{"location":"reference/vimseo/material/material_property/#vimseo.material.material_property-classes","title":"Classes","text":""},{"location":"reference/vimseo/material/material_property/#vimseo.material.material_property.MaterialProperty","title":"MaterialProperty","text":"<p>               Bases: <code>BaseModel</code></p> <p>A material property.</p>"},{"location":"reference/vimseo/material/material_property/#vimseo.material.material_property.MaterialProperty-functions","title":"Functions","text":""},{"location":"reference/vimseo/material/material_property/#vimseo.material.material_property.MaterialProperty.model_post_init","title":"model_post_init","text":"<pre><code>model_post_init(__context: Any) -&gt; None\n</code></pre> <p>Set the distribution bounds equal to the property bounds.</p> Source code in <code>src/vimseo/material/material_property.py</code> <pre><code>def model_post_init(self, __context: Any) -&gt; None:\n    \"\"\"Set the distribution bounds equal to the property bounds.\"\"\"\n    if self.distribution:\n        self.distribution.lower_bound = self.lower_bound\n        self.distribution.upper_bound = self.upper_bound\n</code></pre>"},{"location":"reference/vimseo/material/material_relation/","title":"Material relation","text":""},{"location":"reference/vimseo/material/material_relation/#vimseo.material.material_relation","title":"material_relation","text":"<p>A material relation.</p> <p>The use ontology is based on https://emmo-repo.github.io/versions/1.0.0-beta/emmo.html</p>"},{"location":"reference/vimseo/material/material_relation/#vimseo.material.material_relation-classes","title":"Classes","text":""},{"location":"reference/vimseo/material/material_relation/#vimseo.material.material_relation.MaterialRelation","title":"MaterialRelation","text":"<p>               Bases: <code>BaseJsonIO</code></p> <p>A material relation.</p>"},{"location":"reference/vimseo/material/material_relation/#vimseo.material.material_relation.MaterialRelation-functions","title":"Functions","text":""},{"location":"reference/vimseo/material/material_relation/#vimseo.material.material_relation.MaterialRelation.get_card","title":"get_card","text":"<pre><code>get_card() -&gt; str\n</code></pre> <p>Return a card for a mechanical solver.</p> Source code in <code>src/vimseo/material/material_relation.py</code> <pre><code>def get_card(self) -&gt; str:\n    \"\"\"Return a card for a mechanical solver.\"\"\"\n    return \"\"\n</code></pre>"},{"location":"reference/vimseo/material/metadata/","title":"Metadata","text":""},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata","title":"metadata","text":"<p>A metadata attached to a material relation.</p>"},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata-classes","title":"Classes","text":""},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata","title":"MaterialMetadata  <code>dataclass</code>","text":"<pre><code>MaterialMetadata(\n    generic: dict = dict(),\n    misc: dict = dict(),\n    author: str = \"\",\n    source: str = \"\",\n)\n</code></pre> <p>               Bases: <code>BaseMetadata</code></p> <p>A metadata attached to a material relation.</p>"},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata.author","title":"author  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>author: str = ''\n</code></pre> <p>The author of the calibrated material relation.</p>"},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata.generic","title":"generic  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>generic: dict = field(default_factory=dict)\n</code></pre> <p>Generic metadata like data, time and |v| version.</p>"},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata.misc","title":"misc  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>misc: dict = field(default_factory=dict)\n</code></pre> <p>Miscellaneous.</p>"},{"location":"reference/vimseo/material/metadata/#vimseo.material.metadata.MaterialMetadata.source","title":"source  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>source: str = ''\n</code></pre> <p>A description of the source of daa used to calibrate this material relation.</p>"},{"location":"reference/vimseo/material/test_references/","title":"Test references","text":""},{"location":"reference/vimseo/material/test_references/#vimseo.material.test_references","title":"test_references","text":""},{"location":"reference/vimseo/material_lib/","title":"Material lib","text":""},{"location":"reference/vimseo/material_lib/#vimseo.material_lib","title":"material_lib","text":""},{"location":"reference/vimseo/problems/","title":"Problems","text":""},{"location":"reference/vimseo/problems/#vimseo.problems","title":"problems","text":""},{"location":"reference/vimseo/problems/beam_analytic/","title":"Beam analytic","text":""},{"location":"reference/vimseo/problems/beam_analytic/#vimseo.problems.beam_analytic","title":"beam_analytic","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/","title":"Bending test analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical","title":"bending_test_analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical","title":"BendingTestAnalytical","text":"<pre><code>BendingTestAnalytical(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>PreRunPostModel</code></p> <p>This model represents a straight beam subjected to different bending load cases and boundary conditions. It is based on Bernouilli hypothesis.</p> <p>Possible load cases are: - Cantilever: clamped at one end, and displacement applied on the beam according to the relative_dplt_location attribute. - ThreePoints: displacement applied on the beam according to the relative_dplt_location attribute and support location according to the relative_support_location attribute.</p> <p>Input parameters are geometry of the section, Young's modulus, length of the beam, the relative displacement location, the relative support location (for the ThreePoints load case) and the load case name.</p> <p>Output parameters are the maximum displacement in the direction of the loading, the location of this maximum displacement, the maximum reaction forces, the displacement and the moment fields and the displacement at the maximum reaction forces.</p> <p>We suppose that positive force is upwards. The imposed displacement is downwards.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n\n    options = IntegratedModelSettings(**options).model_dump()\n    material = (\n        Material.from_json(self.MATERIAL_FILE) if self.MATERIAL_FILE != \"\" else None\n    )\n\n    component_factory = ComponentFactory()\n\n    run_processor = component_factory.create(\n        self.RUN_FAMILY,\n        material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n        material=material,\n        check_subprocess=options[\"check_subprocess\"],\n    )\n    self._subroutine_names = deepcopy(self.SUBROUTINES_NAMES)\n    for sub_name in self._subroutine_names:\n        run_processor.subroutine_list.append(\n            SubroutineWrapperFactory().create(sub_name)\n        )\n\n    load_case = LoadCaseFactory().create(\n        load_case_name, domain=self._LOAD_CASE_DOMAIN\n    )\n    components = [\n        component_factory.create(\n            self.PRE_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n            material=material,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n        run_processor,\n        component_factory.create(\n            self.POST_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n    ]\n\n    # run component has its grammar defined from pre and post components:\n    components[1].input_grammar = deepcopy(components[0].output_grammar)\n    components[1].input_grammar.update(components[0].input_grammar)\n    components[1].output_grammar = deepcopy(components[2].input_grammar)\n\n    super().__init__(load_case_name, components, **options)\n\n    self._pre_processor = self._chain.disciplines[0]\n    self._run_processor = self._chain.disciplines[1]\n    self._post_processor = self._chain.disciplines[2]\n\n    self._component_with_jacobian = self.run\n    self._set_differentiated_names(self.run)\n\n    self.run.job_executor._user_job_options.update({\"n_cpus\": self.N_CPUS})\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = [\n    (\"dplt_grid\", \"dplt\"),\n    (\"moment_grid\", \"moment\"),\n]\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MATERIAL_FILE = MATERIAL_LIB_DIR / 'Ta6v.json'\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.N_CPUS","title":"N_CPUS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>N_CPUS = 1\n</code></pre> <p>The default number of cpus used to run the model.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.POST_PROC_FAMILY","title":"POST_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>POST_PROC_FAMILY = 'PostBendingTestAnalytical'\n</code></pre> <p>The prefix of the post-processor class name.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.PRE_PROC_FAMILY","title":"PRE_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>PRE_PROC_FAMILY = 'PreBendingTestAnalytical'\n</code></pre> <p>The prefix of the pre-processor class name (typically <code>MyPre</code> for a pre- processor class named <code>MyPre_MyLoadCase</code>).</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.RUN_FAMILY","title":"RUN_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>RUN_FAMILY = 'RunBendingTestAnalytical'\n</code></pre> <p>The prefix of the run-processor class name.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.SUBROUTINES_NAMES","title":"SUBROUTINES_NAMES  <code>class-attribute</code>","text":"<pre><code>SUBROUTINES_NAMES: Sequence[str] = []\n</code></pre> <p>The names of the subroutines.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.SUMMARY","title":"SUMMARY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SUMMARY = \" An analytical model for the bending of a parallelepipedic beam\"\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.run","title":"run  <code>property</code>","text":"<pre><code>run: RunProcessor\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = super().get_dataflow()\n    dataflow[\"subroutine_names\"] = self._subroutine_names\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/bending_test_analytical/#vimseo.problems.beam_analytic.bending_test_analytical.BendingTestAnalytical.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/","title":"Post bending test analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical","title":"post_bending_test_analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical","title":"PostBendingTestAnalytical","text":"<pre><code>PostBendingTestAnalytical(**options)\n</code></pre> <p>               Bases: <code>PostProcessor</code></p> <p>Post processor for the analytical bending test model.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever","title":"PostBendingTestAnalytical_Cantilever","text":"<pre><code>PostBendingTestAnalytical_Cantilever(**options)\n</code></pre> <p>               Bases: <code>PostBendingTestAnalytical</code></p> <p>Extraction of the maximum force at the free end of the beam and displacement grid and moment grid along the beam.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_Cantilever.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints","title":"PostBendingTestAnalytical_ThreePoints","text":"<pre><code>PostBendingTestAnalytical_ThreePoints(**options)\n</code></pre> <p>               Bases: <code>PostBendingTestAnalytical</code></p> <p>Extraction of the maximum force, displacement grid and moment grid along the beam.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/post_bending_test_analytical/#vimseo.problems.beam_analytic.post_bending_test_analytical.PostBendingTestAnalytical_ThreePoints.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/","title":"Pre bending test analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical","title":"pre_bending_test_analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever","title":"PreBendingTestAnalytical_Cantilever","text":"<pre><code>PreBendingTestAnalytical_Cantilever(**options)\n</code></pre> <p>               Bases: <code>PreProcessor</code></p> <p>Preprocessor for the load case Cantilever.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/beam_analytic/pre_bending_test_analytical.py</code> <pre><code>def __init__(self, **options):\n    super().__init__(**options)\n    self.default_input_data.update({\n        \"length\": array([600.0]),\n        \"width\": array([30.0]),\n        \"height\": array([40.0]),\n        \"imposed_dplt\": array([-5.0]),\n        \"relative_dplt_location\": array([1.0]),\n    })\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_Cantilever.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints","title":"PreBendingTestAnalytical_ThreePoints","text":"<pre><code>PreBendingTestAnalytical_ThreePoints(**options)\n</code></pre> <p>               Bases: <code>PreProcessor</code></p> <p>Preprocessor for the load case ThreePoints.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/beam_analytic/pre_bending_test_analytical.py</code> <pre><code>def __init__(self, **options):\n    super().__init__(**options)\n    self.default_input_data.update({\n        \"length\": array([600.0]),\n        \"width\": array([30.0]),\n        \"height\": array([40.0]),\n        \"imposed_dplt\": array([-5.0]),\n        \"relative_support_location\": array([0.5]),\n    })\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/pre_bending_test_analytical/#vimseo.problems.beam_analytic.pre_bending_test_analytical.PreBendingTestAnalytical_ThreePoints.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/reference_dataset_builder/","title":"Reference dataset builder","text":""},{"location":"reference/vimseo/problems/beam_analytic/reference_dataset_builder/#vimseo.problems.beam_analytic.reference_dataset_builder","title":"reference_dataset_builder","text":""},{"location":"reference/vimseo/problems/beam_analytic/reference_dataset_builder/#vimseo.problems.beam_analytic.reference_dataset_builder-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/reference_dataset_builder/#vimseo.problems.beam_analytic.reference_dataset_builder-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/reference_dataset_builder/#vimseo.problems.beam_analytic.reference_dataset_builder.bending_test_analytical_reference_dataset","title":"bending_test_analytical_reference_dataset","text":"<pre><code>bending_test_analytical_reference_dataset(\n    datasets: Mapping[str:Dataset] | None = None,\n    mult_factor: float = 1.0,\n    shift: float = 0.0,\n) -&gt; Mapping[str:Dataset]\n</code></pre> <p>Creates datasets for validation of cantilever and three point bending load cases.</p> <p>Parameters:</p> <ul> <li> <code>datasets</code>               (<code>Mapping[str:Dataset] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary of datasets mapping load case name with a dataset containing the input variables for the <code>BendingTestAnalytical</code>. If <code>None</code>, use default datasets.</p> </li> <li> <code>mult_factor</code>               (<code>float</code>, default:                   <code>1.0</code> )           \u2013            <p>The multiplication factor applied to the reaction force.</p> </li> <li> <code>shift</code>               (<code>float</code>, default:                   <code>0.0</code> )           \u2013            <p>The shift added to the reaction force.</p> </li> </ul> <p>Returns: dict of gemseo :class:<code>Dataset</code></p> Source code in <code>src/vimseo/problems/beam_analytic/reference_dataset_builder.py</code> <pre><code>def bending_test_analytical_reference_dataset(\n    datasets: Mapping[str:Dataset] | None = None,\n    mult_factor: float = 1.0,\n    shift: float = 0.0,\n) -&gt; Mapping[str:Dataset]:\n    \"\"\"Creates datasets for validation of cantilever and three point bending load cases.\n\n    Args:\n        datasets: A dictionary of datasets mapping load case name with a dataset\n            containing the input variables for the ``BendingTestAnalytical``.\n            If ``None``, use default datasets.\n        mult_factor: The multiplication factor applied to the reaction force.\n        shift: The shift added to the reaction force.\n\n    Returns: dict of gemseo :class:`Dataset`\n    \"\"\"\n    if not datasets:\n        datasets = deepcopy(DEFAULT_DATASETS)\n    for dataset in datasets.values():\n        dataset.loc[:, (\"outputs\", \"reaction_forces\", 0)] = dataset.loc[\n            :, (\"outputs\", \"reaction_forces\", 0)\n        ].apply(lambda x: x * mult_factor + shift)\n    return datasets\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/","title":"Run bending test analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical","title":"run_bending_test_analytical","text":""},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical","title":"RunBendingTestAnalytical","text":"<pre><code>RunBendingTestAnalytical(**options)\n</code></pre> <p>               Bases: <code>RunProcessor</code></p> <p>Drives the calculation of maximal displacement from loading and boundary conditions.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/beam_analytic/run_bending_test_analytical.py</code> <pre><code>def __init__(self, **options):\n    super().__init__(**options)\n    self.m_func = None\n    self.E = None\n    self.moment_inertia = None\n    self.BC = None\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs used to run the external software.</p>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.subroutine_list","title":"subroutine_list  <code>instance-attribute</code>","text":"<pre><code>subroutine_list: list[SubroutineWrapper] = []\n</code></pre> <p>A list of subroutines.</p>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.fun_array","title":"fun_array","text":"<pre><code>fun_array(x, y)\n</code></pre> <p>Suited for boundary value problem. Args:     x: (m, ) array of sorted x values     y: (2, m) array, with y[0] and y[1] corresponding to 0th and 1st order     derivatives of displacement</p> <p>Returns:</p> <ul> <li>           \u2013            <p>1st and second derivatives of displacement in a (2, m) array</p> </li> </ul> Source code in <code>src/vimseo/problems/beam_analytic/run_bending_test_analytical.py</code> <pre><code>def fun_array(self, x, y):\n    \"\"\"\n    Suited for boundary value problem.\n    Args:\n        x: (m, ) array of sorted x values\n        y: (2, m) array, with y[0] and y[1] corresponding to 0th and 1st order\n        derivatives of displacement\n\n    Returns:\n        1st and second derivatives of displacement in a (2, m) array\n    \"\"\"\n    moment = self.m_func(x)\n    return vstack((y[1], -moment / (self.E * self.moment_inertia)))\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.fun_scalar","title":"fun_scalar","text":"<pre><code>fun_scalar(x, y)\n</code></pre> <p>Suited for initial value solver Args:     x:     y:</p> <p>Returns:</p> Source code in <code>src/vimseo/problems/beam_analytic/run_bending_test_analytical.py</code> <pre><code>def fun_scalar(self, x, y):\n    \"\"\"\n    Suited for initial value solver\n    Args:\n        x:\n        y:\n\n    Returns:\n\n    \"\"\"\n    moment = self.m_func(x)\n    return [y[1], -moment / (self.E[0] * self.moment_inertia[0])]\n</code></pre>"},{"location":"reference/vimseo/problems/beam_analytic/run_bending_test_analytical/#vimseo.problems.beam_analytic.run_bending_test_analytical.RunBendingTestAnalytical.solver_equations","title":"solver_equations","text":"<pre><code>solver_equations(input_data, m_grid, moment, solver)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>m_grid</code>           \u2013            </li> <li> <code>moment</code>           \u2013            </li> <li> <code>solver</code>           \u2013            </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/problems/beam_analytic/run_bending_test_analytical.py</code> <pre><code>def solver_equations(self, input_data, m_grid, moment, solver):\n    \"\"\"\n\n    Args:\n        m_grid:\n        moment:\n        solver:\n\n    Returns:\n\n    \"\"\"\n    self.E = input_data[\"young_modulus\"]\n    self.moment_inertia = input_data[\"quadratic_moment\"]\n    self.build_moment_linear(m_grid, moment)\n\n    x = linspace(m_grid[0], m_grid[-1], self._X_NB_PTS).flatten()\n\n    if solver == \"IVP\":\n        from scipy.integrate import solve_ivp\n\n        res = solve_ivp(\n            self.fun_scalar, array([x[0], x[-1]]), array([0.0, 0.0]), t_eval=x\n        )\n        w = res.y[0]\n\n    elif solver == \"BVP\":\n        from scipy.integrate import solve_bvp\n\n        y = zeros((2, x.size))\n        res = solve_bvp(self.fun_array, self.bc, x, y)\n        w = res.sol(x)[0, :]\n\n    return w, x\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/","title":"Beam explicit","text":""},{"location":"reference/vimseo/problems/beam_explicit/#vimseo.problems.beam_explicit","title":"beam_explicit","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/","title":"Analytical laws","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws","title":"analytical_laws","text":"<p>The below <code>AnalyticDiscipline</code> implement explicit analytical laws for some output variables of the <code>BendingTestAnalytical</code>.</p> <p>The underlying physics is exactly the same as the <code>BendingTestAnalytical</code> for:  - Cantilever load case  - ThreePoints load case under the following boundary conditions:     - \"relative_dplt_location\" = 0.5     - \"relative_support_location\" = [0.0, 1.0]</p> <p>These disciplines can serve as reference models for validation or verification.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever","title":"AnalyticBendingTestCantilever","text":"<pre><code>AnalyticBendingTestCantilever(\n    load_case_name: str = \"Dummy\", **options\n)\n</code></pre> <p>               Bases: <code>BaseDisciplineModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestCantilever.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints","title":"AnalyticBendingTestThreePoints","text":"<pre><code>AnalyticBendingTestThreePoints(\n    load_case_name: str = \"Dummy\", **options\n)\n</code></pre> <p>               Bases: <code>BaseDisciplineModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/analytical_laws/#vimseo.problems.beam_explicit.analytical_laws.AnalyticBendingTestThreePoints.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/beam_explicit/reference_dataset_builder/","title":"Reference dataset builder","text":""},{"location":"reference/vimseo/problems/beam_explicit/reference_dataset_builder/#vimseo.problems.beam_explicit.reference_dataset_builder","title":"reference_dataset_builder","text":"<p>Builds a reference dataset from explicit imposed-force analytical beam model.</p>"},{"location":"reference/vimseo/problems/beam_explicit/reference_dataset_builder/#vimseo.problems.beam_explicit.reference_dataset_builder-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/beam_explicit/reference_dataset_builder/#vimseo.problems.beam_explicit.reference_dataset_builder-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/","title":"Load cases","text":""},{"location":"reference/vimseo/problems/load_cases/#vimseo.problems.load_cases","title":"load_cases","text":""},{"location":"reference/vimseo/problems/load_cases/beam/","title":"Beam","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam","title":"beam","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever","title":"Beam_Cantilever  <code>dataclass</code>","text":"<pre><code>Beam_Cantilever(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A cantilever load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names()\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/problems/load_cases/beam.py</code> <pre><code>def get_bc_variable_names(self):\n    return [\n        \"imposed_dplt\",\n        \"relative_dplt_location\",\n    ]\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_Cantilever.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints","title":"Beam_FourPoints  <code>dataclass</code>","text":"<pre><code>Beam_FourPoints(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A four-points load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names()\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/problems/load_cases/beam.py</code> <pre><code>def get_bc_variable_names(self):\n    return [\"imposed_dplt\", \"relative_dplt_location\", \"relative_support_location\"]\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_FourPoints.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints","title":"Beam_ThreePoints  <code>dataclass</code>","text":"<pre><code>Beam_ThreePoints(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A three-points load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names()\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/problems/load_cases/beam.py</code> <pre><code>def get_bc_variable_names(self):\n    return [\"imposed_dplt\", \"relative_support_location\"]\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/beam/#vimseo.problems.load_cases.beam.Beam_ThreePoints.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/dummy/","title":"Dummy","text":""},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy","title":"dummy","text":""},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy","title":"Dummy  <code>dataclass</code>","text":"<pre><code>Dummy(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A dummy load case.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names() -&gt; Iterable[str]\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def get_bc_variable_names(self) -&gt; Iterable[str]:\n    \"\"\"The name of the boundary condition variables.\"\"\"\n    return []\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/dummy/#vimseo.problems.load_cases.dummy.Dummy.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/","title":"Mock","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock","title":"mock","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1","title":"LC1  <code>dataclass</code>","text":"<pre><code>LC1(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A first mock load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names() -&gt; Iterable[str]\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def get_bc_variable_names(self) -&gt; Iterable[str]:\n    \"\"\"The name of the boundary condition variables.\"\"\"\n    return []\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC1.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2","title":"LC2  <code>dataclass</code>","text":"<pre><code>LC2(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A second mock load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names() -&gt; Iterable[str]\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def get_bc_variable_names(self) -&gt; Iterable[str]:\n    \"\"\"The name of the boundary condition variables.\"\"\"\n    return []\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.LC2.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1","title":"Metallic_LC1  <code>dataclass</code>","text":"<pre><code>Metallic_LC1(\n    name: str = \"\",\n    domain: str = \"\",\n    summary: str = \"\",\n    plot_parameters: PlotParameters = PlotParameters(),\n    bc_variable_names: list[str] = list(),\n    load: Load = Load(),\n)\n</code></pre> <p>               Bases: <code>LoadCase</code></p> <p>A metallic LC1 load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.bc_variable_names","title":"bc_variable_names  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>bc_variable_names: list[str] = field(default_factory=list)\n</code></pre> <p>The names of the variables defining the boundary conditions.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.domain","title":"domain  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>domain: str = ''\n</code></pre> <p>The domain of the load case.</p> <p>The load case class is prefixed by the domain.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path\n</code></pre> <p>The fully-qualified path to the image illustrating the load case.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.load","title":"load  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>load: Load = field(default_factory=Load)\n</code></pre> <p>The load.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.name","title":"name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>name: str = ''\n</code></pre> <p>The load case name.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.plot_parameters","title":"plot_parameters  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>plot_parameters: PlotParameters = field(\n    default_factory=PlotParameters\n)\n</code></pre> <p>The parameters of the plot.</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.summary","title":"summary  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>summary: str = ''\n</code></pre> <p>A brief description of the load case .</p>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, raise_error=True\n) -&gt; Iterable[Path]\n</code></pre> <p>Use a naming convention to associate a verification yaml file to the model. Convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>           \u2013            <p>an iterable of load cases. If specified, only the yaml files associated to these load cases are returned, together with {model_class_name}{file_suffix}. Otherwise, all yaml files matching the above convention are returned.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    raise_error=True,\n) -&gt; Iterable[Path]:\n    \"\"\"Use a naming convention to associate a verification yaml file to the model.\n    Convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the yaml files associated\n            to these load cases are returned, together with\n            {model_class_name}{file_suffix}. Otherwise, all yaml files matching the\n            above convention are returned.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n\n    cls = self.__class__\n    lc_name = cls.__name__\n    classes = [cls] + [base for base in cls.__bases__ if issubclass(base, LoadCase)]\n    names = [lc_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        grammar_file_path = directory_path / f\"{name}{file_suffix}\"\n        if grammar_file_path.is_file():\n            matching_files.append(grammar_file_path)\n\n    if raise_error and not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next to \"\n            f\"the load case {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.get_bc_variable_names","title":"get_bc_variable_names","text":"<pre><code>get_bc_variable_names() -&gt; Iterable[str]\n</code></pre> <p>The name of the boundary condition variables.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def get_bc_variable_names(self) -&gt; Iterable[str]:\n    \"\"\"The name of the boundary condition variables.\"\"\"\n    return []\n</code></pre>"},{"location":"reference/vimseo/problems/load_cases/mock/#vimseo.problems.load_cases.mock.Metallic_LC1.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/load_case.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/","title":"Mock","text":""},{"location":"reference/vimseo/problems/mock/#vimseo.problems.mock","title":"mock","text":""},{"location":"reference/vimseo/problems/mock/mock_component/","title":"Mock component","text":""},{"location":"reference/vimseo/problems/mock/mock_component/#vimseo.problems.mock.mock_component","title":"mock_component","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/","title":"Mock component","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component","title":"mock_component","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1","title":"MockChildComponent1","text":"<pre><code>MockChildComponent1(**options)\n</code></pre> <p>               Bases: <code>MockComponent2</code></p> <p>Default Mock component child.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_component/mock_component.py</code> <pre><code>def __init__(self, **options):\n    super().__init__(**options)\n    self.default_input_data.update({\n        \"x1\": atleast_1d(0.0),\n        \"x2\": atleast_1d(0.0),\n        \"x3\": atleast_1d(0.0),\n    })\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockChildComponent1.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent","title":"MockComponent","text":"<pre><code>MockComponent(\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n)\n</code></pre> <p>               Bases: <code>ExternalSoftwareComponent</code></p> <p>Default component.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n) -&gt; None:\n    super().__init__(load_case_name, material_grammar_file, material)\n    self._job_executor = BaseJobExecutor(\"\")\n    self._check_subprocess = check_subprocess\n    self._attached_files = []\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2","title":"MockComponent2","text":"<pre><code>MockComponent2(\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n)\n</code></pre> <p>               Bases: <code>MockComponent</code></p> <p>Default component with no input_grammar/output_grammar files in .json.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n) -&gt; None:\n    super().__init__(load_case_name, material_grammar_file, material)\n    self._job_executor = BaseJobExecutor(\"\")\n    self._check_subprocess = check_subprocess\n    self._attached_files = []\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent2.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3","title":"MockComponent3","text":"<pre><code>MockComponent3(\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n)\n</code></pre> <p>               Bases: <code>MockComponent</code></p> <p>Default component with no input_grammar files in .json.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n) -&gt; None:\n    super().__init__(load_case_name, material_grammar_file, material)\n    self._job_executor = BaseJobExecutor(\"\")\n    self._check_subprocess = check_subprocess\n    self._attached_files = []\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent3.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4","title":"MockComponent4","text":"<pre><code>MockComponent4(\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n)\n</code></pre> <p>               Bases: <code>MockComponent</code></p> <p>Default component with no output_grammar files in .json.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material_grammar_file</code>               (<code>Path | str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>material</code>               (<code>Material | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>check_subprocess</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def __init__(\n    self,\n    load_case_name: str = \"\",\n    material_grammar_file: Path | str = \"\",\n    material: Material | None = None,\n    check_subprocess: bool = False,\n) -&gt; None:\n    super().__init__(load_case_name, material_grammar_file, material)\n    self._job_executor = BaseJobExecutor(\"\")\n    self._check_subprocess = check_subprocess\n    self._attached_files = []\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_component/mock_component/#vimseo.problems.mock.mock_component.mock_component.MockComponent4.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/","title":"Mock convergence","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/#vimseo.problems.mock.mock_convergence","title":"mock_convergence","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/","title":"Mock convergence","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence","title":"mock_convergence","text":"<p>A model in asymptotic convergence by construction.</p> <p>Notations are taken from: https://asmedigitalcollection.asme.org/verification/article/7/3/031005/1146443/Confidence-Intervals-for-Richardson-Extrapolation</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence","title":"MockConvergence","text":"<pre><code>MockConvergence(load_case_name: str = 'Dummy', **options)\n</code></pre> <p>               Bases: <code>BaseDisciplineModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_convergence/mock_convergence/#vimseo.problems.mock.mock_convergence.mock_convergence.MockConvergence.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/","title":"Mock curves","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/#vimseo.problems.mock.mock_curves","title":"mock_curves","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/","title":"Mock curves","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves","title":"mock_curves","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves","title":"MockCurves","text":"<pre><code>MockCurves(load_case_name: str = 'Dummy', **options)\n</code></pre> <p>               Bases: <code>BaseDisciplineModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = [('y_axis', 'y')]\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurves.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesDiscipline","title":"MockCurvesDiscipline","text":"<pre><code>MockCurvesDiscipline()\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>A mock model that outputs a curve depending on an input.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/vimseo/problems/mock/mock_curves/mock_curves.py</code> <pre><code>def __init__(self):\n    super().__init__()\n    self.input_grammar.update_from_data({\n        \"x\": atleast_1d(0.0),\n        \"x_1\": atleast_1d(0.0),\n    })\n    self.output_grammar.update_from_data({\n        \"y\": atleast_1d(0.0),\n        \"y_axis\": atleast_1d(0.0),\n    })\n    self.default_input_data = {\n        \"x\": atleast_1d(1.0),\n        \"x_1\": atleast_1d(1.0),\n    }\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesDiscipline-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesDiscipline.CURVE_NB_POINTS","title":"CURVE_NB_POINTS  <code>class-attribute</code>","text":"<pre><code>CURVE_NB_POINTS: int = 100\n</code></pre> <p>The length of the x and y curve.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesDiscipline.DECREASING_AXIS","title":"DECREASING_AXIS  <code>class-attribute</code>","text":"<pre><code>DECREASING_AXIS: bool = False\n</code></pre> <p>Whether the abscissa of the y curve has decreasing values.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange","title":"MockCurvesXRange","text":"<pre><code>MockCurvesXRange(load_case_name: str = 'Dummy', **options)\n</code></pre> <p>               Bases: <code>BaseDisciplineModel</code></p> <p>A :class:<code>~.IntegratedModel</code> provides a consistent way to integrate mechanical models, ensuring that the variables used, the model validity range and a definition of how this model is verified are prescribed.</p> <p>An <code>IntegratedModel</code> executes a chain of components, themselves being GEMSEO disciplines.</p> <p>Model inputs and outputs are validated at each model execution through JSON grammars. The JSON files are located next to the model class file, or next to a parent class. Aside from the variable types, these grammars also describe the range of validity of each variable (when applicable) and a description of limitations and units. All input data are considered required. So the required field in the input JSON grammar files does not need to be filled.</p> <p>The curves that are plotted through :meth:<code>plot_results</code> are defined in class attribute <code>CURVES</code>.</p> <p>A model is executed by calling method :meth:<code>~IntegratedModel.execute</code>, to which can be possibly passed a dictionary to specify inputs.</p> <p>Variables that are not passed to this method keep their default value, which are  defined in the pre-processor class constructor. All outputs of the model execution are available through :meth:<code>~.gemseo.core.discipline.MDODiscipline.get_output_data</code>. Model outputs can be plotted with :meth:<code>~IntegratedModel.plot_results</code>. By default, the model has a cache which avoids re-executing the model if the same input data have already been used. Default cache is a hdf file. Constructor arguments <code>directory_scratch_persistency</code> and <code>directory_archive_persistency</code> allows to control the deletion policy of the job directories. If a component executes an external software through a subprocess, errors during the subprocess are captured by default and the simulation terminates with outputs filled with <code>NaNs</code>. The error code output variable is set to 1. If constructor argument <code>check_subprocess</code> is set to <code>True</code>, a blocking exception is raised in case of error during model execution, which is useful during the development of a model to get explicit error messages.</p> <p>For debugging or profiling activities, it may be useful to deactivate the cache. You can do this by running on a model instance: <code>model.cache = None</code>.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>, default:                   <code>'Dummy'</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/base_discipline_model.py</code> <pre><code>def __init__(self, load_case_name: str = \"Dummy\", **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    if load_case_name != self._EXPECTED_LOAD_CASE:\n        msg = f\"The load case should be {self._EXPECTED_LOAD_CASE}.\"\n        raise ImportError(msg)\n    super().__init__(\n        load_case_name,\n        [DisciplineWrapperComponent(load_case_name, deepcopy(self._DISCIPLINE))],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = [('y_axis', 'y')]\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRange.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves.MockCurvesXRangeDiscipline","title":"MockCurvesXRangeDiscipline","text":"<pre><code>MockCurvesXRangeDiscipline()\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>A discipline returning curves whose abscissa range is controlled by its inputs.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> Source code in <code>src/vimseo/problems/mock/mock_curves/mock_curves.py</code> <pre><code>def __init__(self):\n    super().__init__()\n\n    self.load_case = \"Dummy\"\n    self.default_input_data = {\n        \"x_left\": atleast_1d(-0.5),\n        \"x_right\": atleast_1d(0.5),\n        \"y_max\": atleast_1d(1.0),\n    }\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_curves/mock_curves/#vimseo.problems.mock.mock_curves.mock_curves-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/","title":"Mock fields","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/#vimseo.problems.mock.mock_fields","title":"mock_fields","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/","title":"Mock fields","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields","title":"mock_fields","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockComponentField_LC1","title":"MockComponentField_LC1","text":"<pre><code>MockComponentField_LC1(load_case_name: str)\n</code></pre> <p>               Bases: <code>BaseComponent</code></p> <p>Standalone component for MockModelField.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_fields/mock_fields.py</code> <pre><code>def __init__(self, load_case_name: str):\n    super().__init__(load_case_name)\n    self.__default_inputs = {\n        \"x1\": atleast_1d(2.0),\n    }\n    self.input_grammar.update_from_data(self.__default_inputs)\n    self.output_grammar.update_from_data({\n        \"y1\": atleast_1d(0.0),\n        \"error_code\": atleast_1d(0),\n    })\n    self.default_input_data.update(self.__default_inputs)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockComponentField_LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockComponentField_LC1.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = True\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockComponentField_LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockComponentField_LC1.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields","title":"MockModelFields","text":"<pre><code>MockModelFields(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>IntegratedModel</code></p> <p>Mock model handling Field files.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_fields/mock_fields.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    super().__init__(\n        load_case_name,\n        [\n            ComponentFactory().create(\n                \"MockComponentField\",\n                load_case_name,\n            )\n        ],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/mock_fields/#vimseo.problems.mock.mock_fields.mock_fields.MockModelFields.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_fields/fields/","title":"Fields","text":""},{"location":"reference/vimseo/problems/mock/mock_fields/fields/#vimseo.problems.mock.mock_fields.fields","title":"fields","text":""},{"location":"reference/vimseo/problems/mock/mock_main/","title":"Mock main","text":""},{"location":"reference/vimseo/problems/mock/mock_main/#vimseo.problems.mock.mock_main","title":"mock_main","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/","title":"Mock model","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model","title":"mock_model","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel","title":"MockModel","text":"<pre><code>MockModel(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>PreRunPostModel</code></p> <p>Mock Class to test the creation of a model.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n\n    options = IntegratedModelSettings(**options).model_dump()\n    material = (\n        Material.from_json(self.MATERIAL_FILE) if self.MATERIAL_FILE != \"\" else None\n    )\n\n    component_factory = ComponentFactory()\n\n    run_processor = component_factory.create(\n        self.RUN_FAMILY,\n        material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n        material=material,\n        check_subprocess=options[\"check_subprocess\"],\n    )\n    self._subroutine_names = deepcopy(self.SUBROUTINES_NAMES)\n    for sub_name in self._subroutine_names:\n        run_processor.subroutine_list.append(\n            SubroutineWrapperFactory().create(sub_name)\n        )\n\n    load_case = LoadCaseFactory().create(\n        load_case_name, domain=self._LOAD_CASE_DOMAIN\n    )\n    components = [\n        component_factory.create(\n            self.PRE_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n            material=material,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n        run_processor,\n        component_factory.create(\n            self.POST_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n    ]\n\n    # run component has its grammar defined from pre and post components:\n    components[1].input_grammar = deepcopy(components[0].output_grammar)\n    components[1].input_grammar.update(components[0].input_grammar)\n    components[1].output_grammar = deepcopy(components[2].input_grammar)\n\n    super().__init__(load_case_name, components, **options)\n\n    self._pre_processor = self._chain.disciplines[0]\n    self._run_processor = self._chain.disciplines[1]\n    self._post_processor = self._chain.disciplines[2]\n\n    self._component_with_jacobian = self.run\n    self._set_differentiated_names(self.run)\n\n    self.run.job_executor._user_job_options.update({\"n_cpus\": self.N_CPUS})\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.N_CPUS","title":"N_CPUS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>N_CPUS = 1\n</code></pre> <p>The default number of cpus used to run the model.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.POST_PROC_FAMILY","title":"POST_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>POST_PROC_FAMILY = 'MockPost'\n</code></pre> <p>The prefix of the post-processor class name.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.PRE_PROC_FAMILY","title":"PRE_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>PRE_PROC_FAMILY = 'MockPre'\n</code></pre> <p>The prefix of the pre-processor class name (typically <code>MyPre</code> for a pre- processor class named <code>MyPre_MyLoadCase</code>).</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.RUN_FAMILY","title":"RUN_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>RUN_FAMILY = 'MockRun'\n</code></pre> <p>The prefix of the run-processor class name.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.SUBROUTINES_NAMES","title":"SUBROUTINES_NAMES  <code>class-attribute</code>","text":"<pre><code>SUBROUTINES_NAMES: Sequence[str] = []\n</code></pre> <p>The names of the subroutines.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.SUMMARY","title":"SUMMARY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SUMMARY = \" A toy model implementing an unphysical analytical law; used for testing purpose\"\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.run","title":"run  <code>property</code>","text":"<pre><code>run: RunProcessor\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = super().get_dataflow()\n    dataflow[\"subroutine_names\"] = self._subroutine_names\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModel.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial","title":"MockModelWithMaterial","text":"<pre><code>MockModelWithMaterial(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>MockModel</code></p> <p>Mock model to test loading of a material file.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n\n    options = IntegratedModelSettings(**options).model_dump()\n    material = (\n        Material.from_json(self.MATERIAL_FILE) if self.MATERIAL_FILE != \"\" else None\n    )\n\n    component_factory = ComponentFactory()\n\n    run_processor = component_factory.create(\n        self.RUN_FAMILY,\n        material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n        material=material,\n        check_subprocess=options[\"check_subprocess\"],\n    )\n    self._subroutine_names = deepcopy(self.SUBROUTINES_NAMES)\n    for sub_name in self._subroutine_names:\n        run_processor.subroutine_list.append(\n            SubroutineWrapperFactory().create(sub_name)\n        )\n\n    load_case = LoadCaseFactory().create(\n        load_case_name, domain=self._LOAD_CASE_DOMAIN\n    )\n    components = [\n        component_factory.create(\n            self.PRE_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            material_grammar_file=self._MATERIAL_GRAMMAR_FILE,\n            material=material,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n        run_processor,\n        component_factory.create(\n            self.POST_PROC_FAMILY,\n            load_case_name,\n            load_case=load_case,\n            check_subprocess=options[\"check_subprocess\"],\n        ),\n    ]\n\n    # run component has its grammar defined from pre and post components:\n    components[1].input_grammar = deepcopy(components[0].output_grammar)\n    components[1].input_grammar.update(components[0].input_grammar)\n    components[1].output_grammar = deepcopy(components[2].input_grammar)\n\n    super().__init__(load_case_name, components, **options)\n\n    self._pre_processor = self._chain.disciplines[0]\n    self._run_processor = self._chain.disciplines[1]\n    self._post_processor = self._chain.disciplines[2]\n\n    self._component_with_jacobian = self.run\n    self._set_differentiated_names(self.run)\n\n    self.run.job_executor._user_job_options.update({\"n_cpus\": self.N_CPUS})\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>MATERIAL_FILE = MATERIAL_LIB_DIR / 'Mock.json'\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.N_CPUS","title":"N_CPUS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>N_CPUS = 1\n</code></pre> <p>The default number of cpus used to run the model.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.POST_PROC_FAMILY","title":"POST_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>POST_PROC_FAMILY = 'MockPost'\n</code></pre> <p>The prefix of the post-processor class name.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.PRE_PROC_FAMILY","title":"PRE_PROC_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>PRE_PROC_FAMILY = 'MockPre'\n</code></pre> <p>The prefix of the pre-processor class name (typically <code>MyPre</code> for a pre- processor class named <code>MyPre_MyLoadCase</code>).</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.RUN_FAMILY","title":"RUN_FAMILY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>RUN_FAMILY = 'MockRun'\n</code></pre> <p>The prefix of the run-processor class name.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.SUBROUTINES_NAMES","title":"SUBROUTINES_NAMES  <code>class-attribute</code>","text":"<pre><code>SUBROUTINES_NAMES: Sequence[str] = []\n</code></pre> <p>The names of the subroutines.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.SUMMARY","title":"SUMMARY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SUMMARY = 'A toy model loading a material'\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.run","title":"run  <code>property</code>","text":"<pre><code>run: RunProcessor\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/pre_run_post_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = super().get_dataflow()\n    dataflow[\"subroutine_names\"] = self._subroutine_names\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockModelWithMaterial.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost","title":"MockPost","text":"<pre><code>MockPost(**options)\n</code></pre> <p>               Bases: <code>PostProcessor</code></p> <p>Mock Class for post-processing.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1","title":"MockPost_LC1","text":"<pre><code>MockPost_LC1(**options)\n</code></pre> <p>               Bases: <code>MockPost</code></p> <p>Mock Class for post-processing with a loadcase.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC1.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2","title":"MockPost_LC2","text":"<pre><code>MockPost_LC2(**options)\n</code></pre> <p>               Bases: <code>MockPost</code></p> <p>Mock Class for post-processing with a load case having two output scalar variables.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def __init__(self, **options):\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n\n    self._output_physical_var_names = deepcopy(self.output_grammar.names)\n    self.output_grammar.update_from_data({\n        MetaDataNames.error_code.name: atleast_1d(\n            IntegratedModel._ERROR_CODE_DEFAULT\n        )\n    })\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.DELETE_JOB_DIR","title":"DELETE_JOB_DIR  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_JOB_DIR: bool = False\n</code></pre> <p>If True deletes the Abaqus job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.del_jobdir","title":"del_jobdir  <code>instance-attribute</code>","text":"<pre><code>del_jobdir: bool\n</code></pre> <p>Whether to delete the job directory after post-processing.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.evaluate_modulus_10_50","title":"evaluate_modulus_10_50","text":"<pre><code>evaluate_modulus_10_50(\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n)\n</code></pre> <p>Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum strength can be provided as a reference value If max_strength is None, else the maximum strength is estimated from the stress_history. The maximum strength is computed as the maximum of the stress history for a tension configuration, or the minimum for a compression config. The tension or compression configuration is determined thanks to the sign of the stress in the middle of the history.</p> <p>Parameters:</p> <ul> <li> <code>strain_history</code>               (<code>ndarray</code>)           \u2013            <p>array of strain data</p> </li> <li> <code>stress_history</code>               (<code>ndarray</code>)           \u2013            <p>array of stress data</p> </li> <li> <code>strain_at_max_strength</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>ultimate strain considered for the calculation</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_10_50(\n    self,\n    strain_history: ndarray,\n    stress_history: ndarray,\n    strain_at_max_strength: float | None = None,\n):\n    \"\"\"Evaluate the modulus between 10 % and 50 % of the maximum strength. Maximum\n    strength can be provided as a reference value If max_strength is None, else the\n    maximum strength is estimated from the stress_history. The maximum strength is\n    computed as the maximum of the stress history for a tension configuration, or the\n    minimum for a compression config. The tension or compression configuration\n    is determined thanks to the sign of the stress in the middle of the history.\n\n    Args:\n        strain_history: array of strain data\n        stress_history: array of stress data\n        strain_at_max_strength: ultimate strain considered for the calculation\n    \"\"\"\n\n    if strain_at_max_strength is None:\n        if stress_history[int(len(stress_history) / 2)] &gt; 0:\n            index_max_strength = np.argmax(stress_history)\n        else:\n            index_max_strength = np.argmin(stress_history)\n\n        strain_at_max_strength = strain_history[index_max_strength]\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.10 * strain_at_max_strength,\n        x_max=0.50 * strain_at_max_strength,\n        method=\"regression\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.evaluate_modulus_e005_e025","title":"evaluate_modulus_e005_e025","text":"<pre><code>evaluate_modulus_e005_e025(strain_history, stress_history)\n</code></pre> <p>Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro- def).</p> <p>:param strain_history: array of strain data :param stress_history: array of stress data</p> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def evaluate_modulus_e005_e025(self, strain_history, stress_history):\n    \"\"\"Evaluate the modulus between 0.0005 and 0.0025 strain (500 and 2500 micro-\n    def).\n\n    :param strain_history: array of strain data\n    :param stress_history: array of stress data\n    \"\"\"\n\n    return utils.local_slope_computation(\n        strain_history,\n        stress_history,\n        x_min=0.0005,\n        x_max=0.0025,\n        method=\"average\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPost_LC2.plot_output_data","title":"plot_output_data","text":"<pre><code>plot_output_data(\n    data, x_data, y_data, save_path, save, show, fig_id\n)\n</code></pre> <p>Plot output data of post-processor.</p> <p>Parameters:</p> <ul> <li> <code>data</code>           \u2013            <p>The DisciplineData to plot</p> </li> <li> <code>x_data</code>           \u2013            <p>name of x axis data</p> </li> <li> <code>y_data</code>           \u2013            <p>name of y axis data</p> </li> <li> <code>save_path</code>           \u2013            <p>path where the figure is saved</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot</p> </li> <li> <code>fig_id</code>           \u2013            <p>the id of the figure</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>None</p> </li> </ul> Source code in <code>src/vimseo/core/components/post/post_processor.py</code> <pre><code>def plot_output_data(self, data, x_data, y_data, save_path, save, show, fig_id):\n    \"\"\"Plot output data of post-processor.\n\n    Args:\n        data: The DisciplineData to plot\n        x_data: name of x axis data\n        y_data: name of y axis data\n        save_path: path where the figure is saved\n        save: Whether to save the plot\n        show: Whether to show the plot\n        fig_id: the id of the figure\n\n    Returns:\n        None\n    \"\"\"\n    plt.figure(fig_id)\n    x = data[x_data]\n    y = data[y_data]\n    plt.plot(x, y)\n    plt.xlabel(x_data)\n    plt.ylabel(y_data)\n    if save:\n        plt.savefig(Path(save_path) / f\"{x_data}_{y_data}_{fig_id}.png\")\n    if show:\n        plt.show()\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre","title":"MockPre","text":"<pre><code>MockPre(**options)\n</code></pre> <p>               Bases: <code>PreProcessor</code></p> <p>Mock Class for pre-processing.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/pre/pre_processor.py</code> <pre><code>def __init__(self, **options) -&gt; None:\n    \"\"\"\n    Args:\n        material_grammar_file: The ``json`` file defining the material parameters.\n        material: The material.\n    \"\"\"\n    load_case = options.pop(\"load_case\") if \"load_case\" in options else None\n    super().__init__(**options)\n    self._load_case = load_case\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1","title":"MockPre_LC1","text":"<pre><code>MockPre_LC1(**options)\n</code></pre> <p>               Bases: <code>MockPre</code></p> <p>Mock Class for pre-processing with a load case.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_main/mock_model.py</code> <pre><code>def __init__(self, **options) -&gt; None:\n    super().__init__(**options)\n    self.default_input_data.update({\n        \"x1\": atleast_1d(X1_DEFAULT_VALUE),\n        \"x1_maximum_only\": atleast_1d(X1_DEFAULT_VALUE),\n        \"x1_minimum_only\": atleast_1d(X1_DEFAULT_VALUE),\n        \"x1_no_bounds\": atleast_1d(X1_DEFAULT_VALUE),\n    })\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC1.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2","title":"MockPre_LC2","text":"<pre><code>MockPre_LC2(**options)\n</code></pre> <p>               Bases: <code>MockPre</code></p> <p>Mock Class for pre-processing with a load case having two inputs variables.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_main/mock_model.py</code> <pre><code>def __init__(self, **options):\n    super().__init__(**options)\n    self.default_input_data.update({\n        \"x1\": atleast_1d(X1_DEFAULT_VALUE),\n        \"x1_2\": atleast_1d(0.0),\n    })\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockPre_LC2.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun","title":"MockRun","text":"<pre><code>MockRun(**options)\n</code></pre> <p>               Bases: <code>RunProcessor</code></p> <p>Mock Class for run.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/components/run/run_processor.py</code> <pre><code>def __init__(self, **options):\n    \"\"\"\n    Args:\n        material: The material.\n    \"\"\"\n    super().__init__(**options)\n    self.subroutine_list = []\n    self._job_executor = BaseJobExecutor(\"\")\n    self._user_job_options = BaseUserJobSettings()\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY: bool = False\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs used to run the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun.subroutine_list","title":"subroutine_list  <code>instance-attribute</code>","text":"<pre><code>subroutine_list: list[SubroutineWrapper] = []\n</code></pre> <p>A list of subroutines.</p>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun.add_attached_files","title":"add_attached_files","text":"<pre><code>add_attached_files(\n    files_to_attach: list[str, Path],\n) -&gt; None\n</code></pre> <p>Add files to be copied to job directory.</p> <p>Parameters:</p> <ul> <li> <code>files_to_attach</code>               (<code>list[str, Path]</code>)           \u2013            <p>A list of files to be copied to the job directory.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/components/external_software_component.py</code> <pre><code>def add_attached_files(self, files_to_attach: list[str, Path]) -&gt; None:\n    \"\"\"Add files to be copied to job directory.\n\n    Args:\n        files_to_attach: A list of files to be copied to the job directory.\n\n    Returns:\n    \"\"\"\n    for f in files_to_attach:\n        self._attached_files.append(f)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.MockRun.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.mock_model_lc1_overall_function","title":"mock_model_lc1_overall_function","text":"<pre><code>mock_model_lc1_overall_function(x1)\n</code></pre> <p>The overall input to output function representing the MockModel load case LC1.</p> Source code in <code>src/vimseo/problems/mock/mock_main/mock_model.py</code> <pre><code>def mock_model_lc1_overall_function(x1):\n    \"\"\"The overall input to output function representing the MockModel load case LC1.\"\"\"\n    return (x1 + 2) * 2 + 1\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_main/mock_model/#vimseo.problems.mock.mock_main.mock_model.mock_model_lc2_overall_function","title":"mock_model_lc2_overall_function","text":"<pre><code>mock_model_lc2_overall_function(x1, x1_2)\n</code></pre> <p>The overall input to output function representing the MockModel load case LC2.</p> Source code in <code>src/vimseo/problems/mock/mock_main/mock_model.py</code> <pre><code>def mock_model_lc2_overall_function(x1, x1_2):\n    \"\"\"The overall input to output function representing the MockModel load case LC2.\"\"\"\n    y1 = (x1 + x1_2 + 2) * 2 + 1\n    return y1, y1 + 1\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/","title":"Mock model persistent","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent","title":"mock_model_persistent","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/","title":"Mock model persistent","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent","title":"mock_model_persistent","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockComponentStandalonePersistent_LC1","title":"MockComponentStandalonePersistent_LC1","text":"<pre><code>MockComponentStandalonePersistent_LC1(load_case_name: str)\n</code></pre> <p>               Bases: <code>BaseComponent</code></p> <p>Standalone component for MockModelPersistent.</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_model_persistent/mock_model_persistent.py</code> <pre><code>def __init__(self, load_case_name: str):\n    super().__init__(load_case_name)\n    default_inputs = {\n        \"x1\": atleast_1d(2.0),\n        \"x2\": atleast_1d(5.0),\n        \"x3\": array([1.0, 2.0, 3.0]),\n    }\n    self.input_grammar.update_from_data(default_inputs)\n    self.output_grammar.update_from_data({\n        \"y1\": 0.0,\n        \"y2\": atleast_1d(0.0),\n        \"y3\": atleast_1d(\"string\"),\n        \"y4\": atleast_1d(0.0),\n        \"y5\": array([0.0, 0.0, 0.0]),\n        MetaDataNames.error_code.name: array([0]),\n    })\n    self.default_input_data.update(default_inputs)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockComponentStandalonePersistent_LC1-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockComponentStandalonePersistent_LC1.USE_JOB_DIRECTORY","title":"USE_JOB_DIRECTORY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>USE_JOB_DIRECTORY = True\n</code></pre> <p>Whether to create a job directory.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockComponentStandalonePersistent_LC1-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockComponentStandalonePersistent_LC1.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent","title":"MockModelPersistent","text":"<pre><code>MockModelPersistent(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>IntegratedModel</code></p> <p>Mock model with persistent files and vectors as input and output.</p> <p><code>y5</code> is a length-3 output vector, and <code>x3</code> is a length-3 input vector.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/problems/mock/mock_model_persistent/mock_model_persistent.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n    options = IntegratedModelSettings(**options).model_dump()\n    compo = ComponentFactory().create(\n        \"MockComponentStandalonePersistent\",\n        load_case_name,\n    )\n    if compo is None:\n        msg = \"Failed component factory \"\n        raise ValueError(msg, load_case_name)\n    super().__init__(\n        load_case_name,\n        [compo],\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.CURVES","title":"CURVES  <code>class-attribute</code>","text":"<pre><code>CURVES: Sequence[tuple[str]] = []\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.SUMMARY","title":"SUMMARY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>SUMMARY = \" A toy model for testing purpose of persistent data - mono-component version\"\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_model_persistent/mock_model_persistent/#vimseo.problems.mock.mock_model_persistent.mock_model_persistent.MockModelPersistent.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/problems/mock/mock_reference_data/","title":"Mock reference data","text":""},{"location":"reference/vimseo/problems/mock/mock_reference_data/#vimseo.problems.mock.mock_reference_data","title":"mock_reference_data","text":""},{"location":"reference/vimseo/problems/mock/output_data/","title":"Output data","text":""},{"location":"reference/vimseo/problems/mock/output_data/#vimseo.problems.mock.output_data","title":"output_data","text":""},{"location":"reference/vimseo/problems/sandbox/","title":"Sandbox","text":""},{"location":"reference/vimseo/problems/sandbox/#vimseo.problems.sandbox","title":"sandbox","text":""},{"location":"reference/vimseo/problems/sandbox/models/","title":"Models","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models","title":"models","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost","title":"BendingTestWithPost","text":"<pre><code>BendingTestWithPost(load_case_name: str, **options)\n</code></pre> <p>               Bases: <code>ModelComposition</code></p> <p>A model composition that adds a post-processor to the bending test analytical model.</p> Notes <p>Since an <code>IntegratedModel</code> extends a <code>GEMSEO &lt;https://gemseo.readthedocs.io/en/stable/index.html&gt;</code> :class:<code>~.gemseo.core.discipline.MDODiscipline</code>, it can be used as |gemseo| <code>discipline &lt;https://gemseo.readthedocs.io/en/6.0.0/examples/api /plot_discipline.html#discipline&gt;</code>. Also, |gemseo| capabilities (MLearning, Optimisation) can be used on the model.</p> <p>Examples:</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost--run-a-model-with-default-values-each-execution-being-stored-in-a-unique","title":"Run a model with default values, each execution being stored in a unique","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost--directory","title":"directory.","text":"<pre><code>&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; model.execute()\n# The policy of the job directory suppression can be customized:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\n&gt;&gt;&gt; directory_scratch_persistency = (PersistencyPolicy.DELETE_ALWAYS,)\n&gt;&gt;&gt; directory_archive_persistency=PersistencyPolicy.DELETE_IF_FAULTY)\n# A model can be executed remotely:\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\",\ndirectory_scratch_root=\"bending_study/my_scratch\")\n# Note that ``job_directory`` argument must be a non-empty path to ensure\n</code></pre> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>load_case_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/core/model_composition.py</code> <pre><code>def __init__(self, load_case_name: str, **options):\n    if \"base_model\" not in options:\n        msg = \"A base_model must be provided to create a ModelComposition.\"\n        raise ImportError(msg)\n\n    model = options.pop(\"base_model\")\n    post_components = (\n        options.pop(\"post_components\") if \"post_components\" in options else []\n    )\n    options = IntegratedModelSettings(**options).model_dump()\n\n    self.base_model = model\n\n    # Rely on base model cache\n    self.cache = None\n\n    full_load_case_name = (\n        f\"{model._LOAD_CASE_DOMAIN}_{load_case_name}\"\n        if model._LOAD_CASE_DOMAIN\n        else load_case_name\n    )\n\n    super().__init__(\n        full_load_case_name,\n        [DisciplineWrapperComponent(full_load_case_name, model), *post_components],\n        **options,\n    )\n\n    self._LOAD_CASE_DOMAIN = model._LOAD_CASE_DOMAIN\n    self.CURVES = model.CURVES\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.CURVES","title":"CURVES  <code>instance-attribute</code>","text":"<pre><code>CURVES = CURVES\n</code></pre> <p>The output data to plot as curves. Define a tuple for each curve. It can be load case independent or dependent. Only the first two elements of the list of variables are considered.The first variable is the abscissa variable and the second value is the ordinate.</p> Example <p>CURVES = [('strain_history', 'stress_history')]</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.MATERIAL_FILE","title":"MATERIAL_FILE  <code>class-attribute</code>","text":"<pre><code>MATERIAL_FILE: Path | str = ''\n</code></pre> <p>The path to the json file defining the material values.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.NUMERICAL_VARIABLE_NAMES","title":"NUMERICAL_VARIABLE_NAMES  <code>class-attribute</code>","text":"<pre><code>NUMERICAL_VARIABLE_NAMES: Sequence[str] = []\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.SUMMARY","title":"SUMMARY  <code>class-attribute</code>","text":"<pre><code>SUMMARY: str = ''\n</code></pre> <p>A brief description of the model (purpose, range of application, hypothesis, limitations, similar models).</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.archive_manager","title":"archive_manager  <code>property</code>","text":"<pre><code>archive_manager\n</code></pre> <p>The archive manager.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.boundary_condition_variable_names","title":"boundary_condition_variable_names  <code>property</code>","text":"<pre><code>boundary_condition_variable_names\n</code></pre> <p>The input variable names which are boundary condition parameters.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.description","title":"description  <code>property</code>","text":"<pre><code>description\n</code></pre> <p>The model description.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.geometrical_variable_names","title":"geometrical_variable_names  <code>property</code>","text":"<pre><code>geometrical_variable_names\n</code></pre> <p>The input variable names which are geometrical parameters.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.image_path","title":"image_path  <code>property</code>","text":"<pre><code>image_path: Path | None\n</code></pre> <p>The fully-qualified path to the image illustrating the model.</p> <p>If no image is associated to the model, the path to the image associated with the load case is returned.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.job_description","title":"job_description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>job_description: str = ''\n</code></pre> <p>Free string description of the job to be executed, to be passed as a metadata result.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.load_case","title":"load_case  <code>property</code>","text":"<pre><code>load_case: LoadCase\n</code></pre> <p>The load case.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.material","title":"material  <code>property</code>","text":"<pre><code>material: Material\n</code></pre> <p>The material.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.material_variable_names","title":"material_variable_names  <code>property</code>","text":"<pre><code>material_variable_names\n</code></pre> <p>The input variable names which are material parameters.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.n_cpus","title":"n_cpus  <code>property</code>","text":"<pre><code>n_cpus\n</code></pre> <p>The number of CPUs to run this model.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.numerical_variable_names","title":"numerical_variable_names  <code>property</code>","text":"<pre><code>numerical_variable_names\n</code></pre> <p>The input variable names which are numerical parameters.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.run","title":"run  <code>property</code>","text":"<pre><code>run: BaseComponent\n</code></pre> <p>The component running the external software.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.scratch_job_directory","title":"scratch_job_directory  <code>property</code>","text":"<pre><code>scratch_job_directory: Path | str\n</code></pre> <p>The Path to the scratch job directory, once the model is executed.</p> <p>Before model execution, or if the model uses the cache, the empty string is returned.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost-classes","title":"Classes","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.InputGroupNames","title":"InputGroupNames","text":"<p>               Bases: <code>StrEnum</code></p> <p>The names of the input variable groups.</p>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost-functions","title":"Functions","text":""},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.auto_get_file","title":"auto_get_file","text":"<pre><code>auto_get_file(\n    file_suffix: str, load_cases: Iterable[str] = ()\n) -&gt; Iterable[Path]\n</code></pre> <p>Return file paths for files following a naming convention and placed next to the model class or its parents, or next to a model load case class. Naming convention is {model_class_name}{file_suffix} or {model_class_name}_{load_case}{file_suffix}.</p> <p>Parameters:</p> <ul> <li> <code>file_suffix</code>               (<code>str</code>)           \u2013            <p>The suffix, including the extension, of the file to be searched in next to model class or its parents.</p> </li> <li> <code>load_cases</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>an iterable of load cases. If specified, only the files placed next to these load case classes are searched. Otherwise, all load case classes associated to the model are considered.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Iterable[Path]</code>           \u2013            <p>A list of file paths.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def auto_get_file(\n    self,\n    file_suffix: str,\n    load_cases: Iterable[str] = (),\n) -&gt; Iterable[Path]:\n    \"\"\"Return file paths for files following a naming convention and placed next to\n    the model class or its parents, or next to a model load case class. Naming\n    convention is {model_class_name}{file_suffix} or\n    {model_class_name}_{load_case}{file_suffix}.\n\n    Args:\n        file_suffix: The suffix, including the extension, of the file to be searched\n            in next to model class or its parents.\n        load_cases: an iterable of load cases. If specified, only the files placed\n            next to these load case classes are searched.\n            Otherwise, all load case classes associated to the model are considered.\n\n    Returns:\n        A list of file paths.\n    \"\"\"\n    from vimseo.api import get_available_load_cases\n\n    cls = self.__class__\n    model_name = cls.__name__\n    load_cases = load_cases or get_available_load_cases(model_name)\n    classes = [cls] + [\n        base for base in cls.__bases__ if issubclass(base, Discipline)\n    ]\n    names = [model_name] + [cls.__name__ for cls in classes[1:]]\n\n    matching_files = []\n    for cls, name in zip(classes, names, strict=False):\n        class_module = sys.modules[cls.__module__]\n        directory_path = Path(class_module.__file__).parent.absolute()\n        file_path = directory_path / f\"{name}{file_suffix}\"\n        if file_path.is_file():\n            matching_files.append(file_path)\n        for load_case in load_cases:\n            file_path = directory_path / f\"{name}_{load_case}{file_suffix}\"\n            if file_path.is_file():\n                matching_files.append(file_path)\n\n    if not matching_files:\n        msg = (\n            f\"No files with suffix {file_suffix} were found next \"\n            f\"to the model {self.name} or its parent class.\"\n        )\n        raise FileNotFoundError(msg)\n\n    return matching_files\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.create_cache_from_archive","title":"create_cache_from_archive","text":"<pre><code>create_cache_from_archive(\n    run_ids: Iterable[str] = (),\n) -&gt; HDF5Cache\n</code></pre> <p>Defines a temporary HDF5 cache file, based on results found on the current archive.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def create_cache_from_archive(self, run_ids: Iterable[str] = ()) -&gt; HDF5Cache:\n    \"\"\"Defines a temporary HDF5 cache file, based on results found on the current\n    archive.\"\"\"\n\n    # cache file preparation\n    cache_dir_path = Path(self._cache_file_path).parent\n    self._cache_file_path = Path(\n        cache_dir_path\n        / f\"{self.__class__.__name__}_{self.__load_case.name}_from_archive.hdf\"\n    )\n    self._cache_file_path.unlink(\n        missing_ok=True\n    )  # delete possible old tmp cache file\n    # note that tolerance is important for now: see issue #233.\n\n    self.set_cache(\n        cache_type=Discipline.CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n        tolerance=1.0e-10,\n    )\n\n    results = self._archive_manager.get_archived_results(run_ids=run_ids)\n    if results is None:\n        return None\n\n    for result in results:\n        if not isinstance(self.cache, SimpleCache):\n            to_array = self.output_grammar.data_converter.convert_value_to_array\n            for name, value in result[\"outputs\"].items():\n                result[\"outputs\"][name] = to_array(name, value)\n\n        self.cache.cache_outputs(result[\"inputs\"], result[\"outputs\"])\n        # jacobian = None\n        #\n        # # append a cache entry with the current result\n        # self.cache[result[\"inputs\"]] = (result[\"outputs\"], jacobian)\n\n    return self.cache\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.execute","title":"execute","text":"<pre><code>execute(\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData\n</code></pre> <p>Execute the discipline, i.e. compute output data from input data.</p> <p>If :attr:<code>.virtual_execution</code> is <code>True</code>, this method returns the :attr:<code>.default_output_data</code>. Otherwise, it calls the :meth:<code>._run</code> method performing the true execution and returns the corresponding output data. This :meth:<code>._run</code> method must be implemented in subclasses.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>StrKeyMapping</code>, default:                   <code>READ_ONLY_EMPTY_DICT</code> )           \u2013            <p>The input data. Complete this dictionary with the :attr:<code>.default_input_data</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>DisciplineData</code>           \u2013            <p>The input and output data.</p> </li> </ul> Source code in <code>src/vimseo/core/gemseo_discipline_wrapper.py</code> <pre><code>def execute(\n    self,\n    input_data: StrKeyMapping = READ_ONLY_EMPTY_DICT,\n) -&gt; DisciplineData:\n\n    if self.EXTRA_INPUT_GRAMMAR_CHECK:\n        from vimseo.core.base_integrated_model import IntegratedModel\n        from vimseo.core.components.pre.pre_processor import PreProcessor\n\n        all_input_names = list(input_data.keys()) + list(\n            self.default_input_data.keys()\n        )\n\n        if (isinstance(self, (IntegratedModel, PreProcessor))) and not set(\n            all_input_names\n        ).issubset(set(self.input_grammar.names)):\n            extra_inputs = list(\n                set(all_input_names) - set(self.input_grammar.names)\n            )\n            msg = (\n                f\"Input {extra_inputs} are not defined in the input grammar.\"\n                f\"Input grammar names are {list(self.input_grammar.names)}.\"\n            )\n            raise KeyError(msg)\n\n    return super().execute(input_data)\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.get_dataflow","title":"get_dataflow","text":"<pre><code>get_dataflow()\n</code></pre> <p>The inputs and outputs of the components of the model.</p> <p>Returns:</p> <ul> <li>           \u2013            <p>A dictionary mapping component name to its input and output names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_dataflow(self):\n    \"\"\"The inputs and outputs of the components of the model.\n\n    Returns:\n         A dictionary mapping component name to its input and output names.\n    \"\"\"\n\n    dataflow = {\n        \"model_inputs\": self.get_input_data_names(),\n        \"model_outputs\": self.get_output_data_names(),\n    }\n\n    for component in self._chain.disciplines:\n        dataflow[component.name] = {\n            \"inputs\": list(component.input_grammar.names),\n            \"outputs\": list(component.output_grammar.names),\n        }\n\n    return dataflow\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.get_output_data_names","title":"get_output_data_names","text":"<pre><code>get_output_data_names(\n    remove_metadata: bool = False,\n) -&gt; list[str]\n</code></pre> <p>Parameters:</p> <ul> <li> <code>remove_metadata</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to remove the metadata from the output data names.</p> </li> </ul> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def get_output_data_names(self, remove_metadata: bool = False) -&gt; list[str]:\n    \"\"\"\n\n    Args:\n        remove_metadata: Whether to remove the metadata from the output data names.\n\n    \"\"\"\n    output_data_names = list(self.output_grammar.names)\n\n    if remove_metadata:\n        for name in self.get_metadata_names():\n            if name in output_data_names:\n                output_data_names.remove(name)\n\n    return output_data_names\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plots the results as curves, from definition of curves in CURVES variable.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>A path where to save the plots. Default is current working directory.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to save the plot.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>scalar_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The scalars to plot in a scatter matrix. Show all scalars by default.</p> </li> </ul> <p>Returns:</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def plot_results(\n    self,\n    directory_path: str | Path = \"\",\n    save: bool = True,\n    show: bool = False,\n    scalar_names: Iterable[str] = (),\n    data: str = \"CURVES\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plots the results as curves, from definition of curves in CURVES variable.\n\n    Args:\n        directory_path: A path where to save the plots. Default is current working\n            directory.\n        save: Whether to save the plot.\n        show: Whether to show the plot.\n        scalar_names: The scalars to plot in a scatter matrix. Show all scalars by default.\n\n    Returns:\n    \"\"\"\n    directory_path = Path.cwd() if directory_path == \"\" else Path(directory_path)\n    if not directory_path.exists():\n        directory_path.mkdir(parents=True)\n\n    LOGGER.info(f\"Saving plots to {directory_path.absolute()}\")\n\n    from vimseo.core.model_result import ModelResult\n\n    result = ModelResult.from_data(\n        {\"inputs\": self.get_input_data(), \"outputs\": self.get_output_data()},\n        model=self,\n    )\n    figures = {}\n    if data == \"CURVES\":\n        for variables in self.curves:\n            file_name = (\n                f\"{self.name}_{self.__load_case.name}_\"\n                f\"{variables[1]}_vs_{variables[0]}.html\"\n            )\n            figures[f\"{variables[1]}_vs_{variables[0]}\"] = plot_curves(\n                result.get_curve(variables),\n                directory_path=directory_path,\n                file_name=file_name,\n                save=save,\n                show=show,\n            )\n            LOGGER.info(\n                f\"Plot {file_name} is saved to {Path(directory_path) / file_name}\"\n            )\n    elif data == \"SCALARS\":\n        plot = ScatterMatrix(\n            Dataset.from_dataframe(\n                DataFrame.from_dict([\n                    result.get_numeric_scalars(\n                        variable_names=scalar_names,\n                    )\n                ])\n            )\n        )\n        figures[\"scalars\"] = plot.execute(\n            directory_path=directory_path,\n            file_name=\"scalars.html\",\n            save=False,\n            show=True,\n        )\n    else:\n        msg = f\"Unknown data type {data} for plotting.\"\n        raise ValueError(msg)\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.reset_cache","title":"reset_cache","text":"<pre><code>reset_cache(new_cache_path: str | Path)\n</code></pre> <p>Create a new cache with another file path.</p> <p>Has an effect only for <code>HDF5</code> cache.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def reset_cache(self, new_cache_path: str | Path):\n    \"\"\"Create a new cache with another file path.\n\n    Has an effect only for ``HDF5`` cache.\n    \"\"\"\n    self._cache_file_path = new_cache_path\n    self.set_cache(\n        cache_type=CacheType.HDF5,\n        hdf_file_path=self._cache_file_path,\n        hdf_node_path=\"node\",\n    )\n</code></pre>"},{"location":"reference/vimseo/problems/sandbox/models/#vimseo.problems.sandbox.models.BendingTestWithPost.show_image","title":"show_image","text":"<pre><code>show_image() -&gt; None\n</code></pre> <p>Show the image illustrating the load case.</p> Source code in <code>src/vimseo/core/base_integrated_model.py</code> <pre><code>def show_image(self) -&gt; None:\n    \"\"\"Show the image illustrating the load case.\"\"\"\n    if self.image_path:\n        imshow(asarray(imread(self.image_path)))\n</code></pre>"},{"location":"reference/vimseo/storage_management/","title":"Storage management","text":""},{"location":"reference/vimseo/storage_management/#vimseo.storage_management","title":"storage_management","text":""},{"location":"reference/vimseo/storage_management/#vimseo.storage_management-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/archive_settings/","title":"Archive settings","text":""},{"location":"reference/vimseo/storage_management/archive_settings/#vimseo.storage_management.archive_settings","title":"archive_settings","text":""},{"location":"reference/vimseo/storage_management/archive_settings/#vimseo.storage_management.archive_settings-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/archive_settings/#vimseo.storage_management.archive_settings-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/archive_settings/#vimseo.storage_management.archive_settings.BaseArchiveSettings","title":"BaseArchiveSettings","text":"<p>               Bases: <code>BaseSettings</code></p> <p>The options of the <code>IntegratedModel</code> constructor.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/","title":"Base archive storage","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage","title":"base_archive_storage","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.ArchiveResultType","title":"ArchiveResultType  <code>module-attribute</code>","text":"<pre><code>ArchiveResultType = Mapping[\n    str, Mapping[str, ndarray | Number | str]\n]\n</code></pre> <p>A dictionary with the following items: - 'inputs' to a dictionary mapping input variable names to an input data.   If the data is a length-one array, the array item is directly considered. - 'outputs' to a dictionary mapping output variable names to an output data.   If the data is a length-one array, the array item is directly considered. - 'metadata' to a dictionary mapping metadata variable names to the metadata value.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.ModelDataType","title":"ModelDataType  <code>module-attribute</code>","text":"<pre><code>ModelDataType = Mapping[str, DisciplineData]\n</code></pre> <p>A dictionary with two items: - 'inputs' to a dictionary mapping input variable names to arrays. - 'outputs' to a dictionary mapping output variable names to arrays.   Metadata are contained within this item.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager","title":"BaseArchiveManager","text":"<pre><code>BaseArchiveManager(\n    persistency: PersistencyPolicy,\n    job_name: str = \"\",\n    persistent_file_names: Iterable[str] = (),\n)\n</code></pre> <p>               Bases: <code>BaseStorageManager</code></p> <p>File storage system for both scratch and archive.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def __init__(\n    self,\n    persistency: PersistencyPolicy,\n    job_name: str = \"\",\n    persistent_file_names: Iterable[str] = (),\n):\n    super().__init__(persistency)\n    self._job_name = job_name\n    self._persistent_file_names = persistent_file_names\n    self._experiment_name = \"\"\n    self._current_run_id = \"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.experiment_name","title":"experiment_name  <code>property</code>","text":"<pre><code>experiment_name\n</code></pre> <p>The name of the current experiment.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.job_directory","title":"job_directory  <code>property</code>","text":"<pre><code>job_directory\n</code></pre> <p>The directory of the current run.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.persistent_file_names","title":"persistent_file_names  <code>property</code>","text":"<pre><code>persistent_file_names\n</code></pre> <p>The names of the files that will be copied to the archive directory.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.run_name","title":"run_name  <code>property</code>","text":"<pre><code>run_name\n</code></pre> <p>The name of the current run.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.uri","title":"uri  <code>property</code>","text":"<pre><code>uri: str\n</code></pre> <p>The database root directory.</p>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.create_job_directory","title":"create_job_directory","text":"<pre><code>create_job_directory()\n</code></pre> <p>Create the job directory.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def create_job_directory(self):\n    \"\"\"Create the job directory.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.delete_job_directory","title":"delete_job_directory","text":"<pre><code>delete_job_directory()\n</code></pre> <p>Delete the job directory.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def delete_job_directory(self):\n    \"\"\"Delete the job directory.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.enforce_persistency_policy","title":"enforce_persistency_policy","text":"<pre><code>enforce_persistency_policy(model_result: ModelDataType)\n</code></pre> <p>Create and feed archive with new job results, if informed policy is to be persistent.</p> <p>Parameters:</p> <ul> <li> <code>model_result</code>               (<code>ModelDataType</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def enforce_persistency_policy(self, model_result: ModelDataType):\n    \"\"\"Create and feed archive with new job results, if informed policy is to be\n    persistent.\"\"\"\n\n    archive_result = self._prepare_archive_result(model_result)\n\n    if self.whether_to_delete(archive_result[\"metadata\"][MetaDataNames.error_code]):\n        self.delete_job_directory()\n        return\n\n    self.publish(archive_result)\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.get_result","title":"get_result  <code>abstractmethod</code>","text":"<pre><code>get_result(archive_id: str | Path) -&gt; ModelDataType\n</code></pre> <p>Get an archived result.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>@abstractmethod\ndef get_result(self, archive_id: str | Path) -&gt; ModelDataType:\n    \"\"\"Get an archived result.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.publish","title":"publish  <code>abstractmethod</code>","text":"<pre><code>publish(archive_result: ArchiveResultType) -&gt; None\n</code></pre> <p>Publish a result.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>@abstractmethod\ndef publish(self, archive_result: ArchiveResultType) -&gt; None:\n    \"\"\"Publish a result.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.set_experiment","title":"set_experiment","text":"<pre><code>set_experiment(experiment_name: str)\n</code></pre> <p>Set an experiment.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def set_experiment(self, experiment_name: str):\n    \"\"\"Set an experiment.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.set_run_name","title":"set_run_name","text":"<pre><code>set_run_name(run_name: str)\n</code></pre> <p>Set the run name.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def set_run_name(self, run_name: str):\n    \"\"\"Set the run name.\"\"\"\n    self._job_name = run_name\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage.BaseArchiveManager.whether_to_delete","title":"whether_to_delete","text":"<pre><code>whether_to_delete(job_error_code: int) -&gt; bool\n</code></pre> <p>Determine whether the job_directory should be deleted, depending on the persistency policy and the job error code.</p> <p>Parameters:</p> <ul> <li> <code>job_error_code</code>               (<code>int</code>)           \u2013            <p>The error code returned by the job.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def whether_to_delete(self, job_error_code: int) -&gt; bool:\n    \"\"\"Determine whether the job_directory should be deleted, depending on the\n    persistency policy and the job error code.\n\n    Args:\n        job_error_code: The error code returned by the job.\n    \"\"\"\n\n    job_is_faulty = job_error_code != 0\n\n    map_policy_to_deletion_enforcement = {\n        PersistencyPolicy.DELETE_ALWAYS: True,\n        PersistencyPolicy.DELETE_NEVER: False,\n        PersistencyPolicy.DELETE_IF_FAULTY: job_is_faulty,\n        PersistencyPolicy.DELETE_IF_SUCCESSFUL: not job_is_faulty,\n    }\n    return map_policy_to_deletion_enforcement[self._persistency]\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_archive_storage/#vimseo.storage_management.base_archive_storage-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/","title":"Base storage manager","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager","title":"base_storage_manager","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager","title":"BaseStorageManager","text":"<pre><code>BaseStorageManager(persistency: PersistencyPolicy)\n</code></pre> <p>File storage system for both scratch and archive.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def __init__(\n    self,\n    persistency: PersistencyPolicy,\n):\n\n    self._persistency = persistency\n    self._job_directory = \"\"\n    self._directory_naming_method = DirectoryNamingMethod.NUMBERED\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager.job_directory","title":"job_directory  <code>property</code>","text":"<pre><code>job_directory\n</code></pre> <p>The directory of the current run.</p>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager.create_job_directory","title":"create_job_directory","text":"<pre><code>create_job_directory()\n</code></pre> <p>Create the job directory.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def create_job_directory(self):\n    \"\"\"Create the job directory.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager.delete_job_directory","title":"delete_job_directory","text":"<pre><code>delete_job_directory()\n</code></pre> <p>Delete the job directory.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def delete_job_directory(self):\n    \"\"\"Delete the job directory.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager.enforce_persistency_policy","title":"enforce_persistency_policy  <code>abstractmethod</code>","text":"<pre><code>enforce_persistency_policy(model_result: dict)\n</code></pre> <p>Apply the persistency.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>@abstractmethod\ndef enforce_persistency_policy(self, model_result: dict):\n    \"\"\"Apply the persistency.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.BaseStorageManager.whether_to_delete","title":"whether_to_delete","text":"<pre><code>whether_to_delete(job_error_code: int) -&gt; bool\n</code></pre> <p>Determine whether the job_directory should be deleted, depending on the persistency policy and the job error code.</p> <p>Parameters:</p> <ul> <li> <code>job_error_code</code>               (<code>int</code>)           \u2013            <p>The error code returned by the job.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def whether_to_delete(self, job_error_code: int) -&gt; bool:\n    \"\"\"Determine whether the job_directory should be deleted, depending on the\n    persistency policy and the job error code.\n\n    Args:\n        job_error_code: The error code returned by the job.\n    \"\"\"\n\n    job_is_faulty = job_error_code != 0\n\n    map_policy_to_deletion_enforcement = {\n        PersistencyPolicy.DELETE_ALWAYS: True,\n        PersistencyPolicy.DELETE_NEVER: False,\n        PersistencyPolicy.DELETE_IF_FAULTY: job_is_faulty,\n        PersistencyPolicy.DELETE_IF_SUCCESSFUL: not job_is_faulty,\n    }\n    return map_policy_to_deletion_enforcement[self._persistency]\n</code></pre>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy","title":"PersistencyPolicy","text":"<p>               Bases: <code>StrEnum</code></p> <p>The policy of persistency of a job directory, depending on the job status.</p>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy.DELETE_ALWAYS","title":"DELETE_ALWAYS  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_ALWAYS = 'DELETE_ALWAYS'\n</code></pre> <p>Always delete job directory.</p>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy.DELETE_IF_FAULTY","title":"DELETE_IF_FAULTY  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_IF_FAULTY = 'DELETE_IF_FAULTY'\n</code></pre> <p>Delete job directory only if job faulty.</p>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy.DELETE_IF_SUCCESSFUL","title":"DELETE_IF_SUCCESSFUL  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_IF_SUCCESSFUL = 'DELETE_IF_SUCCESSFUL'\n</code></pre> <p>Delete job directory only if job successful.</p>"},{"location":"reference/vimseo/storage_management/base_storage_manager/#vimseo.storage_management.base_storage_manager.PersistencyPolicy.DELETE_NEVER","title":"DELETE_NEVER  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DELETE_NEVER = 'DELETE_NEVER'\n</code></pre> <p>Never delete job directory.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/","title":"Directory storage","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage","title":"directory_storage","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive","title":"DirectoryArchive","text":"<pre><code>DirectoryArchive(\n    persistency: PersistencyPolicy,\n    model_name,\n    load_case_name,\n    root_directory: Path | str = \"\",\n    job_name=\"\",\n    persistent_file_names=(),\n)\n</code></pre> <p>               Bases: <code>BaseArchiveManager</code></p> <p>This is a random docstring to be changed later !</p> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def __init__(\n    self,\n    persistency: PersistencyPolicy,\n    model_name,\n    load_case_name,\n    root_directory: Path | str = \"\",\n    job_name=\"\",\n    persistent_file_names=(),\n):\n    super().__init__(persistency, job_name, persistent_file_names)\n    self._root_directory = root_directory\n    self._experiment_name = (\n        config.database.experiment_name\n        if config.database.experiment_name != \"\"\n        else f\"./{model_name}/{load_case_name}/\"\n    )\n    self._job_directory = \"\"\n    self._accept_overwrite_job_dir = False\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.experiment_name","title":"experiment_name  <code>property</code>","text":"<pre><code>experiment_name\n</code></pre> <p>The name of the current experiment.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.job_directory","title":"job_directory  <code>property</code>","text":"<pre><code>job_directory\n</code></pre> <p>The directory of the current run.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.persistent_file_names","title":"persistent_file_names  <code>property</code>","text":"<pre><code>persistent_file_names\n</code></pre> <p>The names of the files that will be copied to the archive directory.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.root_directory","title":"root_directory  <code>property</code>","text":"<pre><code>root_directory: str\n</code></pre> <p>The root directory where results are stored.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.run_name","title":"run_name  <code>property</code>","text":"<pre><code>run_name\n</code></pre> <p>The name of the current run.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.uri","title":"uri  <code>property</code>","text":"<pre><code>uri: str\n</code></pre> <p>The database root directory.</p>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.create_job_directory","title":"create_job_directory","text":"<pre><code>create_job_directory()\n</code></pre> <p>Create a new job directory.</p> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def create_job_directory(self):\n    \"\"\"Create a new job directory.\"\"\"\n    self._job_directory = self._create_job_directory(\n        self._root_directory,\n        self._job_name,\n        self._experiment_name,\n    )\n    self._current_run_id = self._job_directory\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.delete_job_directory","title":"delete_job_directory","text":"<pre><code>delete_job_directory()\n</code></pre> <p>Delete the job directory.</p> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def delete_job_directory(self):\n    job_dir = self._job_directory\n    if self._job_directory != \"\":\n        LOGGER.info(f\"Removing job directory: {job_dir}\")\n        shutil.rmtree(str(job_dir))\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.enforce_persistency_policy","title":"enforce_persistency_policy","text":"<pre><code>enforce_persistency_policy(model_result: ModelDataType)\n</code></pre> <p>Create and feed archive with new job results, if informed policy is to be persistent.</p> <p>Parameters:</p> <ul> <li> <code>model_result</code>               (<code>ModelDataType</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def enforce_persistency_policy(self, model_result: ModelDataType):\n    \"\"\"Create and feed archive with new job results, if informed policy is to be\n    persistent.\"\"\"\n\n    archive_result = self._prepare_archive_result(model_result)\n\n    if self.whether_to_delete(archive_result[\"metadata\"][MetaDataNames.error_code]):\n        self.delete_job_directory()\n        return\n\n    self.publish(archive_result)\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.get_result","title":"get_result","text":"<pre><code>get_result(\n    archive_dir_path: str | Path = \"\",\n) -&gt; ModelDataType\n</code></pre> <p>Get an archived result.</p> <p>Parameters:</p> <ul> <li> <code>archive_dir_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def get_result(self, archive_dir_path: str | Path = \"\") -&gt; ModelDataType:\n    archive_dir_path = (\n        self._job_directory if archive_dir_path == \"\" else archive_dir_path\n    )\n    with Path(Path(archive_dir_path) / self._RESULTS_JSON_FILE).open() as f:\n        directory_result = json.load(f)\n        return self._decode_result(directory_result)\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.publish","title":"publish","text":"<pre><code>publish(archive_result: ArchiveResultType) -&gt; None\n</code></pre> <p>Publish a result.</p> <p>Parameters:</p> <ul> <li> <code>archive_result</code>               (<code>ArchiveResultType</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def publish(self, archive_result: ArchiveResultType) -&gt; None:\n    Path(self._job_directory / self._RESULTS_JSON_FILE).write_text(\n        json.dumps(archive_result, cls=EnhancedJSONEncoderArchive)\n    )\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.set_experiment","title":"set_experiment","text":"<pre><code>set_experiment(experiment_name: str)\n</code></pre> <p>Set an experiment.</p> <p>Parameters:</p> <ul> <li> <code>experiment_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/directory_storage.py</code> <pre><code>def set_experiment(self, experiment_name: str):\n    self._experiment_name = experiment_name\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.set_run_name","title":"set_run_name","text":"<pre><code>set_run_name(run_name: str)\n</code></pre> <p>Set the run name.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def set_run_name(self, run_name: str):\n    \"\"\"Set the run name.\"\"\"\n    self._job_name = run_name\n</code></pre>"},{"location":"reference/vimseo/storage_management/directory_storage/#vimseo.storage_management.directory_storage.DirectoryArchive.whether_to_delete","title":"whether_to_delete","text":"<pre><code>whether_to_delete(job_error_code: int) -&gt; bool\n</code></pre> <p>Determine whether the job_directory should be deleted, depending on the persistency policy and the job error code.</p> <p>Parameters:</p> <ul> <li> <code>job_error_code</code>               (<code>int</code>)           \u2013            <p>The error code returned by the job.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def whether_to_delete(self, job_error_code: int) -&gt; bool:\n    \"\"\"Determine whether the job_directory should be deleted, depending on the\n    persistency policy and the job error code.\n\n    Args:\n        job_error_code: The error code returned by the job.\n    \"\"\"\n\n    job_is_faulty = job_error_code != 0\n\n    map_policy_to_deletion_enforcement = {\n        PersistencyPolicy.DELETE_ALWAYS: True,\n        PersistencyPolicy.DELETE_NEVER: False,\n        PersistencyPolicy.DELETE_IF_FAULTY: job_is_faulty,\n        PersistencyPolicy.DELETE_IF_SUCCESSFUL: not job_is_faulty,\n    }\n    return map_policy_to_deletion_enforcement[self._persistency]\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/","title":"Mlflow storage","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage","title":"mlflow_storage","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive","title":"MlflowArchive","text":"<pre><code>MlflowArchive(\n    persistency: PersistencyPolicy,\n    root_directory: Path | str = \"\",\n    job_name=\"\",\n    model_name=\"\",\n    load_case_name=\"\",\n    persistent_file_names=(),\n)\n</code></pre> <p>               Bases: <code>BaseArchiveManager</code></p> <p>File storage system for both scratch and archive.</p> Source code in <code>src/vimseo/storage_management/mlflow_storage.py</code> <pre><code>def __init__(\n    self,\n    persistency: PersistencyPolicy,\n    root_directory: Path | str = \"\",\n    job_name=\"\",\n    model_name=\"\",\n    load_case_name=\"\",\n    persistent_file_names=(),\n):\n\n    super().__init__(persistency, job_name, persistent_file_names)\n    self._root_directory = root_directory\n    self._model_name = model_name\n    self._load_case_name = load_case_name\n\n    if config.database.mode == \"Team\":\n        self._uri = config.database.team_uri\n        os.environ[\"MLFLOW_TRACKING_USERNAME\"] = config.database.username\n        os.environ[\"MLFLOW_TRACKING_PASSWORD\"] = config.database.password\n        os.environ[\"REQUESTS_CA_BUNDLE\"] = (\n            config.database.ssl_certificate_file\n            if config.database.ssl_certificate_file != \"\"\n            else str((MLFLOW_CERTIFICATES_DIR / \"irt_certificate.txt\").absolute())\n        )\n\n        if config.database.use_insecure_tls == \"True\":\n            os.environ[\"MLFLOW_TRACKING_DATABASE_USE_INSECURE_TLS\"] = \"true\"\n            urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)\n\n    elif config.database.mode == \"Local\":\n        # TODO use root_directory instead of config.database.local_uri\n        self._uri = (\n            config.database.local_uri\n            if config.database.local_uri != \"\"\n            else f\"file:///{Path(root_directory).absolute()!s}\"\n        )\n    else:\n        msg = f\"Wrong value for config.database.mode: {config.database.mode}\"\n        raise ValueError(msg)\n\n    mlflow.set_tracking_uri(self._uri)\n    self._experiment_name = (\n        config.database.experiment_name\n        if config.database.experiment_name != \"\"\n        else f\"{self._model_name}_{self._load_case_name}\"\n    )\n    self._mlflow_client = mlflow.tracking.MlflowClient()\n    mlflow.set_experiment(self._experiment_name)\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.experiment_name","title":"experiment_name  <code>property</code>","text":"<pre><code>experiment_name\n</code></pre> <p>The name of the current experiment.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.job_directory","title":"job_directory  <code>property</code>","text":"<pre><code>job_directory\n</code></pre> <p>The directory of the current run.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.persistent_file_names","title":"persistent_file_names  <code>property</code>","text":"<pre><code>persistent_file_names\n</code></pre> <p>The names of the files that will be copied to the archive directory.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.root_directory","title":"root_directory  <code>property</code>","text":"<pre><code>root_directory: str\n</code></pre> <p>The database uri.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.run_name","title":"run_name  <code>property</code>","text":"<pre><code>run_name\n</code></pre> <p>The name of the current run.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.uri","title":"uri  <code>property</code>","text":"<pre><code>uri: str\n</code></pre> <p>The Mlflow database uri.</p>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.create_job_directory","title":"create_job_directory","text":"<pre><code>create_job_directory()\n</code></pre> <p>Create the job directory.</p> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def create_job_directory(self):\n    \"\"\"Create the job directory.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.delete_job_directory","title":"delete_job_directory","text":"<pre><code>delete_job_directory()\n</code></pre> <p>Delete the job directory.</p> Source code in <code>src/vimseo/storage_management/mlflow_storage.py</code> <pre><code>def delete_job_directory(self):\n    delete_run(self._current_run_id)\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.enforce_persistency_policy","title":"enforce_persistency_policy","text":"<pre><code>enforce_persistency_policy(model_result: ModelDataType)\n</code></pre> <p>Create and feed archive with new job results, if informed policy is to be persistent.</p> <p>Parameters:</p> <ul> <li> <code>model_result</code>               (<code>ModelDataType</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def enforce_persistency_policy(self, model_result: ModelDataType):\n    \"\"\"Create and feed archive with new job results, if informed policy is to be\n    persistent.\"\"\"\n\n    archive_result = self._prepare_archive_result(model_result)\n\n    if self.whether_to_delete(archive_result[\"metadata\"][MetaDataNames.error_code]):\n        self.delete_job_directory()\n        return\n\n    self.publish(archive_result)\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.get_result","title":"get_result","text":"<pre><code>get_result(run_id: str = '') -&gt; ModelDataType\n</code></pre> <p>Get an archived result.</p> <p>Parameters:</p> <ul> <li> <code>run_id</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/mlflow_storage.py</code> <pre><code>def get_result(self, run_id: str = \"\") -&gt; ModelDataType:\n    run = self._mlflow_client.get_run(\n        run_id if run_id != \"\" else self._current_run_id\n    )\n    self._job_directory = Path(unquote(urlparse(run.info.artifact_uri).path))\n\n    result = self._decode_result(run.data.to_dictionary())\n    result[\"outputs\"][MetaDataNames.directory_archive_job] = atleast_1d(\n        str(self._job_directory)\n    )\n    return result\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.publish","title":"publish","text":"<pre><code>publish(archive_result: ArchiveResultType) -&gt; None\n</code></pre> <p>Publish a result.</p> <p>Parameters:</p> <ul> <li> <code>archive_result</code>               (<code>ArchiveResultType</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/mlflow_storage.py</code> <pre><code>def publish(self, archive_result: ArchiveResultType) -&gt; None:\n\n    def extract_floats(data):\n        floats = {}\n        arrays_non_real = {}\n        arrays_real = {}\n        strings_ = {}\n        for name, value in data.items():\n            if isinstance(value, str):\n                strings_.update({name: value})\n            elif isinstance(value, (collections.abc.Sequence, np.ndarray)):\n                if all(np.isreal(value)):\n                    arrays_real.update({name: value})\n                else:\n                    arrays_non_real.update({name: value})\n            else:\n                floats.update({name: value})\n        return floats, arrays_real, arrays_non_real, strings_\n\n    all_data = deepcopy(archive_result[\"inputs\"])\n    all_data.update(archive_result[\"outputs\"])\n    floats, arrays_real, arrays_non_real, strings_ = extract_floats(all_data)\n\n    tags = {\n        name: value\n        for name, value in archive_result[\"metadata\"].items()\n        if name\n        not in [MetaDataNames.persistent_result_files, MetaDataNames.cpu_time]\n    }\n    tags.update({\n        MetaDataNames.persistent_result_files: json.dumps(\n            archive_result[\"metadata\"][MetaDataNames.persistent_result_files],\n            cls=EnhancedJSONEncoder,\n        )\n    })\n\n    def prepare_data(data: dict, jsonify: bool = False):\n        return {\n            (name if name in archive_result[\"outputs\"] else f\"inputs.{name}\"): (\n                json.dumps(v, cls=EnhancedJSONEncoder) if jsonify else v\n            )\n            for name, v in data.items()\n        }\n\n    with mlflow.start_run(run_name=self._job_name) as run:\n        self._current_run_id = run.info.run_id\n        mlflow.set_tags(tags)\n        mlflow.log_params(\n            prepare_data(\n                dict(arrays_real, **arrays_non_real, **strings_), jsonify=True\n            )\n        )\n        mlflow.log_metrics(prepare_data(floats))\n        mlflow.log_metric(\n            MetaDataNames.cpu_time,\n            archive_result[\"metadata\"][MetaDataNames.cpu_time],\n        )\n        for name, value in arrays_real.items():\n            for i, v in enumerate(value):\n                mlflow.log_metric(\n                    (\n                        name\n                        if name in archive_result[\"outputs\"]\n                        else f\"inputs.{name}\"\n                    ),\n                    v,\n                    step=i,\n                )\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.set_experiment","title":"set_experiment","text":"<pre><code>set_experiment(\n    experiment_name: str,\n    tags: Mapping[str, str] | None = None,\n)\n</code></pre> <p>Set an experiment.</p> <p>Parameters:</p> <ul> <li> <code>experiment_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>tags</code>               (<code>Mapping[str, str] | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/mlflow_storage.py</code> <pre><code>def set_experiment(\n    self, experiment_name: str, tags: Mapping[str, str] | None = None\n):\n    tags = {} if tags is None else tags\n    mlflow.set_experiment(experiment_name)\n    self._experiment_name = experiment_name\n    mlflow.set_experiment_tags(tags)\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.set_run_name","title":"set_run_name","text":"<pre><code>set_run_name(run_name: str)\n</code></pre> <p>Set the run name.</p> Source code in <code>src/vimseo/storage_management/base_archive_storage.py</code> <pre><code>def set_run_name(self, run_name: str):\n    \"\"\"Set the run name.\"\"\"\n    self._job_name = run_name\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_storage/#vimseo.storage_management.mlflow_storage.MlflowArchive.whether_to_delete","title":"whether_to_delete","text":"<pre><code>whether_to_delete(job_error_code: int) -&gt; bool\n</code></pre> <p>Determine whether the job_directory should be deleted, depending on the persistency policy and the job error code.</p> <p>Parameters:</p> <ul> <li> <code>job_error_code</code>               (<code>int</code>)           \u2013            <p>The error code returned by the job.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def whether_to_delete(self, job_error_code: int) -&gt; bool:\n    \"\"\"Determine whether the job_directory should be deleted, depending on the\n    persistency policy and the job error code.\n\n    Args:\n        job_error_code: The error code returned by the job.\n    \"\"\"\n\n    job_is_faulty = job_error_code != 0\n\n    map_policy_to_deletion_enforcement = {\n        PersistencyPolicy.DELETE_ALWAYS: True,\n        PersistencyPolicy.DELETE_NEVER: False,\n        PersistencyPolicy.DELETE_IF_FAULTY: job_is_faulty,\n        PersistencyPolicy.DELETE_IF_SUCCESSFUL: not job_is_faulty,\n    }\n    return map_policy_to_deletion_enforcement[self._persistency]\n</code></pre>"},{"location":"reference/vimseo/storage_management/mlflow_ui_entry_point/","title":"Mlflow ui entry point","text":""},{"location":"reference/vimseo/storage_management/mlflow_ui_entry_point/#vimseo.storage_management.mlflow_ui_entry_point","title":"mlflow_ui_entry_point","text":""},{"location":"reference/vimseo/storage_management/mlflow_ui_entry_point/#vimseo.storage_management.mlflow_ui_entry_point-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/scratch_settings/","title":"Scratch settings","text":""},{"location":"reference/vimseo/storage_management/scratch_settings/#vimseo.storage_management.scratch_settings","title":"scratch_settings","text":""},{"location":"reference/vimseo/storage_management/scratch_settings/#vimseo.storage_management.scratch_settings-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/scratch_settings/#vimseo.storage_management.scratch_settings.DirectoryScratchSettings","title":"DirectoryScratchSettings","text":"<p>               Bases: <code>BaseSettings</code></p> <p>The options of the <code>IntegratedModel</code> constructor.</p>"},{"location":"reference/vimseo/storage_management/scratch_storage/","title":"Scratch storage","text":""},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage","title":"scratch_storage","text":""},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch","title":"DirectoryScratch","text":"<pre><code>DirectoryScratch(\n    root_directory: Path,\n    persistency: PersistencyPolicy,\n    job_name,\n    model_name,\n    load_case_name,\n)\n</code></pre> <p>               Bases: <code>BaseStorageManager</code></p> <p>File storage system for both scratch and archive.</p> Source code in <code>src/vimseo/storage_management/scratch_storage.py</code> <pre><code>def __init__(\n    self,\n    root_directory: Path,\n    persistency: PersistencyPolicy,\n    job_name,\n    model_name,\n    load_case_name,\n):\n\n    super().__init__(persistency)\n    self._root_directory = root_directory\n    self._job_name = job_name\n    self._experiment_name = f\"./{model_name}/{load_case_name}/\"\n    self._accept_overwrite_job_dir = True\n    self._job_directory = \"\"\n</code></pre>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.job_directory","title":"job_directory  <code>property</code>","text":"<pre><code>job_directory\n</code></pre> <p>The directory of the current run.</p>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.root_directory","title":"root_directory  <code>property</code>","text":"<pre><code>root_directory: str\n</code></pre> <p>The root directory where results are stored.</p>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.create_job_directory","title":"create_job_directory","text":"<pre><code>create_job_directory()\n</code></pre> <p>Create a new job directory.</p> Source code in <code>src/vimseo/storage_management/scratch_storage.py</code> <pre><code>def create_job_directory(self):\n    \"\"\"Create a new job directory.\"\"\"\n    self._job_directory = self._create_job_directory(\n        self._root_directory,\n        self._job_name,\n        self._experiment_name,\n    )\n</code></pre>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.delete_job_directory","title":"delete_job_directory","text":"<pre><code>delete_job_directory()\n</code></pre> <p>Delete the job directory.</p> Source code in <code>src/vimseo/storage_management/scratch_storage.py</code> <pre><code>def delete_job_directory(self):\n    if self._job_directory != \"\":\n        LOGGER.info(f\"Removing job directory: {self._job_directory}\")\n        shutil.rmtree(str(self._job_directory))\n</code></pre>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.enforce_persistency_policy","title":"enforce_persistency_policy","text":"<pre><code>enforce_persistency_policy(model_result: dict)\n</code></pre> <p>Apply the persistency.</p> <p>Parameters:</p> <ul> <li> <code>model_result</code>               (<code>dict</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/scratch_storage.py</code> <pre><code>def enforce_persistency_policy(self, model_result: dict):\n    if self.whether_to_delete(model_result[\"outputs\"][MetaDataNames.error_code][0]):\n        self.delete_job_directory()\n</code></pre>"},{"location":"reference/vimseo/storage_management/scratch_storage/#vimseo.storage_management.scratch_storage.DirectoryScratch.whether_to_delete","title":"whether_to_delete","text":"<pre><code>whether_to_delete(job_error_code: int) -&gt; bool\n</code></pre> <p>Determine whether the job_directory should be deleted, depending on the persistency policy and the job error code.</p> <p>Parameters:</p> <ul> <li> <code>job_error_code</code>               (<code>int</code>)           \u2013            <p>The error code returned by the job.</p> </li> </ul> Source code in <code>src/vimseo/storage_management/base_storage_manager.py</code> <pre><code>def whether_to_delete(self, job_error_code: int) -&gt; bool:\n    \"\"\"Determine whether the job_directory should be deleted, depending on the\n    persistency policy and the job error code.\n\n    Args:\n        job_error_code: The error code returned by the job.\n    \"\"\"\n\n    job_is_faulty = job_error_code != 0\n\n    map_policy_to_deletion_enforcement = {\n        PersistencyPolicy.DELETE_ALWAYS: True,\n        PersistencyPolicy.DELETE_NEVER: False,\n        PersistencyPolicy.DELETE_IF_FAULTY: job_is_faulty,\n        PersistencyPolicy.DELETE_IF_SUCCESSFUL: not job_is_faulty,\n    }\n    return map_policy_to_deletion_enforcement[self._persistency]\n</code></pre>"},{"location":"reference/vimseo/storage_management/certificates/","title":"Certificates","text":""},{"location":"reference/vimseo/storage_management/certificates/#vimseo.storage_management.certificates","title":"certificates","text":""},{"location":"reference/vimseo/storage_management/dashboard/","title":"Dashboard","text":""},{"location":"reference/vimseo/storage_management/dashboard/#vimseo.storage_management.dashboard","title":"dashboard","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer/","title":"Db viewer","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer/#vimseo.storage_management.dashboard.db_viewer","title":"db_viewer","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer/#vimseo.storage_management.dashboard.db_viewer-classes","title":"Classes","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer/#vimseo.storage_management.dashboard.db_viewer-functions","title":"Functions","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer_entry_point/","title":"Db viewer entry point","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer_entry_point/#vimseo.storage_management.dashboard.db_viewer_entry_point","title":"db_viewer_entry_point","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer_model/","title":"Db viewer model","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer_model/#vimseo.storage_management.dashboard.db_viewer_model","title":"db_viewer_model","text":""},{"location":"reference/vimseo/storage_management/dashboard/db_viewer_model/#vimseo.storage_management.dashboard.db_viewer_model-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/","title":"Tools","text":""},{"location":"reference/vimseo/tools/#vimseo.tools","title":"tools","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/","title":"Base analysis tool","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool","title":"base_analysis_tool","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool","title":"BaseAnalysisTool","text":"<pre><code>BaseAnalysisTool(**options)\n</code></pre> <p>               Bases: <code>BaseCompositeTool</code></p> <p>An abstract analysis tool.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def __init__(self, **options):\n    options = BaseCompositeToolConstructorSettings(**options).model_dump()\n    self._subtools = {tool.name: tool for tool in options.pop(\"subtools\")}\n    super().__init__(**options)\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/base_analysis_tool/#vimseo.tools.base_analysis_tool.BaseAnalysisTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/","title":"Base composite tool","text":""},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool","title":"base_composite_tool","text":""},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool","title":"BaseCompositeTool","text":"<pre><code>BaseCompositeTool(**options)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>A tool executing other tools.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def __init__(self, **options):\n    options = BaseCompositeToolConstructorSettings(**options).model_dump()\n    self._subtools = {tool.name: tool for tool in options.pop(\"subtools\")}\n    super().__init__(**options)\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.BaseCompositeToolConstructorSettings","title":"BaseCompositeToolConstructorSettings","text":"<p>               Bases: <code>ToolConstructorSettings</code></p> <p>The options of the BaseCompositeTool constructor.</p>"},{"location":"reference/vimseo/tools/base_composite_tool/#vimseo.tools.base_composite_tool.StreamlitBaseCompositeToolConstructorSettings","title":"StreamlitBaseCompositeToolConstructorSettings","text":"<p>               Bases: <code>StreamlitToolConstructorSettings</code></p> <p>The options of the BaseCompositeTool constructor.</p>"},{"location":"reference/vimseo/tools/base_metadata/","title":"Base metadata","text":""},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata","title":"base_metadata","text":"<p>A base metadata.</p>"},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata.BaseMetadata","title":"BaseMetadata  <code>dataclass</code>","text":"<pre><code>BaseMetadata(generic: dict = dict(), misc: dict = dict())\n</code></pre> <p>A base metadata.</p>"},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata.BaseMetadata-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata.BaseMetadata.generic","title":"generic  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>generic: dict = field(default_factory=dict)\n</code></pre> <p>Generic metadata like data, time and |v| version.</p>"},{"location":"reference/vimseo/tools/base_metadata/#vimseo.tools.base_metadata.BaseMetadata.misc","title":"misc  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>misc: dict = field(default_factory=dict)\n</code></pre> <p>Miscellaneous.</p>"},{"location":"reference/vimseo/tools/base_result/","title":"Base result","text":""},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result","title":"base_result","text":""},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult","title":"BaseResult  <code>dataclass</code>","text":"<pre><code>BaseResult(metadata: ToolResultMetadata | None = None)\n</code></pre> <p>A result of a tool (:class:<code>.BaseTool</code>).</p> <p>This result is the object that flows through a workflow of tools. It is self-supporting and carries information on how to process it through the :attr:<code>.ToolResultMetadata.settings</code>. The result can be written on disk in binary format (<code>pickle</code>) and its metadata can also be written on disk in a readable format (<code>json</code>).</p>"},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/base_result/#vimseo.tools.base_result.BaseResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/base_settings/","title":"Base settings","text":""},{"location":"reference/vimseo/tools/base_settings/#vimseo.tools.base_settings","title":"base_settings","text":""},{"location":"reference/vimseo/tools/base_settings/#vimseo.tools.base_settings-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_settings/#vimseo.tools.base_settings.BaseInputs","title":"BaseInputs","text":"<p>               Bases: <code>BaseModel</code></p> <p>A base class to define tool inputs.</p>"},{"location":"reference/vimseo/tools/base_settings/#vimseo.tools.base_settings.BaseSettings","title":"BaseSettings","text":"<p>               Bases: <code>BaseModel</code></p> <p>A base class to define tool settings.</p>"},{"location":"reference/vimseo/tools/base_tool/","title":"Base tool","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool","title":"base_tool","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool","title":"BaseTool","text":"<pre><code>BaseTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    name: str = \"\",\n)\n</code></pre> <p>A base tool to be inherited to implement specific purpose tools.</p> <p>The tool options can be checked versus a grammar. Option checking is enable through :attr:<code>_HAS_OPTION_CHECK</code>. Settings can be passed at construction or through :meth:<code>~.execute</code>. The tool result can be written on disk, and then loaded. In the example below, <code>Tool</code> should be replaced by an available tool.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Args:     root_directory: The path to the root directory,         wherein unique directories will be created at each execution.         If set to empty string, use the current working directory.     directory_naming_method: The method to create the execution directories.     working_directory: The directory within which to save the results.         If empty, save the results into the unique generated directory.         Note that the use of a user-defined working_directory or an         automatically generated unique directory is exclusive, and the choice         is controlled by using leaving or not working_directory to its default         value.     name: The name of the tool. By default, it is the class name.</p> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    name: str = \"\",\n):\n    \"\"\"\n    # TODO allow passing pydantic model\n    Args:\n        root_directory: The path to the root directory,\n            wherein unique directories will be created at each execution.\n            If set to empty string, use the current working directory.\n        directory_naming_method: The method to create the execution directories.\n        working_directory: The directory within which to save the results.\n            If empty, save the results into the unique generated directory.\n            Note that the use of a user-defined working_directory or an\n            automatically generated unique directory is exclusive, and the choice\n            is controlled by using leaving or not working_directory to its default\n            value.\n        name: The name of the tool. By default, it is the class name.\n    \"\"\"\n    options = ToolConstructorSettings(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        name=name,\n    ).model_dump()\n    self.name = (\n        self.__class__.__name__ if options[\"name\"] == \"\" else options[\"name\"]\n    )\n    options = ToolConstructorSettings(**options).model_dump()\n    self.time = datetime.datetime.now().strftime(\"%d-%m-%Y_%H-%M-%S\")\n    self.result = BaseResult()\n    self.report_name = f\"{self.__class__.__name__} Report\"\n    root_directory = (\n        Path(self.name)\n        if options[\"root_directory\"] == \"\"\n        else options[\"root_directory\"]\n    )\n    self._working_directory = options[\"working_directory\"]\n\n    self._directory_creator = DirectoryCreator(\n        root_directory=root_directory,\n        directory_naming_method=options[\"directory_naming_method\"],\n    )\n\n    self._has_check_options = self._HAS_OPTION_CHECK\n    self._opt_grammar = None\n    self._plot_factory = None\n\n    if self._IS_JSON_GRAMMAR:\n        f_class = inspect.getfile(self.__class__)\n        self._load_grammar(self.__class__.__name__, f_class)\n        self._options = {}\n    else:\n        if self._SETTINGS is not None:\n            if self._INPUTS is None:\n                self._opt_grammar = deepcopy(self._SETTINGS)\n            else:\n\n                class Settings(self._INPUTS, self._SETTINGS):\n                    \"\"\"The options of the tool.\"\"\"\n\n                self._opt_grammar = deepcopy(Settings)\n        elif self._INPUTS is not None:\n            self._opt_grammar = deepcopy(self._INPUTS)\n\n        self._options = (\n            self._opt_grammar().model_dump()\n            if self._opt_grammar is not None\n            else {}\n        )\n\n    if self._SETTINGS is not None:\n        self._st_settings = (\n            deepcopy(self._SETTINGS)\n            if self._STREAMLIT_SETTINGS is None\n            else deepcopy(self._STREAMLIT_SETTINGS)\n        )\n    else:\n        self._st_settings = None\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/base_tool/#vimseo.tools.base_tool.BaseTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/metadata/","title":"Metadata","text":""},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata","title":"metadata","text":"<p>A metadata attached to a tool result.</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata","title":"ToolResultMetadata  <code>dataclass</code>","text":"<pre><code>ToolResultMetadata(\n    generic: dict = dict(),\n    misc: dict = dict(),\n    settings: dict[str, Any] = dict(),\n    report: dict[str, str] = dict(),\n    model: ModelDescription | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseMetadata</code></p> <p>A metadata attached to a tool result.</p> <p>The metadata is attached to a result (:class:<code>.BaseResult</code>) of a tool (:class:<code>.BaseTool</code>). It stores information allowing the result to be self-supporting, allowing it to be processed by other tools (workflow approach).</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata.generic","title":"generic  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>generic: dict = field(default_factory=dict)\n</code></pre> <p>Generic metadata like data, time and |v| version.</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata.misc","title":"misc  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>misc: dict = field(default_factory=dict)\n</code></pre> <p>Miscellaneous.</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata.model","title":"model  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>model: ModelDescription | None = None\n</code></pre> <p>A description of the model under analysis.</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata.report","title":"report  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>report: dict[str, str] = field(default_factory=dict)\n</code></pre> <p>The report of the corresponding tool execution.</p>"},{"location":"reference/vimseo/tools/metadata/#vimseo.tools.metadata.ToolResultMetadata.settings","title":"settings  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>settings: dict[str, Any] = field(default_factory=dict)\n</code></pre> <p>The options of a tool.</p>"},{"location":"reference/vimseo/tools/model_tool/","title":"Model tool","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool","title":"model_tool","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool","title":"ModelCreationTool","text":"<pre><code>ModelCreationTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>A tool to create a model and set its default values.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/model_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = ModelResult()\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.execute","title":"execute","text":"<pre><code>execute(\n    settings=ModelCreationSettings, **options\n) -&gt; ModelResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/model_tool.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(self, settings=ModelCreationSettings, **options) -&gt; ModelResult:\n    model = create_model(options[\"name\"], options[\"load_case\"])\n    model.default_input_data.update({\n        name: array(value) for name, value in options[\"default_inputs\"].items()\n    })\n    self.result.model = model\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: ModelResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>ModelResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/model_tool.py</code> <pre><code>def plot_results(\n    self,\n    result: ModelResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n    return self.result.model.plot_results(\n        directory_path=working_directory,\n        save=save,\n        show=show,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelCreationTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult","title":"ModelResult  <code>dataclass</code>","text":"<pre><code>ModelResult(metadata: ToolResultMetadata | None = None)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A result of a tool (:class:<code>.BaseTool</code>).</p> <p>This result is the object that flows through a workflow of tools. It is self-supporting and carries information on how to process it through the :attr:<code>.ToolResultMetadata.settings</code>. The result can be written on disk in binary format (<code>pickle</code>) and its metadata can also be written on disk in a readable format (<code>json</code>).</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool.ModelResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/model_tool/#vimseo.tools.model_tool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/tool_results_factory/","title":"Tool results factory","text":""},{"location":"reference/vimseo/tools/tool_results_factory/#vimseo.tools.tool_results_factory","title":"tool_results_factory","text":""},{"location":"reference/vimseo/tools/tool_results_factory/#vimseo.tools.tool_results_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/tool_results_factory/#vimseo.tools.tool_results_factory.ToolResultsFactory","title":"ToolResultsFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory to create tool results.</p>"},{"location":"reference/vimseo/tools/tool_results_factory/#vimseo.tools.tool_results_factory.ToolResultsFactory-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/tool_results_factory/#vimseo.tools.tool_results_factory.ToolResultsFactory.create","title":"create","text":"<pre><code>create(class_name: str, **options) -&gt; BaseResult\n</code></pre> <p>Create an analysis tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>               (<code>str</code>)           \u2013            <p>The name of the class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the tool result .</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>BaseResult</code>           \u2013            <p>The instance of the class.</p> </li> </ul> <p>Raises:</p> <ul> <li> <code>TypeError</code>             \u2013            <p>If the class cannot be instantiated.</p> </li> </ul> Source code in <code>src/vimseo/tools/tool_results_factory.py</code> <pre><code>def create(\n    self,\n    class_name: str,\n    **options,\n) -&gt; BaseResult:\n    \"\"\"Create an analysis tool.\n\n    Args:\n        name: The name of the tool result (its class name).\n        **options: The options of the tool result .\n    \"\"\"\n    return super().create(f\"{class_name}Result\", **options)\n</code></pre>"},{"location":"reference/vimseo/tools/tools_factory/","title":"Tools factory","text":""},{"location":"reference/vimseo/tools/tools_factory/#vimseo.tools.tools_factory","title":"tools_factory","text":""},{"location":"reference/vimseo/tools/tools_factory/#vimseo.tools.tools_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/tools_factory/#vimseo.tools.tools_factory.AnalysisToolsFactory","title":"AnalysisToolsFactory","text":"<p>               Bases: <code>ToolsFactory</code></p> <p>A factory to create analysis tools from a name or a class.</p>"},{"location":"reference/vimseo/tools/tools_factory/#vimseo.tools.tools_factory.ToolsFactory","title":"ToolsFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory to create a tools from a name or a class.</p>"},{"location":"reference/vimseo/tools/bayes/","title":"Bayes","text":""},{"location":"reference/vimseo/tools/bayes/#vimseo.tools.bayes","title":"bayes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/","title":"Bayes analysis","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis","title":"bayes_analysis","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesInputs","title":"BayesInputs","text":"<p>               Bases: <code>BaseInputs</code></p> <p>The inputs of a Bayes analysis.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesSettings","title":"BayesSettings","text":"<p>               Bases: <code>BaseSettings</code></p> <p>The settings of a Bayes analysis.</p> <p>Examples:</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesSettings--prior-distributions-for-parameters-of-a-normal-model-mean-and","title":"Prior distributions for parameters of a Normal model: mean and","text":"<p>standard deviation.</p> <pre><code>&gt;&gt;&gt; from openturns import Uniform\n&gt;&gt;&gt; from openturns import ComposedDistribution\n# The prior distribution can be defined as a list of independant marginals:\n&gt;&gt;&gt; prior_1 = [Uniform(0, 3), Uniform(1, 3)]\n# Or through an OpenTurns ``ComposedDistribution```.\n# In this case, the marginals can be supposed independent:\n&gt;&gt;&gt; prior_2 = ComposedDistribution([Uniform(0, 3), Uniform(1, 3)])\n# Or correlated:\n&gt;&gt;&gt; from openturns import CorrelationMatrix\n&gt;&gt;&gt; from openturns import NormalCopula\n&gt;&gt;&gt; R = CorrelationMatrix(2)\n&gt;&gt;&gt; R[0, 1] = -0.25\n&gt;&gt;&gt; prior_3 = ComposedDistribution([Uniform(0, 3), Uniform(1, 3)], NormalCopula(R))\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool","title":"BayesTool","text":"<pre><code>BayesTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Run a Bayesian calibration of a probabilistic model.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n\n    self.result = BayesAnalysisResult()\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.data","title":"data  <code>instance-attribute</code>","text":"<pre><code>data: Sample\n</code></pre> <p>The log-prior function.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.build_posterior_predictive","title":"build_posterior_predictive","text":"<pre><code>build_posterior_predictive(\n    nb_samples: int,\n) -&gt; DeconditionedDistribution\n</code></pre> <p>Builds the posterior predictive distribution.</p> <p>Parameters:</p> <ul> <li> <code>nb_samples</code>               (<code>int</code>)           \u2013            <p>The number of posterior samples</p> </li> </ul> <p>Returns: The posterior predictive distribution that makes prediction according to the probabilistic model.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def build_posterior_predictive(\n    self,\n    nb_samples: int,\n) -&gt; DeconditionedDistribution:\n    \"\"\"Builds the posterior predictive distribution.\n\n    Args:\n        nb_samples: The number of posterior samples\n        to build the posterior predictive distribution.\n        Should be less than 2000 due to very large consumption\n        and long computational time.\n\n    Returns: The posterior predictive distribution\n    that makes prediction according to the probabilistic model.\n    \"\"\"\n\n    if nb_samples &lt; 500:\n        LOGGER.warning(\n            \"A minimum of posterior samples of samples \"\n            \"is recommended to ensure convergence.\"\n        )\n\n    elif nb_samples &gt; 2000:\n        msg = (\n            \"The construction of the posterior predictive distribution \"\n            \"is limited to 2000 due to very large consumption \"\n            \"and long computational time.\"\n        )\n\n        raise ValueError(msg)\n\n    censored_samples = self.result.processed_samples[\n        : min(nb_samples, len(self.result.processed_samples)), :\n    ]\n\n    effective_samples = censored_samples\n\n    if self._frozen_options != {}:\n        n = (\n            max(\n                append(\n                    self._frozen_options[\"frozen_index\"],\n                    self._frozen_options[\"free_index\"],\n                )\n            )\n            + 1\n        )\n\n        s, k = 0, 0\n\n        effective_samples = zeros((len(censored_samples), int(n)))\n\n        for i in range(n):\n            if self._frozen_options[\"frozen_index\"].__contains__(i):\n                effective_samples[:, i] = self._frozen_options[\"frozen_values\"][\n                    k\n                ] * ones(len(effective_samples))\n\n                k += 1\n\n            else:\n                effective_samples[:, i] = censored_samples[:, s]\n\n                s += 1\n\n    link_function = SymbolicFunction(\n        [f\"p{k}\" for k in range(effective_samples.shape[1])],\n        [f\"p{k}\" for k in range(effective_samples.shape[1])],\n    )\n\n    empirical_posterior = UserDefined(\n        Sample(effective_samples),\n        1 / len(effective_samples) * ones(len(effective_samples)),\n    )\n\n    return DeconditionedDistribution(\n        self._dist_model, empirical_posterior, link_function\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.cropping","title":"cropping","text":"<pre><code>cropping(\n    samples: array, thin: int, burnin: int, dim: int\n) -&gt; array\n</code></pre> <p>Post-process the posterior samples to keep the relevant data.</p> <p>Parameters:</p> <ul> <li> <code>samples</code>               (<code>array</code>)           \u2013            <p>The raw MCMC samples.`</p> </li> <li> <code>thin</code>               (<code>int</code>)           \u2013            <p>the thinning parameter.</p> </li> <li> <code>burnin</code>               (<code>int</code>)           \u2013            <p>the number of initial samples to be discarded.</p> </li> <li> <code>dim</code>               (<code>int</code>)           \u2013            <p>the number of model parameters: The plot of the raw MCMC chains.</p> </li> </ul> <p>Returns: The cropped MCMC posterior samples.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def cropping(self, samples: array, thin: int, burnin: int, dim: int) -&gt; array:\n    \"\"\"Post-process the posterior samples to keep the relevant data.\n\n    Args:\n        samples: The raw MCMC samples.`\n        thin: the thinning parameter.\n        burnin: the number of initial samples to be discarded.\n        dim: the number of model parameters: The plot of the raw MCMC chains.\n\n    Returns: The cropped MCMC posterior samples.\n    \"\"\"\n\n    nb_samples = int(floor((samples.shape[0] - burnin) / thin))\n\n    if nb_samples == 0:\n        msg = \"Not enough MCMC samples have been generated.\"\n\n        raise ValueError(msg)\n\n    filtered_samples = zeros((nb_samples, thin, dim))\n\n    for j in range(filtered_samples.shape[0]):\n        filtered_samples[j, :, :] = samples[burnin + thin * j - 1, :, :]\n\n    return filtered_samples.reshape(int(nb_samples * thin), dim)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: BayesInputs | None = None,\n    settings: BayesSettings | None = None,\n    **options\n) -&gt; BayesAnalysisResult\n</code></pre> <p>Samples the posterior distribution of the parameters of model conditionnally to data and to a prior distribution.</p> <p>This class works only for data directly measured (no inverse method required).</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: BayesInputs | None = None,\n    settings: BayesSettings | None = None,\n    **options,\n) -&gt; BayesAnalysisResult:\n    \"\"\"Samples the posterior distribution of the parameters of model conditionnally\n    to data and to a prior distribution.\n\n    This class works only for data directly measured (no inverse method required).\n    \"\"\"\n\n    if options[\"likelihood_dist\"] == \"\":\n        msg = \"The probabilistic model is not specified.\"\n\n        raise ValueError(msg)\n\n    if options[\"prior_dist\"] == []:\n        msg = \"The prior model is not specified.\"\n\n        raise ValueError(msg)\n\n    if options[\"data\"] is empty:\n        msg = \"There is no data to calibrate the model.\"\n\n        raise ValueError(msg)\n\n    self._data = Sample(options[\"data\"].reshape(-1, 1))\n\n    self._dist_model = getattr(dist, options[\"likelihood_dist\"])()\n\n    self._dist_prior = (\n        ComposedDistribution(options[\"prior_dist\"])\n        if isinstance(options[\"prior_dist\"], list)\n        else options[\"prior_dist\"]\n    )\n\n    list_marginals = [\n        self._dist_prior.getMarginal(i).getName()\n        for i in range(self._dist_prior.getDimension())\n    ]\n\n    if list_marginals.__contains__(\"Dirac\"):\n        msg = (\n            \"A prior model with Dirac distributions raises numerical errors.\"\n            \" Use rather `frozen_options` to fix variables.\"\n        )\n\n        raise ValueError(msg)\n\n    self._scaler = MinMaxScaler()\n\n    self._frozen_options = options[\"frozen_variables\"]\n\n    dim = self._dist_prior.getDimension()\n\n    eff_dim = dim\n\n    if options[\"frozen_variables\"] != {}:\n        free_index = [\n            i\n            for i in range(self._dist_model.getParameterDimension())\n            if not self._frozen_options[\"frozen_index\"].__contains__(i)\n        ]\n\n        self._frozen_options[\"free_index\"] = free_index\n\n        eff_dim = dim + len(self._frozen_options[\"frozen_index\"])\n\n    bounds = vstack((\n        array(self._dist_prior.getRange().getLowerBound()),\n        array(self._dist_prior.getRange().getUpperBound()),\n    ))\n\n    if self._dist_model.getParameterDimension() != eff_dim:\n        msg = (\n            \"The number of model parameters is not compatible\"\n            \" with the dimension of the prior.\"\n        )\n\n        raise ValueError(msg)\n\n    self._x0s = (\n        0.5 * ones(dim) + 1e-4 * random.randn(options[\"n_walkers\"], dim)  # noqa: NPY002\n        if options[\"x0s\"] is empty\n        else options[\"x0s\"] * (1 + 1e-4 * random.randn(options[\"n_walkers\"], dim))  # noqa: NPY002\n    )\n\n    self._scaler.fit(bounds)\n\n    raw_samples = self.sampling(\n        options[\"n_mcmc\"],\n        self._data,\n    )\n\n    self.result.raw_samples = raw_samples\n\n    self.result.thin_number = len(self._x0s)\n\n    self.result.ndim = dim\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.log_posterior","title":"log_posterior","text":"<pre><code>log_posterior(\n    x: array,\n    func_prior: Callable,\n    func_likelihood: Callable,\n)\n</code></pre> <p>Return the value of the log-posterior for candidate model parameters.</p> <p>Parameters:</p> <ul> <li> <code>x</code>               (<code>array</code>)           \u2013            <p>The candidate model parameters.</p> </li> <li> <code>func_prior</code>               (<code>Callable</code>)           \u2013            <p>The log-prior function.</p> </li> <li> <code>func_likelihood</code>               (<code>Callable</code>)           \u2013            <p>The log-likelihood function.</p> </li> </ul> <p>Returns: The value of the log-posterior.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def log_posterior(\n    self,\n    x: array,\n    func_prior: Callable,\n    func_likelihood: Callable,\n):\n    \"\"\"Return the value of the log-posterior for candidate model parameters.\n\n    Args:\n        x: The candidate model parameters.\n        func_prior: The log-prior function.\n        func_likelihood: The log-likelihood function.\n\n    Returns: The value of the log-posterior.\n    \"\"\"\n    x_r = self._scaler.inverse_transform(x)\n\n    lp = func_prior(x_r)\n\n    if not isfinite(lp):\n        return -inf\n\n    lik = func_likelihood(x_r)\n\n    if not isfinite(lik):\n        return -inf\n\n    return lik + lp\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.lppd","title":"lppd","text":"<pre><code>lppd(burnin: int, n_mcmc: int) -&gt; float\n</code></pre> <p>Compute a verification criterion, the log-pointwise prediction.</p> <p>Parameters:</p> <ul> <li> <code>burnin</code>               (<code>int</code>)           \u2013            <p>The number of initial samples to be discarded.</p> </li> <li> <code>n_mcmc</code>               (<code>int</code>)           \u2013            <p>The number of MCMC iterations.</p> </li> </ul> <p>Returns: Twice the opposite of the log pointwise prediction density.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def lppd(self, burnin: int, n_mcmc: int) -&gt; float:\n    \"\"\"Compute a verification criterion, the log-pointwise prediction.\n\n    Args:\n        burnin: The number of initial samples to be discarded.\n        n_mcmc: The number of MCMC iterations.\n\n    Returns: Twice the opposite of the log pointwise prediction density.\n    \"\"\"\n\n    LOGGER.warning(\n        \"Make sure enough samples are generated to draw \"\n        \"reliable conclusions from the criterion (at least 10000)\"\n    )\n\n    vect_values = zeros(len(self._data))\n\n    for k in range(len(self._data)):\n        data_censored = Sample(delete(array(self._data).ravel(), k).reshape(-1, 1))\n\n        mcmc_samples = self.sampling(n_mcmc, data_censored)\n\n        samples_leave_k = self.cropping(\n            mcmc_samples, len(self._x0s), burnin, self.result.ndim\n        )\n\n        log_k = zeros(len(samples_leave_k))\n\n        for j in range(len(samples_leave_k)):\n            log_k[j] = self._log_likelihood(samples_leave_k[j, :], self._data[k])\n\n        nan_index = ~isnan(log_k)\n\n        vect_values[k] = mean(exp(log_k[nan_index]))\n\n    return -2 * np_sum(log(vect_values))\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.marginal_likelihood","title":"marginal_likelihood","text":"<pre><code>marginal_likelihood(nb_samples: int) -&gt; float\n</code></pre> <p>Compute a verification criterion, the marginal likelihood.</p> <p>Parameters:</p> <ul> <li> <code>nb_samples</code>               (<code>int</code>)           \u2013            <p>The number of Monte Carlo samples</p> </li> </ul> <p>Returns: Twice the opposite of the log marginal likelihood.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def marginal_likelihood(self, nb_samples: int) -&gt; float:\n    \"\"\"Compute a verification criterion, the marginal likelihood.\n\n    Args:\n        nb_samples: The number of Monte Carlo samples\n        to compute the marginal likelihood.\n\n    Returns: Twice the opposite of the log marginal likelihood.\n    \"\"\"\n\n    LOGGER.warning(\n        \"Make sure enough samples are generated to draw \"\n        \"reliable conclusions from the criterion (at least 10000)\"\n    )\n\n    list_instrumental = [\n        TruncatedDistribution(\n            Normal(\n                mean(self.result.processed_samples[:, j]),\n                std(self.result.processed_samples[:, j]),\n            ),\n            self._dist_prior.getRange().getLowerBound()[j],\n            self._dist_prior.getRange().getUpperBound()[j],\n        )\n        for j in range(self.result.ndim)\n    ]\n\n    dist_instrumental = ComposedDistribution(list_instrumental)\n\n    samples_mc = dist_instrumental.getSample(nb_samples)\n\n    val_prior = self._log_prior(samples_mc)\n\n    val_likelihood = array([\n        self._log_likelihood(samples_mc[j, :], data=self._data)\n        for j in range(nb_samples)\n    ])\n\n    idx = ~isnan(val_likelihood)\n\n    val_inst = dist_instrumental.computeLogPDF(samples_mc)[idx]\n\n    return -2 * log(mean(exp(val_likelihood[idx] + val_prior[idx] - val_inst)))\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.plot_burnin","title":"plot_burnin","text":"<pre><code>plot_burnin(\n    result: BayesAnalysisResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Figure\n</code></pre> <p>Plot the MCMC chains to determine the burn-in.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BayesAnalysisResult</code>)           \u2013            <p>The result of :meth:<code>~bayes.bayes_analysis.execute</code>.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>where to save the plot.</p> </li> </ul> <p>Returns: The plot of the raw MCMC chains.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def plot_burnin(\n    self,\n    result: BayesAnalysisResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Figure:\n    \"\"\"Plot the MCMC chains to determine the burn-in.\n\n    Args:\n        result: The result of :meth:`~bayes.bayes_analysis.execute`.\n        directory_path: where to save the plot.\n\n    Returns: The plot of the raw MCMC chains.\n    \"\"\"\n    directory_path = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    parameters_name = self._dist_model.getParameterDescription()\n\n    fig, axes = subplots(result.ndim, sharex=True)\n    for i in range(result.ndim):\n        ax = axes[i]\n        ax.plot(result.raw_samples[:, :, i], \"k\", alpha=0.3)\n        ax.set_xlim(0, len(result.raw_samples))\n        ax.yaxis.set_label_coords(-0.1, 0.5)\n        ax.set_ylabel(parameters_name[i])\n\n    axes[-1].set_xlabel(\"step number\")\n\n    save_show_figure(fig, show, directory_path / \"raw_mcmc.png\" if save else \"\")\n\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.plot_posterior_distribution","title":"plot_posterior_distribution","text":"<pre><code>plot_posterior_distribution(\n    result: BayesAnalysisResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Figure\n</code></pre> <p>Plot the posterior distribution.</p> <p>Parameters:</p> <ul> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>Where to save the plot.</p> </li> <li> <code>result</code>               (<code>BayesAnalysisResult</code>)           \u2013            <p>The result of :meth:<code>~bayes.bayes_analysis.execute</code>.</p> </li> </ul> <p>Returns: The plot of the posterior distribution.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def plot_posterior_distribution(\n    self,\n    result: BayesAnalysisResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Figure:\n    \"\"\"Plot the posterior distribution.\n\n    Args:\n        directory_path: Where to save the plot.\n        result: The result of :meth:`~bayes.bayes_analysis.execute`.\n\n    Returns: The plot of the posterior distribution.\n    \"\"\"\n\n    ndim = result.ndim\n\n    parameters_name = self._dist_model.getParameterDescription()\n\n    fig, axes = subplots(ndim, ndim)\n\n    for i in range(ndim):\n        for j in range(ndim):\n            if i == j:\n                axes[i, i].hist(result.processed_samples[:, i])\n\n                axes[i, i].set_xlabel(parameters_name[i])\n\n            elif i &gt; j:\n                axes[i, j].scatter(\n                    result.processed_samples[:, i], result.processed_samples[:, j]\n                )\n\n                axes[i, j].set_xlabel(parameters_name[i])\n                axes[i, j].set_ylabel(parameters_name[j])\n\n            else:\n                axes[i, j].set_axis_off()\n\n    Path(directory_path).mkdir(parents=True, exist_ok=True)\n    save_show_figure(\n        fig,\n        show,\n        directory_path / \"posterior_distribution.png\" if save else \"\",\n    )\n\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.plot_predictive_distribution","title":"plot_predictive_distribution","text":"<pre><code>plot_predictive_distribution(\n    n_disc: int,\n    name: str,\n    directory_path: str | Path = \"\",\n    save: bool = False,\n    show: bool = False,\n    **kwargs\n) -&gt; Axes\n</code></pre> <p>Plot the posterior predictive distribution.</p> <p>Parameters:</p> <ul> <li> <code>kwargs</code>           \u2013            <p>A dictionnary for plot options.</p> </li> <li> <code>n_disc</code>               (<code>int</code>)           \u2013            <p>The discretization of the input variable.</p> </li> <li> <code>name</code>               (<code>str</code>)           \u2013            <p>The name of the input variable.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>Where to save the plot.</p> </li> </ul> <p>Returns: The plot of the posterior predictive distribution.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def plot_predictive_distribution(\n    self,\n    n_disc: int,\n    name: str,\n    directory_path: str | Path = \"\",\n    save: bool = False,\n    show: bool = False,\n    **kwargs,\n) -&gt; Axes:\n    \"\"\"Plot the posterior predictive distribution.\n\n    Args:\n        kwargs: A dictionnary for plot options.\n        n_disc: The discretization of the input variable.\n        name: The name of the input variable.\n        directory_path: Where to save the plot.\n\n    Returns: The plot of the posterior predictive distribution.\n    \"\"\"\n    x_disc = linspace(\n        0.1 * min(array(self._data).ravel()),\n        2 * max(array(self._data).ravel()),\n        num=n_disc,\n    )\n\n    fig, ax = subplots()\n\n    ax1 = ax.twinx()\n    ax.hist(array(self._data).ravel(), label=\"Experimental data\")\n    ax1.plot(\n        x_disc,\n        self.result.posterior_predictive.computePDF(Sample(x_disc.reshape(-1, 1)))\n        / max(\n            array(\n                self.result.posterior_predictive.computePDF(\n                    Sample(x_disc.reshape(-1, 1))\n                )\n            )\n        ),\n        label=\"posterior predictive distribution for \"\n        + self._dist_model.getName()\n        + \" model.\",\n        **kwargs,\n    )\n    ax1.set_ylabel(\"PDF\")\n    ax1.set_xlabel(name)\n    ax1.legend()\n\n    if save and directory_path == \"\":\n        msg = \"There is no directory path provided.\"\n\n        raise ValueError(msg)\n\n    Path(directory_path).mkdir(parents=True, exist_ok=True)\n    save_show_figure(\n        fig, show, directory_path / \"posterior_predictive.png\" if save else \"\"\n    )\n\n    return ax, ax1\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    n_disc: int = 100,\n    name: str = \"\",\n    directory_path: str | Path = \"\",\n    save: bool = False,\n    show: bool = True,\n    **kwargs\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Generate the different plots.</p> <p>Parameters:</p> <ul> <li> <code>n_disc</code>               (<code>int</code>, default:                   <code>100</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>**kwargs</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def plot_results(\n    self,\n    n_disc: int = 100,\n    name: str = \"\",\n    directory_path: str | Path = \"\",\n    save: bool = False,\n    show: bool = True,\n    **kwargs,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Generate the different plots.\n\n    Args:\n        kwargs: a dictionary for plot options.\n        n_disc: The discretization of the input.`\n        name: The name of the input variable.`\n        directory_path: where to save the plot.\n\n    Returns: The plot of the cropped MCMC chains\n    and the posterior predictive distribution\n    that makes prediction according to the probabilistic model.\n    \"\"\"\n    directory_path = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figs = {}\n\n    figs[\"posterior_samples\"] = self.plot_posterior_distribution(\n        self.result, directory_path, save, show\n    )\n\n    figs[\"posterior_predictive\"] = self.plot_predictive_distribution(\n        n_disc, name, directory_path, save, show, **kwargs\n    )\n\n    return figs\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.post","title":"post","text":"<pre><code>post(\n    burnin: int,\n    n_mcmc: int = 1000,\n    nb_samples_ml: int = 10000,\n    nb_samples_posterior: int = 100,\n) -&gt; BayesAnalysisResult\n</code></pre> <p>Performs the full post-processing tasks.</p> <p>Parameters:</p> <ul> <li> <code>burnin</code>               (<code>int</code>)           \u2013            <p>The number of initial samples to be discarded.</p> </li> <li> <code>n_mcmc</code>               (<code>int</code>, default:                   <code>1000</code> )           \u2013            <p>The number of MCMC iterations for the lppd.</p> </li> <li> <code>nb_samples_ml</code>               (<code>int</code>, default:                   <code>10000</code> )           \u2013            <p>The number of Monte Carlo samples</p> </li> <li> <code>nb_samples_posterior</code>               (<code>int</code>, default:                   <code>100</code> )           \u2013            <p>The number of posterior samples</p> </li> </ul> <p>Returns: Twice the opposite of the log pointwise prediction density.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def post(\n    self,\n    burnin: int,\n    n_mcmc: int = 1_000,\n    nb_samples_ml: int = 10_000,\n    nb_samples_posterior: int = 100,\n) -&gt; BayesAnalysisResult:\n    \"\"\"Performs the full post-processing tasks.\n\n    Args:\n        burnin: The number of initial samples to be discarded.\n        n_mcmc: The number of MCMC iterations for the lppd.\n        nb_samples_ml: The number of Monte Carlo samples\n        to compute the marginal likelihood.\n        nb_samples_posterior: The number of posterior samples\n        to build the posterior predictive distribution.\n        Should be less than 2000 due to very large consumption\n        and long computational time.\n\n    Returns: Twice the opposite of the log pointwise prediction density.\n    \"\"\"\n    self.result.processed_samples = self.cropping(\n        self.result.raw_samples, self.result.thin_number, burnin, self.result.ndim\n    )\n\n    self.result.posterior_predictive = self.build_posterior_predictive(\n        nb_samples_posterior\n    )\n\n    self.result.lppd = self.lppd(burnin, n_mcmc)\n\n    self.result.ml = self.marginal_likelihood(nb_samples_ml)\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.sampling","title":"sampling","text":"<pre><code>sampling(n_mcmc: int, data: array)\n</code></pre> <p>Return the raw MCMC posterior samples .</p> <p>Parameters:</p> <ul> <li> <code>n_mcmc</code>               (<code>int</code>)           \u2013            <p>The number of MCMC iterations.</p> </li> <li> <code>data</code>               (<code>array</code>)           \u2013            <p>The data to condition the model parameters.</p> </li> </ul> <p>Returns: The raw MCMC samples before thinning and burn-in.</p> Source code in <code>src/vimseo/tools/bayes/bayes_analysis.py</code> <pre><code>def sampling(\n    self,\n    n_mcmc: int,\n    data: array,\n):\n    \"\"\"Return the raw MCMC posterior samples .\n\n    Args:\n        n_mcmc: The number of MCMC iterations.\n        data: The data to condition the model parameters.\n\n    Returns: The raw MCMC samples before thinning and burn-in.\n    \"\"\"\n\n    likelihood_function = lambda x: self._log_likelihood(x, data)  # noqa: E731\n\n    prior_function = lambda x: self._log_prior(x)  # noqa: E731\n\n    log_posterior = lambda x: self.log_posterior(  # noqa: E731\n        x, prior_function, likelihood_function\n    )\n\n    sampler = EnsembleSampler(\n        len(self._x0s), self._dist_prior.getDimension(), log_posterior\n    )\n\n    sampler.run_mcmc(self._x0s, n_mcmc, progress=True)\n\n    return self._scaler.inverse_transform(sampler.get_chain())\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis/#vimseo.tools.bayes.bayes_analysis.BayesTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/","title":"Bayes analysis result","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result","title":"bayes_analysis_result","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult","title":"BayesAnalysisResult  <code>dataclass</code>","text":"<pre><code>BayesAnalysisResult(\n    metadata: ToolResultMetadata | None = None,\n    raw_samples: array = empty,\n    thin_number: int | None = None,\n    ndim: int | None = None,\n    processed_samples: empty = None,\n    posterior_predictive: DeconditionedDistribution = None,\n    lppd: float = None,\n    ml: float = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a Bayesian inference.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.lppd","title":"lppd  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>lppd: float = None\n</code></pre> <p>Twice the opposite of the lppd, a Bayesian validation criterion.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.ml","title":"ml  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ml: float = None\n</code></pre> <p>Twice the opposite of the log marginal likelihood, a Bayesian validation criterion.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.ndim","title":"ndim  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ndim: int | None = None\n</code></pre> <p>The dimension of the calibration problem.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.posterior_predictive","title":"posterior_predictive  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>posterior_predictive: DeconditionedDistribution = None\n</code></pre> <p>The posterior predictive distribution useful to perform uncertainty propagation.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.processed_samples","title":"processed_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>processed_samples: empty = None\n</code></pre> <p>The MCMC samples after burnin or thining.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.raw_samples","title":"raw_samples  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>raw_samples: array = empty\n</code></pre> <p>The MCMC samples without burnin or thining.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.thin_number","title":"thin_number  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>thin_number: int | None = None\n</code></pre> <p>The thining number to ensure independency between the posterior samples.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.BayesAnalysisResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks","title":"PosteriorChecks  <code>dataclass</code>","text":"<pre><code>PosteriorChecks(result: BayesAnalysisResult)\n</code></pre> Source code in <code>src/vimseo/tools/bayes/bayes_analysis_result.py</code> <pre><code>def __init__(self, result: BayesAnalysisResult) -&gt; None:\n\n    self.ml = result.ml\n\n    self.lppd = result.lppd\n\n    self.posterior_predictive = result.posterior_predictive\n\n    self.model = result.metadata.settings[\"likelihood_dist\"]\n</code></pre>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks.lppd","title":"lppd  <code>instance-attribute</code>","text":"<pre><code>lppd: float = lppd\n</code></pre> <p>Twice the opposite of the lppd, a Bayesian validation criterion.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks.ml","title":"ml  <code>instance-attribute</code>","text":"<pre><code>ml: float = ml\n</code></pre> <p>Twice the opposite of the log marginal likelihood, a Bayesian validation criterion.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks.model","title":"model  <code>instance-attribute</code>","text":"<pre><code>model: str = settings['likelihood_dist']\n</code></pre> <p>The model whose results are to be plotted.</p>"},{"location":"reference/vimseo/tools/bayes/bayes_analysis_result/#vimseo.tools.bayes.bayes_analysis_result.PosteriorChecks.posterior_predictive","title":"posterior_predictive  <code>instance-attribute</code>","text":"<pre><code>posterior_predictive: DeconditionedDistribution = (\n    posterior_predictive\n)\n</code></pre> <p>The posterior predictive distribution useful to perform uncertainty propagation.</p>"},{"location":"reference/vimseo/tools/calibration/","title":"Calibration","text":""},{"location":"reference/vimseo/tools/calibration/#vimseo.tools.calibration","title":"calibration","text":""},{"location":"reference/vimseo/tools/calibration/calibration_metrics/","title":"Calibration metrics","text":""},{"location":"reference/vimseo/tools/calibration/calibration_metrics/#vimseo.tools.calibration.calibration_metrics","title":"calibration_metrics","text":""},{"location":"reference/vimseo/tools/calibration/calibration_metrics/#vimseo.tools.calibration.calibration_metrics-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_metrics/#vimseo.tools.calibration.calibration_metrics.RelativeMSE","title":"RelativeMSE","text":"<p>               Bases: <code>MeanMeasure</code></p> <p>The mean square error between the model and reference output data.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_metrics/#vimseo.tools.calibration.calibration_metrics.SBPISE","title":"SBPISE","text":"<p>               Bases: <code>IntegratedMeasure</code></p> <p>An Integrated Square Error metric with scaling of the curves and bound penalization.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step/","title":"Calibration step","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step","title":"calibration_step","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep","title":"CalibrationStep","text":"<pre><code>CalibrationStep(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>A calibration step to identify material properties based on a model.</p> <p>The best parameters are searched to match model outputs against N experimental data for a single load case.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n    self.result = CalibrationStepResult()\n    self._calibration = None\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.execute","title":"execute","text":"<pre><code>execute(\n    inputs: CalibrationStepInputs | None = None,\n    settings: CalibrationStepSettings | None = None,\n    **options\n) -&gt; CalibrationStepResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: CalibrationStepInputs | None = None,\n    settings: CalibrationStepSettings | None = None,\n    **options,\n) -&gt; CalibrationStepResult:\n\n    load_cases = list(options[\"reference_data\"].keys())\n    models = [\n        (\n            deepcopy(options[\"model_name\"][load_case])\n            if isinstance(options[\"model_name\"][load_case], IntegratedModel)\n            else create_model(\n                options[\"model_name\"][load_case],\n                load_case,\n            )\n        )\n        for load_case in load_cases\n    ]\n\n    load_cases = [model.load_case.name for model in models]\n    reference_datasets = list(options[\"reference_data\"].values())\n    input_names = options[\"input_names\"]\n    starting_point = options[\"starting_point\"]\n    parameter_names = options[\"parameter_names\"]\n\n    try:\n        if not options[\"control_outputs\"]:\n            msg = \"At least one control output must be specified.\"\n            raise ValueError(msg)\n        CalibrationMetricSettings(**next(iter(options[\"control_outputs\"].values())))\n        control_outputs = dict.fromkeys(load_cases, options[\"control_outputs\"])\n    except ValidationError as err:\n        control_outputs = options[\"control_outputs\"]\n        if not control_outputs:\n            msg = \"At least one control output must be specified.\"\n            raise ValueError(msg) from err\n\n    if len(input_names) == 0:\n        for model in models:\n            model.input_grammar.update_from_data(data={\"dummy_\": atleast_1d(0.0)})\n            # TODO see if model grammars could just point to chain grammars\n            model._chain.input_grammar.update_from_data(\n                data={\"dummy_\": atleast_1d(0.0)}\n            )\n        for reference_data in reference_datasets:\n            if \"dummy_\" not in reference_data.get_variable_names(\n                IODataset.INPUT_GROUP\n            ):\n                reference_data.add_variable(\n                    \"dummy_\", atleast_1d(0.0), IODataset.INPUT_GROUP\n                )\n        input_names = [\"dummy_\"]\n\n    specified_design_space = (\n        options[\"design_space\"].to_design_space()\n        if isinstance(options[\"design_space\"], ParameterSpace)\n        else options[\"design_space\"]\n    )\n    if len(parameter_names) == 0 and specified_design_space is not None:\n        parameter_names = specified_design_space.variable_names\n    if len(parameter_names) == 0:\n        msg = (\n            \"Since Input ``design_space`` is not specified, \"\n            \"Setting ``parameter_names`` should contain at least one item.\"\n        )\n        raise ValueError(msg)\n    if set(parameter_names).intersection(set(input_names)):\n        msg = (\n            \"Names of parameters to calibrate and ``input_names`` \"\n            \"should be disjoints.\"\n        )\n        raise ValueError(msg)\n    self.result.metadata.misc[\"parameter_names\"] = parameter_names\n    self.result.metadata.misc[\"load_cases\"] = load_cases\n\n    # Add namespace on model inputs, input names, starting points and control outputs\n    for model, load_case in zip(models, load_cases, strict=False):\n        for name in [\n            name\n            for name in list(model.input_grammar.keys())\n            if name not in parameter_names\n        ]:\n            model.add_namespace_to_input(name, load_case)\n\n        for name in model.get_output_data_names():\n            model.add_namespace_to_output(name, load_case)\n\n    namespaced_input_names = [\n        add_namespace(name, load_case)\n        for name in input_names\n        for load_case in load_cases\n    ]\n\n    for i, load_case in enumerate(load_cases):\n        variable_names = reference_datasets[i].variable_names\n        reference_datasets[i] = reference_datasets[i].rename(\n            {name: add_namespace(name, load_case) for name in variable_names},\n            axis=1,\n            level=1,\n        )\n\n    # Duplicate control outputs by prefixing by namespace\n    namespaced_control_outputs = {}\n    for load_case, control_outputs_ in control_outputs.items():\n        for name, metric_settings in control_outputs_.items():\n            key = add_namespace(name, load_case)\n            namespaced_control_outputs[key] = deepcopy(control_outputs_[name])\n            if metric_settings[\"mesh\"] not in [None, \"\"]:\n                namespaced_control_outputs[key][\"mesh\"] = add_namespace(\n                    metric_settings[\"mesh\"], load_case\n                )\n                setting_names = list(metric_settings.keys())\n                setting_names.remove(\"mesh\")\n                for name in setting_names:\n                    namespaced_control_outputs[key][name] = metric_settings[name]\n\n    reference_data_dict = reference_datasets[0].to_dict_of_arrays(False)\n    for reference_data in reference_datasets[1:]:\n        reference_data_dict.update(reference_data.to_dict_of_arrays(False))\n\n    # Set default inputs of model, useful if the prior parameters contain variables\n    # that are not in the design space.\n    for model, load_case in zip(models, load_cases, strict=False):\n        model.default_input_data.update({\n            add_namespace(name, load_case): atleast_1d(value)\n            for name, value in starting_point.items()\n            if add_namespace(name, load_case) in model.default_input_data\n        })\n\n    design_space = DesignSpace()\n    for name in parameter_names:\n        default_input_value = None\n        if name in starting_point:\n            default_input_value = starting_point[name]\n        else:\n            default_input_values = []\n            for model, load_case in zip(models, load_cases, strict=False):\n                namespaced_name = (\n                    name\n                    if name in parameter_names\n                    else add_namespace(name, load_case)\n                )\n                if namespaced_name in model.default_input_data:\n                    default_input_values.append(\n                        model.default_input_data[namespaced_name]\n                    )\n            if len(default_input_values) &gt; 0:\n                if default_input_values.count(default_input_values[0]) != len(\n                    default_input_values\n                ):\n                    msg = (\n                        f\"Initial value of the design space for variable {name} \"\n                        \"is defined from model default input data. \"\n                        \"However, this value is ambiguous because all models \"\n                        \"do not have the same default value for this variable.\"\n                    )\n                    raise ValueError(msg)\n                default_input_value = default_input_values[0]\n            if not default_input_value:\n                msg = (\n                    f\"No initial value was found for variable {name}, \"\n                    \"either in the starting_point or the model default inputs.\"\n                )\n                raise ValueError(msg)\n\n        if specified_design_space and name in specified_design_space.variable_names:\n            design_space.add_variable(\n                name,\n                value=specified_design_space.get_current_value([name]),\n                lower_bound=specified_design_space.get_lower_bound(name),\n                upper_bound=specified_design_space.get_upper_bound(name),\n            )\n        else:\n            design_space.add_variable(\n                name,\n                value=atleast_1d(default_input_value),\n                lower_bound=(\n                    model.lower_bounds[name]\n                    if name\n                    in [name for model in models for name in model.lower_bounds]\n                    else -inf\n                ),\n                upper_bound=(\n                    model.upper_bounds[name]\n                    if name\n                    in [name for model in models for name in model.upper_bounds]\n                    else inf\n                ),\n            )\n\n    self.result.metadata.misc[\"models\"] = {\n        model.load_case.name: model.description for model in models\n    }\n    self.result.metadata.misc[\"design_space\"] = str(design_space)\n    LOGGER.info(\n        f\"Calibration design space: {self.result.metadata.misc['design_space']}\"\n    )\n\n    calibration_metrics = []\n    for variable_name, settings in namespaced_control_outputs.items():\n        settings[\"output\"] = variable_name\n        calibration_metrics.append(CalibrationMetricSettings(**settings))\n    calibration = CalibrationScenario(\n        models, namespaced_input_names, calibration_metrics, design_space\n    )\n    calibration.set_differentiation_method(\"finite_differences\")\n\n    calibration.execute(\n        algo_name=options[\"optimizer_name\"],\n        reference_data=reference_data_dict,\n        **options[\"optimizer_settings\"],\n    )\n\n    LOGGER.info(f\"Parameters before calibration: {calibration.prior_parameters}\")\n    LOGGER.info(\n        f\"Parameters after calibration: \"\n        f\"{decapsulate_length_one_array(calibration.posterior_parameters)}\"\n    )\n\n    self._metric_variables = []\n    for variable_name, settings in namespaced_control_outputs.items():\n        if settings[\"mesh\"] not in [None, \"\"]:\n            self._metric_variables.append(\n                MetricVariable(\n                    variable_name,\n                    MetricVariableType.CURVE,\n                    settings[\"mesh\"],\n                )\n            )\n        elif settings[\"mesh\"] == \"\":\n            self._metric_variables.append(\n                MetricVariable(\n                    variable_name,\n                    MetricVariableType.CURVE,\n                    add_namespace(\"dummy_\", get_namespace(variable_name)),\n                )\n            )\n        elif reference_data_dict[variable_name].shape[1] &gt; 1:\n            self._metric_variables.append(\n                MetricVariable(\n                    variable_name,\n                    MetricVariableType.VECTOR,\n                )\n            )\n        else:\n            self._metric_variables.append(\n                MetricVariable(\n                    variable_name,\n                    MetricVariableType.SCALAR,\n                )\n            )\n\n    self.result.curve_data.reference_dataframes = defaultdict(list)\n    self.result.curve_data.posterior_dataframes = defaultdict(list)\n    self.result.curve_data.prior_dataframes = defaultdict(list)\n    for result_dataframes, calibration_data in zip(\n        [\n            self.result.curve_data.reference_dataframes,\n            self.result.curve_data.posterior_dataframes,\n            self.result.curve_data.prior_dataframes,\n        ],\n        [\n            reference_data_dict,\n            calibration.posterior_model_data,\n            calibration.prior_model_data,\n        ],\n        strict=False,\n    ):\n        for load_case, reference_data in options[\"reference_data\"].items():\n            for i in range(len(reference_data)):\n                result_dataframes[load_case].append({})\n                for mesh_name, name in self.get_metric_curve_names(\n                    self._metric_variables\n                ):\n                    if get_namespace(name) == load_case:\n                        variable_names = [name]\n                        if get_name(mesh_name) != \"dummy_\":\n                            variable_names.append(mesh_name)\n                        data_ = {\n                            get_name(name): calibration_data[name][i]\n                            for name in variable_names\n                        }\n                        if get_name(mesh_name) == \"dummy_\":\n                            data_.update({\n                                get_name(mesh_name): linspace(\n                                    0.0,\n                                    1.0,\n                                    len(calibration_data[name][0]),\n                                )\n                            })\n                        result_dataframes[load_case][i][get_name(name)] = (\n                            pd.DataFrame.from_dict(data_)\n                        )\n\n    self.result.metadata.misc[\"name\"] = \"calibration_step\"\n    for model, load_case in zip(models, load_cases, strict=False):\n        self.result.metadata.misc[\"name\"] += f\"_{model.name}-{load_case}\"\n    self.result.metric_variables = self._metric_variables\n    self.result.posterior_parameters = starting_point\n    self.result.posterior_parameters.update(calibration.posterior_parameters)\n    self.result.posterior_parameters = decapsulate_length_one_array(\n        self.result.posterior_parameters\n    )\n    self.result.prior_parameters = calibration.prior_parameters\n    self.result.design_space = design_space\n    self.result.reference_data = reference_data_dict\n    self.result.prior_model_data = calibration.prior_model_data\n    self.result.posterior_model_data = calibration.posterior_model_data\n    self.result.objective = (\n        calibration.formulation.optimization_problem.objective.name\n    )\n\n    self.result.post_processing_figures = {}\n    self.result.post_processing_figures.update({\n        f\"optimization_history_{fig_name}\": fig\n        for fig_name, fig in calibration.post_process(\n            \"OptHistoryView\",\n            save=True,\n            show=False,\n            directory_path=self.working_directory,\n        ).figures.items()\n    })\n    # TODO to be kept?\n    for load_case, control_outputs_ in control_outputs.items():\n        self.result.post_processing_figures[load_case] = {}\n        for output_name in control_outputs_:\n            key = f\"simulated_versus_reference_{output_name}\"\n            self.result.post_processing_figures[load_case].update({\n                key: next(\n                    iter(\n                        calibration.post_process(\n                            \"DataVersusModel\",\n                            output=f\"{load_case}:{output_name}\",\n                            save=True,\n                            show=False,\n                            directory_path=self.working_directory,\n                            file_name=f\"{key}_load_case_{load_case}.png\",\n                        ).figures.values()\n                    )\n                )\n            })\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.get_metric_curve_names","title":"get_metric_curve_names","text":"<pre><code>get_metric_curve_names(\n    metric_variable_names: Iterable[str],\n) -&gt; list[tuple[str]]\n</code></pre> <p>Return the names of <code>x</code> and <code>y</code> for each curve contained in <code>metric_variables</code>.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def get_metric_curve_names(\n    self,\n    metric_variable_names: Iterable[str],\n) -&gt; list[tuple[str]]:\n    \"\"\"Return the names of ``x`` and ``y`` for each curve contained in\n    ``metric_variables``.\"\"\"\n    return [\n        (metric_variable.mesh, metric_variable.name)\n        for metric_variable in metric_variable_names\n        if metric_variable.type == MetricVariableType.CURVE\n    ]\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.get_metric_scalar_names","title":"get_metric_scalar_names","text":"<pre><code>get_metric_scalar_names(\n    metric_variable_names: Iterable[str],\n) -&gt; list[tuple[str]]\n</code></pre> <p>Return the names of the scalars contained in <code>metric_variables</code>.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def get_metric_scalar_names(\n    self,\n    metric_variable_names: Iterable[str],\n) -&gt; list[tuple[str]]:\n    \"\"\"Return the names of the scalars contained in ``metric_variables``.\"\"\"\n    return [\n        metric_variable.name\n        for metric_variable in metric_variable_names\n        if metric_variable.type == MetricVariableType.SCALAR\n    ]\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: CalibrationStepResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    font_size: int = 12,\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>CalibrationStepResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>font_size</code>               (<code>int</code>, default:                   <code>12</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def plot_results(\n    self,\n    result: CalibrationStepResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    font_size: int = 12,\n) -&gt; Mapping[str, Figure]:\n\n    figures = defaultdict(dict)\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    for namespaced_name in self.get_metric_scalar_names(result.metric_variables):\n        load_case = get_namespace(namespaced_name)\n        name = get_name(namespaced_name)\n        category = [\"prior\", \"posterior\", \"reference\"]\n        df = DataFrame.from_dict({\n            category: array(data_source[namespaced_name]).flatten()\n            for category, data_source in zip(\n                category,\n                [\n                    result.prior_model_data,\n                    result.posterior_model_data,\n                    result.reference_data,\n                ],\n                strict=False,\n            )\n        })\n        df = df.T\n        df.columns = [str(c) for c in df.columns]\n        plot = BarPlot(Dataset.from_dataframe(df))\n        plot.title = (\n            f\"Simulated versus reference for output {name} \"\n            f\"and load case {load_case}\"\n        )\n        plot.font_size = font_size\n        plot.labels = category\n        figures[load_case].update({\n            f\"simulated_versus_reference_{name}_bars\": plot.execute(\n                save=True,\n                show=False,\n                file_format=\"html\",\n                directory_path=working_directory,\n                file_name=f\"simulated_versus_reference_{name}_load_case_{load_case}_bars\",\n            )[0]\n        })\n\n    plot = CalibrationCurves(working_directory=working_directory)\n    for abscissa_name, namespaced_name in self.get_metric_curve_names(\n        result.metric_variables\n    ):\n        load_case = get_namespace(namespaced_name)\n        name = get_name(namespaced_name)\n        plot.execute(\n            result.curve_data.posterior_dataframes[load_case],\n            result.curve_data.prior_dataframes[load_case],\n            result.curve_data.reference_dataframes[load_case],\n            get_name(abscissa_name),\n            name,\n            load_case=load_case,\n            font_size=font_size,\n            show=show,\n            save=save,\n        )\n\n        figures[load_case].update({\n            f\"simulated_versus_reference_curve_{name}_versus_{get_name(abscissa_name)}\": plot.result.figure\n        })\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.CalibrationStep.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.add_namespace","title":"add_namespace","text":"<pre><code>add_namespace(name: str, prefix: str) -&gt; str\n</code></pre> <p>Return the namespaced name following GEMSEO convention.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def add_namespace(name: str, prefix: str) -&gt; str:\n    \"\"\"Return the namespaced name following GEMSEO convention.\"\"\"\n    return f\"{prefix}:{name}\"\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.eval_expr","title":"eval_expr","text":"<pre><code>eval_expr(expr: str, data: Mapping[str, float])\n</code></pre> <p>Evaluate a symbolic expression based on dictionary of variable names to values.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def eval_expr(expr: str, data: Mapping[str, float]):\n    \"\"\"Evaluate a symbolic expression based on dictionary of variable names to values.\"\"\"\n    return float(\n        parse_expr(expr.lower()).evalf(\n            subs={name.lower(): value for name, value in data.items() if name in expr}\n        )\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step/#vimseo.tools.calibration.calibration_step.get_name","title":"get_name","text":"<pre><code>get_name(namespaced_name: str) -&gt; str\n</code></pre> <p>Return the name from a namespaced name.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step.py</code> <pre><code>def get_name(namespaced_name: str) -&gt; str:\n    \"\"\"Return the name from a namespaced name.\"\"\"\n    return namespaced_name.split(\":\")[1]\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step_result/","title":"Calibration step result","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result","title":"calibration_step_result","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult","title":"CalibrationStepResult  <code>dataclass</code>","text":"<pre><code>CalibrationStepResult(\n    metadata: ToolResultMetadata | None = None,\n    posterior_parameters: (\n        Mapping[str, ndarray] | None\n    ) = None,\n    prior_parameters: Mapping[str, ndarray] | None = None,\n    reference_data: Mapping[str, ndarray] | None = None,\n    design_space: DesignSpace | None = None,\n    prior_model_data: Mapping[str, ndarray] | None = None,\n    posterior_model_data: (\n        Mapping[str, ndarray] | None\n    ) = None,\n    metric_variables: (\n        Mapping[str, tuple[str]] | None\n    ) = None,\n    post_processing_figures: (\n        Mapping[str, Figure] | None\n    ) = None,\n    curve_data: Iterable[\n        CurveDataType | None\n    ] = CurveData(),\n    objective: str = \"\",\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a calibration step.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.CalibrationStepResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/calibration_step_result/#vimseo.tools.calibration.calibration_step_result.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(self, file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/calibration/calibration_step_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    del self.calibration\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/","title":"Direct measure calibration step","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step","title":"direct_measure_calibration_step","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures","title":"DirectMeasures","text":"<pre><code>DirectMeasures(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>A calibration step to identify material properties based on direct measures on experimental data.</p> <p>A step means that the best measures are searched to match model outputs against N test results for a single load case.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/calibration/direct_measure_calibration_step.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n    self.result = DirectMeasuresResult()\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.execute","title":"execute","text":"<pre><code>execute(\n    inputs: DirectMeasuresInputs | None = None,\n    settings: DirectMeasuresSettings | None = None,\n    **options\n) -&gt; DirectMeasuresResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/calibration/direct_measure_calibration_step.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: DirectMeasuresInputs | None = None,\n    settings: DirectMeasuresSettings | None = None,\n    **options,\n) -&gt; DirectMeasuresResult:\n\n    reference_data = options[\"reference_data\"]\n    measures = defaultdict(list)\n\n    for measure_name, measure_settings in options[\n        \"direct_measure_settings\"\n    ].items():\n        for sample_id in range(reference_data.shape[0]):\n            values = vstack([\n                reference_data.get_view(\n                    variable_names=[\n                        measure_settings[\"x_name\"],\n                    ]\n                ).to_numpy()[sample_id],\n                reference_data.get_view(\n                    variable_names=[\n                        measure_settings[\"y_name\"],\n                    ]\n                ).to_numpy()[sample_id],\n            ]).T\n            curve = Curve({\n                measure_settings[\"x_name\"]: values[:, 0],\n                measure_settings[\"y_name\"]: values[:, 1],\n            })\n            measures[measure_name].append(\n                DirectMeasureFactory()\n                .create(measure_settings[\"measure_name\"])\n                .compute(curve)\n            )\n        measures[measure_name] = array(measures[measure_name])\n\n    self.result.direct_measures = measures\n    self.result.mean_direct_measures = {\n        name: mean(measure) for name, measure in measures.items()\n    }\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measure_calibration_step/#vimseo.tools.calibration.direct_measure_calibration_step.DirectMeasures.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/","title":"Direct measures result","text":""},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result","title":"direct_measures_result","text":""},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult","title":"DirectMeasuresResult  <code>dataclass</code>","text":"<pre><code>DirectMeasuresResult(\n    metadata: ToolResultMetadata | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a <code>DirectMeasures</code> tool.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult.direct_measures","title":"direct_measures  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>direct_measures: Mapping[str, ndarray] | None = None\n</code></pre> <p>The direct measures.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult.mean_direct_measures","title":"mean_direct_measures  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>mean_direct_measures: Mapping[str, float] | None = None\n</code></pre> <p>The mean value of the direct measures.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/direct_measures_result/#vimseo.tools.calibration.direct_measures_result.DirectMeasuresResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/calibration/input_data/","title":"Input data","text":""},{"location":"reference/vimseo/tools/calibration/input_data/#vimseo.tools.calibration.input_data","title":"input_data","text":""},{"location":"reference/vimseo/tools/design_value/","title":"Design value","text":""},{"location":"reference/vimseo/tools/design_value/#vimseo.tools.design_value","title":"design_value","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/","title":"Design value result","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result","title":"design_value_result","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult","title":"DesignValueResult  <code>dataclass</code>","text":"<pre><code>DesignValueResult(\n    metadata: ToolResultMetadata | None = None,\n    analysis: BaseStatistics | None = None,\n    best_fitting_distributions: (\n        dict[str, str] | None\n    ) = None,\n    statistics: OrderedDict | DataFrame | None = None,\n)\n</code></pre> <p>               Bases: <code>StatisticsResult</code></p> <p>The result of a design value computation.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult.analysis","title":"analysis  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>analysis: BaseStatistics | None = None\n</code></pre> <p>The statistics analysis.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult.statistics","title":"statistics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>statistics: OrderedDict | DataFrame | None = None\n</code></pre> <p>The reduced statistics.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_result/#vimseo.tools.design_value.design_value_result.DesignValueResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/","title":"Design value tool","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool","title":"design_value_tool","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueInputs","title":"DesignValueInputs","text":"<p>               Bases: <code>DOEInputs</code></p> <p>Inputs of a design value tool.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueSettings","title":"DesignValueSettings","text":"<p>               Bases: <code>StatisticsSettings</code>, <code>DOESettings</code></p> <p>The Design value tool settings.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool","title":"DesignValueTool","text":"<pre><code>DesignValueTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Provide methods for calculating Parametric and Empirical statistics for a given dataset.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/design_value/design_value_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        subtools=[DOETool(), StatisticsTool()],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = DesignValueResult()\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: DesignValueInputs | None = None,\n    settings: DesignValueSettings | None = None,\n    **options\n) -&gt; DesignValueResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/design_value/design_value_tool.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: DesignValueInputs | None = None,\n    settings: DesignValueSettings | None = None,\n    **options,\n) -&gt; DesignValueResult:\n    # input_parameter_space = options[\"parameter_space\"]\n    # stochastic_input_names = options[\"stochastic_input_names\"]\n    model = options[\"model\"]\n    # if len(stochastic_input_names) &gt; 0:\n    #     material_parameter_space = model.material.to_parameter_space()\n    #     if not set(stochastic_input_names).issubset(\n    #         set(material_parameter_space.uncertain_variables)\n    #     ):\n    #         raise ValueError(\n    #             \"Some stochastic names are not contained in the model \"\n    #             \"input stochastic variables which are \"\n    #             f\"{material_parameter_space.uncertain_variables}.\"\n    #         )\n    #     for name in stochastic_input_names:\n    #         input_parameter_space[name] = material_parameter_space[name]\n\n    doe_tool = self._subtools[\"DOETool\"]\n\n    if len(options[\"output_names\"]) &gt; 0:\n        output_names = options[\"output_names\"]\n    else:\n        output_names = model.output_grammar.names\n        for name in model.get_metadata_names():\n            output_names.remove(name)\n\n    doe_options = doe_tool.get_filtered_options(**options)\n    del doe_options[\"output_names\"]\n    dataset = doe_tool.execute(output_names=output_names, **doe_options).dataset\n\n    statistics_tool = self._subtools[\"StatisticsTool\"]\n    statistics_options = statistics_tool.get_filtered_options(**options)\n    statistics_options[\"variable_names\"] = output_names\n    # TODO why is dataset not contained in statistics_options?\n    statistics_tool.execute(dataset=dataset, **statistics_options)\n    self.result = statistics_tool.result\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/design_value/design_value_tool/#vimseo.tools.design_value.design_value_tool.DesignValueTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/doe/","title":"Doe","text":""},{"location":"reference/vimseo/tools/doe/#vimseo.tools.doe","title":"doe","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/","title":"Custom doe","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe","title":"custom_doe","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool","title":"CustomDOETool","text":"<pre><code>CustomDOETool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Run a Custom DOE executing an :class:<code>~.IntegratedModel</code> over a :class:<code>~.gemseo.algos.parameter_space.ParameterSpace</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/doe/custom_doe.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = DOEResult()\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: DOEResult\n</code></pre> <p>The results of a :class:<code>~.CustomDOETool</code>.</p>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: CustomDOEInputs | None = None,\n    settings: CustomDOESettings | None = None,\n    **options\n) -&gt; DOEResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/doe/custom_doe.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: CustomDOEInputs | None = None,\n    settings: CustomDOESettings | None = None,\n    **options,\n) -&gt; DOEResult:\n    model = options[\"model\"]\n    input_dataset = options[\"input_dataset\"]\n    load_case = model.load_case.name\n    doe_name = f\"DOE_{model.name}_{load_case}_CustomDOE\"\n\n    input_names = (\n        input_dataset.get_variable_names(group_name=IODataset.INPUT_GROUP)\n        if len(options[\"input_names\"]) == 0\n        else options[\"input_names\"]\n    )\n    if not set(input_names).issubset(set(model.get_input_data_names())):\n        LOGGER.warning(\n            \"Some of the specified input names are not \"\n            f\"input variables of the model: {set(input_names) - set(model.get_input_data_names())}. \"\n        )\n        input_names = [\n            name for name in input_names if name in model.get_input_data_names()\n        ]\n\n    output_names = _set_output_names(model, options[\"output_names\"])\n\n    design_space = DesignSpace()\n    for name in input_names:\n        design_space.add_variable(\n            name, size=input_dataset.variable_names_to_n_components[name]\n        )\n\n    scenario = DOEScenario(\n        [model],\n        output_names[0],\n        design_space,\n        formulation_name=\"DisciplinaryOpt\",\n    )\n    if len(output_names) &gt; 1:\n        for name in output_names[1:]:\n            scenario.add_observable(name)\n\n    samples = input_dataset.get_view(variable_names=input_names).to_numpy()\n    scenario.execute(algo_name=\"CustomDOE\", samples=samples)\n    self.result.dataset = scenario.to_dataset(name=doe_name, opt_naming=False)\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/custom_doe/#vimseo.tools.doe.custom_doe.CustomDOETool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/","title":"Doe","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe","title":"doe","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool","title":"DOETool","text":"<pre><code>DOETool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Run a DOE executing an :class:<code>~.IntegratedModel</code> over a :class:<code>~.gemseo.algos.parameter_space.ParameterSpace</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/doe/doe.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = DOEResult()\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: DOEResult\n</code></pre> <p>The results of a :class:<code>~.DOETool</code>.</p>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: DOEInputs | None = None,\n    settings: DOESettings | None = None,\n    **options\n) -&gt; DOEResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/doe/doe.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: DOEInputs | None = None,\n    settings: DOESettings | None = None,\n    **options,\n) -&gt; DOEResult:\n    model = options[\"model\"]\n    doe_name = (\n        f\"DOE_{model.name}_{model.load_case.name}_{options['algo']}_\"\n        f\"{options['n_samples']}\"\n    )\n\n    output_names = _set_output_names(model, options[\"output_names\"])\n\n    doe_scenario = create_scenario(\n        disciplines=[model],\n        formulation_name=\"DisciplinaryOpt\",\n        objective_name=output_names[0],\n        design_space=options[\"parameter_space\"],\n        name=doe_name,\n        scenario_type=\"DOE\",\n    )\n    if len(output_names) &gt; 1:\n        for out_name in output_names[1:]:\n            doe_scenario.add_observable(out_name)\n\n    doe_scenario.execute(\n        algo_name=options[\"algo\"],\n        n_samples=options[\"n_samples\"],\n    )\n\n    self.result.dataset = doe_scenario.formulation.optimization_problem.to_dataset(\n        name=doe_name, categorize=True, opt_naming=False\n    )\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe/#vimseo.tools.doe.doe.DOETool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe_result/","title":"Doe result","text":""},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result","title":"doe_result","text":""},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult","title":"DOEResult  <code>dataclass</code>","text":"<pre><code>DOEResult(\n    metadata: ToolResultMetadata | None = None,\n    dataset: Dataset | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a DOE.</p>"},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult.dataset","title":"dataset  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>dataset: Dataset | None = None\n</code></pre> <p>The dataset resulting from the DOE.</p>"},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/doe/doe_result/#vimseo.tools.doe.doe_result.DOEResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/","title":"Io","text":""},{"location":"reference/vimseo/tools/io/#vimseo.tools.io","title":"io","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/","title":"Base reader file","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file","title":"base_reader_file","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile","title":"BaseReaderFile","text":"<pre><code>BaseReaderFile()\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>A tool to read data.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"Source code in <code>src/vimseo/tools/io/base_reader_file.py</code> <pre><code>def __init__(\n    self,\n):\n    super().__init__(\n        working_directory=Path.cwd(),\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/base_reader_file.py</code> <pre><code>def get_file_extension(self):\n    \"\"\"The extension of the file containing the data.\"\"\"\n    return self._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.BaseReaderFile.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/base_reader_file/#vimseo.tools.io.base_reader_file.StreamlitBaseReaderFileSettings","title":"StreamlitBaseReaderFileSettings","text":"<p>               Bases: <code>BaseSettings</code></p> <p>Streamlit settings for a base file reader.</p>"},{"location":"reference/vimseo/tools/io/dataset_result/","title":"Dataset result","text":""},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result","title":"dataset_result","text":""},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult","title":"DatasetResult  <code>dataclass</code>","text":"<pre><code>DatasetResult(metadata: ToolResultMetadata | None = None)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A result of a tool (:class:<code>.BaseTool</code>).</p> <p>This result is the object that flows through a workflow of tools. It is self-supporting and carries information on how to process it through the :attr:<code>.ToolResultMetadata.settings</code>. The result can be written on disk in binary format (<code>pickle</code>) and its metadata can also be written on disk in a readable format (<code>json</code>).</p>"},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/io/dataset_result/#vimseo.tools.io.dataset_result.DatasetResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/material_result/","title":"Material result","text":""},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result","title":"material_result","text":""},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult","title":"MaterialResult  <code>dataclass</code>","text":"<pre><code>MaterialResult(metadata: ToolResultMetadata | None = None)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A result of a tool (:class:<code>.BaseTool</code>).</p> <p>This result is the object that flows through a workflow of tools. It is self-supporting and carries information on how to process it through the :attr:<code>.ToolResultMetadata.settings</code>. The result can be written on disk in binary format (<code>pickle</code>) and its metadata can also be written on disk in a readable format (<code>json</code>).</p>"},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/io/material_result/#vimseo.tools.io.material_result.MaterialResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/","title":"Reader file dataframe","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe","title":"reader_file_dataframe","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame","title":"ReaderFileDataFrame","text":"<pre><code>ReaderFileDataFrame()\n</code></pre> <p>               Bases: <code>BaseReaderFile</code></p> <p>A tool to read data.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"Source code in <code>src/vimseo/tools/io/reader_file_dataframe.py</code> <pre><code>def __init__(\n    self,\n):\n    super().__init__()\n    self.result = DatasetResult()\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: DatasetResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.execute","title":"execute","text":"<pre><code>execute(\n    settings: ReaderFileDataFrameSettings | None = None,\n    **options\n) -&gt; DatasetResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_file_dataframe.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: ReaderFileDataFrameSettings | None = None,\n    **options,\n) -&gt; DatasetResult:\n    file_name = options[\"file_name\"]\n    directory_path = options[\"directory_path\"]\n    if Path(file_name).suffix != self._EXTENSION:\n        msg = f\"{self.__class__.__name__} requires the file suffix to be {self._EXTENSION}.\"\n        raise ValueError(msg)\n    file_path = (\n        file_name if directory_path == \"\" else Path(directory_path) / file_name\n    )\n    self.result.dataset = IODataset().from_txt(\n        file_path,\n        variable_names=options[\"variable_names\"],\n        variable_names_to_group_names=options[\"variable_names_to_group_names\"],\n        variable_names_to_n_components=options[\"variable_names_to_n_components\"],\n        delimiter=SEP,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/base_reader_file.py</code> <pre><code>def get_file_extension(self):\n    \"\"\"The extension of the file containing the data.\"\"\"\n    return self._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataframe/#vimseo.tools.io.reader_file_dataframe.ReaderFileDataFrame.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/","title":"Reader file dataset","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset","title":"reader_file_dataset","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset","title":"ReaderFileGemseoDataset","text":"<pre><code>ReaderFileGemseoDataset()\n</code></pre> <p>               Bases: <code>BaseReaderFile</code></p> <p>Reads a GEMSEO dataset.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"Source code in <code>src/vimseo/tools/io/reader_file_dataset.py</code> <pre><code>def __init__(\n    self,\n):\n    super().__init__()\n    self.result = DatasetResult()\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: IODataset\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.execute","title":"execute","text":"<pre><code>execute(\n    settings: ReaderFileGemseoDatasetSettings | None = None,\n    **options\n) -&gt; DatasetResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_file_dataset.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: ReaderFileGemseoDatasetSettings | None = None,\n    **options,\n) -&gt; DatasetResult:\n    file_name = options[\"file_name\"]\n    directory_path = options[\"directory_path\"]\n    if Path(file_name).suffix != self._EXTENSION:\n        msg = f\"{self.__class__.__name__} requires the file suffix to be {self._EXTENSION}.\"\n        raise ValueError(msg)\n    file_path = (\n        file_name if directory_path == \"\" else Path(directory_path) / file_name\n    )\n    self.result.dataset = IODataset().from_csv(\n        file_path,\n        delimiter=SEP,\n        first_column_as_index=True,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/reader_file_dataset.py</code> <pre><code>def get_file_extension(self):\n    return self._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDataset.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.ReaderFileGemseoDatasetSettings","title":"ReaderFileGemseoDatasetSettings","text":"<p>               Bases: <code>BaseReaderFileSettings</code></p> <p>Settings of a GEMSEO Dataset file reader.</p>"},{"location":"reference/vimseo/tools/io/reader_file_dataset/#vimseo.tools.io.reader_file_dataset.StreamlitReaderFileGemseoDatasetSettings","title":"StreamlitReaderFileGemseoDatasetSettings","text":"<p>               Bases: <code>StreamlitBaseReaderFileSettings</code></p> <p>Settings of a GEMSEO Dataset file reader for usage in dashboards.</p>"},{"location":"reference/vimseo/tools/io/reader_file_result/","title":"Reader file result","text":""},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result","title":"reader_file_result","text":""},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult","title":"ReaderFileToolResult","text":"<pre><code>ReaderFileToolResult(tool_name: str)\n</code></pre> <p>               Bases: <code>BaseReaderFile</code></p> <p>A tool to read data.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>tool_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_file_result.py</code> <pre><code>def __init__(\n    self,\n    tool_name: str,\n):\n    super().__init__()\n    self.__tool_name = tool_name\n    self.__io = IOFactory().create(f\"{tool_name}FileIO\")\n    self.result = ToolResultsFactory().create(tool_name)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.execute","title":"execute","text":"<pre><code>execute(\n    settings: BaseReaderFileSettings | None = None,\n    **options\n) -&gt; Any\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_file_result.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: BaseReaderFileSettings | None = None,\n    **options,\n) -&gt; Any:\n    self.result = self.__io.read(\n        file_name=options[\"file_name\"],\n        directory_path=options[\"directory_path\"],\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/reader_file_result.py</code> <pre><code>def get_file_extension(self):\n    return self.__io._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_file_result/#vimseo.tools.io.reader_file_result.ReaderFileToolResult.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/","title":"Reader material","text":""},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material","title":"reader_material","text":""},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader","title":"MaterialReader","text":"<pre><code>MaterialReader()\n</code></pre> <p>               Bases: <code>BaseReaderFile</code></p> <p>A tool to read data.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"Source code in <code>src/vimseo/tools/io/reader_material.py</code> <pre><code>def __init__(\n    self,\n):\n    super().__init__()\n    self.result = MaterialResult()\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: MaterialResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.execute","title":"execute","text":"<pre><code>execute(\n    settings: MaterialReaderFileSettings | None = None,\n    **options\n) -&gt; MaterialResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_material.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: MaterialReaderFileSettings | None = None,\n    **options,\n) -&gt; MaterialResult:\n    file_name = options[\"file_name\"]\n    directory_path = Path(options[\"directory_path\"])\n    if Path(file_name).suffix != self._EXTENSION:\n        msg = f\"{self.__class__.__name__} requires the file suffix to be {self._EXTENSION}.\"\n        raise ValueError(msg)\n    self.result.material = Material.from_json(\n        file_name=file_name, dir_path=directory_path\n    )\n    self.result.parameter_space = self.result.material.to_parameter_space()\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/base_reader_file.py</code> <pre><code>def get_file_extension(self):\n    \"\"\"The extension of the file containing the data.\"\"\"\n    return self._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReader.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_material/#vimseo.tools.io.reader_material.MaterialReaderFileSettings","title":"MaterialReaderFileSettings","text":"<p>               Bases: <code>BaseReaderFileSettings</code></p> <p>The settings of a material reader.</p>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/","title":"Reader parameter space","text":""},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space","title":"reader_parameter_space","text":""},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader","title":"ParameterSpaceReader","text":"<pre><code>ParameterSpaceReader()\n</code></pre> <p>               Bases: <code>BaseReaderFile</code></p> <p>A tool to read data.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"Source code in <code>src/vimseo/tools/io/reader_parameter_space.py</code> <pre><code>def __init__(\n    self,\n):\n    super().__init__()\n    self.result = SpaceToolResult()\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SpaceToolResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.execute","title":"execute","text":"<pre><code>execute(\n    settings: (\n        ParameterSpaceReaderFileSettings | None\n    ) = None,\n    **options\n) -&gt; SpaceToolResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/io/reader_parameter_space.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: ParameterSpaceReaderFileSettings | None = None,\n    **options,\n) -&gt; SpaceToolResult:\n    self._validate_base_options()\n    self.result.parameter_space = (\n        SpaceToolFileIO()\n        .read(\n            directory_path=options[\"directory_path\"], file_name=options[\"file_name\"]\n        )\n        .parameter_space\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.get_file_extension","title":"get_file_extension","text":"<pre><code>get_file_extension()\n</code></pre> <p>The extension of the file containing the data.</p> Source code in <code>src/vimseo/tools/io/base_reader_file.py</code> <pre><code>def get_file_extension(self):\n    \"\"\"The extension of the file containing the data.\"\"\"\n    return self._EXTENSION\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReader.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/io/reader_parameter_space/#vimseo.tools.io.reader_parameter_space.ParameterSpaceReaderFileSettings","title":"ParameterSpaceReaderFileSettings","text":"<p>               Bases: <code>BaseReaderFileSettings</code></p> <p>The settings of a parameter space reader.</p>"},{"location":"reference/vimseo/tools/io/reader_tools_factory/","title":"Reader tools factory","text":""},{"location":"reference/vimseo/tools/io/reader_tools_factory/#vimseo.tools.io.reader_tools_factory","title":"reader_tools_factory","text":""},{"location":"reference/vimseo/tools/io/reader_tools_factory/#vimseo.tools.io.reader_tools_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/io/reader_tools_factory/#vimseo.tools.io.reader_tools_factory.ReaderToolsFactory","title":"ReaderToolsFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>A factory to create analysis tools from a name or a class.</p>"},{"location":"reference/vimseo/tools/lib/","title":"Lib","text":""},{"location":"reference/vimseo/tools/lib/#vimseo.tools.lib","title":"lib","text":""},{"location":"reference/vimseo/tools/lib/one_at_a_time/","title":"One at a time","text":""},{"location":"reference/vimseo/tools/lib/one_at_a_time/#vimseo.tools.lib.one_at_a_time","title":"one_at_a_time","text":""},{"location":"reference/vimseo/tools/lib/run_from_yaml/","title":"Run from yaml","text":""},{"location":"reference/vimseo/tools/lib/run_from_yaml/#vimseo.tools.lib.run_from_yaml","title":"run_from_yaml","text":""},{"location":"reference/vimseo/tools/lib/space_builder_factory/","title":"Space builder factory","text":""},{"location":"reference/vimseo/tools/lib/space_builder_factory/#vimseo.tools.lib.space_builder_factory","title":"space_builder_factory","text":""},{"location":"reference/vimseo/tools/lib/space_builder_factory/#vimseo.tools.lib.space_builder_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/lib/space_builder_factory/#vimseo.tools.lib.space_builder_factory.SpaceBuilderFactory","title":"SpaceBuilderFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Space builder factory to create a parameter space builder from a name or a class.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/","title":"Space builders","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders","title":"space_builders","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov","title":"FromCenterAndCov","text":"<pre><code>FromCenterAndCov(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>SpaceBuilder</code></p> <p>A space builder which computes distributions from a center and a coefficient of variation around the center.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.DEFAULT_CENTER_EXPRESSION","title":"DEFAULT_CENTER_EXPRESSION  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_CENTER_EXPRESSION = '0.5*(mini+maxi)'\n</code></pre> <p>Symbolic expression for the central value of the distribution, taking 'mini' and 'maxi' as parameters.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.grammar_names","title":"grammar_names  <code>property</code>","text":"<pre><code>grammar_names\n</code></pre> <p>The names of the grammar.</p> <p>For builder <code>FromCenterAndCov</code>, due to the fact that variables <code>minimum_values</code> and <code>maximum_values</code> can be <code>None</code> or a dict, these variables are not validated by the grammar. So we manually add these variable names.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.build","title":"build","text":"<pre><code>build(\n    parameter_space,\n    distribution_name,\n    model=None,\n    center_values: Mapping[str, float] | None = None,\n    cov=0.05,\n    lower_bounds: Mapping[str, float | None] | None = None,\n    upper_bounds: Mapping[str, float | None] | None = None,\n    size: int = 1,\n) -&gt; None\n</code></pre> <p>Updates the space of parameters.</p> <p>Parameters:</p> <ul> <li> <code>parameter_space</code>           \u2013            <p>The :class:<code>~.ParameterSpace</code> to update.</p> </li> <li> <code>distribution_name</code>           \u2013            <p>The name of the distribution.</p> </li> <li> <code>model</code>           \u2013            <p>An :class:<code>~.IntegratedModel</code>.</p> </li> <li> <code>center_values</code>               (<code>Mapping[str, float] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the central value of the distribution.</p> </li> <li> <code>cov</code>           \u2013            <p>the coefficient of variation around the center used to define the minimum and maximum values of the distribution.</p> </li> <li> <code>lower_bounds</code>               (<code>Mapping[str, float | None] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the lower bound of the distribution.</p> </li> <li> <code>upper_bounds</code>               (<code>Mapping[str, float | None] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the upper bound of the distribution.</p> </li> <li> <code>size</code>               (<code>int</code>, default:                   <code>1</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def build(\n    self,\n    parameter_space,\n    distribution_name,\n    model=None,\n    center_values: Mapping[str, float] | None = None,\n    cov=0.05,\n    lower_bounds: Mapping[str, float | None] | None = None,\n    upper_bounds: Mapping[str, float | None] | None = None,\n    size: int = 1,\n) -&gt; None:\n    \"\"\"Updates the space of parameters.\n\n    Args:\n        center_values: A dictionary where keys are the parameter names\n            and values the central value of the distribution.\n        cov: the coefficient of variation around the center used to define the\n            minimum and maximum values of the distribution.\n        lower_bounds: A dictionary where keys are the parameter names\n            and values the lower bound of the distribution.\n        upper_bounds: A dictionary where keys are the parameter names\n            and values the upper bound of the distribution.\n    \"\"\"\n\n    self._is_distribution_available(distribution_name)\n\n    center_values = {} if center_values is None else center_values\n\n    for name, center in center_values.items():\n        if lower_bounds is None or name not in lower_bounds:\n            lb = None\n        else:\n            lb = lower_bounds[name] or None\n        if upper_bounds is None or name not in upper_bounds:\n            ub = None\n        else:\n            ub = upper_bounds[name] or None\n        full_options = self._compute_full_options(\n            center,\n            cov,\n            distribution_name,\n            center * (1 - sign(center) * cov),\n            center * (1 + sign(center) * cov),\n            lb=lb,\n            ub=ub,\n        )\n\n        self._filter_options_and_add_variable(\n            parameter_space, name, distribution_name, size=size, **full_options\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.filter_options","title":"filter_options  <code>classmethod</code>","text":"<pre><code>filter_options(distribution_name: str, **options)\n</code></pre> <p>Filter options to obtain an options compatible with the distribution to compute. Add a variable to the space.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution of the updated variable.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@classmethod\ndef filter_options(cls, distribution_name: str, **options):\n    \"\"\"Filter options to obtain an options compatible with the distribution to\n    compute. Add a variable to the space.\n\n    Args:\n       distribution_name: The name of the distribution of the updated variable.\n    \"\"\"\n    filtered_options = {}\n    for option_name in cls._OPTIONS_PER_DISTRIBUTION[distribution_name] + (\n        \"lower_bound\",\n        \"upper_bound\",\n    ):\n        if option_name in options:\n            filtered_options[option_name] = options[option_name]\n    return filtered_options\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromCenterAndCov.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax","title":"FromMinAndMax","text":"<pre><code>FromMinAndMax(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>SpaceBuilder</code></p> <p>A space builder which computes distributions based on a minimum and a maximum value.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.DEFAULT_CENTER_EXPRESSION","title":"DEFAULT_CENTER_EXPRESSION  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_CENTER_EXPRESSION = '0.5*(mini+maxi)'\n</code></pre> <p>Symbolic expression for the central value of the distribution, taking 'mini' and 'maxi' as parameters.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.grammar_names","title":"grammar_names  <code>property</code>","text":"<pre><code>grammar_names\n</code></pre> <p>The names of the grammar.</p> <p>For builder <code>FromCenterAndCov</code>, due to the fact that variables <code>minimum_values</code> and <code>maximum_values</code> can be <code>None</code> or a dict, these variables are not validated by the grammar. So we manually add these variable names.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.build","title":"build","text":"<pre><code>build(\n    parameter_space,\n    distribution_name,\n    model=None,\n    minimum_values: Mapping[str, float] | None = None,\n    maximum_values: Mapping[str, float] | None = None,\n    center_value_expr: str = \"\",\n    size: int = 1,\n) -&gt; None\n</code></pre> <p>Updates the space of parameters.</p> <p>Parameters:</p> <ul> <li> <code>parameter_space</code>           \u2013            <p>The :class:<code>~.ParameterSpace</code> to update.</p> </li> <li> <code>distribution_name</code>           \u2013            <p>The name of the distribution.</p> </li> <li> <code>model</code>           \u2013            <p>An :class:<code>~.IntegratedModel</code>.</p> </li> <li> <code>minimum_values</code>               (<code>Mapping[str, float] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the minimum values of the distribution.</p> </li> <li> <code>maximum_values</code>               (<code>Mapping[str, float] | None</code>, default:                   <code>None</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the maximum values of the distribution.</p> </li> <li> <code>center_value_expr</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the central value of the distribution.</p> </li> <li> <code>size</code>               (<code>int</code>, default:                   <code>1</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def build(\n    self,\n    parameter_space,\n    distribution_name,\n    model=None,\n    minimum_values: Mapping[str, float] | None = None,\n    maximum_values: Mapping[str, float] | None = None,\n    center_value_expr: str = \"\",\n    size: int = 1,\n) -&gt; None:\n    \"\"\"Updates the space of parameters.\n\n    Args:\n        minimum_values: A dictionary where keys are the parameter names\n            and values the minimum values of the distribution.\n        maximum_values: A dictionary where keys are the parameter names\n            and values the maximum values of the distribution.\n        center_value_expr: A dictionary where keys are the parameter names\n            and values the central value of the distribution.\n    \"\"\"\n\n    self._is_distribution_available(distribution_name)\n\n    center_value_expr = (\n        self.DEFAULT_CENTER_EXPRESSION\n        if center_value_expr == \"\"\n        else center_value_expr\n    )\n\n    minimum_values = {} if minimum_values is None else minimum_values\n    maximum_values = {} if maximum_values is None else maximum_values\n\n    if set(minimum_values.keys()) != set(maximum_values.keys()):\n        msg = (\n            f\"Variable names for minimum {minimum_values.keys()} \"\n            f\"and maximum {maximum_values.keys()} must be the same.\"\n        )\n        raise ValueError(msg)\n\n    for name in minimum_values:\n        minimum = minimum_values[name]\n        maximum = maximum_values[name]\n        center = self._eval_center_expr(center_value_expr, minimum, maximum)\n\n        full_options = self._compute_full_options(\n            center, minimum_values[name], maximum_values[name]\n        )\n\n        self._filter_options_and_add_variable(\n            parameter_space, name, distribution_name, size=size, **full_options\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.filter_options","title":"filter_options  <code>classmethod</code>","text":"<pre><code>filter_options(distribution_name: str, **options)\n</code></pre> <p>Filter options to obtain an options compatible with the distribution to compute. Add a variable to the space.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution of the updated variable.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@classmethod\ndef filter_options(cls, distribution_name: str, **options):\n    \"\"\"Filter options to obtain an options compatible with the distribution to\n    compute. Add a variable to the space.\n\n    Args:\n       distribution_name: The name of the distribution of the updated variable.\n    \"\"\"\n    filtered_options = {}\n    for option_name in cls._OPTIONS_PER_DISTRIBUTION[distribution_name] + (\n        \"lower_bound\",\n        \"upper_bound\",\n    ):\n        if option_name in options:\n            filtered_options[option_name] = options[option_name]\n    return filtered_options\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromMinAndMax.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov","title":"FromModelCenterAndCov","text":"<pre><code>FromModelCenterAndCov(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>FromCenterAndCov</code></p> <p>A space builder which computes distributions based on the minimum and maximum values of a model input variables.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.DEFAULT_CENTER_EXPRESSION","title":"DEFAULT_CENTER_EXPRESSION  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_CENTER_EXPRESSION = '0.5*(mini+maxi)'\n</code></pre> <p>Symbolic expression for the central value of the distribution, taking 'mini' and 'maxi' as parameters.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.grammar_names","title":"grammar_names  <code>property</code>","text":"<pre><code>grammar_names\n</code></pre> <p>The names of the grammar.</p> <p>For builder <code>FromCenterAndCov</code>, due to the fact that variables <code>minimum_values</code> and <code>maximum_values</code> can be <code>None</code> or a dict, these variables are not validated by the grammar. So we manually add these variable names.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.build","title":"build","text":"<pre><code>build(\n    parameter_space,\n    distribution_name,\n    model,\n    variable_names=(),\n    use_default_values_as_center=True,\n    center_value_expr: str = \"\",\n    cov=0.05,\n    truncate_to_model_bounds: bool = True,\n) -&gt; None\n</code></pre> <p>Updates the space of parameter based on an :class:<code>~.IntegratedModel</code>.</p> <p>Parameters:</p> <ul> <li> <code>parameter_space</code>           \u2013            <p>The :class:<code>~.ParameterSpace</code> to update.</p> </li> <li> <code>distribution_name</code>           \u2013            <p>The name of the distribution.</p> </li> <li> <code>model</code>           \u2013            <p>An :class:<code>~.IntegratedModel</code>.</p> </li> <li> <code>variable_names</code>           \u2013            <p>The parameters to keep among the model inputs.</p> </li> <li> <code>use_default_values_as_center</code>           \u2013            <p>Whether to use the model default values as central value of the distributions. If left to <code>False</code>, the half sum of the :attr:<code>~.IntegratedModel.lower_bounds</code> and :attr:<code>~.IntegratedModel.upper_bounds</code> of the model is used as the central value. Note that only the variables defining both a minimum and a maximum bound.</p> </li> <li> <code>center_value_expr</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the central value of the distribution.</p> </li> <li> <code>cov</code>           \u2013            <p>the coefficient of variation around the center used to define the minimum and maximum values of the distribution.</p> </li> <li> <code>truncate_to_model_bounds</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to truncate the distribution to the model bounds.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def build(\n    self,\n    parameter_space,\n    distribution_name,\n    model,\n    variable_names=(),\n    use_default_values_as_center=True,\n    center_value_expr: str = \"\",\n    cov=0.05,\n    truncate_to_model_bounds: bool = True,\n) -&gt; None:\n    \"\"\"Updates the space of parameter based on an :class:`~.IntegratedModel`.\n\n    Args:\n        variable_names: The parameters to keep among the model inputs.\n        use_default_values_as_center: Whether to use the model default values as\n            central value of the distributions. If left to ``False``,\n            the half sum of the :attr:`~.IntegratedModel.lower_bounds` and\n            :attr:`~.IntegratedModel.upper_bounds` of the model is used as\n            the central value. Note that only the variables defining both a\n            minimum and a maximum bound.\n        center_value_expr: A dictionary where keys are the parameter names\n            and values the central value of the distribution.\n        truncate_to_model_bounds: Whether to truncate the distribution to the\n            model bounds.\n    \"\"\"\n\n    self._is_distribution_available(distribution_name)\n\n    if use_default_values_as_center:\n        input_names = set(model.default_input_data.keys())\n        msg = \"no default value\"\n    else:\n        input_names = set(\n            set(model.lower_bounds.keys()) &amp; set(model.upper_bounds.keys())\n        )\n        msg = \"no lower and upper bounds\"\n    if not set(variable_names).issubset(input_names):\n        msg = f\"Some variables among {variable_names} are not model inputs, or have {msg}.\"\n        raise ValueError(msg)\n    input_names = set(input_names &amp; set(variable_names))\n\n    self._check_input_dimension(model, input_names)\n\n    # Reorder input_names according to model.default_input_data to ensure deterministic\n    # order:\n    reordered_input_names = [\n        name for name in model.default_input_data if name in input_names\n    ]\n\n    for name in reordered_input_names:\n        lb = model.lower_bounds.get(name, None)\n        ub = model.upper_bounds.get(name, None)\n\n        if use_default_values_as_center:\n            center = model.default_input_data[name]\n        else:\n            center_value_expr = (\n                self.DEFAULT_CENTER_EXPRESSION\n                if center_value_expr == \"\"\n                else center_value_expr\n            )\n            center = self._eval_center_expr(center_value_expr, lb, ub)\n\n        full_options = self._compute_full_options(\n            center,\n            cov,\n            distribution_name,\n            center * (1 - sign(center) * cov),\n            center * (1 + sign(center) * cov),\n            lb if truncate_to_model_bounds else None,\n            ub if truncate_to_model_bounds else None,\n        )\n\n        size = len(model.default_input_data[name])\n        self._filter_options_and_add_variable(\n            parameter_space, name, distribution_name, size=size, **full_options\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.filter_options","title":"filter_options  <code>classmethod</code>","text":"<pre><code>filter_options(distribution_name: str, **options)\n</code></pre> <p>Filter options to obtain an options compatible with the distribution to compute. Add a variable to the space.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution of the updated variable.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@classmethod\ndef filter_options(cls, distribution_name: str, **options):\n    \"\"\"Filter options to obtain an options compatible with the distribution to\n    compute. Add a variable to the space.\n\n    Args:\n       distribution_name: The name of the distribution of the updated variable.\n    \"\"\"\n    filtered_options = {}\n    for option_name in cls._OPTIONS_PER_DISTRIBUTION[distribution_name] + (\n        \"lower_bound\",\n        \"upper_bound\",\n    ):\n        if option_name in options:\n            filtered_options[option_name] = options[option_name]\n    return filtered_options\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelCenterAndCov.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax","title":"FromModelMinAndMax","text":"<pre><code>FromModelMinAndMax(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>FromMinAndMax</code></p> <p>A space builder which computes distributions based on the minimum and maximum values of a model input variables.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.DEFAULT_CENTER_EXPRESSION","title":"DEFAULT_CENTER_EXPRESSION  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_CENTER_EXPRESSION = '0.5*(mini+maxi)'\n</code></pre> <p>Symbolic expression for the central value of the distribution, taking 'mini' and 'maxi' as parameters.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.grammar_names","title":"grammar_names  <code>property</code>","text":"<pre><code>grammar_names\n</code></pre> <p>The names of the grammar.</p> <p>For builder <code>FromCenterAndCov</code>, due to the fact that variables <code>minimum_values</code> and <code>maximum_values</code> can be <code>None</code> or a dict, these variables are not validated by the grammar. So we manually add these variable names.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.build","title":"build","text":"<pre><code>build(\n    parameter_space,\n    distribution_name,\n    model,\n    variable_names=(),\n    use_default_values_as_center=False,\n    center_value_expr: str = \"\",\n) -&gt; None\n</code></pre> <p>Updates the space of parameter based on an :class:<code>~.IntegratedModel</code>.</p> <p>Parameters:</p> <ul> <li> <code>parameter_space</code>           \u2013            <p>The :class:<code>~.ParameterSpace</code> to update.</p> </li> <li> <code>distribution_name</code>           \u2013            <p>The name of the distribution.</p> </li> <li> <code>model</code>           \u2013            <p>An :class:<code>~.IntegratedModel</code>.</p> </li> <li> <code>variable_names</code>           \u2013            <p>The parameters to keep among the model inputs. Note that</p> </li> <li> <code>use_default_values_as_center</code>           \u2013            <p>Whether to use the model default values as central value of the distributions. If left to <code>False</code>, the half sum of the :attr:<code>~.IntegratedModel.lower_bounds</code> and :attr:<code>~.IntegratedModel.upper_bounds</code> of the model is used as the central value.</p> </li> <li> <code>center_value_expr</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>A dictionary where keys are the parameter names and values the central value of the distribution.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def build(\n    self,\n    parameter_space,\n    distribution_name,\n    model,\n    variable_names=(),\n    use_default_values_as_center=False,\n    center_value_expr: str = \"\",\n) -&gt; None:\n    \"\"\"Updates the space of parameter based on an :class:`~.IntegratedModel`.\n\n    Args:\n        variable_names: The parameters to keep among the model inputs. Note that\n        by default the variables retained to be added to the parameter space\n        are the intersection between the :attr:`model.lower_bounds.keys()` and\n        :attr:`model.upper_bounds.keys()`.\n        use_default_values_as_center: Whether to use the model default values as\n            central value of the distributions. If left to ``False``,\n            the half sum of the :attr:`~.IntegratedModel.lower_bounds` and\n            :attr:`~.IntegratedModel.upper_bounds` of the model is used as\n            the central value.\n    \"\"\"\n\n    self._is_distribution_available(distribution_name)\n\n    input_names = set(\n        set(model.lower_bounds.keys()) &amp; set(model.upper_bounds.keys())\n    )\n    if not set(variable_names).issubset(input_names):\n        msg = (\n            f\"Some variables among {variable_names} are not model inputs, or have no \"\n            f\"lower and upper bounds.\"\n        )\n        raise ValueError(msg)\n    input_names = set(input_names &amp; set(variable_names))\n\n    self._check_input_dimension(model, input_names)\n\n    # Reorder input_names according to model.default_input_data to ensure deterministic\n    # order:\n    reordered_input_names = [\n        name for name in model.default_input_data if name in input_names\n    ]\n\n    center_value_expr = (\n        self.DEFAULT_CENTER_EXPRESSION\n        if center_value_expr == \"\"\n        else center_value_expr\n    )\n    minimum_values = model.lower_bounds\n    maximum_values = model.upper_bounds\n\n    for name in reordered_input_names:\n        minimum = minimum_values.get(name, -inf)\n        maximum = maximum_values.get(name, inf)\n\n        if use_default_values_as_center:\n            center = model.default_input_data[name].item()\n        else:\n            center = self._eval_center_expr(center_value_expr, minimum, maximum)\n\n        full_options = self._compute_full_options(\n            center, minimum_values[name], maximum_values[name]\n        )\n\n        size = len(model.default_input_data[name])\n        self._filter_options_and_add_variable(\n            parameter_space, name, distribution_name, size=size, **full_options\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.filter_options","title":"filter_options  <code>classmethod</code>","text":"<pre><code>filter_options(distribution_name: str, **options)\n</code></pre> <p>Filter options to obtain an options compatible with the distribution to compute. Add a variable to the space.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution of the updated variable.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@classmethod\ndef filter_options(cls, distribution_name: str, **options):\n    \"\"\"Filter options to obtain an options compatible with the distribution to\n    compute. Add a variable to the space.\n\n    Args:\n       distribution_name: The name of the distribution of the updated variable.\n    \"\"\"\n    filtered_options = {}\n    for option_name in cls._OPTIONS_PER_DISTRIBUTION[distribution_name] + (\n        \"lower_bound\",\n        \"upper_bound\",\n    ):\n        if option_name in options:\n            filtered_options[option_name] = options[option_name]\n    return filtered_options\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.FromModelMinAndMax.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder","title":"SpaceBuilder","text":"<pre><code>SpaceBuilder(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>A base class to derive builders of parameter spaces.</p> <p>The builders construct a :class:<code>.ParameterSpace</code> with a pre-defined method.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.DEFAULT_CENTER_EXPRESSION","title":"DEFAULT_CENTER_EXPRESSION  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>DEFAULT_CENTER_EXPRESSION = '0.5*(mini+maxi)'\n</code></pre> <p>Symbolic expression for the central value of the distribution, taking 'mini' and 'maxi' as parameters.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.grammar_names","title":"grammar_names  <code>property</code>","text":"<pre><code>grammar_names\n</code></pre> <p>The names of the grammar.</p> <p>For builder <code>FromCenterAndCov</code>, due to the fact that variables <code>minimum_values</code> and <code>maximum_values</code> can be <code>None</code> or a dict, these variables are not validated by the grammar. So we manually add these variable names.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.build","title":"build  <code>abstractmethod</code>","text":"<pre><code>build(\n    parameter_space: ParameterSpace,\n    distribution_name: str,\n    model: IntegratedModel = None,\n    **options\n) -&gt; None\n</code></pre> <p>Update a space of parameters.</p> <p>Parameters:</p> <ul> <li> <code>parameter_space</code>               (<code>ParameterSpace</code>)           \u2013            <p>The :class:<code>~.ParameterSpace</code> to update.</p> </li> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution.</p> </li> <li> <code>model</code>               (<code>IntegratedModel</code>, default:                   <code>None</code> )           \u2013            <p>An :class:<code>~.IntegratedModel</code>.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@abc.abstractmethod\ndef build(\n    self,\n    parameter_space: ParameterSpace,\n    distribution_name: str,\n    model: IntegratedModel = None,\n    **options,\n) -&gt; None:\n    \"\"\"Update a space of parameters.\n\n    Args:\n        parameter_space: The :class:`~.ParameterSpace` to update.\n        distribution_name: The name of the distribution.\n        model: An :class:`~.IntegratedModel`.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.filter_options","title":"filter_options  <code>classmethod</code>","text":"<pre><code>filter_options(distribution_name: str, **options)\n</code></pre> <p>Filter options to obtain an options compatible with the distribution to compute. Add a variable to the space.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>)           \u2013            <p>The name of the distribution of the updated variable.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/space_builders.py</code> <pre><code>@classmethod\ndef filter_options(cls, distribution_name: str, **options):\n    \"\"\"Filter options to obtain an options compatible with the distribution to\n    compute. Add a variable to the space.\n\n    Args:\n       distribution_name: The name of the distribution of the updated variable.\n    \"\"\"\n    filtered_options = {}\n    for option_name in cls._OPTIONS_PER_DISTRIBUTION[distribution_name] + (\n        \"lower_bound\",\n        \"upper_bound\",\n    ):\n        if option_name in options:\n            filtered_options[option_name] = options[option_name]\n    return filtered_options\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders.SpaceBuilder.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/lib/space_builders/#vimseo.tools.lib.space_builders-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/visualisation/","title":"Visualisation","text":""},{"location":"reference/vimseo/tools/lib/visualisation/#vimseo.tools.lib.visualisation","title":"visualisation","text":""},{"location":"reference/vimseo/tools/lib/visualisation/generic_layout/","title":"Generic layout","text":""},{"location":"reference/vimseo/tools/lib/visualisation/generic_layout/#vimseo.tools.lib.visualisation.generic_layout","title":"generic_layout","text":""},{"location":"reference/vimseo/tools/lib/visualisation/generic_layout/#vimseo.tools.lib.visualisation.generic_layout-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/visualisation/generic_layout/#vimseo.tools.lib.visualisation.generic_layout.banner_display","title":"banner_display","text":"<pre><code>banner_display(color)\n</code></pre> <p>Displays the banner with the specified color.</p> <p>Parameters:</p> <ul> <li> <code>color (str) </code>           \u2013            <p>color of the banner</p> </li> </ul> <p>Return:     None</p> Source code in <code>src/vimseo/tools/lib/visualisation/generic_layout.py</code> <pre><code>def banner_display(color):\n    \"\"\"Displays the banner with the specified color.\n\n    Args:\n        color (str) : color of the banner\n    Return:\n        None\n    \"\"\"\n\n    st.markdown(\n        f\"\"\"\n        &lt;div style=\"width: 160%; height: 6px; overflow: hidden;\n        background-color: {color};\"&gt;&lt;/div&gt;\n        \"\"\",\n        unsafe_allow_html=True,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/lib/visualisation/generic_layout/#vimseo.tools.lib.visualisation.generic_layout.generate_layout","title":"generate_layout","text":"<pre><code>generate_layout(main_title)\n</code></pre> <p>Generate the generic layout (logos, banner).</p> Source code in <code>src/vimseo/tools/lib/visualisation/generic_layout.py</code> <pre><code>def generate_layout(main_title):\n    \"\"\"Generate the generic layout (logos, banner).\"\"\"\n    cwd = Path.cwd()\n    os.chdir(VISUALISATION_IDENTITY_PATH)\n    st.set_page_config(\n        layout=\"wide\",\n        page_title=main_title,\n        page_icon=\"vims_logo_small.png\",\n    )\n    st.image(\"vims_logo.png\", width=200)\n    banner_display(IDENTITY_COLORS[\"purple\"])\n    st.text(\"\")\n    st.sidebar.image(\"logo_IRT_Saint_Exupery_RVB.png\", width=200)\n    st.sidebar.title(main_title)\n    # st.markdown(\n    #     \"\"\"\n    #     &lt;style&gt;\n    #         section[data-testid=\"stSidebar\"] {\n    #             width: 650px !important;\n    #         }\n    #         [data-testid=stSidebar] [data-testid=stImage]{\n    #             text-align: center;\n    #             display: block;\n    #             margin-left: auto;\n    #             margin-right: auto;\n    #             width: 100%;\n    #         }\n    #     &lt;/style&gt;\n    #     \"\"\",\n    #     unsafe_allow_html=True,\n    # )\n    os.chdir(str(cwd))\n</code></pre>"},{"location":"reference/vimseo/tools/lib/visualisation/utils/","title":"Utils","text":""},{"location":"reference/vimseo/tools/lib/visualisation/utils/#vimseo.tools.lib.visualisation.utils","title":"utils","text":""},{"location":"reference/vimseo/tools/lib/visualisation/utils/#vimseo.tools.lib.visualisation.utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/lib/visualisation/utils/#vimseo.tools.lib.visualisation.utils.inputs_in_columns","title":"inputs_in_columns","text":"<pre><code>inputs_in_columns(\n    variable_names,\n    component,\n    key_prefix,\n    default_value: float | Mapping[str, float],\n    nb_columns=5,\n)\n</code></pre> <p>Generate a list of input components according to a list of names.</p> <p>The input components are placed in an array.</p> <p>Parameters:</p> <ul> <li> <code>variable_names</code>           \u2013            <p>A component is created for each name of this list.</p> </li> <li> <code>component</code>           \u2013            <p>The Streamlit component, either a text_input or a number_input.</p> </li> <li> <code>key_prefix</code>           \u2013            <p>The prefix applied to the key associated to the component, to ensure the key unique.</p> </li> <li> <code>default_value</code>               (<code>float | Mapping[str, float]</code>)           \u2013            <p>The default value of the component. If passed  as a <code>float</code>, the value is applied to all components. If passed as a dictionary, the value is applied to each component according to its name.</p> </li> <li> <code>nb_columns</code>           \u2013            <p>The number of columns of the array of components.</p> </li> </ul> Source code in <code>src/vimseo/tools/lib/visualisation/utils.py</code> <pre><code>def inputs_in_columns(\n    variable_names,\n    component,\n    key_prefix,\n    default_value: float | Mapping[str, float],\n    nb_columns=5,\n):\n    \"\"\"Generate a list of input components according to a list of names.\n\n    The input components are placed in an array.\n\n    Args:\n        variable_names: A component is created for each name of this list.\n        component: The Streamlit component, either a text_input or a number_input.\n        key_prefix: The prefix applied to the key associated to the component,\n            to ensure the key unique.\n        default_value: The default value of the component. If passed  as a ``float``,\n            the value is applied to all components. If passed as a dictionary, the\n            value is applied to each component according to its name.\n        nb_columns: The number of columns of the array of components.\n    \"\"\"\n    input_values = {}\n    cols = st.columns(nb_columns)\n    nb_full_rows = int(len(variable_names) / nb_columns)\n    for i_row in range(nb_full_rows):\n        for j, name in enumerate(\n            variable_names[nb_columns * i_row : nb_columns + nb_columns * i_row]\n        ):\n            with cols[j]:\n                input_values[name] = component(\n                    name,\n                    value=(\n                        default_value[name]\n                        if isinstance(default_value, dict)\n                        else default_value\n                    ),\n                    key=f\"{key_prefix}_{name}_{i_row}\",\n                )\n    for j, name in enumerate(\n        variable_names[nb_columns * nb_full_rows : len(variable_names)]\n    ):\n        with cols[j]:\n            input_values[name] = component(\n                name,\n                value=(\n                    default_value[name]\n                    if isinstance(default_value, dict)\n                    else default_value\n                ),\n                key=f\"{key_prefix}_{name}\",\n            )\n    return input_values\n</code></pre>"},{"location":"reference/vimseo/tools/lib/visualisation/utils/#vimseo.tools.lib.visualisation.utils.multiselect_with_all","title":"multiselect_with_all","text":"<pre><code>multiselect_with_all(\n    key,\n    default_values,\n    in_sidebar=False,\n    help_: str | None = None,\n)\n</code></pre> <p>A Streamlit container adding an <code>All</code> button to a multiselection.</p> Source code in <code>src/vimseo/tools/lib/visualisation/utils.py</code> <pre><code>def multiselect_with_all(\n    key, default_values, in_sidebar=False, help_: str | None = None\n):\n    \"\"\"A Streamlit container adding an ``All`` button to a multiselection.\"\"\"\n    with st.container():\n        if in_sidebar:\n            all_ = st.sidebar.checkbox(\"Select all variables\", key=f\"{key}_all\")\n            if all_:\n                selected_values = st.sidebar.multiselect(\n                    \"Choose variable(s)\",\n                    default_values,\n                    key=key,\n                    default=default_values,\n                    help=help_,\n                )\n            else:\n                selected_values = st.sidebar.multiselect(\n                    \"Choose variable(s)\",\n                    default_values,\n                    key=key,\n                    help=help_,\n                )\n        else:\n            all_ = st.checkbox(\"Select all variables\", key=f\"{key}_all\")\n            if all_:\n                selected_values = st.multiselect(\n                    \"Choose variable(s)\",\n                    default_values,\n                    key=key,\n                    default=default_values,\n                    help=help_,\n                )\n            else:\n                selected_values = st.multiselect(\n                    \"Choose variable(s)\",\n                    default_values,\n                    key=key,\n                    help=help_,\n                )\n    return selected_values\n</code></pre>"},{"location":"reference/vimseo/tools/lib/visualisation/utils/#vimseo.tools.lib.visualisation.utils.st_create_model","title":"st_create_model","text":"<pre><code>st_create_model(model_name, lc_name, **options)\n</code></pre> <p>A Streamlit cached data function to create a model.</p> Source code in <code>src/vimseo/tools/lib/visualisation/utils.py</code> <pre><code>@st.cache_data\ndef st_create_model(model_name, lc_name, **options):\n    \"\"\"A Streamlit cached data function to create a model.\"\"\"\n    return create_model(model_name, lc_name, **options)\n</code></pre>"},{"location":"reference/vimseo/tools/lib/visualisation/identity/","title":"Identity","text":""},{"location":"reference/vimseo/tools/lib/visualisation/identity/#vimseo.tools.lib.visualisation.identity","title":"identity","text":"<p>Visual identity information.</p>"},{"location":"reference/vimseo/tools/mock/","title":"Mock","text":""},{"location":"reference/vimseo/tools/mock/#vimseo.tools.mock","title":"mock","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/","title":"Mock tool","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool","title":"mock_tool","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult","title":"MockToolResult  <code>dataclass</code>","text":"<pre><code>MockToolResult(metadata: ToolResultMetadata | None = None)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A mock result.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MockToolResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool","title":"MyBaseCompositeTool","text":"<pre><code>MyBaseCompositeTool(**options)\n</code></pre> <p>               Bases: <code>BaseCompositeTool</code></p> <p>A mock composite tool.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def __init__(self, **options):\n    options = BaseCompositeToolConstructorSettings(**options).model_dump()\n    self._subtools = {tool.name: tool for tool in options.pop(\"subtools\")}\n    super().__init__(**options)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: MyInputs | None = None,\n    settings: MyCompositeSettings | None = None,\n    **options\n)\n</code></pre> <p>Saves metadata on disk.</p> Source code in <code>src/vimseo/tools/mock/mock_tool.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: MyInputs | None = None,\n    settings: MyCompositeSettings | None = None,\n    **options,\n):\n    \"\"\"Saves metadata on disk.\"\"\"\n\n    for tool in self._subtools.values():\n        tool.execute(**tool.get_filtered_options(**options))\n        tool.result.save_metadata_to_disk(tool.working_directory)\n\n    self.result.save_metadata_to_disk(self.working_directory)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyBaseCompositeTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool","title":"MyTool","text":"<pre><code>MyTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    name: str = \"\",\n)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>A mock tool with inputs and settings.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Args:     root_directory: The path to the root directory,         wherein unique directories will be created at each execution.         If set to empty string, use the current working directory.     directory_naming_method: The method to create the execution directories.     working_directory: The directory within which to save the results.         If empty, save the results into the unique generated directory.         Note that the use of a user-defined working_directory or an         automatically generated unique directory is exclusive, and the choice         is controlled by using leaving or not working_directory to its default         value.     name: The name of the tool. By default, it is the class name.</p> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    name: str = \"\",\n):\n    \"\"\"\n    # TODO allow passing pydantic model\n    Args:\n        root_directory: The path to the root directory,\n            wherein unique directories will be created at each execution.\n            If set to empty string, use the current working directory.\n        directory_naming_method: The method to create the execution directories.\n        working_directory: The directory within which to save the results.\n            If empty, save the results into the unique generated directory.\n            Note that the use of a user-defined working_directory or an\n            automatically generated unique directory is exclusive, and the choice\n            is controlled by using leaving or not working_directory to its default\n            value.\n        name: The name of the tool. By default, it is the class name.\n    \"\"\"\n    options = ToolConstructorSettings(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        name=name,\n    ).model_dump()\n    self.name = (\n        self.__class__.__name__ if options[\"name\"] == \"\" else options[\"name\"]\n    )\n    options = ToolConstructorSettings(**options).model_dump()\n    self.time = datetime.datetime.now().strftime(\"%d-%m-%Y_%H-%M-%S\")\n    self.result = BaseResult()\n    self.report_name = f\"{self.__class__.__name__} Report\"\n    root_directory = (\n        Path(self.name)\n        if options[\"root_directory\"] == \"\"\n        else options[\"root_directory\"]\n    )\n    self._working_directory = options[\"working_directory\"]\n\n    self._directory_creator = DirectoryCreator(\n        root_directory=root_directory,\n        directory_naming_method=options[\"directory_naming_method\"],\n    )\n\n    self._has_check_options = self._HAS_OPTION_CHECK\n    self._opt_grammar = None\n    self._plot_factory = None\n\n    if self._IS_JSON_GRAMMAR:\n        f_class = inspect.getfile(self.__class__)\n        self._load_grammar(self.__class__.__name__, f_class)\n        self._options = {}\n    else:\n        if self._SETTINGS is not None:\n            if self._INPUTS is None:\n                self._opt_grammar = deepcopy(self._SETTINGS)\n            else:\n\n                class Settings(self._INPUTS, self._SETTINGS):\n                    \"\"\"The options of the tool.\"\"\"\n\n                self._opt_grammar = deepcopy(Settings)\n        elif self._INPUTS is not None:\n            self._opt_grammar = deepcopy(self._INPUTS)\n\n        self._options = (\n            self._opt_grammar().model_dump()\n            if self._opt_grammar is not None\n            else {}\n        )\n\n    if self._SETTINGS is not None:\n        self._st_settings = (\n            deepcopy(self._SETTINGS)\n            if self._STREAMLIT_SETTINGS is None\n            else deepcopy(self._STREAMLIT_SETTINGS)\n        )\n    else:\n        self._st_settings = None\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: MyInputs | None = None,\n    settings: MySettings | None = None,\n    **options\n)\n</code></pre> <p>A mock run.</p> Source code in <code>src/vimseo/tools/mock/mock_tool.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: MyInputs | None = None,\n    settings: MySettings | None = None,\n    **options,\n):\n    \"\"\"A mock run.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs","title":"MyToolNoInputs","text":"<pre><code>MyToolNoInputs(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    name: str = \"\",\n)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>A mock tool without inputs.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Args:     root_directory: The path to the root directory,         wherein unique directories will be created at each execution.         If set to empty string, use the current working directory.     directory_naming_method: The method to create the execution directories.     working_directory: The directory within which to save the results.         If empty, save the results into the unique generated directory.         Note that the use of a user-defined working_directory or an         automatically generated unique directory is exclusive, and the choice         is controlled by using leaving or not working_directory to its default         value.     name: The name of the tool. By default, it is the class name.</p> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    name: str = \"\",\n):\n    \"\"\"\n    # TODO allow passing pydantic model\n    Args:\n        root_directory: The path to the root directory,\n            wherein unique directories will be created at each execution.\n            If set to empty string, use the current working directory.\n        directory_naming_method: The method to create the execution directories.\n        working_directory: The directory within which to save the results.\n            If empty, save the results into the unique generated directory.\n            Note that the use of a user-defined working_directory or an\n            automatically generated unique directory is exclusive, and the choice\n            is controlled by using leaving or not working_directory to its default\n            value.\n        name: The name of the tool. By default, it is the class name.\n    \"\"\"\n    options = ToolConstructorSettings(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        name=name,\n    ).model_dump()\n    self.name = (\n        self.__class__.__name__ if options[\"name\"] == \"\" else options[\"name\"]\n    )\n    options = ToolConstructorSettings(**options).model_dump()\n    self.time = datetime.datetime.now().strftime(\"%d-%m-%Y_%H-%M-%S\")\n    self.result = BaseResult()\n    self.report_name = f\"{self.__class__.__name__} Report\"\n    root_directory = (\n        Path(self.name)\n        if options[\"root_directory\"] == \"\"\n        else options[\"root_directory\"]\n    )\n    self._working_directory = options[\"working_directory\"]\n\n    self._directory_creator = DirectoryCreator(\n        root_directory=root_directory,\n        directory_naming_method=options[\"directory_naming_method\"],\n    )\n\n    self._has_check_options = self._HAS_OPTION_CHECK\n    self._opt_grammar = None\n    self._plot_factory = None\n\n    if self._IS_JSON_GRAMMAR:\n        f_class = inspect.getfile(self.__class__)\n        self._load_grammar(self.__class__.__name__, f_class)\n        self._options = {}\n    else:\n        if self._SETTINGS is not None:\n            if self._INPUTS is None:\n                self._opt_grammar = deepcopy(self._SETTINGS)\n            else:\n\n                class Settings(self._INPUTS, self._SETTINGS):\n                    \"\"\"The options of the tool.\"\"\"\n\n                self._opt_grammar = deepcopy(Settings)\n        elif self._INPUTS is not None:\n            self._opt_grammar = deepcopy(self._INPUTS)\n\n        self._options = (\n            self._opt_grammar().model_dump()\n            if self._opt_grammar is not None\n            else {}\n        )\n\n    if self._SETTINGS is not None:\n        self._st_settings = (\n            deepcopy(self._SETTINGS)\n            if self._STREAMLIT_SETTINGS is None\n            else deepcopy(self._STREAMLIT_SETTINGS)\n        )\n    else:\n        self._st_settings = None\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.execute","title":"execute","text":"<pre><code>execute(settings: MySettings | None = None, **options)\n</code></pre> <p>A mock run.</p> Source code in <code>src/vimseo/tools/mock/mock_tool.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: MySettings | None = None,\n    **options,\n):\n    \"\"\"A mock run.\"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/mock/mock_tool/#vimseo.tools.mock.mock_tool.MyToolNoInputs.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/","title":"Post tools","text":""},{"location":"reference/vimseo/tools/post_tools/#vimseo.tools.post_tools","title":"post_tools","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/","title":"Base plot","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot","title":"base_plot","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter","title":"Plotter","text":"<pre><code>Plotter(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>Plot a tool result.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/base_plot/#vimseo.tools.post_tools.base_plot.Plotter.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/","title":"Calibration plots","text":""},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots","title":"calibration_plots","text":""},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves","title":"CalibrationCurves","text":"<pre><code>CalibrationCurves(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A line plot showing the reference versus simulated curves for calibration\".</p> <p>The simulated curves are shown before and after calibration.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.execute","title":"execute","text":"<pre><code>execute(\n    posterior_dataframes: list[Mapping[str:DataFrame]],\n    prior_dataframes: list[Mapping[str:DataFrame]],\n    reference_dataframes: list[Mapping[str:DataFrame]],\n    abscissa_name: str,\n    output_name: str,\n    /,\n    load_case: str = \"\",\n    font_size: int = 12,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/calibration_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    posterior_dataframes: list[Mapping[str:DataFrame]],\n    prior_dataframes: list[Mapping[str:DataFrame]],\n    reference_dataframes: list[Mapping[str:DataFrame]],\n    abscissa_name: str,\n    output_name: str,\n    /,\n    load_case: str = \"\",\n    font_size: int = 12,\n    show: bool = False,\n    save: bool = True,\n):\n    nb_samples = len(posterior_dataframes)\n    marker_size = 10\n    symbols = [\"circle\", \"square\", \"diamond\", \"cross\", \"x\", \"triangle-up\"]\n    fig = Figure()\n    for i in range(nb_samples):\n        fig.add_traces(\n            go.Scatter(\n                x=(\n                    posterior_dataframes[i][output_name][abscissa_name]\n                    if abscissa_name != \"dummy_\"\n                    else linspace(\n                        0.0,\n                        1.0,\n                        len(posterior_dataframes[i][output_name][output_name]),\n                    )\n                ),\n                y=posterior_dataframes[i][output_name][output_name],\n                name=f\"posterior {i}\",\n                showlegend=True,\n                mode=\"lines+markers\",\n                line_color=\"green\",\n                marker={\n                    \"symbol\": symbols[i % len(symbols)],\n                    \"size\": marker_size,\n                },\n            )\n        )\n        fig.add_traces(\n            go.Scatter(\n                x=(\n                    prior_dataframes[i][output_name][abscissa_name]\n                    if abscissa_name != \"dummy_\"\n                    else linspace(\n                        0.0, 1.0, len(prior_dataframes[i][output_name][output_name])\n                    )\n                ),\n                y=prior_dataframes[i][output_name][output_name],\n                name=f\"prior {i}\",\n                showlegend=True,\n                mode=\"lines+markers\",\n                line_color=\"chocolate\",\n                line={\"dash\": \"dot\", \"width\": 2},\n                marker={\"symbol\": symbols[i % len(symbols)], \"size\": marker_size},\n            )\n        )\n        fig.add_traces(\n            go.Scatter(\n                x=(\n                    reference_dataframes[i][output_name][abscissa_name]\n                    if abscissa_name != \"dummy_\"\n                    else linspace(\n                        0.0,\n                        1.0,\n                        len(reference_dataframes[i][output_name][output_name]),\n                    )\n                ),\n                y=reference_dataframes[i][output_name][output_name],\n                name=f\"reference {i}\",\n                showlegend=True,\n                mode=\"lines\",\n                line={\"dash\": \"dashdot\", \"width\": 2},\n            )\n        )\n    fig.update_layout(\n        xaxis_title=abscissa_name,\n        yaxis_title=output_name,\n        font_size=font_size,\n        title={\n            \"text\": f\"Simulated versus reference for load case {load_case}\",\n            \"font\": {\"size\": font_size * 1.2},\n        },\n    )\n\n    if show:\n        fig.show()\n    if save:\n        file_name = (\n            f\"simulated_versus_reference_{output_name}_vs_{abscissa_name}_\"\n            f\"load_case_{load_case}.html\"\n        )\n        file_name = file_name.replace(\":\", \"-\")\n        fig.write_html(self.working_directory / file_name)\n\n    self.result.figure = fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/calibration_plots/#vimseo.tools.post_tools.calibration_plots.CalibrationCurves.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/","title":"Distribution comparison plot","text":""},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot","title":"distribution_comparison_plot","text":""},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison","title":"DistributionComparison","text":"<pre><code>DistributionComparison(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>Compare the simulated and reference distributions.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.execute","title":"execute","text":"<pre><code>execute(\n    result: ValidationPointResult,\n    output_name: str,\n    plot_type=\"CDF\",\n    /,\n    show_type_b_uncertainties: bool = False,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/distribution_comparison_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    result: ValidationPointResult,\n    output_name: str,\n    plot_type=\"CDF\",\n    /,\n    show_type_b_uncertainties: bool = False,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n):\n    reference_typeb_uncertainties = (\n        {}\n        if not result.metadata.settings[\"typeb_uncertainties\"]\n        else result.metadata.settings[\"typeb_uncertainties\"]\n    )\n\n    simulation_uncertainties = (\n        {}\n        if result.metadata.report[\"simulated_uncertainties\"] is None\n        else result.metadata.report[\"simulated_uncertainties\"]\n    )\n\n    data_ref = result.measured_data.to_dict_of_arrays(by_group=False)[\n        output_name\n    ].ravel()\n    data_sim = result.simulated_data.to_dict_of_arrays(by_group=False)[\n        output_name\n    ].ravel()\n\n    cdf_ref_type_b = False\n    cdf_sim_type_b = False\n    if show_type_b_uncertainties:\n        if (\n            reference_typeb_uncertainties\n            and output_name in reference_typeb_uncertainties\n        ):\n            data_ref_uncertainty = reference_typeb_uncertainties[output_name]\n            cdf_ref_type_b = True\n        else:\n            data_ref_uncertainty = 0.0\n        data_ref_inf = data_ref - data_ref_uncertainty\n        data_ref_sup = data_ref + data_ref_uncertainty\n\n        if simulation_uncertainties and output_name in simulation_uncertainties:\n            data_sim_uncertainty = simulation_uncertainties[output_name]\n            cdf_sim_type_b = True\n        else:\n            data_sim_uncertainty = 0.0\n        data_sim_inf = data_sim - data_sim_uncertainty\n        data_sim_sup = data_sim + data_sim_uncertainty\n\n    fig = None\n    if plot_type == \"PDF\":\n        fig = figure_factory.create_distplot(\n            [data_ref, data_sim],\n            group_labels=[\"Reference\", \"Simulated\"],\n            show_rug=False,\n            show_curve=False,\n            bin_size=(max(data_ref) - min(data_ref)) / data_ref.size,\n        )\n\n    elif plot_type == \"CDF\":\n        ecdf_ref = ECDF(data_ref)\n        ecdf_sim = ECDF(data_sim)\n\n        fig = go.Figure()\n        fig.add_scatter(\n            mode=\"lines\",\n            x=unique(data_ref),\n            y=ecdf_ref(unique(data_ref)),\n            line_shape=\"hv\",\n            name=\"Reference\",\n            line_color=\"dodgerblue\",\n        )\n\n        if cdf_ref_type_b:\n            ecdf_ref_inf = ECDF(data_ref_inf)\n            ecdf_ref_sup = ECDF(data_ref_sup)\n            fig.add_scatter(\n                mode=\"lines\",\n                x=unique(data_ref_inf),\n                y=ecdf_ref_inf(unique(data_ref_inf)),\n                line_shape=\"hv\",\n                name=\"Reference (lower bound)\",\n                line_color=\"steelblue\",\n                line_dash=\"dot\",\n            )\n            fig.add_scatter(\n                mode=\"lines\",\n                x=unique(data_ref_sup),\n                y=ecdf_ref_sup(unique(data_ref_sup)),\n                line_shape=\"hv\",\n                name=\"Reference (upper bound)\",\n                line_color=\"darkblue\",\n                line_dash=\"dot\",\n            )\n\n        fig.add_scatter(\n            mode=\"lines\",\n            x=unique(data_sim),\n            y=ecdf_sim(unique(data_sim)),\n            line_shape=\"hv\",\n            name=\"Simulated\",\n            line_color=\"red\",\n        )\n\n        if cdf_sim_type_b:\n            ecdf_sim_inf = ECDF(data_sim_inf)\n            ecdf_sim_sup = ECDF(data_sim_sup)\n            fig.add_scatter(\n                mode=\"lines\",\n                x=unique(data_sim_inf),\n                y=ecdf_sim_inf(unique(data_sim_inf)),\n                line_shape=\"hv\",\n                name=\"Simulation (lower bound)\",\n                line_color=\"pink\",\n                line_dash=\"dot\",\n            )\n            fig.add_scatter(\n                mode=\"lines\",\n                x=unique(data_sim_sup),\n                y=ecdf_sim_sup(unique(data_sim_sup)),\n                line_shape=\"hv\",\n                name=\"Simulation (upper bound)\",\n                line_color=\"darkred\",\n                line_dash=\"dot\",\n            )\n\n    fig.update_layout(\n        showlegend=True,\n        title=f\"Empirical CDF of reference and simulated {output_name}\",\n    )\n\n    if self.options[\"save\"]:\n        fig.write_html(\n            self.working_directory\n            / f\"distribution_comparison_{plot_type}_{output_name}.html\"\n        )\n    if self.options[\"show\"]:\n        fig.show()\n\n    self.result.figure = fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/distribution_comparison_plot/#vimseo.tools.post_tools.distribution_comparison_plot.DistributionComparison.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/","title":"Error scatter matrix plot","text":""},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot","title":"error_scatter_matrix_plot","text":""},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix","title":"ErrorScatterMatrix","text":"<pre><code>ErrorScatterMatrix(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A scatter matrix plot of an error metric.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.execute","title":"execute","text":"<pre><code>execute(\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    **options,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/error_scatter_matrix_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    **options,\n):\n    ds = dataframe_to_dataset(df)\n\n    # Create a dataset containing only the inputs and the specified metric:\n    dataset = Dataset()\n    for name in ds.get_variable_names(IODataset.INPUT_GROUP):\n        dataset.add_variable(\n            data=ds.get_view(\n                group_names=IODataset.INPUT_GROUP, variable_names=name\n            ).to_numpy(),\n            variable_name=name,\n            group_name=IODataset.INPUT_GROUP,\n        )\n    dataset.add_variable(\n        data=ds.get_view(\n            group_names=metric_name, variable_names=output_name\n        ).to_numpy(),\n        variable_name=output_name,\n        group_name=metric_name,\n    )\n    dataset.rename_variable(\n        output_name, f\"{metric_name}[{output_name}]\", group_name=metric_name\n    )\n\n    scatter_matrix = GemseoScatterMatrix(\n        dataset,\n        kde=True,\n        coloring_variable=f\"{metric_name}[{output_name}]\",\n        axis_labels_as_keys=True,\n        dimensions=ds.get_variable_names(IODataset.INPUT_GROUP),\n    )\n    scatter_matrix.title = f\"Metric {metric_name} for output {output_name}\"\n    self.result.figure = scatter_matrix.execute(\n        save=save,\n        show=show,\n        file_format=\"html\",\n        directory_path=self.working_directory,\n        file_name=f\"error_scatter_matrix_{metric_name}_{output_name}\",\n    )[0]\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot.ErrorScatterMatrix.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/error_scatter_matrix_plot/#vimseo.tools.post_tools.error_scatter_matrix_plot-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/","title":"Line plot","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot","title":"line_plot","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines","title":"Lines","text":"<pre><code>Lines(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A generic line plot.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.execute","title":"execute","text":"<pre><code>execute(\n    dataset: IODataset,\n    variables: Sequence[str],\n    abscissa_variable: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    file_name: str = \"\",\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/line_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    dataset: IODataset,\n    variables: Sequence[str],\n    abscissa_variable: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    file_name: str = \"\",\n):\n    dataset = dataset.sort_values([\n        (dataset.get_group_names(abscissa_variable)[0], abscissa_variable, 0)\n    ])\n    line_plot = GemseoLines(\n        dataset,\n        abscissa_variable=abscissa_variable,\n        variables=variables,\n    )\n    self.result.figure = line_plot.execute(\n        file_format=file_format,\n        save=save,\n        show=show,\n        directory_path=self.working_directory,\n        file_name=(\n            f\"lines_outputs_{variables}_versus_{abscissa_variable}\"\n            if file_name == \"\"\n            else file_name\n        ),\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/line_plot/#vimseo.tools.post_tools.line_plot.Lines.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/","title":"Metric bar plot","text":""},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot","title":"metric_bar_plot","text":""},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars","title":"IntegratedMetricBars","text":"<pre><code>IntegratedMetricBars(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>Bar plot of the integrated value of a metric of a :class:<code>.VerificationResult</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.execute","title":"execute","text":"<pre><code>execute(\n    integrated_metrics: Mapping[str, Mapping[str, float]],\n    metric_name: str = \"\",\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n)\n</code></pre> <p>Plot the integrated value of a metric for all variables in the metric group.</p> <p>Parameters:</p> <ul> <li> <code>metric_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the metric to plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/metric_bar_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    integrated_metrics: Mapping[str, Mapping[str, float]],\n    metric_name: str = \"\",\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n):\n    \"\"\"Plot the integrated value of a metric for all variables in the metric group.\n\n    Args:\n        metric_name: The name of the metric to plot.\n    \"\"\"\n    metric_names = [metric_name] if metric_name != \"\" else integrated_metrics.keys()\n    ds = Dataset()\n    for metric_name in metric_names:\n        for variable_name, metric_value in integrated_metrics[metric_name].items():\n            ds.add_variable(\n                data=metric_value,\n                variable_name=variable_name,\n                group_name=metric_name,\n            )\n\n    bar_plot = BarPlot(ds)\n    bar_plot.font_size = 20\n    bar_plot.title = metric_name\n    self.result.figure = bar_plot.execute(\n        file_format=file_format,\n        save=save,\n        show=show,\n        directory_path=self.working_directory,\n        file_name=\"integrated_metric_bars\",\n    )[0]\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/metric_bar_plot/#vimseo.tools.post_tools.metric_bar_plot.IntegratedMetricBars.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/","title":"Parallel coordinates plot","text":""},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot","title":"parallel_coordinates_plot","text":""},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates","title":"ParallelCoordinates","text":"<pre><code>ParallelCoordinates(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A Parallel coordinates plot of the error metrics.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.execute","title":"execute","text":"<pre><code>execute(\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    **options,\n)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>threshold</code>           \u2013            <p>The threshold used a mid-point for the parallel coordinates plot</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/parallel_coordinates_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    **options,\n):\n    \"\"\"\n    Args:\n        threshold: The threshold used a mid-point for the parallel coordinates plot\n        color bar.\n\n    \"\"\"\n    self.result.figure = px.parallel_coordinates(\n        data_frame=df,\n        color=output_name,\n        dimensions=df.columns,\n        color_continuous_scale=px.colors.sequential.Rainbow,\n        color_continuous_midpoint=self.options[\"threshold\"],\n    )\n    self.result.figure.layout.margin.t = 150\n    self.result.figure.layout.title.text = (\n        f\"Metric {metric_name} for output {output_name}\"\n    )\n    self.result.figure.layout.title.x = 0.5\n    self.result.figure.update_layout(font_size=14)\n\n    if self.options[\"show\"]:\n        self.result.figure.show()\n    if self.options[\"save\"]:\n        self.result.figure.write_html(\n            Path(self.working_directory)\n            / f\"parallel_coordinates_{metric_name}_{output_name}.html\"\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/parallel_coordinates_plot/#vimseo.tools.post_tools.parallel_coordinates_plot.ParallelCoordinates.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/plot_factory/","title":"Plot factory","text":""},{"location":"reference/vimseo/tools/post_tools/plot_factory/#vimseo.tools.post_tools.plot_factory","title":"plot_factory","text":""},{"location":"reference/vimseo/tools/post_tools/plot_factory/#vimseo.tools.post_tools.plot_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/plot_factory/#vimseo.tools.post_tools.plot_factory.PlotFactory","title":"PlotFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Plot factory to create a :class:<code>~.Plotter</code> from a name or a class.</p>"},{"location":"reference/vimseo/tools/post_tools/plot_parameters/","title":"Plot parameters","text":""},{"location":"reference/vimseo/tools/post_tools/plot_parameters/#vimseo.tools.post_tools.plot_parameters","title":"plot_parameters","text":""},{"location":"reference/vimseo/tools/post_tools/plot_parameters/#vimseo.tools.post_tools.plot_parameters-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/plot_parameters/#vimseo.tools.post_tools.plot_parameters.PlotParameters","title":"PlotParameters  <code>dataclass</code>","text":"<pre><code>PlotParameters(curves: list[tuple[str, str]] = list())\n</code></pre> <p>The parameters of a model plot.</p>"},{"location":"reference/vimseo/tools/post_tools/plot_parameters/#vimseo.tools.post_tools.plot_parameters.PlotParameters-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/plot_parameters/#vimseo.tools.post_tools.plot_parameters.PlotParameters.curves","title":"curves  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>curves: list[tuple[str, str]] = field(default_factory=list)\n</code></pre> <p>The parameters of the x-y curves.</p>"},{"location":"reference/vimseo/tools/post_tools/plot_result/","title":"Plot result","text":""},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result","title":"plot_result","text":""},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult","title":"PlotResult  <code>dataclass</code>","text":"<pre><code>PlotResult(\n    metadata: ToolResultMetadata | None = None,\n    figure: Figure | Figure | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A plot result.</p>"},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/plot_result/#vimseo.tools.post_tools.plot_result.PlotResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/","title":"Predict vs true plot","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot","title":"predict_vs_true_plot","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue","title":"PredictVsTrue","text":"<pre><code>PredictVsTrue(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A predict versus true plot.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/predict_vs_true_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.warning_msg = \"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.execute","title":"execute","text":"<pre><code>execute(\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    hovering_variable_name: str | tuple[str] = \"\",\n)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>df</code>               (<code>DataFrame</code>)           \u2013            <p>TODO describe expected column naming</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/predict_vs_true_plot.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    df: DataFrame,\n    metric_name: str,\n    output_name: str,\n    /,\n    show: bool = False,\n    save: bool = True,\n    file_format: str = \"html\",\n    hovering_variable_name: str | tuple[str] = \"\",\n):\n    \"\"\"\n\n    Args:\n        df: TODO describe expected column naming\n\n    \"\"\"\n    # TODO function to decapsulate tuple if needed\n    if isinstance(hovering_variable_name, tuple):\n        hovering_variable_name = hovering_variable_name[0]\n        hovering_group_name = hovering_variable_name[1]\n    else:\n        hovering_group_name = metric_name\n    hovering_variable_name = hovering_variable_name or output_name\n\n    out_true = df[f\"{output_name}[Reference]\"].to_numpy()\n    out_pred = df[f\"{output_name}[{IODataset.OUTPUT_GROUP}]\"].to_numpy()\n    metrics = df[f\"{output_name}[{metric_name}]\"].to_numpy()\n\n    marker_dict = {\n        \"color\": metrics,\n        \"colorbar\": {\"title\": metric_name},\n        \"colorscale\": \"rainbow\",\n        # cmid=0,\n        \"size\": 8,\n        \"showscale\": True,\n        \"line\": {\"width\": 2, \"color\": \"lightgrey\"},\n    }\n\n    figure = go.Figure(\n        data=go.Scatter(\n            x=out_true,\n            y=out_pred,\n            mode=\"markers\",\n            marker=marker_dict,\n            customdata=(\n                metrics\n                if hovering_variable_name == \"\"\n                else get_values(\n                    df, hovering_variable_name, group_name=hovering_group_name\n                )\n            ),\n            hovertemplate=\"&lt;b&gt; Point prop&lt;br&gt;\"\n            \"Ref: %{x}&lt;br&gt;\"\n            \"Sim: %{y}&lt;br&gt;\"\n            f\"{hovering_variable_name}[{hovering_group_name}]: %{{customdata: .2f}}\",\n            name=\"Simulated_vs_Reference\",\n            showlegend=False,\n            # error_x=dict(\n            #     type=\"data\",\n            #     array=[true_error_bar[i] for i in range(size(out_true))],\n            #     thickness=1.0,\n            # ),\n            # error_y=dict(\n            #     type=\"data\",\n            #     array=[pred_error_bar[i] for i in range(size(out_pred))],\n            #     thickness=1.0,\n            # ),\n        )\n    )\n    extremum_out_true = sign(np.max(out_true)) * np.max(np.abs(out_true))\n    for name, factor, line in [\n        (\"Identity line\", 1.0, \"dash\"),\n        (\"-10% error\", 0.9, \"dot\"),\n        (\"+10% error\", 1.1, \"dot\"),\n    ]:\n        figure.add_scatter(\n            x=array([0.0, extremum_out_true]),\n            y=array([0.0, extremum_out_true * factor]),\n            name=name,\n            mode=\"lines\",\n            line={\"color\": \"grey\", \"dash\": line, \"width\": 2},\n            showlegend=False,\n        )\n\n    figure.add_annotation(\n        text=\"&lt;b&gt;+10%&lt;/b&gt;\",\n        x=max(out_true * 1.02),\n        y=max(out_true * 1.1),\n        showarrow=False,\n        font_size=14,\n    )\n\n    figure.add_annotation(\n        text=\"&lt;b&gt;-10%&lt;/b&gt;\",\n        x=max(out_true * 1.02),\n        y=max(out_true * 0.9),\n        showarrow=False,\n        font_size=14,\n    )\n\n    figure.update_layout(\n        title=f\"&lt;b&gt;Simulation versus Reference - {output_name}&lt;/b&gt;\",\n        xaxis_title=f\"&lt;b&gt;Reference {output_name}\",  # +/-std&lt;/b&gt;\",\n        yaxis_title=f\"&lt;b&gt;Simulated {output_name}\",  # +/-std&lt;/b&gt;\",\n        autosize=False,\n        width=1200,\n        height=800,\n    )\n\n    figure.update_layout(plot_bgcolor=\"white\", font={\"size\": 20})\n    figure.update_xaxes(\n        mirror=True,\n        ticks=\"outside\",\n        # showline=True,\n        # linecolor=\"black\",\n        gridcolor=\"lightgrey\",\n        range=[0.0, None],\n    )\n    figure.update_yaxes(\n        mirror=True,\n        ticks=\"outside\",\n        showline=False,\n        # linecolor=\"black\",\n        gridcolor=\"lightgrey\",\n        range=[0.0, None],\n    )\n    if self.options[\"save\"]:\n        figure.write_html(\n            self.working_directory\n            / f\"metric_histogram_{metric_name}_{output_name}.html\"\n        )\n    if self.options[\"show\"]:\n        figure.show()\n\n    self.result.figure = figure\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot.PredictVsTrue.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/predict_vs_true_plot/#vimseo.tools.post_tools.predict_vs_true_plot-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plot_factory/","title":"Sensitivity plot factory","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plot_factory/#vimseo.tools.post_tools.sensitivity_plot_factory","title":"sensitivity_plot_factory","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plot_factory/#vimseo.tools.post_tools.sensitivity_plot_factory-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plot_factory/#vimseo.tools.post_tools.sensitivity_plot_factory.SensitivityPlotFactory","title":"SensitivityPlotFactory","text":"<p>               Bases: <code>BaseFactory</code></p> <p>Sensitivity plot factory to create a :class:<code>~.SensitivityPlot</code> from a name or a class.</p>"},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/","title":"Sensitivity plots","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots","title":"sensitivity_plots","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityBarPlot","title":"SensitivityBarPlot","text":"<pre><code>SensitivityBarPlot(filename='sensitivity_bar_plot')\n</code></pre> <p>               Bases: <code>SensitivityPlot</code></p> Source code in <code>src/vimseo/tools/post_tools/sensitivity_plots.py</code> <pre><code>def __init__(self, filename=\"sensitivity_bar_plot\"):\n    super().__init__()\n    self.options = {\n        \"filename\": filename,\n        \"n_variables\": 10,\n    }\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityBarPlot-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityBarPlot.plot","title":"plot","text":"<pre><code>plot(\n    results,\n    save=False,\n    show=True,\n    output_names=(),\n    indices=(),\n    directory_path: str | Path = \"\",\n    **options\n)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>results</code>           \u2013            <p>A SensitivityTool result.</p> </li> <li> <code>title</code>           \u2013            <p>The title of the figure to be plotted.</p> </li> <li> <code>**options</code>           \u2013            <p>Specific options for the plot</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>A figure object.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/sensitivity_plots.py</code> <pre><code>def plot(\n    self,\n    results,\n    save=False,\n    show=True,\n    output_names=(),\n    indices=(),\n    directory_path: str | Path = \"\",\n    **options,\n):\n    self.options.update(options)\n\n    indices = list(results.indices.keys()) if len(indices) == 0 else indices\n    output_names = (\n        results.metadata.settings[\"output_names\"]\n        if len(output_names) == 0\n        else output_names\n    )\n\n    data = deepcopy(results.indices)\n\n    self.figures = defaultdict(dict)\n\n    for output_name in output_names:\n        for index in indices:\n            fig = make_subplots(\n                rows=1,\n                cols=1,\n                subplot_titles=f\"Index: {index}\",\n            )\n\n            input_variables = [\n                k\n                for k, v in sorted(\n                    data[index][output_name][0].items(),\n                    key=operator.itemgetter(1),\n                )\n            ]\n\n            color_by_variable_name = names_to_ints(input_variables)\n\n            x = (\n                pd.DataFrame\n                .from_dict(data[index][output_name])\n                .T.sort_values(0, ascending=True)\n                .to_dict()[0]\n            )\n            input_variables = list(x.keys())\n\n            if self.options[\"n_variables\"] is not None:\n                input_variables = input_variables[0 : self.options[\"n_variables\"]]\n                color_by_variable_name = color_by_variable_name[\n                    0 : self.options[\"n_variables\"]\n                ]\n                x = [x[k][0] for k in input_variables]\n\n            fig.add_trace(\n                go.Bar(\n                    x=x,\n                    y=input_variables,\n                    marker={\"color\": array(color_by_variable_name)},\n                    orientation=\"h\",\n                ),\n                row=1,\n                col=1,\n            )\n\n            fig.update_layout(\n                title_text=f\"Sensitivity of {output_name} for index {index}\"\n            )\n            fig.layout.title.x = 0.5\n            fig.update_layout(font_size=14)\n            # adjust subplot title font size.\n            fig.update_annotations(font_size=12)\n\n            if show:\n                fig.show()\n            if save:\n                directory_path = (\n                    Path.cwd() if directory_path == \"\" else Path(directory_path)\n                )\n                fig.write_html(\n                    directory_path\n                    / f\"{self.options['filename']}_{output_name}_{index}.html\"\n                )\n            self.figures[output_name][index] = fig\n\n    return self.figures\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityPlot","title":"SensitivityPlot","text":"<pre><code>SensitivityPlot()\n</code></pre> <p>               Bases: <code>ABC</code></p> Source code in <code>src/vimseo/tools/post_tools/sensitivity_plots.py</code> <pre><code>def __init__(self):\n    self.figures = None\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityPlot-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/sensitivity_plots/#vimseo.tools.post_tools.sensitivity_plots.SensitivityPlot.plot","title":"plot  <code>abstractmethod</code>","text":"<pre><code>plot(\n    results, save, show, variable, indices=None, **options\n)\n</code></pre> <p>Parameters:</p> <ul> <li> <code>results</code>           \u2013            <p>A SensitivityTool result.</p> </li> <li> <code>title</code>           \u2013            <p>The title of the figure to be plotted.</p> </li> <li> <code>**options</code>           \u2013            <p>Specific options for the plot</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>A figure object.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/sensitivity_plots.py</code> <pre><code>@abstractmethod\ndef plot(self, results, save, show, variable, indices=None, **options):\n    \"\"\"\n\n    Args:\n        results: A SensitivityTool result.\n        title: The title of the figure to be plotted.\n        **options: Specific options for the plot\n\n    Returns:\n        A figure object.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/","title":"Verification case plots","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots","title":"verification_case_plots","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase","title":"ConvergenceCase","text":"<pre><code>ConvergenceCase(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A comparison of several convergence trajectories.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.execute","title":"execute","text":"<pre><code>execute(\n    convergence_data: DataFrame,\n    nb_meshes: int,\n    elt_size_var_name: str,\n    output_name: str,\n    /,\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    hovering_variables: list[str] = (),\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_case_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    convergence_data: DataFrame,\n    nb_meshes: int,\n    elt_size_var_name: str,\n    output_name: str,\n    /,\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    hovering_variables: list[str] = (),\n    show: bool = False,\n    save: bool = True,\n):\n    fig = go.Figure()\n\n    prefix = \"\" if normalize_index_output is None else \"Normalized \"\n\n    nb_trajectories = compute_nb_trajectories(len(convergence_data), nb_meshes)\n\n    for i in range(nb_trajectories):\n        color = colormap[i * int((len(colormap) - 1) / (nb_trajectories - 1))]\n        df_ = convergence_data.iloc[[j + i * nb_meshes for j in range(nb_meshes)]]\n        y_values = (\n            df_[output_name].values\n            if normalize_index_output is None\n            else df_[output_name].values\n            / df_[output_name].values[normalize_index_output]\n        )\n        for j in range(len(df_)):\n            if j &lt; len(df_) - 1:\n                fig1 = go.Scatter(\n                    x=[\n                        df_[elt_size_var_name].values[j],\n                        df_[elt_size_var_name].values[j + 1],\n                    ],\n                    y=[y_values[j], y_values[j + 1]],\n                    line={\"dash\": \"dash\"},\n                    name=i,\n                    line_color=color,\n                    showlegend=False,\n                )\n                fig.add_traces(fig1)\n            fig2 = go.Scatter(\n                x=[df_[elt_size_var_name].values[j]],\n                y=[y_values[j]],\n                name=i,\n                line_color=color,\n                mode=\"markers\",\n                marker_size=MARKERSIZE,\n                marker={\"line\": {\"width\": 2, \"color\": \"lightgrey\"}},\n                hovertemplate=\", \".join([\n                    f\"{name}: {df_[name].values[j]}\" for name in hovering_variables\n                ]),\n                showlegend=False,\n            )\n            fig.add_traces(fig2)\n\n        y_values = array([\n            df_[f\"Ref[{output_name}]\"].values[0],\n            df_[output_name].values[-1],\n        ])\n        if normalize_index_output:\n            y_values /= df_[output_name].values[normalize_index_output]\n        fig2 = go.Scatter(\n            x=[0.0, df_[elt_size_var_name].values[-1]],\n            y=y_values,\n            mode=\"lines\",\n            line={\"dash\": \"dash\", \"color\": color},\n            name=i,\n            showlegend=False,\n        )\n        fig.add_traces(fig2)\n\n        for j in range(len(df_)):\n            y_values = array([\n                df_[\"extrapolated_values_folds\"].values[j],\n                df_[output_name].values[-1],\n            ])\n            if normalize_index_output:\n                y_values /= df_[output_name].values[normalize_index_output]\n            fig3 = go.Scatter(\n                x=[0.0, df_[elt_size_var_name].values[-1]],\n                y=y_values,\n                mode=\"lines\",\n                line={\"dash\": \"dot\", \"color\": color},\n                name=i,\n                showlegend=False,\n            )\n            fig.add_traces(fig3)\n\n    fig.update_layout(\n        height=700,\n        xaxis_title=f\"&lt;b&gt;{elt_size_var_name}&lt;/b&gt;\",\n        xaxis_range=[0.0, None],\n        margin={\"l\": 150, \"b\": 100},\n        yaxis_title=\"\",\n    )  # , yaxis_title=f\"&lt;b&gt;Rel. Error {output_name}&lt;/b&gt;\"\n    fig.update_xaxes(\n        title_font={\"size\": 40},\n        tickfont={\"size\": 40},\n        tickfont_family=\"Arial Black\",\n    )\n    fig.update_yaxes(\n        title_font={\"size\": 40},\n        tickfont={\"size\": 40},\n        tickfont_family=\"Arial Black\",\n    )\n    fig.add_annotation(\n        x=0.03,\n        y=y_max_limit,\n        xref=\"paper\",\n        yref=\"y\",\n        showarrow=False,\n        text=f\"&lt;b&gt;{prefix}{output_name}&lt;/b&gt;\",\n        font={\"size\": 40},\n        textangle=0,\n    )\n    fig.layout.template = \"plotly_dark\"\n\n    if save:\n        fig.write_html(\n            self.working_directory\n            / f\"convergence_case_{elt_size_var_name}_{output_name}.html\"\n        )\n    if show:\n        fig.show()\n    self.result.figure = fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.ConvergenceCase.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase","title":"CpuTimeCompromiseCase","text":"<pre><code>CpuTimeCompromiseCase(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>Plot a tool result.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.execute","title":"execute","text":"<pre><code>execute(\n    convergence_data: DataFrame,\n    nb_meshes: int,\n    elt_size_var_name: str,\n    output_name: str,\n    /,\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    hovering_variables: list[str] = (),\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_case_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    convergence_data: DataFrame,\n    nb_meshes: int,\n    elt_size_var_name: str,\n    output_name: str,\n    /,\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    hovering_variables: list[str] = (),\n    show: bool = False,\n    save: bool = True,\n):\n\n    fig = go.Figure()\n\n    nb_trajectories = compute_nb_trajectories(len(convergence_data), nb_meshes)\n\n    prefix = \"\" if normalize_index_output is None else \"Normalized \"\n    hovering_variables += [elt_size_var_name]\n\n    for i in range(nb_trajectories):\n        color = colormap[i * int((len(colormap) - 1) / (nb_trajectories - 1))]\n        df_ = convergence_data.iloc[[j + i * nb_meshes for j in range(nb_meshes)]]\n        y_values = (\n            df_[output_name].values\n            if normalize_index_output is None\n            else df_[output_name].values\n            / df_[output_name].values[normalize_index_output]\n        )\n        if len(df_) &gt; 0:\n            for j in range(len(df_)):\n                cpu_time_0 = (\n                    1.0\n                    if normalize_index_cpu_time is None\n                    else df_[\"cpu_time\"].values[normalize_index_cpu_time]\n                )\n                if j &lt; len(df_) - 1:\n                    fig2 = go.Scatter(\n                        x=[\n                            df_[\"cpu_time\"].values[j] / cpu_time_0,\n                            df_[\"cpu_time\"].values[j + 1] / cpu_time_0,\n                        ],\n                        y=[y_values[j], y_values[j + 1]],\n                        line={\"dash\": \"dash\"},\n                        line_color=color,\n                        showlegend=False,\n                    )\n                    fig.add_traces(fig2)\n                fig1 = go.Scatter(\n                    x=[df_[\"cpu_time\"].values[j] / cpu_time_0],\n                    y=[y_values[j]],\n                    line_color=color,\n                    mode=\"markers\",\n                    marker_size=MARKERSIZE,\n                    marker={\"line\": {\"width\": 2, \"color\": \"lightgrey\"}},\n                    hovertemplate=\", \".join([\n                        f\"{name}: {df_[name].values[j]}\"\n                        for name in hovering_variables\n                    ]),\n                    showlegend=False,\n                )\n                fig.add_traces(fig1)\n\n    fig.update_layout(\n        height=700,\n        xaxis_title=f\"&lt;b&gt;{prefix}CPU time(s)&lt;/b&gt;\",\n        margin={\"l\": 150, \"b\": 100},\n        yaxis_title=\"\",\n    )\n    fig.update_xaxes(\n        title_font={\"size\": 40},\n        tickfont={\"size\": 40},\n        tickfont_family=\"Arial Black\",\n    )\n    fig.update_yaxes(\n        title_font={\"size\": 40},\n        tickfont={\"size\": 40},\n        tickfont_family=\"Arial Black\",\n    )\n    fig.add_annotation(\n        x=0.03,\n        y=y_max_limit,\n        xref=\"paper\",\n        yref=\"y\",\n        showarrow=False,\n        text=f\"&lt;b&gt;{prefix}{output_name}&lt;/b&gt;\",\n        font={\"size\": 40},\n        textangle=0,\n    )\n    fig.layout.template = \"plotly_dark\"\n    if save:\n        fig.write_html(\n            self.working_directory / f\"cpu_time_compromise_{output_name}.html\"\n        )\n    if show:\n        fig.show()\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_case_plots/#vimseo.tools.post_tools.verification_case_plots.CpuTimeCompromiseCase.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/","title":"Verification plots","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots","title":"verification_plots","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation","title":"ConvergenceCrossValidation","text":"<pre><code>ConvergenceCrossValidation(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A line plot showing the output values versus the element size.</p> <p>All folds (of three values among the original four values) from the cross validation are superposed.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.execute","title":"execute","text":"<pre><code>execute(\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n):\n    cross_validation_result = result.cross_validation\n\n    fig = Figure()\n    colors = {\n        \"fold_0\": \"blue\",\n        \"fold_1\": \"red\",\n        \"fold_2\": \"black\",\n        \"fold_3\": \"green\",\n        \"fold_4\": \"orange\",\n        \"fold_5\": \"magenta\",\n        \"fold_6\": \"cyan\",\n    }\n    if result.metadata.misc[\"element_size_variable_name\"] == \"degrees_of_freedom\":\n        element_size_variable_name = _DOF_ABSCISSA_NAME\n    else:\n        element_size_variable_name = result.metadata.misc[\n            \"element_size_variable_name\"\n        ]\n    output_name = result.metadata.settings[\"output_name\"]\n    fig.add_traces(\n        go.Scatter(\n            x=[0.0],\n            y=[result.extrapolation[\"q_extrap\"]],\n            name=\"\",\n            showlegend=False,\n            mode=\"markers\",\n            line_color=\"chocolate\",\n            marker={\"symbol\": \"square\"},\n            error_y={\n                \"type\": \"data\",\n                \"array\": [2 * result.extrapolation[\"q_extrap_mad\"]],\n            },\n        )\n    )\n    keys = list(cross_validation_result.keys())\n    for key in keys:\n        formatted_element_sizes = get_formatted_value(\n            cross_validation_result[key][\"h\"], ELEMENT_SIZE_PRECISION\n        )\n        dataset = Dataset.from_array(\n            data=vstack([\n                cross_validation_result[key][\"h\"],\n                cross_validation_result[key][\"q\"],\n            ]).T,\n            variable_names=[\n                element_size_variable_name,\n                f\"fold{formatted_element_sizes}\",\n            ],\n        )\n        lines = GemseoLines(\n            dataset, abscissa_variable=element_size_variable_name, add_markers=True\n        )\n        lines.color = colors[key]\n        lines.linestyle = \"--\"\n        lines.execute(\n            fig=fig,\n            show=False,\n            save=False,\n            file_format=\"html\",\n        )\n        fig.add_traces(\n            go.Scatter(\n                x=[cross_validation_result[key][\"h\"][-1], 0.0],\n                y=[\n                    cross_validation_result[key][\"q\"][-1],\n                    cross_validation_result[key][\"q_extrap\"],\n                ],\n                name=\"\",\n                showlegend=False,\n                mode=\"lines\",\n                line={\"color\": colors[key], \"dash\": \"dashdot\"},\n            )\n        )\n\n    fig.update_layout(yaxis_title=output_name)\n\n    if show:\n        fig.show()\n    if save:\n        fig.write_html(\n            self.working_directory / f\"convergence_{output_name}_versus_h.html\"\n        )\n\n    self.result.figure = fig\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ConvergenceCrossValidation.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram","title":"ErrorMetricHistogram","text":"<pre><code>ErrorMetricHistogram(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>An histogram plot where the abscissa is the error value and the ordinate the number of verification points corresponding to this error.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.execute","title":"execute","text":"<pre><code>execute(\n    element_wise_metrics: Dataset,\n    metric_name: str,\n    output_name: str,\n    /,\n    renamer=None,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    element_wise_metrics: Dataset,\n    metric_name: str,\n    output_name: str,\n    /,\n    renamer=None,\n    show: bool = False,\n    save: bool = True,\n):\n    # Rename element-wise metrics to ensure variable names are unique.\n    dataset = element_wise_metrics.copy()\n    df = dataset.get_view(group_names=[IODataset.INPUT_GROUP, metric_name]).copy()\n    df.columns = df.get_columns(as_tuple=False)\n    output_name = output_name if not renamer else renamer(output_name, metric_name)\n    fig = px.histogram(df, x=output_name)\n    if save:\n        fig.write_html(\n            self.working_directory\n            / f\"metric_histogram_{metric_name}_{output_name}.html\"\n        )\n    if show:\n        fig.show()\n    self.result.figure = fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorMetricHistogram.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize","title":"ErrorVersusElementSize","text":"<pre><code>ErrorVersusElementSize(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A line plot showing the error between the output values and the Richardson extrapolation, versus the element size.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.execute","title":"execute","text":"<pre><code>execute(\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n):\n    df = result.element_wise_metrics.copy()\n    df.columns = result.element_wise_metrics.get_columns()\n    nb_meshes = df.shape[0]\n    df[\"median_absolute_deviation\"] = full(\n        (nb_meshes), result.extrapolation[\"q_extrap_mad\"]\n    )\n    if result.metadata.misc[\"element_size_variable_name\"] == \"degrees_of_freedom\":\n        element_size_variable_name = _DOF_ABSCISSA_NAME\n    else:\n        element_size_variable_name = result.metadata.misc[\n            \"element_size_variable_name\"\n        ]\n    output_name = result.metadata.settings[\"output_name\"]\n\n    fig = Figure()\n    fig.add_traces(\n        go.Scatter(\n            x=df[element_size_variable_name],\n            y=df[output_name],\n            name=f\"|{output_name}-extrap|\",\n            mode=\"markers\",\n            marker_color=\"blue\",\n        )\n    )\n    for cv_order, coef, color in zip(\n        [1, 2],\n        [\n            self.__compute_reference_lines_offset(\n                df[output_name], df[element_size_variable_name], 1, nb_meshes\n            ),\n            self.__compute_reference_lines_offset(\n                df[output_name], df[element_size_variable_name], 2, nb_meshes\n            ),\n        ],\n        [\"green\", \"black\"],\n        strict=False,\n    ):\n        fig.add_traces(\n            go.Scatter(\n                x=df[element_size_variable_name],\n                y=coef * df[element_size_variable_name] ** cv_order,\n                name=f\"order {cv_order}\",\n                mode=\"lines\",\n                line_color=color,\n                line={\"dash\": \"dash\"},\n            )\n        )\n    fig.update_xaxes(type=\"log\", title=element_size_variable_name)\n    fig.update_xaxes(minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True})\n    fig.update_yaxes(type=\"log\")\n    fig.update_yaxes(minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True})\n    if save:\n        fig.write_html(\n            self.working_directory / f\"{output_name}_error_versus_h.html\"\n        )\n    if show:\n        fig.show()\n    self.result.figure = fig\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.ErrorVersusElementSize.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime","title":"RelativeErrorVersusCpuTime","text":"<pre><code>RelativeErrorVersusCpuTime(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A line plot showing the relative error between the output values and the Richardson extrapolation, versus the element size.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.execute","title":"execute","text":"<pre><code>execute(\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n):\n    df = result.simulation_and_reference.copy()\n    df.columns = result.simulation_and_reference.get_columns()\n    output_name = result.metadata.settings[\"output_name\"]\n    df[\"relative_error\"] = (\n        df[output_name] - result.extrapolation[\"q_extrap\"]\n    ) / result.extrapolation[\"q_extrap\"]\n\n    fig = Figure()\n    fig.add_traces(\n        go.Scatter(\n            x=df[MetaDataNames.cpu_time],\n            y=df[\"relative_error\"],\n            name=f\"{output_name}\",\n            mode=\"lines+markers\",\n            marker_color=\"blue\",\n        )\n    )\n    fig.update_yaxes(\n        title=f\"Relative error on {output_name}\",\n        minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True},\n    )\n    fig.update_xaxes(\n        title=MetaDataNames.cpu_time,\n        minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True},\n    )\n    if save:\n        fig.write_html(\n            self.working_directory / f\"{output_name}_error_versus_cpu_time.html\"\n        )\n    if show:\n        fig.show()\n    self.result.figure = fig\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusCpuTime.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize","title":"RelativeErrorVersusElementSize","text":"<pre><code>RelativeErrorVersusElementSize(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>Plotter</code></p> <p>A line plot showing the element size versus the relative error :math:<code>\\frac{q - q_{extrap}}{q_{extrap}}</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/base_plot.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = PlotResult()\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: PlotResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.execute","title":"execute","text":"<pre><code>execute(\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/post_tools/verification_plots.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    result: SolutionVerificationResult,\n    /,\n    show: bool = False,\n    save: bool = True,\n):\n    df = result.simulation_and_reference.copy()\n    df.columns = result.simulation_and_reference.get_columns()\n    output_name = result.metadata.settings[\"output_name\"]\n    df[\"relative_error\"] = (\n        df[output_name] - result.extrapolation[\"q_extrap\"]\n    ) / result.extrapolation[\"q_extrap\"]\n    element_size_variable_name = result.metadata.misc[\"element_size_variable_name\"]\n\n    fig = Figure()\n    fig.add_traces(\n        go.Scatter(\n            x=df[element_size_variable_name],\n            y=df[\"relative_error\"],\n            name=f\"{output_name}\",\n            mode=\"lines+markers\",\n            marker_color=\"blue\",\n        )\n    )\n    fig.update_yaxes(\n        title=f\"Relative error on {output_name}\",\n        minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True},\n    )\n    fig.update_xaxes(\n        title=f\"{element_size_variable_name}\",\n        minor={\"ticks\": \"inside\", \"ticklen\": 6, \"showgrid\": True},\n    )\n    # TODO commonalize in Plotter\n    if save:\n        fig.write_html(\n            self.working_directory / f\"{output_name}_error_versus_element_size.html\"\n        )\n    if show:\n        fig.show()\n    self.result.figure = fig\n    return fig\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.plot_results","title":"plot_results  <code>abstractmethod</code>","text":"<pre><code>plot_results(\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>BaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef plot_results(\n    self,\n    result: BaseResult,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        result: The result of the tool.\n        directory_path: The path under which the plots are saved.\n        save: Whether to save the plot on disk.\n        show: Whether to show the plot.\n        options: The options of the plot.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots.RelativeErrorVersusElementSize.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/post_tools/verification_plots/#vimseo.tools.post_tools.verification_plots-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/sensitivity/","title":"Sensitivity","text":""},{"location":"reference/vimseo/tools/sensitivity/#vimseo.tools.sensitivity","title":"sensitivity","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/","title":"Sensitivity","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity","title":"sensitivity","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool","title":"SensitivityTool","text":"<pre><code>SensitivityTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Run a sensitivity analysis on the outputs of an :class:<code>~.IntegratedModel</code> over a :class:<code>~.gemseo.algos.parameter_space.ParameterSpace</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/sensitivity/sensitivity.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = SensitivityResult()\n    self.sensitivity_plot_factory = SensitivityPlotFactory()\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SensitivityResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: SensitivityToolInputs = None,\n    settings: SensitivityToolSettings = None,\n    **options\n) -&gt; SensitivityResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/sensitivity/sensitivity.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: SensitivityToolInputs = None,\n    settings: SensitivityToolSettings = None,\n    **options,\n) -&gt; SensitivityResult:\n    model = options[\"model\"]\n    parameter_space = options[\"parameter_space\"]\n\n    self.result.metadata.model = model.description\n\n    # TODO allow to pass pre-computed samples as an IODataset\n    self.result.analysis = create_sensitivity_analysis(\n        analysis=options[\"sensitivity_algo\"],\n    )\n\n    # algo_settings_dict = {}\n    # if (\n    #     options[\"sensitivity_algo\"] == \"Morris\"\n    #     or options[\"sensitivity_algo\"] == \"MorrisAnalysis\"\n    # ):\n    #     algo_settings = MorrisDOE_Settings\n    #     algo_settings_dict[\"n_samples\"] = options[\"n_replicates\"]\n    # elif (\n    #     options[\"sensitivity_algo\"] == \"HSIC\"\n    #     or options[\"sensitivity_algo\"] == \"HSICAnalysis\"\n    # ):\n    #     algo_settings = None\n    # else:\n    #     raise ValueError(f\"{options['sensitivity_algo']} is not handled.\")\n\n    output_names = (\n        model.get_output_data_names(remove_metadata=True)\n        if len(options[\"output_names\"]) == 0\n        else options[\"output_names\"]\n    )\n    self.result.metadata.report[\"output_names\"] = output_names\n\n    if (\n        options[\"sensitivity_algo\"] == \"MorrisAnalysis\"\n        or options[\"sensitivity_algo\"] == \"Morris\"\n    ):\n        self.result.analysis.compute_samples(\n            disciplines=[model],\n            parameter_space=parameter_space,\n            n_samples=options[\"n_samples\"],\n            output_names=output_names,\n            n_replicates=options[\"n_replicates\"],\n        )\n    elif (\n        options[\"sensitivity_algo\"] == \"HSIC\"\n        or options[\"sensitivity_algo\"] == \"HSICAnalysis\"\n    ):\n        self.result.analysis.compute_samples(\n            disciplines=[model],\n            parameter_space=parameter_space,\n            n_samples=options[\"n_samples\"],\n            output_names=(\n                model.get_output_data_names(remove_metadata=True)\n                if len(options[\"output_names\"]) == 0\n                else options[\"output_names\"]\n            ),\n        )\n    else:\n        msg = f\"{options['sensitivity_algo']} is not handled.\"\n        raise ValueError(msg)\n\n    self.result.indices = self.result.analysis.compute_indices()\n    self.result.variable_dimensions = {\n        name: parameter_space.distributions[name].dimension\n        for name in self.result.analysis.input_names\n    }\n    self.result.variable_dimensions.update({\n        name: len(model.get_output_data()[name]) for name in output_names\n    })\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.get_available_sensitivity_analyses","title":"get_available_sensitivity_analyses  <code>staticmethod</code>","text":"<pre><code>get_available_sensitivity_analyses()\n</code></pre> <p>Get the available sensitivity analysis.</p> Source code in <code>src/vimseo/tools/sensitivity/sensitivity.py</code> <pre><code>@staticmethod\ndef get_available_sensitivity_analyses():\n    \"\"\"Get the available sensitivity analysis.\"\"\"\n    return get_available_sensitivity_analyses()\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: SensitivityResult,\n    output_names=(),\n    standardize=False,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SensitivityResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>output_names</code>           \u2013            <p>The names of the output variable whose sensitivity parameters are shown.</p> </li> <li> <code>standardize</code>           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Mapping[str, Figure]</code>           \u2013            <p>The sensitivity plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/sensitivity/sensitivity.py</code> <pre><code>def plot_results(\n    self,\n    result: SensitivityResult,\n    output_names=(),\n    standardize=False,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"\n\n    Args:\n        output_names: The names of the output variable whose sensitivity parameters are\n         shown.\n\n    Returns:\n        The sensitivity plot.\n\n    \"\"\"\n    output_names = (\n        result.metadata.settings[\"output_names\"]\n        if len(output_names) == 0\n        else output_names\n    )\n    directory_path = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    if (\n        result.metadata.settings[\"sensitivity_algo\"] == \"Morris\"\n        or result.metadata.settings[\"sensitivity_algo\"] == \"MorrisAnalysis\"\n    ):\n        figures[\"radar_plot\"] = result.analysis.plot_radar(\n            outputs=output_names,\n            standardize=standardize,\n            show=show,\n            save=save,\n            directory_path=directory_path,\n        ).figures[0]\n        figures[\"bar_plot\"] = result.analysis.plot_bar(\n            outputs=output_names,\n            standardize=standardize,\n            show=show,\n            save=save,\n            directory_path=directory_path,\n            file_format=\"html\",\n            font_size=12,\n        ).figures[0]\n\n        final_names = []\n        for name in output_names:\n            if result.variable_dimensions[name] &gt; 1:\n                final_names.extend(\n                    (name, i) for i in range(result.variable_dimensions[name])\n                )\n            else:\n                final_names.append(name)\n\n        for name in final_names:\n            figures[\"standard_plot\"] = result.analysis.plot(\n                output=name,\n                show=show,\n                save=save,\n                file_path=directory_path / f\"standard_plot_{name}\",\n                file_format=\"png\",\n            )\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.SensitivityToolSettings","title":"SensitivityToolSettings","text":"<p>               Bases: <code>SensitivityToolSettings_</code></p> <p>The sensitivity settings.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity/#vimseo.tools.sensitivity.sensitivity.StreamlitSensitivityToolSettings","title":"StreamlitSensitivityToolSettings","text":"<p>               Bases: <code>SensitivityToolSettings_</code></p> <p>The sensitivity settings for the workflow dashboard.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/","title":"Sensitivity result","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result","title":"sensitivity_result","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult","title":"SensitivityResult  <code>dataclass</code>","text":"<pre><code>SensitivityResult(\n    metadata: ToolResultMetadata | None = None,\n    analysis: BaseSensitivityAnalysis | None = None,\n    indices: SensitivityIndices = None,\n    variable_dimensions: Mapping[str, int] = dict(),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a sensitivity analysis.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult.analysis","title":"analysis  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>analysis: BaseSensitivityAnalysis | None = None\n</code></pre> <p>The sensitivity analysis.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult.indices","title":"indices  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>indices: SensitivityIndices = field(default=None)\n</code></pre> <p>The indices of the sensitivity analysis.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/sensitivity/sensitivity_result/#vimseo.tools.sensitivity.sensitivity_result.SensitivityResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/space/","title":"Space","text":""},{"location":"reference/vimseo/tools/space/#vimseo.tools.space","title":"space","text":""},{"location":"reference/vimseo/tools/space/random_variable_interface/","title":"Random variable interface","text":""},{"location":"reference/vimseo/tools/space/random_variable_interface/#vimseo.tools.space.random_variable_interface","title":"random_variable_interface","text":""},{"location":"reference/vimseo/tools/space/random_variable_interface/#vimseo.tools.space.random_variable_interface-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/space/random_variable_interface/#vimseo.tools.space.random_variable_interface-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/space/random_variable_interface/#vimseo.tools.space.random_variable_interface.add_random_variable_interface","title":"add_random_variable_interface","text":"<pre><code>add_random_variable_interface(\n    parameter_space: ParameterSpace,\n    variable_name: str,\n    settings: (\n        DistributionParameters\n        | InterfacedDistributionSettings\n    ),\n    size: int = 1,\n)\n</code></pre> <p>An interface to handle seamlessly the interfaces to :meth:<code>gemseo.algos.parameter_space.add_random_variable</code> for an OT distribution.</p> Source code in <code>src/vimseo/tools/space/random_variable_interface.py</code> <pre><code>def add_random_variable_interface(\n    parameter_space: ParameterSpace,\n    variable_name: str,\n    settings: DistributionParameters | InterfacedDistributionSettings,\n    size: int = 1,\n):\n    \"\"\"An interface to handle seamlessly the interfaces to\n    :meth:`gemseo.algos.parameter_space.add_random_variable` for an OT distribution.\"\"\"\n    if isinstance(settings, InterfacedDistributionSettings):\n        if size == 1:\n            parameter_space.add_random_variable(\n                variable_name,\n                \"OTDistribution\",\n                size=size,\n                settings=settings,\n            )\n        else:\n            msg = (\n                f\"Only scalars are handled for an \"\n                f\"``InterfaceDistribution``. But variable {variable_name} \"\n                f\"has dimension {size}.\"\n            )\n            raise ValueError(msg)\n    else:\n        if size == 1:\n            parameter_space.add_random_variable(\n                variable_name,\n                size=size,\n                distribution=f\"OT{settings.name}Distribution\",\n                settings=settings,\n            )\n        else:\n            parameters = {\n                k: v\n                for k, v in settings.model_dump().items()\n                if k in OPTIONS_PER_DISTRIBUTION[f\"OT{settings.name}Distribution\"]\n            }\n            parameter_space.add_random_vector(\n                variable_name,\n                size=size,\n                distribution=f\"OT{settings.name}Distribution\",\n                **parameters,\n            )\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/","title":"Space tool","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool","title":"space_tool","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool","title":"SpaceTool","text":"<pre><code>SpaceTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>A tool to build a space of parameters.</p> <p>This class updates a :class:<code>~.gemseo.algos.parameter_space.ParameterSpace</code> based on a :class:<code>~.SpaceBuilder</code>. Four space builders are available. Two of them are based on user-data and construct the parameter space based on either (min, max) values or (center, coefficient of variation around the center) values. The two other are based on an :class:<code>~.IntegratedModel</code>. Similarly, the parameter space is based either on the (min, max) values of the model inputs, or on (center, coefficient of variation around the center) values. In the latter case, an option allows to define the center values either as the half sum of the model input min and max (this default behaviour can be modifed by passing a symbolic expression), or on the model default input values. values.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.space.space_tool import SpaceTool\n&gt;&gt;&gt; # Start from an empty parameter space.\n&gt;&gt;&gt; space_tool = SpaceTool()\n&gt;&gt;&gt; # Update it based on user-defined center values\n&gt;&gt;&gt; # and a coefficient of variation using the \"FromCenterAndCov\" builder.\n&gt;&gt;&gt; space_tool.update(\n...     \"OTNormalDistribution\",\n...     \"FromCenterAndCov\",\n...     center_values={\"force_relative_location\": 0.5},\n...     cov=0.05,\n... )\n&gt;&gt;&gt; # Then, a new update can be done using a \"FromMinAndMax\" builder,\n&gt;&gt;&gt; # to which minimum and maximum values are passed.\n&gt;&gt;&gt; space_tool.update(\n...     \"OTTriangularDistribution\",\n...     \"FromMinAndMax\",\n...     minimum_values={\"young_modulus\": 1e5},\n...     maximum_values={\"young_modulus\": 1.5e5},\n... )\n&gt;&gt;&gt; # By default the center of the distribution is the half sum of the min\n&gt;&gt;&gt; # and max values.\n&gt;&gt;&gt; # But this behaviour can be changed by passing a symbolic expression,\n&gt;&gt;&gt; # having the parameters \"minimum\" and \"maximum\":\n&gt;&gt;&gt; space_tool.update(\n...     \"OTTriangularDistribution\",\n...     \"FromMinAndMax\",\n...     minimum_values={\"young_modulus\": 1e5},\n...     maximum_values={\"young_modulus\": 1.5e5},\n...     center_value_expr=\"{0.25 * {minimum} + 0.75 * {maximum}\",\n... )\n&gt;&gt;&gt; # It is convenient to define the initial parameter space from a model.\n&gt;&gt;&gt; # Here the \"FromModelMinAndMax\" builder is used.\n&gt;&gt;&gt; # A model must first be instanciated.\n&gt;&gt;&gt; from vimseo.api import create_model\n&gt;&gt;&gt; model = create_model(\"BendingTestAnalytical\", \"Cantilever\")\n&gt;&gt;&gt; space_tool.update(\n...     distribution_name,\n...     \"FromModelMinAndMax\",\n...     model=model,\n...     variable_names=[\"E\", \"force_relative_location\"],\n...     use_default_values_as_center=True,\n... )\n&gt;&gt;&gt; # The ``variable_names`` argument allows to retain only a subset of\n&gt;&gt;&gt; # variables, while the ``use_default_values_as_center`` allows to define the\n&gt;&gt;&gt; # center of the distributions as the model default input values.\n&gt;&gt;&gt; # If ``use_default_values_as_center`` is set to ``False``, the half sum\n&gt;&gt;&gt; # between the model min and max values is used by default.\n&gt;&gt;&gt; # Similarly to the \"FromMinAndMax\" builder, a symbolic expression can be\n&gt;&gt;&gt; # used to customize the center value based on the min and max values of the\n&gt;&gt;&gt; # model inputs:\n&gt;&gt;&gt; space_tool.update(\n...     distribution_name,\n...     \"FromModelMinAndMax\",\n...     model=model,\n...     variable_names=[\"E\", \"force_relative_location\"],\n...     use_default_values_as_center=False,\n...     center_value_expr=\"{0.25 * {minimum} + 0.75 * {maximum}\",\n... )\n&gt;&gt;&gt; # A parameter space can also be updated from a model using center values\n&gt;&gt;&gt; # and a coefficient of variation:\n&gt;&gt;&gt; space_tool.update(\n...     distribution_name,\n...     \"FromModelCenterAndCov\",\n...     model=model,\n...     variable_names=[\"E\", \"force_relative_location\"],\n...     use_default_values_as_center=False,\n...     cov=0.05,\n... )\n&gt;&gt;&gt; # where the definition of the distribution center is the same as for the\n&gt;&gt;&gt; # \"FromModelMinAndMax\" builder.\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = SpaceToolResult()\n    if not self.result.parameter_space:\n        self.result.parameter_space = ParameterSpace()\n    self.__builder_factory = SpaceBuilderFactory()\n    self._space_builder = None\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SpaceToolResult\n</code></pre> <p>The results of this tool.</p>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: SpaceToolInputs | None = None,\n    setting: SpaceToolSettings | None = None,\n    **options\n) -&gt; SpaceToolResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: SpaceToolInputs | None = None,\n    setting: SpaceToolSettings | None = None,\n    **options,\n) -&gt; SpaceToolResult:\n    self.update(**options)\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.get_available_distributions","title":"get_available_distributions","text":"<pre><code>get_available_distributions()\n</code></pre> <p>The available distributions for the current space builder.</p> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def get_available_distributions(self):\n    \"\"\"The available distributions for the current space builder.\"\"\"\n    return self._space_builder.get_available_distributions()\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.get_available_space_builders","title":"get_available_space_builders  <code>classmethod</code>","text":"<pre><code>get_available_space_builders()\n</code></pre> <p>The available :class:<code>.SpaceBuilder</code>.</p> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>@classmethod\ndef get_available_space_builders(cls):\n    \"\"\"The available :class:`.SpaceBuilder`.\"\"\"\n    return SpaceBuilderFactory().class_names\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    return SpaceToolFileIO().read(file_name=path)\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: SpaceToolResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    n_samples=10,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SpaceToolResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>n_samples</code>           \u2013            <p>The number of samples used to represent the parameter space.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def plot_results(\n    self,\n    result: SpaceToolResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    n_samples=10,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"\n\n    Args:\n        n_samples: The number of samples used to represent the parameter space.\n\n    Returns:\n\n    \"\"\"\n    dataset = Dataset.from_array(\n        data=result.parameter_space.compute_samples(n_samples),\n        variable_names=result.parameter_space.uncertain_variables,\n    )\n    plot = ScatterMatrix(dataset)\n    return plot.execute(\n        save=save,\n        show=show,\n        directory_path=(\n            self.working_directory if directory_path == \"\" else Path(directory_path)\n        ),\n        **options,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    SpaceToolFileIO().write(\n        self.result,\n        directory_path=self.working_directory,\n        file_base_name=f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\",\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.SpaceTool.update","title":"update","text":"<pre><code>update(\n    distribution_name: str = \"\",\n    space_builder_name: str = \"\",\n    model=None,\n    **options\n) -&gt; None\n</code></pre> <p>Updates the space of parameters.</p> <p>Parameters:</p> <ul> <li> <code>distribution_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the distribution.</p> </li> <li> <code>space_builder_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the :class:<code>~.SpaceBuilder</code>.</p> </li> <li> <code>model</code>           \u2013            <p>The model from which the space of parameters is built.</p> </li> <li> <code>options</code>           \u2013            <p>The options of the parameter space builder.</p> </li> </ul> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def update(\n    self,\n    distribution_name: str = \"\",\n    space_builder_name: str = \"\",\n    model=None,\n    **options,\n) -&gt; None:\n    \"\"\"Updates the space of parameters.\n\n    Args:\n        distribution_name: The name of the distribution.\n        space_builder_name: The name of the :class:`~.SpaceBuilder`.\n        model: The model from which the space of parameters is built.\n        options: The options of the parameter space builder.\n    \"\"\"\n    if options[\"statistics\"] is not None:\n        self.result.parameter_space = ParameterSpace()\n        update_space_from_statistics(\n            self.result.parameter_space, options[\"statistics\"]\n        )\n    else:\n        self._space_builder = self.__builder_factory.create(space_builder_name)\n        self._space_builder.update_options(**options)\n        options = self._space_builder.get_filtered_options(\n            **self._space_builder.options\n        )\n        self._space_builder._check_options(**options)\n        self._space_builder.build(\n            self.result.parameter_space, distribution_name, model=model, **options\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.StreamlitSpaceToolSettings","title":"StreamlitSpaceToolSettings","text":"<p>               Bases: <code>SpaceToolSettings</code></p> <p>The <code>SpaceToolSettings</code> for the workflow Streamlit dashboard.</p>"},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/space/space_tool/#vimseo.tools.space.space_tool.update_space_from_statistics","title":"update_space_from_statistics","text":"<pre><code>update_space_from_statistics(\n    parameter_space: ParameterSpace,\n    statistics_results: StatisticsResult,\n    model: IntegratedModel | None = None,\n)\n</code></pre> <p>Add random variables to a parameter space from a :class:<code>.StatisticsResult</code>.</p> Source code in <code>src/vimseo/tools/space/space_tool.py</code> <pre><code>def update_space_from_statistics(\n    parameter_space: ParameterSpace,\n    statistics_results: StatisticsResult,\n    model: IntegratedModel | None = None,\n):\n    \"\"\"Add random variables to a parameter space from a :class:`.StatisticsResult`.\"\"\"\n    variable_names = statistics_results.analysis.names\n    for name in variable_names:\n        if name in parameter_space.variable_names:\n            parameter_space.remove_variable(name)\n\n        distribution = statistics_results.analysis.distributions[name]\n        parameter_space.add_random_variable(\n            name,\n            \"OTDistribution\",\n            settings=InterfacedDistributionSettings(\n                name=distribution.name,\n                parameters=distribution.value.settings[\"parameters\"],\n                lower_bound=(\n                    max(\n                        (model.lower_bounds.get(name, -inf)),\n                        distribution.value.math_lower_bound,\n                    )\n                    if model is not None\n                    else None\n                ),\n                upper_bound=(\n                    min(\n                        (model.upper_bounds.get(name, inf)),\n                        distribution.value.math_upper_bound,\n                    )\n                    if model is not None\n                    else None\n                ),\n            ),\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool_result/","title":"Space tool result","text":""},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result","title":"space_tool_result","text":""},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult","title":"SpaceToolResult  <code>dataclass</code>","text":"<pre><code>SpaceToolResult(\n    metadata: ToolResultMetadata | None = None,\n    parameter_space: ParameterSpace | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of the :class:<code>~.SpaceTool</code>.</p>"},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult.parameter_space","title":"parameter_space  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>parameter_space: ParameterSpace | None = None\n</code></pre> <p>The parameter space.</p>"},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/space/space_tool_result/#vimseo.tools.space.space_tool_result.SpaceToolResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/","title":"Statistics","text":""},{"location":"reference/vimseo/tools/statistics/#vimseo.tools.statistics","title":"statistics","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/","title":"Statistics result","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result","title":"statistics_result","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult","title":"StatisticsResult  <code>dataclass</code>","text":"<pre><code>StatisticsResult(\n    metadata: ToolResultMetadata | None = None,\n    analysis: BaseStatistics | None = None,\n    best_fitting_distributions: (\n        dict[str, str] | None\n    ) = None,\n    statistics: OrderedDict | DataFrame | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a statistics analysis.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult.analysis","title":"analysis  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>analysis: BaseStatistics | None = None\n</code></pre> <p>The statistics analysis.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult.statistics","title":"statistics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>statistics: OrderedDict | DataFrame | None = None\n</code></pre> <p>The reduced statistics.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_result/#vimseo.tools.statistics.statistics_result.StatisticsResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/","title":"Statistics tool","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool","title":"statistics_tool","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool","title":"StatisticsTool","text":"<pre><code>StatisticsTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseTool</code></p> <p>Provide methods for calculating Parametric and Empirical statistics for a given dataset.</p> <p>Advanced users can change the default toolset parameters to tool specific (user-defined) parameters, by passing options to :meth:<code>execute</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The path to the root directory, wherein unique directories will be created at each execution. If set to empty string, use the current working directory.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The method to create the execution directories.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The directory within which to save the results. If empty, save the results into the unique generated directory. Note that the use of a user-defined working_directory or an automatically generated unique directory is exclusive, and the choice is controlled by using leaving or not working_directory to its default value.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self._dataset = None\n    self.result = StatisticsResult()\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: BaseResult | None\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.build_distributions","title":"build_distributions  <code>staticmethod</code>","text":"<pre><code>build_distributions(distributions)\n</code></pre> <p>Build distributions from a list of distributions names, a test level and the stored dataset.</p> <p>Parameters:</p> <ul> <li> <code>distributions</code>           \u2013            <p>list of distributions names.</p> </li> </ul> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef build_distributions(distributions):\n    \"\"\"Build distributions from a list of distributions names, a test level and the\n    stored dataset.\n\n    Args:\n        distributions: list of distributions names.\n    \"\"\"\n    return ParametricStatistics.build_distributions(distributions)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.compute_all_statistics","title":"compute_all_statistics","text":"<pre><code>compute_all_statistics(\n    as_df=True,\n) -&gt; OrderedDict | DataFrame\n</code></pre> <p>Provides a summary of the statistics currently available in gemseo.</p> <p>Parameters:</p> <ul> <li> <code>as_df</code>           \u2013            <p>if True the results are returned in the form of a pandas dataframe,</p> </li> <li> <code>else as a dictionary. Default</code>           \u2013            <p>False</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>OrderedDict | DataFrame</code>           \u2013            <p>a Pandas Dataframe or OrderedDict() with the computed statistics</p> </li> </ul> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>def compute_all_statistics(self, as_df=True) -&gt; OrderedDict | DataFrame:\n    \"\"\"Provides a summary of the statistics currently available in gemseo.\n\n    Args:\n        as_df: if True the results are returned in the form of a pandas dataframe,\n        else as a dictionary. Default: False\n\n    Returns:\n        a Pandas Dataframe or OrderedDict() with the computed statistics\n    \"\"\"\n    compute = [\n        (\"maximum\", self.result.analysis.compute_maximum, {}),\n        (\"minimum\", self.result.analysis.compute_minimum, {}),\n        (\"range\", self.result.analysis.compute_range, {}),\n        (\"mean\", self.result.analysis.compute_mean, {}),\n        (\"median\", self.result.analysis.compute_median, {}),\n        (\n            \"compute_standard_deviation\",\n            self.result.analysis.compute_standard_deviation,\n            {},\n        ),\n        (\"variance\", self.result.analysis.compute_variance, {}),\n        (\"percentile_5\", self.result.analysis.compute_percentile, {\"order\": 5}),\n        (\"percentile_10\", self.result.analysis.compute_percentile, {\"order\": 10}),\n        (\"percentile_25\", self.result.analysis.compute_percentile, {\"order\": 25}),\n        (\"percentile_50\", self.result.analysis.compute_percentile, {\"order\": 50}),\n        (\"percentile_75\", self.result.analysis.compute_percentile, {\"order\": 75}),\n        (\"percentile_90\", self.result.analysis.compute_percentile, {\"order\": 90}),\n        (\"percentile_95\", self.result.analysis.compute_percentile, {\"order\": 95}),\n        (\n            \"tolerance_interval\",\n            self.result.analysis.compute_tolerance_interval,\n            {\n                \"coverage\": self._options[\"coverage\"],\n                \"confidence\": self._options[\"confidence\"],\n            },\n        ),\n        (\"a_value\", self.result.analysis.compute_a_value, {}),\n        (\"b_value\", self.result.analysis.compute_b_value, {}),\n    ]\n\n    results = OrderedDict()\n    for func_name, key, value in compute:\n        for func, kwargs in zip([key], [value], strict=False):\n            try:\n                r = func(**kwargs)\n                results[func_name] = r\n            except (\n                KeyError,\n                TypeError,\n                NotImplementedError,\n                AttributeError,\n                ImportError,\n            ) as e:\n                print(e)\n\n    return pd.DataFrame.from_dict(results) if as_df else results\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: StatisticsInputs | None = None,\n    settings: StatisticsSettings | None = None,\n    **options\n) -&gt; StatisticsResult\n</code></pre> <p>Create a statistics toolbox, either parametric or empirical, based on gemseo capabilities.</p> <p>If parametric, the toolbox selects a distribution from candidates, based on a fitting criterion and on a selection strategy.</p> <p>It also computes statistics from the gemseo statistics toolbox based  on the default values given in the statistics_tool_defaults dictionary</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    inputs: StatisticsInputs | None = None,\n    settings: StatisticsSettings | None = None,\n    **options,\n) -&gt; StatisticsResult:\n    \"\"\"Create a statistics toolbox, either parametric or empirical, based on gemseo\n    capabilities.\n\n    If parametric, the toolbox selects a distribution from candidates, based on a\n    fitting criterion and on a selection strategy.\n\n    It also computes statistics from the gemseo statistics toolbox based  on the\n    default values given in the statistics_tool_defaults dictionary\n    \"\"\"\n    dataset = options[\"dataset\"]\n    self._dataset = dataset\n\n    # Perturb constant samples to avoid error in OpenTurns\n    scalar_names = []\n    for group_name in dataset.group_names:\n        scalar_names += get_scalar_names(dataset, group_name)\n    df = dataset_to_dataframe(dataset, variable_names=scalar_names)\n    constant_df = df.loc[:, (df == df.iloc[0]).all()]\n    constant_df = constant_df.select_dtypes([np.number])\n    for constant_name in constant_df.columns:\n        df[constant_name] = df[constant_name] * (\n            1 + 1e-6 * random.uniform(-1, 1, size=len(df[constant_name]))  # noqa: NPY002\n        )\n\n    analysis = create_statistics(\n        Dataset.from_dataframe(df),\n        name=self.name,\n        variable_names=options[\"variable_names\"],\n        tested_distributions=options[\"tested_distributions\"],\n        fitting_criterion=options[\"fitting_criterion\"],\n        selection_criterion=options[\"selection_criterion\"],\n        level=options[\"level\"],\n    )\n\n    self.result.analysis = analysis\n    self.result.statistics = self.compute_all_statistics(as_df=False)\n    self.result.best_fitting_distributions = {\n        name: analysis.distributions[name].name\n        for name in list(analysis.distributions.keys())\n    }\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.get_available_criteria","title":"get_available_criteria  <code>staticmethod</code>","text":"<pre><code>get_available_criteria()\n</code></pre> <p>Get available goodness-of-fit criteria.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef get_available_criteria():\n    \"\"\"Get available goodness-of-fit criteria.\"\"\"\n    return ParametricStatistics.get_available_criteria()\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.get_available_distributions","title":"get_available_distributions  <code>staticmethod</code>","text":"<pre><code>get_available_distributions()\n</code></pre> <p>Get available distributions.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef get_available_distributions():\n    \"\"\"Get available distributions.\"\"\"\n    return ParametricStatistics.get_fitting_matrix()\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.get_criteria","title":"get_criteria  <code>staticmethod</code>","text":"<pre><code>get_criteria(varname)\n</code></pre> <p>Get criteria for a given variable name.</p> <p>:param str varname: variable name.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef get_criteria(varname):\n    \"\"\"Get criteria for a given variable name.\n\n    :param str varname: variable name.\n    \"\"\"\n    return ParametricStatistics.get_criteria(varname)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.get_fitting_matrix","title":"get_fitting_matrix  <code>staticmethod</code>","text":"<pre><code>get_fitting_matrix()\n</code></pre> <p>Get the fitting matrix.</p> <p>This matrix contains goodness-of-fit measures for each pair &lt; variable, distribution &gt;.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef get_fitting_matrix():\n    \"\"\"Get the fitting matrix.\n\n    This matrix contains goodness-of-fit measures for each pair &lt; variable,\n    distribution &gt;.\n    \"\"\"\n    return ParametricStatistics.get_fitting_matrix()\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.get_significance_tests","title":"get_significance_tests  <code>staticmethod</code>","text":"<pre><code>get_significance_tests()\n</code></pre> <p>Get significance adapter.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>@staticmethod\ndef get_significance_tests():\n    \"\"\"Get significance adapter.\"\"\"\n    return ParametricStatistics.get_significance_tests()\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: StatisticsResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    variable=None,\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot criteria for a given variable name.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>StatisticsResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>variable</code>           \u2013            <p>The name of the variable whose statistics are shown.</p> </li> </ul> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>def plot_results(\n    self,\n    result: StatisticsResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    variable=None,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot criteria for a given variable name.\n\n    Args:\n        variable: The name of the variable whose statistics are shown.\n    \"\"\"\n    return result.analysis.plot_criteria(\n        variable=variable,\n        title=\"Criteria of statistics.\",\n        save=save,\n        show=show,\n        directory=(\n            self.working_directory if directory_path == \"\" else Path(directory_path)\n        ),\n        fig_size=(12.0, 6.0),\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    \"\"\"Save the results of the tool on disk. The file path is\n    :attr:`working_directory` / ``{filename}_result.pickle``.\n\n    Args:\n        prefix: The prefix of the filename result.\n    \"\"\"\n    prefix_separator = \"\"\n    if prefix != \"\":\n        prefix_separator = \"_\"\n    self.result.to_pickle(\n        self.working_directory\n        / f\"{prefix}{prefix_separator}{self.name}{self.RESULT_SUFFIX}\"\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.StatisticsTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/statistics/statistics_tool/#vimseo.tools.statistics.statistics_tool.compute_ecdf","title":"compute_ecdf","text":"<pre><code>compute_ecdf(\n    input_data: Dataset, prefix: str = \"\"\n) -&gt; Dataset\n</code></pre> <p>Compute the empirical CDF of a dataset. The ECDF are stored in a dataset, where each ECDF is in a different group containing two variables: name_x and name_y where name is the name of the variable on which the ECDF is computed.</p> <p>Parameters:</p> <ul> <li> <code>input_data</code>               (<code>Dataset</code>)           \u2013            <p>The input dataset.</p> </li> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>A prefix for the variable names in the output dataset.</p> </li> </ul> <p>Returns: A dataset containing the ECDF.</p> Source code in <code>src/vimseo/tools/statistics/statistics_tool.py</code> <pre><code>def compute_ecdf(input_data: Dataset, prefix: str = \"\") -&gt; Dataset:\n    \"\"\"Compute the empirical CDF of a dataset. The ECDF are stored in a dataset, where\n    each ECDF is in a different group containing two variables: name_x and name_y\n    where name is the name of the variable on which the ECDF is computed.\n\n    Args:\n        input_data: The input dataset.\n        prefix: A prefix for the variable names in the output dataset.\n\n    Returns: A dataset containing the ECDF.\n\n    \"\"\"\n    input_data = input_data.to_dict_of_arrays()\n    variable_names = []\n    data = []\n    variable_names_to_group_names = {}\n    for group_name, group_data in input_data.items():\n        for name in group_data:\n            x = input_data[group_name][name].flatten()\n            ecdf = ECDF(x)\n            ecdf_variable_names = [f\"{prefix}_{name}_x\", f\"{prefix}_{name}_y\"]\n            variable_names.extend(ecdf_variable_names)\n            data.extend([ecdf.x, ecdf.y])\n            variable_names_to_group_names.update({\n                ecdf_variable_names[0]: group_name,\n                ecdf_variable_names[1]: group_name,\n            })\n    return Dataset.from_array(\n        data=vstack(data).T,\n        variable_names=variable_names,\n        variable_names_to_group_names=variable_names_to_group_names,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/","title":"Surrogate","text":""},{"location":"reference/vimseo/tools/surrogate/#vimseo.tools.surrogate","title":"surrogate","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/","title":"Surrogate","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate","title":"surrogate","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool","title":"SurrogateTool","text":"<pre><code>SurrogateTool(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>An abstract analysis tool.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/surrogate/surrogate.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n    self.result = SurrogateResult()\n    self.__load_case = None\n    self._selector = None\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SurrogateResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.add_candidate","title":"add_candidate","text":"<pre><code>add_candidate(candidate: CandidateType) -&gt; None\n</code></pre> <p>Append candidate to the list of candidates Args:     candidate: new candidate to add to the current option</p> Source code in <code>src/vimseo/tools/surrogate/surrogate.py</code> <pre><code>def add_candidate(self, candidate: CandidateType) -&gt; None:\n    \"\"\"\n    Append candidate to the list of candidates\n    Args:\n        candidate: new candidate to add to the current option\n\n    \"\"\"\n    candidates = self._options[\"candidates\"]\n    candidates.update(candidate)\n    self.update_options(candidates=candidates)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.compute_selection_qualities","title":"compute_selection_qualities","text":"<pre><code>compute_selection_qualities(\n    quality_measures: Iterable[str] | None = None,\n    eval_methods: Iterable[str] | None = None,\n    eval_options: (\n        Mapping[str : (Mapping[str, Any])] | None\n    ) = None,\n) -&gt; Mapping[\n    str : (\n        Mapping[\n            str : (Mapping[str : (type(BaseMLAlgoQuality))])\n        ]\n    )\n]\n</code></pre> <p>Computes the quality measures of the candidate algorithms (selected in :meth:<code>execute</code>).</p> <p>Parameters:</p> <ul> <li> <code>quality_measures</code>               (<code>Iterable[str] | None</code>, default:                   <code>None</code> )           \u2013            <p>List of quality measures to evaluate</p> </li> <li> <code>eval_methods</code>               (<code>Iterable[str] | None</code>, default:                   <code>None</code> )           \u2013            <p>List of evaluation methods to evaluate the measure</p> </li> <li> <code>eval_options</code>               (<code>Mapping[str:(Mapping[str, Any])] | None</code>, default:                   <code>None</code> )           \u2013            <p>Dictionary of options for evaluation methods</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Mapping[str:(Mapping[str:(Mapping[str:(type(BaseMLAlgoQuality))])])]</code>           \u2013            <p>Dictionary of quality measures and their evaluations through evaluation methods for each candidate.</p> </li> </ul> Source code in <code>src/vimseo/tools/surrogate/surrogate.py</code> <pre><code>def compute_selection_qualities(\n    self,\n    quality_measures: Iterable[str] | None = None,\n    eval_methods: Iterable[str] | None = None,\n    eval_options: Mapping[str : Mapping[str, Any]] | None = None,\n) -&gt; Mapping[str : Mapping[str : Mapping[str : type(BaseMLAlgoQuality)]]]:\n    \"\"\"Computes the quality measures of the candidate algorithms (selected in\n    :meth:`execute`).\n\n    Args:\n        quality_measures: List of quality measures to evaluate\n        eval_methods: List of evaluation methods to evaluate the measure\n        eval_options: Dictionary of options for evaluation methods\n\n    Returns:\n        Dictionary of quality measures and their evaluations through evaluation\n        methods for each candidate.\n    \"\"\"\n    candidate_qualities = {}\n\n    if quality_measures:\n        self.update_options(quality_measures=quality_measures)\n    if eval_options:\n        self.update_options(evaluation_options=eval_options)\n    if eval_methods:\n        self.update_options(evaluation_methods=eval_methods)\n\n    if self._selector:\n        for candidate in self._selector.candidates:\n            cand_name = candidate[0].__class__.__name__\n            # candidate_qualities[cand_name] = {}\n            candidate_qualities[cand_name] = self.__compute_quality(candidate[0])\n            # for qual_mes in self._options[\"quality_measures\"]:\n            #     measure = self.QUALITY_FACTORY.create(qual_mes, algo=candidate[0])\n            #     candidate_qualities[cand_name][qual_mes] = {}\n            #     for eval_meth in self._options[\"evaluation_methods\"]:\n            #         candidate_qualities[cand_name][qual_mes][eval_meth] = getattr(\n            #             measure, MEASURE_EVALUTATION_METHOD_NAMES[eval_meth]\n            #         )(**self._options[\"evaluation_options\"][eval_meth])\n    else:\n        LOGGER.info(\n            \"No selection of surrogate models available. \"\n            \"Requires a run of the :meth:`!SurrogateTool.execute()` method\"\n        )\n\n    return candidate_qualities\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.execute","title":"execute","text":"<pre><code>execute(\n    inputs: SurrogateInputs | None = None,\n    settings: SurrogateSettings | None = None,\n    **options\n) -&gt; SurrogateResult\n</code></pre> <p>Builds surrogate model(s) according to the result of sampling of the original model contained in <code>dataset</code>.</p> Source code in <code>src/vimseo/tools/surrogate/surrogate.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: SurrogateInputs | None = None,\n    settings: SurrogateSettings | None = None,\n    **options,\n) -&gt; SurrogateResult:\n    \"\"\"Builds surrogate model(s) according to the result of sampling of the original\n    model contained in ``dataset``.\"\"\"\n\n    # TODO: manage dimension reduction for outputs with sizes &gt;1 by checking\n    #  dimension of outputs (from model or dataset?) and adding a transformer.\n    algo = options[\"algo\"]\n    model = options[\"model\"]\n    self.__load_case = model.load_case.name\n\n    if algo:  # no selection\n        self.result.model_name = f\"{model.name}.{self.__load_case}.{algo}\"\n        LOGGER.info(f\"Creating surrogate model: {self.result.model_name}\")\n\n        self.result.model = create_surrogate(\n            surrogate=algo,\n            data=options[\"dataset\"],\n            disc_name=self.result.model_name,\n            output_names=options[\"output_names\"],\n            **options[\"algo_options\"],\n        )\n\n    else:  # selection\n        LOGGER.info(\n            f\"Selecting best surrogate model for {model.name} and load case \"\n            f\"{self.__load_case}\"\n        )\n        eval_method = options[\"quality_for_selection\"][1]\n        self._selector = MLAlgoSelection(\n            options[\"dataset\"],\n            measure=options[\"quality_for_selection\"][0],\n            measure_evaluation_method_name=eval_method,\n            **options[\"evaluation_options\"][eval_method],\n        )\n        for candidate_name, candidate in options[\"candidates\"].items():\n            self._selector.add_candidate(\n                candidate_name, calib_algo=None, calib_space=None, **candidate\n            )\n\n        best_algo = self._selector.select()\n        self.result.model_name = (\n            f\"{model.name}.{self.__load_case}.{best_algo.__class__.__name__}\"\n        )\n        self.result.model = SurrogateDiscipline(\n            best_algo,\n            disc_name=self.result.model_name,\n            output_names=options[\"output_names\"],\n        )\n\n        self.result.selection_qualities = self.compute_selection_qualities()\n\n    self.result.qualities = self.__compute_quality(\n        self.result.model.regression_model\n    )\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: SurrogateResult,\n    output_names: Iterable[str] = (),\n    directory_path: str | Path = \"\",\n    show: bool = True,\n    save: bool = False,\n    **options\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plotting the results according to a specific plot.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SurrogateResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>output_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The names of the outputs for which cross-validation is plotted. If left to default value, all model output names are considered.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>show</code>               (<code>bool</code>, default:                   <code>True</code> )           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>save</code>               (<code>bool</code>, default:                   <code>False</code> )           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/surrogate/surrogate.py</code> <pre><code>def plot_results(\n    self,\n    result: SurrogateResult,\n    output_names: Iterable[str] = (),\n    directory_path: str | Path = \"\",\n    show: bool = True,\n    save: bool = False,\n    **options,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plotting the results according to a specific plot.\n\n    Args:\n        output_names: The names of the outputs for which cross-validation is plotted.\n            If left to default value, all model output names are considered.\n    \"\"\"\n\n    options.update({\"show\": show, \"save\": save})\n    if not output_names:\n        output_names = result.model.output_grammar.names\n\n    # TODO activate cross validation mode when available in GEMSEO.\n    # TODO add directory_path=self.working_directory when discrimination\n    #  of Dataset constructor and execute options is done.\n    viewer = MLRegressorQualityViewer(result.model.regression_model)\n\n    figures = {}\n    for output_name in output_names:\n        file_name = f\"surrogate_{result.model.name}_learning_{output_name}\"\n        figures.update({\n            file_name: viewer.plot_predictions_vs_observations(\n                output_name,\n                save=save,\n                show=show,\n                file_name=file_name,\n            ).figures[0]\n        })\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate/#vimseo.tools.surrogate.surrogate.SurrogateTool.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/","title":"Surrogate result","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result","title":"surrogate_result","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult","title":"SurrogateResult  <code>dataclass</code>","text":"<pre><code>SurrogateResult(\n    metadata: ToolResultMetadata | None = None,\n    model: SurrogateDiscipline = None,\n    model_name: str = None,\n    qualities: QualitiesType = dict(),\n    selection_qualities: Mapping[\n        str,\n        Mapping[\n            str, Mapping[str, Mapping[str, ndarray[float]]]\n        ],\n    ] = dict(),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a :class:<code>~.SurrogateTool</code>.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.model","title":"model  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>model: SurrogateDiscipline = None\n</code></pre> <p>The surrogate model.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.model_name","title":"model_name  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>model_name: str = None\n</code></pre> <p>The name of the surrogate model.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.qualities","title":"qualities  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>qualities: QualitiesType = field(default_factory=dict)\n</code></pre> <p>The quality of the surrogate model for the selected measures and evaluation methods.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.selection_qualities","title":"selection_qualities  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>selection_qualities: Mapping[\n    str,\n    Mapping[\n        str, Mapping[str, Mapping[str, ndarray[float]]]\n    ],\n] = field(default_factory=dict)\n</code></pre> <p>The qualities of the candidate surrogate models for the selected measures and evaluation methods.</p>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/surrogate/surrogate_result/#vimseo.tools.surrogate.surrogate_result.SurrogateResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/","title":"Validation","text":""},{"location":"reference/vimseo/tools/validation/#vimseo.tools.validation","title":"validation","text":""},{"location":"reference/vimseo/tools/validation/validation_point/","title":"Validation point","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point","title":"validation_point","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.NominalValuesOutputType","title":"NominalValuesOutputType","text":"<p>               Bases: <code>StrEnum</code></p> <p>The type of the nominal values returned by <code>`read_nominal_values()</code>.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint","title":"StochasticValidationPoint","text":"<pre><code>StochasticValidationPoint(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Suppose we want to validate a model ove a given validation domain.</p> <p>We define validation point as one of the points chosen to map this domain.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation/validation_point.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        subtools=[DOETool(), StatisticsTool()],\n        **options,\n    )\n\n    self._simulated_input_space = None\n    self._measured_statistic_results = None\n\n    self.result = ValidationPointResult()\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.measured_input_space","title":"measured_input_space  <code>property</code>","text":"<pre><code>measured_input_space: ParameterSpace\n</code></pre> <p>The measured input parameter space.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>The name of the validation point.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: ValidationPointResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.simulated_input_space","title":"simulated_input_space  <code>property</code>","text":"<pre><code>simulated_input_space: ParameterSpace\n</code></pre> <p>The simulated input parameter space.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.execute","title":"execute","text":"<pre><code>execute(\n    inputs: StochasticValidationPointInputs | None = None,\n    settings: (\n        StochasticValidationPointSettings | None\n    ) = None,\n    **options\n) -&gt; ValidationPointResult\n</code></pre> <p>Compute the errors between reference data and simulated data for the prescribed error measures.</p> Source code in <code>src/vimseo/tools/validation/validation_point.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: StochasticValidationPointInputs | None = None,\n    settings: StochasticValidationPointSettings | None = None,\n    **options,\n) -&gt; ValidationPointResult:\n    \"\"\"Compute the errors between reference data and simulated data for the\n    prescribed error measures.\"\"\"\n\n    measured_data = options[\"measured_data\"]\n    nominal_data = options[\"nominal_data\"]\n    uncertain_input_space = options[\"uncertain_input_space\"]\n\n    self._measured_input_names = measured_data.get_variable_names(\n        group_name=IODataset.INPUT_GROUP\n    )\n\n    model = options[\"model\"]\n    model.default_input_data.update({\n        name: atleast_1d(value)\n        for name, value in nominal_data.items()\n        if name in model.default_input_data\n    })\n\n    self.result.metadata.report[\"title\"] = (\n        f\"Validation of {model.name} {model.load_case.name}\"\n    )\n    self.result.metadata.model = model.description\n    self.result.metadata.report[\"simulated_uncertainties\"] = options[\n        \"simulated_uncertainties\"\n    ]\n    self.result.metadata.report[\"typeb_uncertainties\"] = options[\n        \"typeb_uncertainties\"\n    ]\n\n    measured_output_names = (\n        measured_data.get_variable_names(group_name=IODataset.OUTPUT_GROUP)\n        if len(options[\"output_names\"]) == 0\n        else options[\"output_names\"]\n    )\n\n    self.result.measured_data = measured_data\n    self.result.nominal_data = nominal_data\n\n    statistics_settings = deepcopy(options)\n    statistics_settings.update({\"variable_names\": self._measured_input_names})\n    statistics_settings = StatisticsTool().get_filtered_options(\n        **statistics_settings\n    )\n    self._simulated_input_space = self._build_space(\n        uncertain_input_space,\n        measured_data,\n        model=model,\n        settings=StatisticsSettings(**statistics_settings),\n    )\n\n    doe_dataset = (\n        self\n        ._subtools[\"DOETool\"]\n        .execute(\n            model=model,\n            parameter_space=self._simulated_input_space,\n            output_names=measured_output_names,\n            n_samples=options[\"n_samples\"],\n            algo=options[\"algo\"],\n            # algo_options=options[\"algo_options\"],\n        )\n        .dataset\n    )\n    for metric_name in options[\"metric_names\"]:\n        metric = MetricFactory().create(metric_name)\n        self.result.integrated_metrics[metric_name] = {}\n        for output_name in measured_output_names:\n            self.result.integrated_metrics[metric_name][output_name] = (\n                metric.compute(\n                    doe_dataset\n                    .get_view(variable_names=output_name)\n                    .to_numpy()\n                    .ravel(),\n                    measured_data\n                    .get_view(variable_names=output_name)\n                    .to_numpy()\n                    .ravel(),\n                )\n            )\n\n    self.result.simulated_data = doe_dataset\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: ValidationPointResult,\n    output_name: str,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a comparison of predicted versus measured distribution, and a Q-Q plot of them.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>ValidationPointResult</code>)           \u2013            <p>The validation point result to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation/validation_point.py</code> <pre><code>def plot_results(\n    self,\n    result: ValidationPointResult,\n    output_name: str,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a comparison of predicted versus measured distribution, and a Q-Q plot of\n    them.\n\n    Args:\n        result: The validation point result to visualize.\n        output_name: The name of the output variable to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    plot = DistributionComparison(working_directory=working_directory)\n    for comparison_type in [\"PDF\", \"CDF\"]:\n        figures[f\"{comparison_type}_comparison\"] = plot.execute(\n            result,\n            output_name,\n            comparison_type,\n            show_type_b_uncertainties=True,\n            show=show,\n            save=save,\n        ).figure\n\n    data_ref = result.measured_data.to_dict_of_arrays(by_group=False)[\n        output_name\n    ].ravel()\n    data_sim = result.simulated_data.to_dict_of_arrays(by_group=False)[\n        output_name\n    ].ravel()\n\n    fig = qqplot_2samples(\n        data_ref,\n        data_sim,\n        ylabel=\"Simulated\",\n        xlabel=\"Reference\",\n        line=\"45\",\n    )\n\n    if show:\n        plt.show()\n    if save:\n        plt.savefig(working_directory / f\"qq_plot_{output_name}.png\")\n\n    figures[\"qq_plot\"] = fig\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPoint.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPointInputs","title":"StochasticValidationPointInputs","text":"<p>               Bases: <code>BaseInputs</code></p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPointInputs-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.StochasticValidationPointInputs.measured_data","title":"measured_data  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>measured_data: Dataset | None = None\n</code></pre> <p>The dataset containing the validation test samples.</p>"},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation/validation_point/#vimseo.tools.validation.validation_point.read_nominal_values","title":"read_nominal_values","text":"<pre><code>read_nominal_values(\n    master_name: str,\n    csv_path: str | Path = \"\",\n    df: DataFrame | None = None,\n    master_value: float | None = None,\n    additional_names: Iterable[str] = (),\n    name_remapping: Mapping[str, str] | None = None,\n    delimiter: str = \";\",\n    output_type: NominalValuesOutputType = DATAFRAME,\n    variable_names_to_group_names: (\n        Mapping[str, str] | None\n    ) = None,\n    vector_names_to_group_names: (\n        Mapping[str, str] | None\n    ) = None,\n    stringified_vector_separator: str = \"_\",\n) -&gt; Mapping[str, ndarray] | DataFrame\n</code></pre> <p>Creates a dictionary of nominal values based on a reference data.</p> <p>Since several specimens are tested for a given nominal point (typically a layup), this function:   - makes unique the list of values corresponding to the <code>master_name</code> variable.   - optionally filters the data for a given value of <code>master_name</code>.   - for each <code>master_name</code> value, it reads the associated <code>additional_keys</code>     These additional_keys are made unique for each layup     by taking the mean value of all specimens associated to this <code>master_name</code>     value. Vectors are assumed to be encoded into strings, typically [0, 4, 7] =&gt; \"0_4_7\"</p> <p>Parameters:</p> <ul> <li> <code>csv_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path to the csv file.</p> </li> <li> <code>master_name</code>               (<code>str</code>)           \u2013            <p>The name of variable that will be made unique, such that only one nominal value is associated with a batch of tests.</p> </li> <li> <code>master_value</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>If set as a float, the nominal values are returned only for this value of <code>master_name</code>.</p> </li> <li> <code>additional_names</code>               (<code>Iterable[str]</code>, default:                   <code>()</code> )           \u2013            <p>The names that will be added to the nominal variables, in addition to the master_name. They are computed as the mean value of each batch values. If empty, consider all variables.</p> </li> <li> <code>name_remapping</code>               (<code>Mapping[str, str] | None</code>, default:                   <code>None</code> )           \u2013            <p>A mapping to rename the variables <code>master_name</code> and <code>additional_names</code> read in the csv file. It is useful to obtain nominal variable names compatible with a model.</p> </li> <li> <code>delimiter</code>               (<code>str</code>, default:                   <code>';'</code> )           \u2013            <p>The delimiter of the csv data.</p> </li> <li> <code>output_type</code>               (<code>NominalValuesOutputType</code>, default:                   <code>DATAFRAME</code> )           \u2013            <p>The type in which the nominal values are returned.</p> </li> <li> <code>variable_names_to_group_names</code>               (<code>Mapping[str, str] | None</code>, default:                   <code>None</code> )           \u2013            <p>A mapping between a variable name and its group name. Must be defined for each variable among {master_name, additional_names} if output_type=NominalValuesOutputType.GEMSEO_DATASET. Unused otherwise.</p> </li> <li> <code>vector_names_to_group_names</code>               (<code>Mapping[str, str] | None</code>, default:                   <code>None</code> )           \u2013            <p>a mapping between a variable name and its group name. The specified vectors, encoded as strings in the input data, are decoded as arrays of numerical values and added to the output dataset. The original encode variables are renamed with the <code>_stringified</code> suffix. Only used for output_type=NominalValuesOutputType.GEMSEO_DATASET.</p> </li> <li> <code>stringified_vector_separator</code>               (<code>str</code>, default:                   <code>'_'</code> )           \u2013            <p>The separator used in the stringified vectors in the input data, typically <code>_</code> for vectors represented as <code>\"1_4_7\"</code>.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>Mapping[str, ndarray] | DataFrame</code>           \u2013            <p>Either a Pandas.DataFrame (mono-indexed column), a GEMSEO Dataset, or a dictionary of NumPy arrays.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation/validation_point.py</code> <pre><code>def read_nominal_values(\n    master_name: str,\n    csv_path: str | Path = \"\",\n    df: DataFrame | None = None,\n    master_value: float | None = None,\n    additional_names: Iterable[str] = (),\n    name_remapping: Mapping[str, str] | None = None,\n    delimiter: str = \";\",\n    output_type: NominalValuesOutputType = NominalValuesOutputType.DATAFRAME,\n    variable_names_to_group_names: Mapping[str, str] | None = None,\n    vector_names_to_group_names: Mapping[str, str] | None = None,\n    stringified_vector_separator: str = \"_\",\n) -&gt; Mapping[str, ndarray] | DataFrame:\n    \"\"\"Creates a dictionary of nominal values based on a reference data.\n\n    Since several specimens are tested for a given nominal point (typically a layup),\n    this function:\n      - makes unique the list of values corresponding to the ``master_name`` variable.\n      - optionally filters the data for a given value of ``master_name``.\n      - for each ``master_name`` value, it reads the associated ``additional_keys``\n        These additional_keys are made unique for each layup\n        by taking the mean value of all specimens associated to this ``master_name``\n        value.\n    Vectors are assumed to be encoded into strings, typically [0, 4, 7] =&gt; \"0_4_7\"\n\n    Args:\n        csv_path: The path to the csv file.\n        master_name: The name of variable that will be made unique,\n            such that only one nominal value is associated with a batch of\n            tests.\n        master_value: If set as a float, the nominal values are returned only for this\n            value of ``master_name``.\n        additional_names: The names that will be added to the nominal variables,\n            in addition to the master_name. They are computed as the mean\n            value of each batch values. If empty, consider all variables.\n        name_remapping: A mapping to rename the variables\n            ``master_name`` and ``additional_names`` read in the csv file.\n            It is useful to obtain nominal variable names compatible with a model.\n        delimiter: The delimiter of the csv data.\n        output_type: The type in which the nominal values are returned.\n        variable_names_to_group_names: A mapping between a variable name and\n            its group name. Must be defined for each variable among\n            {master_name, additional_names}\n            if output_type=NominalValuesOutputType.GEMSEO_DATASET.\n            Unused otherwise.\n        vector_names_to_group_names: a mapping between a variable name and its\n            group name. The specified vectors, encoded as strings in the input data,\n            are decoded as arrays of numerical values and added to the output dataset.\n            The original encode variables are renamed with the ``_stringified`` suffix.\n            Only used for output_type=NominalValuesOutputType.GEMSEO_DATASET.\n        stringified_vector_separator: The separator used in the stringified vectors\n            in the input data, typically ``_`` for vectors represented as\n            ``\"1_4_7\"``.\n\n    Returns:\n        Either a Pandas.DataFrame (mono-indexed column), a GEMSEO Dataset,\n        or a dictionary of NumPy arrays.\n    \"\"\"\n\n    if csv_path:\n        df = read_csv(\n            csv_path,\n            delimiter=delimiter,\n        )\n\n    if name_remapping is None:\n        name_remapping = {}\n\n    if len(additional_names) == 0:\n        additional_names = df.columns.tolist()\n        additional_names.remove(master_name)\n\n    if master_value:\n        df = df[df[master_name] == master_value]\n\n    nominal_values = defaultdict(list)\n    nominal_values[master_name] = df[master_name].unique()\n\n    for val_of_key in nominal_values[master_name]:\n        filtered_df = df[df[master_name] == val_of_key]\n        for additional_key in additional_names:\n            nominal_values[additional_key].append(mean(filtered_df[additional_key]))\n    for additional_key in additional_names:\n        nominal_values[additional_key] = array(nominal_values[additional_key])\n\n    if output_type == NominalValuesOutputType.GEMSEO_DATASET:\n        for name in [*additional_names, master_name]:\n            if name in name_remapping:\n                name_remapping[name] = (\n                    f\"{name_remapping[name]}[{variable_names_to_group_names[name]}][0]\"\n                )\n            else:\n                name_remapping[name] = (\n                    f\"{name}[{variable_names_to_group_names[name]}][0]\"\n                )\n    if name_remapping:\n        for name, new_name in name_remapping.items():\n            if name in nominal_values:\n                nominal_values.update({new_name: nominal_values[name]})\n                del nominal_values[name]\n\n    if output_type == NominalValuesOutputType.DICTIONARY:\n        return nominal_values\n    if output_type == NominalValuesOutputType.DATAFRAME:\n        return DataFrame.from_dict(nominal_values)\n    if output_type == NominalValuesOutputType.GEMSEO_DATASET:\n        ds = dataframe_to_dataset(DataFrame.from_dict(nominal_values))\n        if vector_names_to_group_names is not None:\n            return decode_stringified_vectors(\n                ds, vector_names_to_group_names, stringified_vector_separator\n            )\n        return ds\n    msg = f\"Invalid output type: {output_type}.\"\n    raise ValueError(msg)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point_reference/","title":"Validation point reference","text":""},{"location":"reference/vimseo/tools/validation/validation_point_reference/#vimseo.tools.validation.validation_point_reference","title":"validation_point_reference","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/","title":"Validation point result","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result","title":"validation_point_result","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult","title":"ValidationPointResult  <code>dataclass</code>","text":"<pre><code>ValidationPointResult(\n    metadata: ToolResultMetadata | None = None,\n    nominal_data: (\n        Mapping[str, float | int | ndarray] | None\n    ) = None,\n    measured_data: Dataset | None = None,\n    simulated_data: Dataset | None = None,\n    sample_to_sample_error: Dataset | None = None,\n    integrated_metrics: Mapping[\n        str, Mapping[str, float]\n    ] = dict(),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a validation point.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.integrated_metrics","title":"integrated_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>integrated_metrics: Mapping[str, Mapping[str, float]] = (\n    field(default_factory=dict)\n)\n</code></pre> <p>A dictionary mapping variable names and metric names to integrated metric values.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.measured_data","title":"measured_data  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>measured_data: Dataset | None = None\n</code></pre> <p>The dataset containing the reference measured data.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.sample_to_sample_error","title":"sample_to_sample_error  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>sample_to_sample_error: Dataset | None = None\n</code></pre> <p>The dataset containing the sample to sample errors.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.simulated_data","title":"simulated_data  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>simulated_data: Dataset | None = None\n</code></pre> <p>The dataset containing simulated results.</p>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/validation_point_result/#vimseo.tools.validation.validation_point_result.ValidationPointResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/validation/test_data/","title":"Test data","text":""},{"location":"reference/vimseo/tools/validation/test_data/#vimseo.tools.validation.test_data","title":"test_data","text":""},{"location":"reference/vimseo/tools/validation_case/","title":"Validation case","text":""},{"location":"reference/vimseo/tools/validation_case/#vimseo.tools.validation_case","title":"validation_case","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/","title":"Validation case","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case","title":"validation_case","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase","title":"DeterministicValidationCase","text":"<pre><code>DeterministicValidationCase(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n    **options\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Suppose we want to validate a model ove a given validation domain.</p> <p>We define validation point as one of the points chosen to map this domain.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>**options</code>           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation_case/validation_case.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n    **options,\n):\n    \"\"\"\n    Args:\n        reference_data: The reference data against which the simulated data are\n        compared.\n        metric_names: the names of the :class:`.BaseMetric` used to compute\n        the validation errors.\n    \"\"\"\n    super().__init__(\n        subtools=[CustomDOETool()],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n        **options,\n    )\n\n    self.result = DeterministicValidationCaseResult()\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.name","title":"name  <code>instance-attribute</code>","text":"<pre><code>name: str\n</code></pre> <p>The name of the validation point.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: DeterministicValidationCaseResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.execute","title":"execute","text":"<pre><code>execute(\n    inputs: DeterministicValidationCaseInputs | None = None,\n    settings: (\n        DeterministicValidationCaseSettings | None\n    ) = None,\n    **options\n) -&gt; DeterministicValidationCaseResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation_case/validation_case.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: DeterministicValidationCaseInputs | None = None,\n    settings: DeterministicValidationCaseSettings | None = None,\n    **options,\n) -&gt; DeterministicValidationCaseResult:\n\n    model = options[\"model\"]\n    reference_data = options[\"reference_data\"]\n\n    self.result.metadata.model = model.description\n    self.result.metadata.report[\"title\"] = (\n        f\"Validation of {model.name} {model.load_case.name}\"\n    )\n\n    input_names = (\n        reference_data.get_variable_names(group_name=IODataset.INPUT_GROUP)\n        if len(options[\"input_names\"]) == 0\n        else options[\"input_names\"]\n    )\n\n    all_input_data = reference_data.to_dict_of_arrays(by_group=True)[\n        IODataset.INPUT_GROUP\n    ]\n\n    output_names = (\n        [\n            name\n            for name in model.get_output_data_names()\n            if name not in [k.name for k in MetaDataNames]\n        ]\n        if not options[\"output_names\"]\n        else options[\"output_names\"]\n    )\n\n    self.__orig_cache_path = Path(model._cache_file_path)\n\n    all_output_data = []\n    for i in range(len(reference_data)):\n        input_data = {\n            k: v[i][~isnan(v[i])]\n            for k, v in all_input_data.items()\n            if k in input_names\n        }\n\n        vector_names = [name for name, data in input_data.items() if len(data) &gt; 1]\n        suffix = \"\".join([\n            f\"{name}_{encode_vector(input_data[name])}__\" for name in vector_names\n        ])\n        suffix = suffix[:-2]\n        new_cache_path = (\n            f\"{str(self.__orig_cache_path).split(self.__orig_cache_path.suffix)[0]}_\"\n            f\"{suffix}{self.__orig_cache_path.suffix}\"\n        )\n        model.reset_cache(new_cache_path)\n\n        all_output_data.append({\n            k: v for k, v in model.execute(input_data).items() if k in output_names\n        })\n\n    data = [\n        hstack([atleast_1d(v) for v in output_data.values()])\n        for output_data in all_output_data\n    ]\n\n    # only works for numerical outputs. If a string is considered, data is entirely\n    # converted to string\n    # TODO check that the outputs are numerical\n    doe_dataset = IODataset.from_array(\n        data=vstack(data),\n        variable_names=list(all_output_data[0].keys()),\n        variable_names_to_group_names=dict.fromkeys(\n            list(all_output_data[0].keys()), IODataset.OUTPUT_GROUP\n        ),\n        variable_names_to_n_components={\n            k: len(atleast_1d(v)) for k, v in all_output_data[0].items()\n        },\n    )\n\n    error_dataset = Dataset()\n    error_dataset.add_group(\n        group_name=IODataset.INPUT_GROUP,\n        data=reference_data.get_view(\n            variable_names=input_names, group_names=IODataset.INPUT_GROUP\n        ).to_numpy(),\n        variable_names=input_names,\n        variable_names_to_n_components=reference_data.variable_names_to_n_components,\n    )\n    # Each metric is applied to all output_names\n    self.result.integrated_metrics = defaultdict(dict)\n    for metric_name in options[\"metric_names\"]:\n        metric = MetricFactory().create(metric_name)\n        dm = DatasetMetric(\n            metric,\n            variable_names=output_names,\n        )\n        error_ds = dm.compute(doe_dataset, reference_data)\n        error_dataset.add_group(\n            group_name=metric_name,\n            variable_names=output_names,\n            data=error_ds.get_view().to_numpy(),\n            variable_names_to_n_components=error_ds.group_names_to_n_components,\n        )\n        for output_name in output_names:\n            dm = DatasetMetric(\n                metric,\n                variable_names=output_name,\n            )\n            mean_metric = MetricFactory().create(\"MeanMetric\", dm)\n            self.result.integrated_metrics[metric_name][output_name] = (\n                mean_metric.compute(\n                    doe_dataset,\n                    reference_data,\n                )\n            )\n\n    error_dataset.add_group(\n        group_name=IODataset.OUTPUT_GROUP,\n        data=doe_dataset.get_view(\n            variable_names=output_names,\n            group_names=IODataset.OUTPUT_GROUP,\n        ).to_numpy(),\n        variable_names=output_names,\n        variable_names_to_n_components=doe_dataset.variable_names_to_n_components,\n    )\n\n    error_dataset.add_group(\n        group_name=\"Reference\",\n        data=reference_data.get_view(\n            variable_names=output_names,\n            group_names=IODataset.OUTPUT_GROUP,\n        ).to_numpy(),\n        variable_names=output_names,\n        variable_names_to_n_components=reference_data.variable_names_to_n_components,\n    )\n\n    self.result.element_wise_metrics = error_dataset\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: DeterministicValidationCaseResult,\n    metric_name: str,\n    output_name: str,\n    input_names: Sequence[str] = (),\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    threshold=None,\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a line plot of simulated versus reference results, and a bar plot of metrics values.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>DeterministicValidationCaseResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>metric_name</code>               (<code>str</code>)           \u2013            <p>The name of the error metric to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>input_names</code>               (<code>Sequence[str]</code>, default:                   <code>()</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>threshold</code>           \u2013            <p>The threshold used a mid-point for the parallel coordinates plot color bar.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation_case/validation_case.py</code> <pre><code>def plot_results(\n    self,\n    result: DeterministicValidationCaseResult,\n    metric_name: str,\n    output_name: str,\n    input_names: Sequence[str] = (),\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    threshold=None,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a line plot of simulated versus reference results, and a bar plot of\n    metrics values.\n\n    Args:\n        metric_name: The name of the error metric to visualize.\n        output_name: The name of the output variable to visualize.\n        threshold: The threshold used a mid-point for the parallel coordinates plot\n            color bar.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figs = {}\n\n    variable_names = [] if not input_names else [*input_names, output_name]\n    df = result.element_wise_metrics.get_view(\n        group_names=[IODataset.INPUT_GROUP, metric_name],\n        variable_names=variable_names,\n    ).copy()\n    df.columns = df.get_columns(as_tuple=False)\n\n    figs[\"parallel_coordinates\"] = (\n        ParallelCoordinates(working_directory=working_directory)\n        .execute(\n            df,\n            metric_name,\n            output_name,\n            save=save,\n            show=show,\n            threshold=threshold,\n        )\n        .figure\n    )\n\n    # Weird inteface: the following plots expect variable names with group suffixes.\n    # TODO: document the expected name convention of the dataframe columns.\n    df = dataset_to_dataframe(\n        result.element_wise_metrics,\n        variable_names=variable_names,\n        suffix_by_group=True,\n    )\n\n    figs[\"error_scatter_matrix\"] = (\n        ErrorScatterMatrix(working_directory=working_directory)\n        .execute(\n            df,\n            metric_name,\n            output_name,\n            save=save,\n            show=show,\n        )\n        .figure\n    )\n\n    figs[\"predict_vs_true\"] = (\n        PredictVsTrue(working_directory=working_directory)\n        .execute(\n            df,\n            metric_name,\n            output_name,\n            save=save,\n            show=show,\n        )\n        .figure\n    )\n\n    figs[\"integrated_metric_bars\"] = (\n        IntegratedMetricBars(working_directory=working_directory)\n        .execute(\n            result.integrated_metrics,\n            metric_name,\n            save=save,\n            show=show,\n        )\n        .figure\n    )\n\n    return figs\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCase.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCaseInputs","title":"DeterministicValidationCaseInputs","text":"<p>               Bases: <code>BaseInputs</code></p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCaseInputs-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case.DeterministicValidationCaseInputs.reference_data","title":"reference_data  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>reference_data: IODataset | None = None\n</code></pre> <p>The dataset containing the validation test samples.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case/#vimseo.tools.validation_case.validation_case-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/","title":"Validation case result","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result","title":"validation_case_result","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult","title":"DeterministicValidationCaseResult  <code>dataclass</code>","text":"<pre><code>DeterministicValidationCaseResult(\n    metadata: ToolResultMetadata | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a deterministic validation.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult.integrated_metrics","title":"integrated_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>integrated_metrics: (\n    Mapping[str, Mapping[str, float]] | None\n) = None\n</code></pre> <p>A dictionary mapping variable names and metric names to integrated metric values corresponding the each validation point (i.e. each sample of the reference data).</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.DeterministicValidationCaseResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult","title":"StochasticValidationCaseResult  <code>dataclass</code>","text":"<pre><code>StochasticValidationCaseResult(\n    metadata: ToolResultMetadata | None = None,\n    validation_point_results: Iterable[\n        ValidationPointResult\n    ] = (),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a validation case.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult.validation_point_results","title":"validation_point_results  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>validation_point_results: Iterable[\n    ValidationPointResult\n] = ()\n</code></pre> <p>A list of validation point results.</p>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult.to_dataframe","title":"to_dataframe","text":"<pre><code>to_dataframe(metric_name: str)\n</code></pre> <p>Return a <code>Pandas.DataFrame</code> containing on each row the nominal inputs and the integrated metrics as outputs of each <code>ValidationPointResult</code>.</p> <p>Parameters:</p> <ul> <li> <code>metric_name</code>               (<code>str</code>)           \u2013            <p>The name of the metric to export.</p> </li> </ul> Source code in <code>src/vimseo/tools/validation_case/validation_case_result.py</code> <pre><code>def to_dataframe(self, metric_name: str):\n    \"\"\"Return a ``Pandas.DataFrame`` containing on each row the nominal inputs and\n    the integrated metrics as outputs of each ``ValidationPointResult``.\n\n    Args:\n        metric_name: The name of the metric to export.\n    \"\"\"\n    data = defaultdict(list)\n    for result in self.validation_point_results:\n        for name, value in result.nominal_data.items():\n            # data is then converted to dataframe.\n            # arrays are stringified because they could be of different lengths\n            if isinstance(value, ndarray) and value.size &gt; 1:\n                value = str(value)\n            data[name].append(value)\n        for name, value in result.integrated_metrics[metric_name].items():\n            data[f\"{metric_name}[{name}]\"].append(value)\n    return DataFrame.from_dict(data)\n</code></pre>"},{"location":"reference/vimseo/tools/validation_case/validation_case_result/#vimseo.tools.validation_case.validation_case_result.StochasticValidationCaseResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/","title":"Verification","text":""},{"location":"reference/vimseo/tools/verification/#vimseo.tools.verification","title":"verification","text":"<p>A collection of tools to verify the results of a model against data or another model.</p> <p>For a Finite-Element model, the convergence can also be assessed.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/","title":"Base verification","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification","title":"base_verification","text":"<p>A base class to verify a model.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification","title":"BaseVerification","text":"<pre><code>BaseVerification(\n    subtools,\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>A base class to implement code verification.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>subtools</code>           \u2013            <p>The description is missing.</p> </li> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def __init__(\n    self,\n    subtools,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        subtools=subtools,\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n    self._output_names = []\n    self.result = VerificationResult()\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.metric_names","title":"metric_names  <code>instance-attribute</code>","text":"<pre><code>metric_names: Iterable[str]\n</code></pre> <p>The name of the metrics used to compute the error between predictions and references.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: VerificationResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.execute","title":"execute  <code>abstractmethod</code>","text":"<pre><code>execute(*args, **options)\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@abstractmethod\ndef execute(self, *args, **options):\n    \"\"\"The user-defined treatment called by :meth:`execute`.\n\n    Args:\n        options: The options of the execution.\n    \"\"\"\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.get_extended_output_names","title":"get_extended_output_names","text":"<pre><code>get_extended_output_names()\n</code></pre> <p>Adds the CPU_TIME metadata variable name to the output names.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def get_extended_output_names(self):\n    \"\"\"Adds the CPU_TIME metadata variable name to the output names.\"\"\"\n    return (\n        [*self._output_names, MetaDataNames.cpu_time]\n        if [MetaDataNames.cpu_time] not in self._output_names\n        else self._output_names\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a line plot of simulated versus reference results, and a bar plot of metrics values.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>VerificationResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>metric_name</code>           \u2013            <p>The name of the metric to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def plot_results(\n    self,\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a line plot of simulated versus reference results, and a bar plot of\n    metrics values.\n\n    Args:\n        metric_name: The name of the metric to visualize.\n        output_name: The name of the output variable to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    if metric_name:\n        ds = prepare_overall_dataset(\n            result,\n            [metric_name],\n            result.simulation_and_reference.get_variable_names(\n                IODataset.OUTPUT_GROUP\n            ),\n            renamer=comparison_renaming,\n            add_output_data=True,\n        )\n    else:\n        ds = result.element_wise_metrics\n\n    if get_nb_input_variables(result.element_wise_metrics) &gt; 1:\n        scatter_matrix = ScatterMatrix(\n            ds,\n            variable_names=result.element_wise_metrics.get_variable_names(\n                group_name=IODataset.INPUT_GROUP\n            ),\n            kde=False,\n        )\n        fig = scatter_matrix.execute(\n            save=save,\n            show=show,\n            file_format=\"png\",\n            directory_path=(\n                self.working_directory\n                if directory_path == \"\"\n                else Path(directory_path)\n            ),\n            file_name=\"scatter_matrix\",\n        )[0]\n        figures[\"input_scatter_matrix\"] = fig\n\n    histogram = ErrorMetricHistogram()\n    histogram.working_directory = (\n        working_directory if directory_path == \"\" else Path(directory_path)\n    )\n    histogram.execute(\n        result.element_wise_metrics, metric_name, output_name, show=show, save=save\n    )\n    figures[\"error_metric_histogram\"] = histogram.result.figure\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.BaseVerification.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.check_output_names","title":"check_output_names","text":"<pre><code>check_output_names(output_names, model) -&gt; None\n</code></pre> <p>Check that the output names to verify are included in the model output names. Otherwise, the merror metrics cannot be computed on all the output names.</p> <p>Parameters:</p> <ul> <li> <code>output_names</code>           \u2013            <p>The output names to verify.</p> </li> <li> <code>model</code>           \u2013            <p>The model to verify.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def check_output_names(output_names, model) -&gt; None:\n    \"\"\"Check that the output names to verify are included in the model output names.\n    Otherwise, the merror metrics cannot be computed on all the output names.\n\n    Args:\n        output_names: The output names to verify.\n        model: The model to verify.\n\n    Raises:\n        ValueError if ``output_names`` is not included in the model output names.\n    \"\"\"\n    if not set(output_names).issubset(model.output_grammar.names):\n        raise ValueError(\n            msg=f\"The outputs to verify {output_names} are not contained in the\"\n            f\"model {model.name} outputs, which are {model.output_grammar.names}\"\n        )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.comparison_renaming","title":"comparison_renaming","text":"<pre><code>comparison_renaming(name, prefix='')\n</code></pre> <p>Rename an output variable of a code verification.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def comparison_renaming(name, prefix=\"\"):\n    \"\"\"Rename an output variable of a code verification.\"\"\"\n    return f\"{prefix}[{name}]\"\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.convergence_renaming","title":"convergence_renaming","text":"<pre><code>convergence_renaming(name)\n</code></pre> <p>Rename an output variable of a convergence verification.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def convergence_renaming(name):\n    \"\"\"Rename an output variable of a convergence verification.\"\"\"\n    return f\"|{name}-extrapol|\"\n</code></pre>"},{"location":"reference/vimseo/tools/verification/base_verification/#vimseo.tools.verification.base_verification.prepare_overall_dataset","title":"prepare_overall_dataset","text":"<pre><code>prepare_overall_dataset(\n    result,\n    metric_names,\n    output_names,\n    renamer=None,\n    add_output_data=True,\n)\n</code></pre> <p>Prepare the final dataset used in the dashboard.</p> <p>Parameters:</p> <ul> <li> <code>result</code>           \u2013            <p>A verification result.</p> </li> <li> <code>metric_names</code>           \u2013            <p>The names of the selected metrics.</p> </li> <li> <code>output_names</code>           \u2013            <p>The names of the selected output variables.</p> </li> <li> <code>renamer</code>           \u2013            <p>A function to rename output variable names to more expressive names and</p> </li> <li> <code>add_output_data</code>           \u2013            <p>Whether to add the output variables to the error metrics in</p> </li> </ul> <p>Returns: A dataset containing the inpout variables, the selected metrics with unique variable names, and possibly the raw output variables.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def prepare_overall_dataset(\n    result, metric_names, output_names, renamer=None, add_output_data=True\n):\n    \"\"\"Prepare the final dataset used in the dashboard.\n\n    Args:\n        result: A verification result.\n        metric_names: The names of the selected metrics.\n        output_names: The names of the selected output variables.\n        renamer: A function to rename output variable names to more expressive names and\n        also to ensure that the variable names of the final dataset are unique\n        (useful to further convert this dataset to mono-index dataframe).\n        add_output_data: Whether to add the output variables to the error metrics in\n        the final dataset.\n\n    Returns: A dataset containing the inpout variables, the selected metrics with\n    unique variable names, and possibly the raw output variables.\n    \"\"\"\n    # Rename element-wise metrics to ensure variable names are unique.\n    group_names = [IODataset.INPUT_GROUP]\n    group_names.extend(metric_names)\n    overall_dataset = result.element_wise_metrics.get_view(\n        group_names=group_names\n    ).copy()\n    if renamer:\n        for metric_name in metric_names:\n            for name in overall_dataset.get_variable_names(group_name=metric_name):\n                new_name = renamer(name, metric_name)\n                overall_dataset.rename_variable(name, new_name, group_name=metric_name)\n\n    # Drop unused outputs from the metric group\n    for metric_name in metric_names:\n        for output_name in overall_dataset.get_variable_names(group_name=metric_name):\n            if output_name not in [renamer(name, metric_name) for name in output_names]:\n                overall_dataset.drop(output_name, axis=1, level=1, inplace=True)\n\n    if add_output_data:\n        variable_names = output_names\n        name_to_value = {\n            name: result.simulation_and_reference\n            .get_view(group_names=IODataset.OUTPUT_GROUP, variable_names=name)\n            .to_numpy()\n            .T\n            for name in variable_names\n        }\n        overall_dataset.add_group(\n            IODataset.OUTPUT_GROUP,\n            data=vstack([name_to_value[name] for name in variable_names]).T,\n            variable_names=variable_names,\n            variable_names_to_n_components={\n                name: name_to_value[name].shape[0] for name in variable_names\n            },\n        )\n\n    return overall_dataset\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/","title":"Solution verification","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification","title":"solution_verification","text":"<p>A tool to perform solution verification by estimating the discretization error.</p> <p>Notation and uncertainty intervals are taken from https://asmedigitalcollection.asme.org/verification/article/7/3/031005/1146443/Confidence-Intervals-for-Richardson-Extrapolation</p> <p>Meshes \\(M_1\\), \\(M_2\\), \\(M_3\\) are progressively refined meshes starting from a baseline mesh \\(M_0\\). We define a relative element size, that is the element size divided by the largest one: \\(\\gamma = \\frac{h(x)}{h_0(x)} &lt; 1\\) Note that \\(\\gamma\\) is independent on the location \\(x\\) since all mesh elements are assumed to be scaled by the same ratio for all x locations.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification--the-relative-discretization-error-rde","title":"The Relative Discretization Error (RDE)","text":"<p>From https://www.sciencedirect.com/science/article/abs/pii/S0021999104004619,</p> <p>.. math::</p> <p>RDE_3 = \\frac{q_{\\gamma_3} - q_{exact}}{q_{exact}} = \\frac{q_{\\gamma_2} -   q_{\\gamma_1}}{q_{exact} ({\\gamma}^{\\beta} - 1)}</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification--richardson-extrapolation","title":"Richardson extrapolation","text":"<p>Considering \\(\\gamma\\) is a continuous variable, the true error on the simulation result \\(q\\) can be expanded in \\(\\gamma\\):</p> <p>.. math::</p> <p>E_q(\\gamma) = q_{exact} - q_{\\gamma} \\approx C {\\gamma}^{\\beta}</p> <p>Then \\(\\beta\\) can be obtained from the non-linear equation:</p> <p>.. math::</p> <p>\\frac{E_{q,1}}{-{{\\gamma}2}^{\\beta} + {{\\gamma}_1}^{\\beta}}   = \\frac{E}}{-{{\\gamma}_3}^{\\beta} + {{\\gamma}_2}^{\\beta}</p> <p>with \\(E_{q,{\\gamma}_j} = q_{{\\gamma}_{j+1}} - q_{{\\gamma}_{j}}\\).</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification--grid-convergence-index","title":"Grid Convergence Index","text":"<p>.. math::</p> <p>GCI = F_s \\frac{q_{\\gamma_{i+1}} - q_{\\gamma_i}}{q_{\\gamma_{i+1}}} \\frac{1}{(\\gamma_i /   \\gamma_{i+1})^{\\beta} - 1}</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.Analysis","title":"Analysis","text":"<p>               Bases: <code>StrEnum</code></p> <p>The convergence analysis.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.Analysis-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.Analysis.ELEMENT_SIZE","title":"ELEMENT_SIZE  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>ELEMENT_SIZE = 'ELEMENT_SIZE'\n</code></pre> <p>A convergence analysis versus the element size.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.Analysis.N_DOF","title":"N_DOF  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>N_DOF = 'N_DOF'\n</code></pre> <p>A convergence analysis versus the inverse of the number of degrees of freedom of the mesh.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification","title":"DiscretizationSolutionVerification","text":"<pre><code>DiscretizationSolutionVerification(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseVerification</code></p> <p>Assess discretization error of a model (solution verification).</p> <p>Analysis is based on model convergence along an element size parameter.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        subtools=[CustomDOETool()],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n    self.result = SolutionVerificationResult()\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.metric_names","title":"metric_names  <code>instance-attribute</code>","text":"<pre><code>metric_names: Iterable[str]\n</code></pre> <p>The name of the metrics used to compute the error between predictions and references.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SolutionVerificationResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.execute","title":"execute","text":"<pre><code>execute(\n    inputs: SolutionVerificationInputs | None = None,\n    settings: SolutionVerificationSettings | None = None,\n    **options\n) -&gt; SolutionVerificationResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: SolutionVerificationInputs | None = None,\n    settings: SolutionVerificationSettings | None = None,\n    **options,\n) -&gt; SolutionVerificationResult:\n\n    output_name = options[\"output_name\"]\n    model = options[\"model\"]\n    element_size_variable_name = options[\"element_size_variable_name\"]\n\n    self.result._fill_metadata(\n        options[\"description\"], options[\"model\"].description if model else \"\"\n    )\n    self._output_names = [output_name]\n\n    abscissa_name = (\n        element_size_variable_name\n        if options[\"abscissa_name\"] == \"\"\n        else options[\"abscissa_name\"]\n    )\n    self.result.metadata.misc[\"element_size_variable_name\"] = f\"{abscissa_name}\"\n\n    if options[\"simulated_data\"] is None:\n        element_size_ratio = options[\"element_size_ratio\"]\n        if element_size_ratio is not None:\n            dx_0 = model.default_input_data[element_size_variable_name]\n            element_size_values = dx_0 * array([\n                element_size_ratio,\n                1.0,\n                element_size_ratio ** (-1),\n                element_size_ratio ** (-2),\n            ])\n        else:\n            element_size_values = array(options[\"element_size_values\"])\n\n        input_dataset = Dataset.from_array(\n            data=element_size_values,\n            variable_names=[element_size_variable_name],\n            variable_names_to_group_names={\n                element_size_variable_name: IODataset.INPUT_GROUP\n            },\n        )\n        doe_tool = self._subtools[\"CustomDOETool\"]\n        metadata_variables_except_cpu_time = [\n            var\n            for var in model.get_metadata_names()\n            if var != MetaDataNames.cpu_time\n        ]\n        if len(options[\"observed_output_names\"]) &gt; 0:\n            output_names = options[\"observed_output_names\"] + [\n                output_name,\n                MetaDataNames.cpu_time,\n            ]\n        else:\n            output_names = [\n                name\n                for name in model.get_output_data_names()\n                if name not in metadata_variables_except_cpu_time\n            ]\n        doe_dataset = doe_tool.execute(\n            model=model,\n            input_dataset=input_dataset,\n            output_names=output_names,\n        ).dataset\n        nb_meshes = self.__NB_MESHES\n    else:\n        doe_dataset = (\n            options[\"simulated_data\"]\n            if isinstance(options[\"simulated_data\"], Dataset)\n            else Dataset.from_dataframe(options[\"simulated_data\"])\n        )\n        element_size_values = (\n            doe_dataset.get_view(variable_names=abscissa_name).to_numpy().ravel()\n        )\n        nb_meshes = len(element_size_values)\n\n    h = doe_dataset.get_view(variable_names=abscissa_name).to_numpy().ravel()\n    q = doe_dataset.get_view(variable_names=output_name).to_numpy().ravel()\n    if options[\"analysis\"] == Analysis.N_DOF:\n        h = h[0] / h\n\n    resampler = cross_validation.CrossValidation(\n        arange(nb_meshes), n_folds=nb_meshes\n    )\n    # \"fold_0\" corresponds to the fold of the three finest meshes.\n    cross_validation_result = {}\n    for s in resampler.splits:\n        # Example: \"fold_0\" uses the three finest grids [1, 2, 3].\n        key = f\"fold_{s.test[0]}\"\n        h_fold = h[s.train]\n        q_fold = q[s.train]\n        cross_validation_result[key] = {}\n        cross_validation_result[key][\"h\"] = h_fold\n        beta, q_extrap = compute_richardson(h_fold, q_fold)\n        cross_validation_result[key][\"beta\"] = beta\n        cross_validation_result[key][\"q\"] = q_fold\n        cross_validation_result[key][\"q_extrap\"] = q_extrap\n\n    q_extrap_array = array([\n        cross_validation_result[key][\"q_extrap\"] for key in cross_validation_result\n    ])\n    # q[-1] is the solution on the finest grid.\n    q_extrap_final, q_extrap_mad = compute_median(\n        q_extrap_array, cross_validation_result[\"fold_0\"][\"q_extrap\"]\n    )\n\n    beta_extrap_array = array([\n        cross_validation_result[key][\"beta\"] for key in cross_validation_result\n    ])\n    beta_extrap_final, beta_extrap_mad = compute_median(\n        beta_extrap_array, cross_validation_result[\"fold_0\"][\"beta\"]\n    )\n    gci_fine, gci_fine_error_band = compute_gci(\n        self.__FS, h, q, beta_extrap_final, nb_meshes - 2\n    )\n    gci_fine_1, gci_fine_1_error_band = compute_gci(\n        self.__FS, h, q, 1, nb_meshes - 2\n    )\n    gci_fine_2, gci_fine_2_error_band = compute_gci(\n        self.__FS, h, q, 2, nb_meshes - 2\n    )\n    gci_coarse, gci_coarse_error_band = compute_gci(\n        self.__FS, h, q, beta_extrap_final, 0\n    )\n    gci_coarse_1, gci_coarse_1_error_band = compute_gci(self.__FS, h, q, 1, 0)\n    gci_coarse_2, gci_coarse_2_error_band = compute_gci(self.__FS, h, q, 2, 0)\n    extrapolation_result = {\n        \"beta\": beta_extrap_final,\n        \"beta_mad\": beta_extrap_mad,\n        \"q_extrap\": q_extrap_final,\n        \"q_extrap_mad\": q_extrap_mad,\n        # GCI, from the two coarsest grids, and from the two finest.\n        \"gci\": [gci_coarse, gci_fine],\n        \"gci_error_band\": [gci_coarse_error_band, gci_fine_error_band],\n        \"gci_1\": [gci_coarse_1, gci_fine_1],\n        \"gci_1_error_band\": [gci_coarse_1_error_band, gci_fine_1_error_band],\n        \"gci_2\": [gci_coarse_2, gci_fine_2],\n        \"gci_2_error_band\": [gci_coarse_2_error_band, gci_fine_2_error_band],\n        # Relative Discretization Error (Roy 2004), from coarse to fine grid.\n        \"rde\": [\n            compute_rde(self.__FS, h, q, q_extrap_final, beta, i)[0]\n            for i in range(nb_meshes - 1)\n        ][::-1],\n        # RDE-based error band for the two coarsest grids.\n        \"rde_error_band\": compute_rde(\n            self.__FS, h, q, q_extrap_final, beta, nb_meshes - 2\n        )[1],\n    }\n\n    # Create a ref dataset containing q_extrap\n    reference_data = Dataset.from_array(\n        data=vstack([\n            element_size_values,\n            full((nb_meshes), q_extrap_final),\n        ]).T,\n        variable_names=[\n            abscissa_name,\n            output_name,\n        ],\n        variable_names_to_group_names={\n            abscissa_name: IODataset.INPUT_GROUP,\n            output_name: IODataset.OUTPUT_GROUP,\n        },\n    )\n    simulation_dataset = doe_dataset\n    element_wise_metrics, integrated_metrics = self._compute_comparison(\n        reference_data, simulation_dataset\n    )\n\n    simulation_and_reference, element_wise_metrics = self._post(\n        simulation_dataset, reference_data, element_wise_metrics\n    )\n    if abscissa_name not in element_wise_metrics.get_variable_names(\n        group_name=IODataset.INPUT_GROUP\n    ):\n        if options[\"analysis\"] == Analysis.N_DOF:\n            abscissa_name = self._DOF_ABSCISSA_NAME\n        else:\n            abscissa_name = f\"Abscissa[{abscissa_name}]\"\n        element_wise_metrics.add_variable(\n            variable_name=abscissa_name,\n            data=h,\n            group_name=IODataset.INPUT_GROUP,\n        )\n\n    self.result.simulation_and_reference = simulation_and_reference\n    self.result.element_wise_metrics = element_wise_metrics\n    self.result.integrated_metrics = integrated_metrics\n    self.result.extrapolation = extrapolation_result\n    self.result.cross_validation = cross_validation_result\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.get_extended_output_names","title":"get_extended_output_names","text":"<pre><code>get_extended_output_names()\n</code></pre> <p>Adds the CPU_TIME metadata variable name to the output names.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def get_extended_output_names(self):\n    \"\"\"Adds the CPU_TIME metadata variable name to the output names.\"\"\"\n    return (\n        [*self._output_names, MetaDataNames.cpu_time]\n        if [MetaDataNames.cpu_time] not in self._output_names\n        else self._output_names\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: SolutionVerificationResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Superpose on a line plot the simulated output versus the element size, for all the cross validation folds. Secondly, plot in log-log the error of the output compared to the Richardson extrapolation, versus the element size.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SolutionVerificationResult</code>)           \u2013            <p>The verification result to visualize.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification.py</code> <pre><code>def plot_results(\n    self,\n    result: SolutionVerificationResult,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Superpose on a line plot the simulated output versus the element size, for all\n    the cross validation folds. Secondly, plot in log-log the error of the output\n    compared to the Richardson extrapolation, versus the element size.\n\n    Args:\n        result: The verification result to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    figs = {}\n    plots = [\n        ConvergenceCrossValidation(),\n        ErrorVersusElementSize(),\n        RelativeErrorVersusElementSize(),\n    ]\n    if MetaDataNames.cpu_time in result.simulation_and_reference.get_variable_names(\n        group_name=IODataset.OUTPUT_GROUP\n    ):\n        plots.append(RelativeErrorVersusCpuTime())\n\n    for plot in plots:\n        plot.working_directory = (\n            self.working_directory if directory_path == \"\" else Path(directory_path)\n        )\n        figs[camel_case_to_snake_case(plot.__class__.__name__)] = plot.execute(\n            result,\n            show=show,\n            save=save,\n        ).figure\n    return figs\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification.DiscretizationSolutionVerification.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification/#vimseo.tools.verification.solution_verification-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/","title":"Solution verification case","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case","title":"solution_verification_case","text":"<p>A tool to compare several solution verifications.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase","title":"SolutionVerificationCase","text":"<pre><code>SolutionVerificationCase(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseAnalysisTool</code></p> <p>Assess discretization error of a model (solution verification).</p> <p>Analysis is based on model convergence along an element size parameter.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_case.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n    self.result = SolutionVerificationCaseResult()\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: SolutionVerificationCaseResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.execute","title":"execute","text":"<pre><code>execute(\n    settings: (\n        SolutionVerificationCaseSettings | None\n    ) = None,\n    **options\n) -&gt; SolutionVerificationCaseResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_case.py</code> <pre><code>@BaseTool.validate\ndef execute(\n    self,\n    settings: SolutionVerificationCaseSettings | None = None,\n    **options,\n) -&gt; SolutionVerificationCaseResult:\n\n    # TODO get settings of the results, check that some are constant for all results.\n    result_0 = options[\"results\"][0]\n    settings = result_0[\"metadata\"][\"settings\"]\n    elt_size_var_name = result_0[\"metadata\"][\"misc\"][\"element_size_variable_name\"]\n    self.result.metadata.misc.update(settings)\n    self.result.metadata.misc[\"element_size_variable_name\"] = elt_size_var_name\n    self.result.metadata.misc[\"nb_meshes\"] = len(\n        result_0[\"simulation_and_reference\"]\n    )\n    self.result.metadata.misc[\"variable_names\"] = result_0[\n        \"simulation_and_reference\"\n    ].variable_names\n\n    extrapolated_values_folds = []\n    simulated_values = defaultdict(list)\n\n    for result in options[\"results\"]:\n        variable_names = result[\"simulation_and_reference\"].variable_names\n        extrapolated_values_folds += [\n            cross_validation[\"q_extrap\"]\n            for cross_validation in result[\"cross_validation\"].values()\n        ]\n        for name in variable_names:\n            simulated_values[name] += list(\n                result[\"simulation_and_reference\"]\n                .get_view(variable_names=name)\n                .to_numpy()\n                .ravel()\n            )\n\n    data = {\"extrapolated_values_folds\": array(extrapolated_values_folds).flatten()}\n    for name in variable_names:\n        data.update({name: array(simulated_values[name]).flatten()})\n    df = DataFrame.from_dict(data)\n\n    self.result.convergence_data = df\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: SolutionVerificationCaseResult,\n    output_name: str = \"\",\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    file_format=\"html\",\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Superpose several convergence trajectories and CPU time versus the output variable of interest.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>SolutionVerificationCaseResult</code>)           \u2013            <p>The verification result to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the output variable on which convergence is studied.</p> </li> <li> <code>normalize_index_output</code>               (<code>int | None</code>, default:                   <code>None</code> )           \u2013            <p>The index of the CPU time (x-axis of the plot)</p> </li> <li> <code>normalize_index_cpu_time</code>               (<code>int | None</code>, default:                   <code>None</code> )           \u2013            <p>The index of the CPU time (x-axis of the plot)</p> </li> <li> <code>y_max_limit</code>               (<code>float | None</code>, default:                   <code>None</code> )           \u2013            <p>The maximum limit of the y-axis.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_case.py</code> <pre><code>def plot_results(\n    self,\n    result: SolutionVerificationCaseResult,\n    output_name: str = \"\",\n    normalize_index_output: int | None = None,\n    normalize_index_cpu_time: int | None = None,\n    y_max_limit: float | None = None,\n    file_format=\"html\",\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Superpose several convergence trajectories and CPU time versus the output\n    variable of interest.\n\n    Args:\n        result: The verification result to visualize.\n        output_name: The name of the output variable on which convergence is studied.\n        The output name stores as setting in the passed convergence result\n        is used by default.\n        normalize_index_output: The index of the CPU time (x-axis of the plot)\n        used to normalize the output of interest. It means that the output\n        of interest for each convergence trajectories is equal to one\n        at this location.\n        normalize_index_cpu_time: The index of the CPU time (x-axis of the plot)\n        used to normalize the CPU time values. It means that the CPU time\n        for each convergence trajectories is equal to one at this location.\n        y_max_limit: The maximum limit of the y-axis.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    figs = {}\n    figs[\"convergence\"] = ConvergenceCase(\n        working_directory=self.working_directory\n    ).execute(\n        result.convergence_data,\n        result.metadata.misc[\"nb_meshes\"],\n        result.metadata.misc[\"element_size_variable_name\"],\n        (result.metadata.misc[\"output_name\"] if output_name == \"\" else output_name),\n        normalize_index_output=normalize_index_output,\n        y_max_limit=y_max_limit,\n        hovering_variables=result.metadata.misc[\"variable_names\"],\n        save=save,\n        show=show,\n    )\n\n    figs[\"cpu_time_compromise\"] = CpuTimeCompromiseCase(\n        working_directory=self.working_directory\n    ).execute(\n        result.convergence_data,\n        result.metadata.misc[\"nb_meshes\"],\n        result.metadata.misc[\"element_size_variable_name\"],\n        (result.metadata.misc[\"output_name\"] if output_name == \"\" else output_name),\n        normalize_index_output=normalize_index_output,\n        normalize_index_cpu_time=normalize_index_cpu_time,\n        y_max_limit=y_max_limit,\n        hovering_variables=result.metadata.misc[\"variable_names\"],\n        save=save,\n        show=show,\n    )\n\n    return figs\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_case/#vimseo.tools.verification.solution_verification_case.SolutionVerificationCase.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/","title":"Solution verification indicators","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators","title":"solution_verification_indicators","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_c","title":"compute_c","text":"<pre><code>compute_c(e_q_j, gamma_j_1, gamma_j, beta)\n</code></pre> <p>Compute constant \\(C\\).</p> <p>Parameters:</p> <ul> <li> <code>e_q_j</code>           \u2013            <p>The error expansion (\\(q_{exact} - q_j\\)) for grid j.</p> </li> <li> <code>gamma_j_1</code>           \u2013            <p>The relative element size for grid j+1.</p> </li> <li> <code>gamma_j</code>           \u2013            <p>The relative element size for grid j.</p> </li> <li> <code>beta</code>           \u2013            <p>The convergence order.</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>The constant \\(C\\).</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_c(e_q_j, gamma_j_1, gamma_j, beta):\n    r\"\"\"Compute constant $C$.\n\n    Args:\n        e_q_j: The error expansion ($q_{exact} - q_j$) for grid j.\n        gamma_j_1: The relative element size for grid j+1.\n        gamma_j: The relative element size for grid j.\n        beta: The convergence order.\n\n    Returns:\n        The constant $C$.\n    \"\"\"\n    return e_q_j / (-(gamma_j_1**beta) + gamma_j**beta)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_gci","title":"compute_gci","text":"<pre><code>compute_gci(fs, h, q, beta, starting_mesh_id)\n</code></pre> <p>The Grid Convergence Index.</p> <p>Computed from the two finest meshes.</p> <p>Parameters:</p> <ul> <li> <code>fs</code>           \u2013            <p>The safety factor.</p> </li> <li> <code>h</code>           \u2013            <p>The element sizes, from coarse to fine.</p> </li> <li> <code>q</code>           \u2013            <p>The output value corresponding to each element size.</p> </li> <li> <code>beta</code>           \u2013            <p>The convergence order.</p> </li> <li> <code>starting_mesh_id</code>           \u2013            <p>The GCI is computed based on q[starting_mesh_id] and</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>A tuple where first element is the Grid Convergence Index, and second element is the GCI-based error band on the solution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_gci(fs, h, q, beta, starting_mesh_id):\n    \"\"\"The Grid Convergence Index.\n\n    Computed from the two finest meshes.\n\n    Args:\n        fs: The safety factor.\n        h: The element sizes, from coarse to fine.\n        q: The output value corresponding to each element size.\n        beta: The convergence order.\n        starting_mesh_id: The GCI is computed based on q[starting_mesh_id] and\n        q[starting_mesh_id+1].\n\n    Returns:\n        A tuple where first element is the Grid Convergence Index,\n        and second element is the GCI-based error band on the solution.\n    \"\"\"\n    gci = (\n        fs\n        * abs((q[starting_mesh_id + 1] - q[starting_mesh_id]) / q[starting_mesh_id + 1])\n        / ((h[starting_mesh_id] / h[starting_mesh_id + 1]) ** beta - 1)\n    )\n    return gci, [\n        q[starting_mesh_id + 1] * (1 - abs(gci)),\n        q[starting_mesh_id + 1] * (1 + abs(gci)),\n    ]\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_median","title":"compute_median","text":"<pre><code>compute_median(q: ndarray, q_ref: float)\n</code></pre> <p>Estimate the extrapolated value at element size = 0.</p> <p>The uncertainty is computed from the Median Absolute Deviation (MAD).</p> <p>Parameters:</p> <ul> <li> <code>q</code>               (<code>ndarray</code>)           \u2013            <p>The model output values.</p> </li> <li> <code>q_ref</code>               (<code>float</code>)           \u2013            <p>A reference value in which we have most confidence. The final</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>A tuple where first element is the estimate of the extrapolated value, and second is the MAD.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_median(q: ndarray, q_ref: float):\n    \"\"\"Estimate the extrapolated value at element size = 0.\n\n    The uncertainty is computed from the Median Absolute Deviation (MAD).\n\n    Args:\n        q: The model output values.\n        q_ref: A reference value in which we have most confidence. The final\n        estimate for the extrapolated q is a weighted sum of the median and q_ref.\n\n    Returns:\n        A tuple where first element is the estimate of the extrapolated value,\n        and second is the MAD.\n    \"\"\"\n    q_median = median(q)\n    w = 0.66\n    q_final = q_ref * w + q_median * (1 - w)\n    # Coefficient for a normal distribution:\n    q_mad = 1.4826 * median(absolute(q - q_final))\n    return q_final, q_mad\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_q_extrap","title":"compute_q_extrap","text":"<pre><code>compute_q_extrap(j, c, q, gamma, beta)\n</code></pre> <p>Compute the extrapolated value at element size = 0.</p> <p>Parameters:</p> <ul> <li> <code>j</code>           \u2013            <p>The grid index.</p> </li> <li> <code>c</code>           \u2013            <p>The \\(C\\) constant.</p> </li> <li> <code>q</code>           \u2013            <p>The model solution array indexed for j.</p> </li> <li> <code>gamma</code>           \u2013            <p>The relative element size array indexed for j.</p> </li> <li> <code>beta</code>           \u2013            <p>The convergence order.</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>The extrapolated value of the model solution at element size = 0.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_q_extrap(j, c, q, gamma, beta):\n    r\"\"\"Compute the extrapolated value at element size = 0.\n\n    Args:\n        j: The grid index.\n        c: The $C$ constant.\n        q: The model solution array indexed for j.\n        gamma: The relative element size array indexed for j.\n        beta: The convergence order.\n\n    Returns:\n        The extrapolated value of the model solution at element size = 0.\n    \"\"\"\n    return q[j] + c * gamma[j] ** beta\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_rde","title":"compute_rde","text":"<pre><code>compute_rde(fs, h, q, q_extrap, beta, i)\n</code></pre> <p>The Relative Discretisation Index (RDE).</p> <p>Computed from the two finest meshes.</p> <p>Parameters:</p> <ul> <li> <code>fs</code>           \u2013            <p>The safety factor.</p> </li> <li> <code>h</code>           \u2013            <p>The element sizes, from coarse to fine.</p> </li> <li> <code>q</code>           \u2013            <p>The output value corresponding to each element size.</p> </li> <li> <code>beta</code>           \u2013            <p>The convergence order.</p> </li> <li> <code>q_extrap</code>           \u2013            <p>The Richardson extrapolation.</p> </li> <li> <code>i</code>           \u2013            <p>The index at which RDE is computed, from fine to coarse.</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>A tuple where first element is the RDE, and second element is the RDE-based error band on the solution for the finest grid.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_rde(fs, h, q, q_extrap, beta, i):\n    \"\"\"The Relative Discretisation Index (RDE).\n\n    Computed from the two finest meshes.\n\n    Args:\n        fs: The safety factor.\n        h: The element sizes, from coarse to fine.\n        q: The output value corresponding to each element size.\n        beta: The convergence order.\n        q_extrap: The Richardson extrapolation.\n        i: The index at which RDE is computed, from fine to coarse.\n\n    Returns:\n        A tuple where first element is the RDE,\n        and second element is the RDE-based error band on the solution for the finest\n        grid.\n    \"\"\"\n    q_fine_to_coarse = q[::-1]\n    h_fine_to_coarse = h[::-1]\n    rde = (q_fine_to_coarse[i + 1] - q_fine_to_coarse[i]) / (\n        q_extrap * ((h_fine_to_coarse[i + 1] / h_fine_to_coarse[i]) ** beta - 1)\n    )\n    rde_band = (\n        fs / ((h_fine_to_coarse[i + 1] / h_fine_to_coarse[i]) ** beta - 1)\n    ) * abs((q_fine_to_coarse[i + 1] - q_fine_to_coarse[i]) / q_extrap)\n    return rde, [q[i + 1] - 0.5 * rde_band, q[i + 1] + 0.5 * rde_band]\n</code></pre>"},{"location":"reference/vimseo/tools/verification/solution_verification_indicators/#vimseo.tools.verification.solution_verification_indicators.compute_richardson","title":"compute_richardson","text":"<pre><code>compute_richardson(h, q)\n</code></pre> <p>Compute Richardson extrapolation.</p> <p>Parameters:</p> <ul> <li> <code>h</code>           \u2013            <p>The array of element sizes.</p> </li> <li> <code>q</code>           \u2013            <p>The array of model solutions.</p> </li> </ul> <p>Returns:</p> <ul> <li>           \u2013            <p>The Richardson extrapolation of q at element size = 0.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/solution_verification_indicators.py</code> <pre><code>def compute_richardson(h, q):\n    r\"\"\"Compute Richardson extrapolation.\n\n    Args:\n        h: The array of element sizes.\n        q: The array of model solutions.\n\n    Returns:\n        The Richardson extrapolation of q at element size = 0.\n    \"\"\"\n    # Arbitrary coefficient &gt; 1 to define a base h value $h_0$.\n    h_0 = h[0] * 1.1\n    # Solve equation for $\\beta$:\n    beta, _infos, status, _msg = fsolve(\n        beta_func,\n        1.0,\n        args=(\n            q[1] - q[0],\n            q[2] - q[1],\n            h[0] / h_0,\n            h[1] / h_0,\n            h[2] / h_0,\n        ),\n        full_output=True,\n    )\n    beta = beta[0]\n    if status == 1 and beta &gt;= 0:\n        c = compute_c(q[1] - q[0], h[1] / h_0, h[0] / h_0, beta)\n        q_extrap = compute_q_extrap(0, c, q, h / h_0, beta)\n        return beta, q_extrap\n    return np.nan, np.nan\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/","title":"Verification result","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result","title":"verification_result","text":"<p>A verification result and verification case description..</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult","title":"SolutionVerificationCaseResult  <code>dataclass</code>","text":"<pre><code>SolutionVerificationCaseResult(\n    metadata: ToolResultMetadata | None = None,\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>A result from a solution verification case.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult.convergence_data","title":"convergence_data  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>convergence_data: DataFrame | None = None\n</code></pre> <p>A DataFrame containing the convergence data used for the verification.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationCaseResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult","title":"SolutionVerificationResult  <code>dataclass</code>","text":"<pre><code>SolutionVerificationResult(\n    metadata: ToolResultMetadata | None = None,\n    simulation_and_reference: Dataset | None = None,\n    element_wise_metrics: Dataset | None = None,\n    integrated_metrics: (\n        Mapping[str, Mapping[str, float]] | None\n    ) = None,\n    description: CASE_DESCRIPTION_TYPE = dict(),\n    cross_validation: dict = dict(),\n    extrapolation: dict = dict(),\n    error_default_element_size: Mapping[\n        str, float\n    ] = dict(),\n)\n</code></pre> <p>               Bases: <code>VerificationResult</code></p> <p>The result of a convergence verification of a model.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.cross_validation","title":"cross_validation  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>cross_validation: dict = field(default_factory=dict)\n</code></pre> <p>The cross validation on the extrapolated quantities.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.description","title":"description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>description: CASE_DESCRIPTION_TYPE = field(\n    default_factory=dict\n)\n</code></pre> <p>A description of the verification case.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.element_wise_metrics","title":"element_wise_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>element_wise_metrics: Dataset | None = None\n</code></pre> <p>A Dataset containing the input variables and the metrics comparing the reference outputs with the model outputs.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.error_default_element_size","title":"error_default_element_size  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>error_default_element_size: Mapping[str, float] = field(\n    default_factory=dict\n)\n</code></pre> <p>The error metrics for the default element size.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.extrapolation","title":"extrapolation  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>extrapolation: dict = field(default_factory=dict)\n</code></pre> <p>The extrapolated quantities and associated uncertainty.</p> <p>Uncertainty is expressed as the median absolute deviation (MAD). A 95% confidence interval, assuming a normal distribution for q and beta, is obtained with \\(median \\pm 2 MAD\\). The Relative Discretization Error (RDE) is given from the finest to the coarsest mesh.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.integrated_metrics","title":"integrated_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>integrated_metrics: (\n    Mapping[str, Mapping[str, float]] | None\n) = None\n</code></pre> <p>A dictionary mapping variable names and metric names to integrated metric values.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.simulation_and_reference","title":"simulation_and_reference  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>simulation_and_reference: Dataset | None = None\n</code></pre> <p>A Dataset containing the input variables (where the model is executed), the model output variables and the reference output variables.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.SolutionVerificationResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult","title":"VerificationResult  <code>dataclass</code>","text":"<pre><code>VerificationResult(\n    metadata: ToolResultMetadata | None = None,\n    simulation_and_reference: Dataset | None = None,\n    element_wise_metrics: Dataset | None = None,\n    integrated_metrics: (\n        Mapping[str, Mapping[str, float]] | None\n    ) = None,\n    description: CASE_DESCRIPTION_TYPE = dict(),\n)\n</code></pre> <p>               Bases: <code>BaseResult</code></p> <p>The result of a verification of a model.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.description","title":"description  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>description: CASE_DESCRIPTION_TYPE = field(\n    default_factory=dict\n)\n</code></pre> <p>A description of the verification case.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.element_wise_metrics","title":"element_wise_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>element_wise_metrics: Dataset | None = None\n</code></pre> <p>A Dataset containing the input variables and the metrics comparing the reference outputs with the model outputs.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.integrated_metrics","title":"integrated_metrics  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>integrated_metrics: (\n    Mapping[str, Mapping[str, float]] | None\n) = None\n</code></pre> <p>A dictionary mapping variable names and metric names to integrated metric values.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.metadata","title":"metadata  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>metadata: ToolResultMetadata | None = None\n</code></pre> <p>ToolResultMetadata attached to a result.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.simulation_and_reference","title":"simulation_and_reference  <code>class-attribute</code> <code>instance-attribute</code>","text":"<pre><code>simulation_and_reference: Dataset | None = None\n</code></pre> <p>A Dataset containing the input variables (where the model is executed), the model output variables and the reference output variables.</p>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.save_metadata_to_disk","title":"save_metadata_to_disk","text":"<pre><code>save_metadata_to_disk(file_path: Path | str = '')\n</code></pre> <p>Save metadata to disk in a readable format.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def save_metadata_to_disk(self, file_path: Path | str = \"\"):\n    \"\"\"Save metadata to disk in a readable format.\"\"\"\n    file_path = Path.cwd() if file_path == \"\" else Path(file_path)\n    with Path(file_path / f\"{self.__class__.__name__}_metadata.json\").open(\n        \"w\"\n    ) as f:\n        json.dump(asdict(self.metadata), f, indent=4, ensure_ascii=True)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_result/#vimseo.tools.verification.verification_result.VerificationResult.to_pickle","title":"to_pickle","text":"<pre><code>to_pickle(file_path)\n</code></pre> <p>Save result instance to disk.</p> Source code in <code>src/vimseo/tools/base_result.py</code> <pre><code>def to_pickle(self, file_path):\n    \"\"\"Save result instance to disk.\"\"\"\n    file_path = f\"{file_path}.pickle\"\n    with Path(file_path).open(\"wb\") as f:\n        pickle.dump(self, f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/","title":"Verification vs data","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data","title":"verification_vs_data","text":"<p>A tool to verify a model against a reference dataset.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData","title":"CodeVerificationAgainstData","text":"<pre><code>CodeVerificationAgainstData(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseVerification</code></p> <p>Perform a code verification on a model based on a dataset providing input and reference output values.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_data.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        subtools=[CustomDOETool()],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.metric_names","title":"metric_names  <code>instance-attribute</code>","text":"<pre><code>metric_names: Iterable[str]\n</code></pre> <p>The name of the metrics used to compute the error between predictions and references.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: VerificationResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.execute","title":"execute","text":"<pre><code>execute(\n    inputs: CodeVerificationAgainstDataInputs | None = None,\n    settings: BaseCodeVerificationSettings | None = None,\n    **options\n) -&gt; VerificationResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_data.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: CodeVerificationAgainstDataInputs | None = None,\n    settings: BaseCodeVerificationSettings | None = None,\n    **options,\n) -&gt; VerificationResult:\n    model = options[\"model\"]\n    reference_data = options[\"reference_data\"]\n\n    self.result._fill_metadata(options[\"description\"], model.description)\n\n    input_names = (\n        options[\"reference_data\"].get_variable_names(\n            group_name=IODataset.INPUT_GROUP\n        )\n        if len(options[\"input_names\"]) == 0\n        else options[\"input_names\"]\n    )\n\n    self._output_names = (\n        reference_data.get_variable_names(group_name=IODataset.OUTPUT_GROUP)\n        if not options[\"output_names\"]\n        else options[\"output_names\"]\n    )\n    check_output_names(self._output_names, model)\n\n    doe_dataset = (\n        self\n        ._subtools[\"CustomDOETool\"]\n        .execute(\n            model=model,\n            input_dataset=reference_data,\n            input_names=input_names,\n            output_names=self.get_extended_output_names(),\n        )\n        .dataset\n    )\n    element_wise_metrics, integrated_metrics = self._compute_comparison(\n        reference_data, doe_dataset\n    )\n    element_wise_metrics.add_group(\n        group_name=IODataset.INPUT_GROUP,\n        data=reference_data.get_view(\n            variable_names=input_names, group_names=IODataset.INPUT_GROUP\n        ).to_numpy(),\n        variable_names=input_names,\n        variable_names_to_n_components=reference_data.variable_names_to_n_components,\n    )\n    doe_dataset.add_group(\n        group_name=\"Reference\",\n        data=reference_data.get_view(\n            variable_names=self._output_names,\n            group_names=IODataset.OUTPUT_GROUP,\n        ).to_numpy(),\n        variable_names=self._output_names,\n        variable_names_to_n_components=reference_data.variable_names_to_n_components,\n    )\n\n    # simulation_and_reference, _ = self._post(\n    #     doe_dataset, reference_data, element_wise_metrics.copy()\n    # )\n    self.result.simulation_and_reference = doe_dataset\n    self.result.element_wise_metrics = element_wise_metrics\n    self.result.integrated_metrics = integrated_metrics\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.get_extended_output_names","title":"get_extended_output_names","text":"<pre><code>get_extended_output_names()\n</code></pre> <p>Adds the CPU_TIME metadata variable name to the output names.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def get_extended_output_names(self):\n    \"\"\"Adds the CPU_TIME metadata variable name to the output names.\"\"\"\n    return (\n        [*self._output_names, MetaDataNames.cpu_time]\n        if [MetaDataNames.cpu_time] not in self._output_names\n        else self._output_names\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a line plot of simulated versus reference results, and a bar plot of metrics values.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>VerificationResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>metric_name</code>           \u2013            <p>The name of the metric to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def plot_results(\n    self,\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a line plot of simulated versus reference results, and a bar plot of\n    metrics values.\n\n    Args:\n        metric_name: The name of the metric to visualize.\n        output_name: The name of the output variable to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    if metric_name:\n        ds = prepare_overall_dataset(\n            result,\n            [metric_name],\n            result.simulation_and_reference.get_variable_names(\n                IODataset.OUTPUT_GROUP\n            ),\n            renamer=comparison_renaming,\n            add_output_data=True,\n        )\n    else:\n        ds = result.element_wise_metrics\n\n    if get_nb_input_variables(result.element_wise_metrics) &gt; 1:\n        scatter_matrix = ScatterMatrix(\n            ds,\n            variable_names=result.element_wise_metrics.get_variable_names(\n                group_name=IODataset.INPUT_GROUP\n            ),\n            kde=False,\n        )\n        fig = scatter_matrix.execute(\n            save=save,\n            show=show,\n            file_format=\"png\",\n            directory_path=(\n                self.working_directory\n                if directory_path == \"\"\n                else Path(directory_path)\n            ),\n            file_name=\"scatter_matrix\",\n        )[0]\n        figures[\"input_scatter_matrix\"] = fig\n\n    histogram = ErrorMetricHistogram()\n    histogram.working_directory = (\n        working_directory if directory_path == \"\" else Path(directory_path)\n    )\n    histogram.execute(\n        result.element_wise_metrics, metric_name, output_name, show=show, save=save\n    )\n    figures[\"error_metric_histogram\"] = histogram.result.figure\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data.CodeVerificationAgainstData.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_data/#vimseo.tools.verification.verification_vs_data-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/","title":"Verification vs model","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model","title":"verification_vs_model","text":"<p>A tool to verify a model against another model.</p> <p>The parameter space explored during the verificationc can be a dataset or a <code>ParameterSpace</code>, e.g. built from a <code>SpaceTool</code>.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel","title":"CodeVerificationAgainstModel","text":"<pre><code>CodeVerificationAgainstModel(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseVerification</code></p> <p>Perform a code verification on a model based on another model and a Dataset providing the samples where the model is executed.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_model.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    reference_doe = CustomDOETool(name=\"ReferenceCustomDOETool\")\n    super().__init__(\n        subtools=[CustomDOETool(), reference_doe],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.metric_names","title":"metric_names  <code>instance-attribute</code>","text":"<pre><code>metric_names: Iterable[str]\n</code></pre> <p>The name of the metrics used to compute the error between predictions and references.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: VerificationResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.execute","title":"execute","text":"<pre><code>execute(\n    inputs: (\n        CodeVerificationAgainstModelInputs | None\n    ) = None,\n    settings: BaseCodeVerificationSettings | None = None,\n    **options\n) -&gt; VerificationResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_model.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: CodeVerificationAgainstModelInputs | None = None,\n    settings: BaseCodeVerificationSettings | None = None,\n    **options,\n) -&gt; VerificationResult:\n    model = options[\"model\"]\n    reference_model = options[\"reference_model\"]\n    input_dataset = options[\"input_dataset\"]\n\n    self.result._fill_metadata(options[\"description\"], model.description)\n    self.result.metadata.misc[\"reference_model\"] = reference_model.description\n\n    self._output_names = (\n        reference_model.get_output_data_names(remove_metadata=True)\n        if len(options[\"output_names\"]) == 0\n        else options[\"output_names\"]\n    )\n\n    if Dataset.DEFAULT_GROUP in input_dataset.group_names:\n        input_dataset.rename_group(Dataset.DEFAULT_GROUP, IODataset.INPUT_GROUP)\n\n    doe_dataset = (\n        self\n        ._subtools[\"CustomDOETool\"]\n        .execute(\n            model=model,\n            input_dataset=input_dataset,\n            # TODO a method get_extended_output_names(),\n            #  to be used in DOE on model in all comparison tools\n            output_names=self.get_extended_output_names(),\n        )\n        .dataset\n    )\n    reference_doe_dataset = (\n        self\n        ._subtools[\"ReferenceCustomDOETool\"]\n        .execute(\n            model=reference_model,\n            input_dataset=input_dataset,\n            output_names=self._output_names,\n        )\n        .dataset\n    )\n    element_wise_metrics, integrated_metrics = self._compute_comparison(\n        reference_doe_dataset, doe_dataset\n    )\n    simulation_and_reference, element_wise_metrics = self._post(\n        doe_dataset, reference_doe_dataset, element_wise_metrics\n    )\n    self.result.simulation_and_reference = simulation_and_reference\n    self.result.element_wise_metrics = element_wise_metrics\n    self.result.integrated_metrics = integrated_metrics\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.get_extended_output_names","title":"get_extended_output_names","text":"<pre><code>get_extended_output_names()\n</code></pre> <p>Adds the CPU_TIME metadata variable name to the output names.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def get_extended_output_names(self):\n    \"\"\"Adds the CPU_TIME metadata variable name to the output names.\"\"\"\n    return (\n        [*self._output_names, MetaDataNames.cpu_time]\n        if [MetaDataNames.cpu_time] not in self._output_names\n        else self._output_names\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a line plot of simulated versus reference results, and a bar plot of metrics values.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>VerificationResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>metric_name</code>           \u2013            <p>The name of the metric to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def plot_results(\n    self,\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a line plot of simulated versus reference results, and a bar plot of\n    metrics values.\n\n    Args:\n        metric_name: The name of the metric to visualize.\n        output_name: The name of the output variable to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    if metric_name:\n        ds = prepare_overall_dataset(\n            result,\n            [metric_name],\n            result.simulation_and_reference.get_variable_names(\n                IODataset.OUTPUT_GROUP\n            ),\n            renamer=comparison_renaming,\n            add_output_data=True,\n        )\n    else:\n        ds = result.element_wise_metrics\n\n    if get_nb_input_variables(result.element_wise_metrics) &gt; 1:\n        scatter_matrix = ScatterMatrix(\n            ds,\n            variable_names=result.element_wise_metrics.get_variable_names(\n                group_name=IODataset.INPUT_GROUP\n            ),\n            kde=False,\n        )\n        fig = scatter_matrix.execute(\n            save=save,\n            show=show,\n            file_format=\"png\",\n            directory_path=(\n                self.working_directory\n                if directory_path == \"\"\n                else Path(directory_path)\n            ),\n            file_name=\"scatter_matrix\",\n        )[0]\n        figures[\"input_scatter_matrix\"] = fig\n\n    histogram = ErrorMetricHistogram()\n    histogram.working_directory = (\n        working_directory if directory_path == \"\" else Path(directory_path)\n    )\n    histogram.execute(\n        result.element_wise_metrics, metric_name, output_name, show=show, save=save\n    )\n    figures[\"error_metric_histogram\"] = histogram.result.figure\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model/#vimseo.tools.verification.verification_vs_model.CodeVerificationAgainstModel.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/","title":"Verification vs model from parameter space","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space","title":"verification_vs_model_from_parameter_space","text":"<p>A tool to verify a model against another model.</p> <p>The parameter space explored during the verificationc can be a dataset or a <code>ParameterSpace</code>, e.g. built from a <code>SpaceTool</code>.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space-classes","title":"Classes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace","title":"CodeVerificationAgainstModelFromParameterSpace","text":"<pre><code>CodeVerificationAgainstModelFromParameterSpace(\n    root_directory: str | Path = root_directory,\n    directory_naming_method: DirectoryNamingMethod = NUMBERED,\n    working_directory: str | Path = working_directory,\n)\n</code></pre> <p>               Bases: <code>BaseVerification</code></p> <p>Perform a code verification on a model based on another model and a <code>ParameterSpace</code>.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; from vimseo.tools.example_tool import MyTool\n&gt;&gt;&gt; tool = MyTool()\n&gt;&gt;&gt; tool.execute()\n&gt;&gt;&gt; print(tool.result)\n# The result can be saved on disk.\n&gt;&gt;&gt; tool.save_results()\n# Optionnaly, the current options of the tool can be saved on disk.\n&gt;&gt;&gt; tool.result.save_metadata_to_disk()\n# The result saved on disk can be loaded.\n&gt;&gt;&gt; results = BaseTool.load_results(tool.working_directory /\n&gt;&gt;&gt; 'Tool_result.pickle')\n# Then, the tool can plot the result. Note that the :meth:`plot_results` method\n# takes the result as input. In the future, this method will be moved from the\n# tools to a post processor class.\n&gt;&gt;&gt; tool.plot_results(results, save=True, show=False)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace--todo-allow-passing-pydantic-model","title":"TODO allow passing pydantic model","text":"<p>Parameters:</p> <ul> <li> <code>root_directory</code>               (<code>str | Path</code>, default:                   <code>root_directory</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>directory_naming_method</code>               (<code>DirectoryNamingMethod</code>, default:                   <code>NUMBERED</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>working_directory</code>               (<code>str | Path</code>, default:                   <code>working_directory</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_model_from_parameter_space.py</code> <pre><code>def __init__(\n    self,\n    root_directory: str | Path = config.root_directory,\n    directory_naming_method: DirectoryNamingMethod = DirectoryNamingMethod.NUMBERED,\n    working_directory: str | Path = config.working_directory,\n):\n    super().__init__(\n        subtools=[DOETool(), DOETool(name=\"ReferenceDOETool\")],\n        root_directory=root_directory,\n        directory_naming_method=directory_naming_method,\n        working_directory=working_directory,\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.grammar","title":"grammar  <code>property</code>","text":"<pre><code>grammar\n</code></pre> <p>The validation grammar.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.metric_names","title":"metric_names  <code>instance-attribute</code>","text":"<pre><code>metric_names: Iterable[str]\n</code></pre> <p>The name of the metrics used to compute the error between predictions and references.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.option_names","title":"option_names  <code>property</code>","text":"<pre><code>option_names\n</code></pre> <p>The names of the options that can be passed to <code>execute()</code>.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.options","title":"options  <code>property</code>","text":"<pre><code>options\n</code></pre> <p>The options of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.results","title":"results  <code>instance-attribute</code>","text":"<pre><code>results: VerificationResult\n</code></pre> <p>The results of the tool.</p>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace-functions","title":"Functions","text":""},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.execute","title":"execute","text":"<pre><code>execute(\n    inputs: (\n        CodeVerificationAgainstModelFromPSInputs | None\n    ) = None,\n    settings: (\n        CodeVerificationAgainstModelFromPSSettings | None\n    ) = None,\n    **options\n) -&gt; VerificationResult\n</code></pre> <p>The user-defined treatment called by :meth:<code>execute</code>.</p> <p>Parameters:</p> <ul> <li> <code>options</code>           \u2013            <p>The options of the execution.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/verification_vs_model_from_parameter_space.py</code> <pre><code>@BaseCompositeTool.validate\ndef execute(\n    self,\n    inputs: CodeVerificationAgainstModelFromPSInputs | None = None,\n    settings: CodeVerificationAgainstModelFromPSSettings | None = None,\n    **options,\n) -&gt; VerificationResult:\n    model = options[\"model\"]\n    reference_model = options[\"reference_model\"]\n\n    self._output_names = (\n        reference_model.get_output_data_names(remove_metadata=True)\n        if not options[\"output_names\"]\n        else options[\"output_names\"]\n    )\n    check_output_names(self._output_names, model)\n\n    self.result._fill_metadata(options[\"description\"], model.description)\n    self.result.metadata.misc[\"reference_model\"] = reference_model.description\n\n    doe_dataset = (\n        self\n        ._subtools[\"DOETool\"]\n        .execute(\n            model=model,\n            parameter_space=options[\"parameter_space\"],\n            output_names=self.get_extended_output_names(),\n            n_samples=options[\"n_samples\"],\n            algo=options[\"algo\"],\n            # algo_options=options[\"algo_options\"],\n        )\n        .dataset\n    )\n    reference_doe_dataset = (\n        self\n        ._subtools[\"ReferenceDOETool\"]\n        .execute(\n            model=reference_model,\n            parameter_space=options[\"parameter_space\"],\n            output_names=self._output_names,\n            n_samples=options[\"n_samples\"],\n            algo=options[\"algo\"],\n            # algo_options=options[\"algo_options\"],\n        )\n        .dataset\n    )\n\n    element_wise_metrics, integrated_metrics = self._compute_comparison(\n        reference_doe_dataset, doe_dataset\n    )\n    simulation_and_reference, element_wise_metrics = self._post(\n        doe_dataset, reference_doe_dataset, element_wise_metrics\n    )\n    self.result.simulation_and_reference = simulation_and_reference\n    self.result.element_wise_metrics = element_wise_metrics\n    self.result.integrated_metrics = integrated_metrics\n\n    return self.result\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.get_extended_output_names","title":"get_extended_output_names","text":"<pre><code>get_extended_output_names()\n</code></pre> <p>Adds the CPU_TIME metadata variable name to the output names.</p> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def get_extended_output_names(self):\n    \"\"\"Adds the CPU_TIME metadata variable name to the output names.\"\"\"\n    return (\n        [*self._output_names, MetaDataNames.cpu_time]\n        if [MetaDataNames.cpu_time] not in self._output_names\n        else self._output_names\n    )\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.load_options_from_metadata","title":"load_options_from_metadata","text":"<pre><code>load_options_from_metadata(\n    file_path: str | Path | None = None,\n)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>str | Path | None</code>, default:                   <code>None</code> )           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def load_options_from_metadata(self, file_path: str | Path | None = None):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        file_path: The path to the file.\n    \"\"\"\n    file_path = (\n        self._working_directory / f\"{self.result.__class__.__name__}_metadata.json\"\n        if file_path is None\n        else file_path\n    )\n    with Path(file_path).open() as f:\n        loaded_metadata = json.load(f)\n        if ToolResultMetadata._OPTIONS_KEY not in loaded_metadata:\n            msg = f\"Loaded options must contain the key '{ToolResultMetadata._OPTIONS_KEY}'\"\n            raise KeyError(msg)\n        loaded_options = loaded_metadata[ToolResultMetadata._OPTIONS_KEY]\n        if self._has_check_options:\n            self._check_options(**loaded_options)\n        self._options.update(loaded_options)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.load_results","title":"load_results  <code>classmethod</code>","text":"<pre><code>load_results(path: Path)\n</code></pre> <p>Load a result of a tool from the disk.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to the file.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>@classmethod\ndef load_results(cls, path: Path):\n    \"\"\"Load a result of a tool from the disk.\n\n    Args:\n        path: The path to the file.\n    \"\"\"\n    with Path(path).open(\"rb\") as f:\n        return pickle.load(f)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.plot_results","title":"plot_results","text":"<pre><code>plot_results(\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]\n</code></pre> <p>Plot a line plot of simulated versus reference results, and a bar plot of metrics values.</p> <p>Parameters:</p> <ul> <li> <code>result</code>               (<code>VerificationResult</code>)           \u2013            <p>The result of the tool.</p> </li> <li> <code>metric_name</code>           \u2013            <p>The name of the metric to visualize.</p> </li> <li> <code>output_name</code>               (<code>str</code>)           \u2013            <p>The name of the output variable to visualize.</p> </li> <li> <code>save</code>           \u2013            <p>Whether to save the plot on disk.</p> </li> <li> <code>show</code>           \u2013            <p>Whether to show the plot.</p> </li> <li> <code>directory_path</code>               (<code>str | Path</code>, default:                   <code>''</code> )           \u2013            <p>The path under which the plots are saved.</p> </li> <li> <code>file_format</code>           \u2013            <p>The format to which plots are generated.</p> </li> </ul> Source code in <code>src/vimseo/tools/verification/base_verification.py</code> <pre><code>def plot_results(\n    self,\n    result: VerificationResult,\n    metric_name,\n    output_name: str,\n    save=False,\n    show=True,\n    directory_path: str | Path = \"\",\n    file_format=\"html\",\n) -&gt; Mapping[str, Figure]:\n    \"\"\"Plot a line plot of simulated versus reference results, and a bar plot of\n    metrics values.\n\n    Args:\n        metric_name: The name of the metric to visualize.\n        output_name: The name of the output variable to visualize.\n        file_format: The format to which plots are generated.\n    \"\"\"\n    working_directory = (\n        self.working_directory if directory_path == \"\" else Path(directory_path)\n    )\n\n    figures = {}\n\n    if metric_name:\n        ds = prepare_overall_dataset(\n            result,\n            [metric_name],\n            result.simulation_and_reference.get_variable_names(\n                IODataset.OUTPUT_GROUP\n            ),\n            renamer=comparison_renaming,\n            add_output_data=True,\n        )\n    else:\n        ds = result.element_wise_metrics\n\n    if get_nb_input_variables(result.element_wise_metrics) &gt; 1:\n        scatter_matrix = ScatterMatrix(\n            ds,\n            variable_names=result.element_wise_metrics.get_variable_names(\n                group_name=IODataset.INPUT_GROUP\n            ),\n            kde=False,\n        )\n        fig = scatter_matrix.execute(\n            save=save,\n            show=show,\n            file_format=\"png\",\n            directory_path=(\n                self.working_directory\n                if directory_path == \"\"\n                else Path(directory_path)\n            ),\n            file_name=\"scatter_matrix\",\n        )[0]\n        figures[\"input_scatter_matrix\"] = fig\n\n    histogram = ErrorMetricHistogram()\n    histogram.working_directory = (\n        working_directory if directory_path == \"\" else Path(directory_path)\n    )\n    histogram.execute(\n        result.element_wise_metrics, metric_name, output_name, show=show, save=save\n    )\n    figures[\"error_metric_histogram\"] = histogram.result.figure\n\n    return figures\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.save_results","title":"save_results","text":"<pre><code>save_results(prefix: str = '') -&gt; None\n</code></pre> <p>Save the results of the tool on disk. The file path is :attr:<code>working_directory</code> / <code>{filename}_result.pickle</code>.</p> <p>Parameters:</p> <ul> <li> <code>prefix</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The prefix of the filename result.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_composite_tool.py</code> <pre><code>def save_results(self, prefix: str = \"\") -&gt; None:\n    super().save_results(prefix)\n    for tool in self._subtools.values():\n        tool.save_results(prefix)\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space.CodeVerificationAgainstModelFromParameterSpace.set_plot","title":"set_plot","text":"<pre><code>set_plot(class_name, **options) -&gt; None\n</code></pre> <p>Set the type of plot to show the results of this tool.</p> <p>Parameters:</p> <ul> <li> <code>class_name</code>           \u2013            <p>The name of the plot class.</p> </li> <li> <code>**options</code>           \u2013            <p>The options of the plot constructor.</p> </li> </ul> Source code in <code>src/vimseo/tools/base_tool.py</code> <pre><code>def set_plot(self, class_name, **options) -&gt; None:\n    \"\"\"Set the type of plot to show the results of this tool.\n\n    Args:\n        class_name: The name of the plot class.\n        **options: The options of the plot constructor.\n    \"\"\"\n    if self._plot_factory:\n        self._plot = self._plot_factory.create(class_name, **options)\n    self._plot_class = class_name\n</code></pre>"},{"location":"reference/vimseo/tools/verification/verification_vs_model_from_parameter_space/#vimseo.tools.verification.verification_vs_model_from_parameter_space-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/","title":"Utilities","text":""},{"location":"reference/vimseo/utilities/#vimseo.utilities","title":"utilities","text":""},{"location":"reference/vimseo/utilities/cache_manipulator/","title":"Cache manipulator","text":""},{"location":"reference/vimseo/utilities/cache_manipulator/#vimseo.utilities.cache_manipulator","title":"cache_manipulator","text":""},{"location":"reference/vimseo/utilities/cache_viewer/","title":"Cache viewer","text":""},{"location":"reference/vimseo/utilities/cache_viewer/#vimseo.utilities.cache_viewer","title":"cache_viewer","text":""},{"location":"reference/vimseo/utilities/cache_viewer/#vimseo.utilities.cache_viewer-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/cache_viewer/#vimseo.utilities.cache_viewer-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/cache_viewer/#vimseo.utilities.cache_viewer.cache_viewer","title":"cache_viewer","text":"<pre><code>cache_viewer(\n    file_path: Path | str,\n    node_path: str = \"\",\n    error_code: bool | None = None,\n    show_scalars_only: bool = False,\n    show_metadata_only: bool = False,\n)\n</code></pre> <p>View the cache as a dataset.</p> <p>The index of the dataset does not correspond to the cache entry index. So, if a cache entry is removed in the middle of the cache, the dataset index and the cache entry index do not match anymore. It may be misleading when using the dataset index to remove a cache entry. You may safely remove the lastest cache entries, which do not cause any index mismatch.</p> Source code in <code>src/vimseo/utilities/cache_viewer.py</code> <pre><code>def cache_viewer(\n    file_path: Path | str,\n    node_path: str = \"\",\n    error_code: bool | None = None,\n    show_scalars_only: bool = False,\n    show_metadata_only: bool = False,\n):\n    \"\"\"View the cache as a dataset.\n\n    The index of the dataset does not correspond to the cache entry index. So, if a cache\n    entry is removed in the middle of the cache, the dataset index and the cache entry\n    index do not match anymore. It may be misleading when using the dataset index to\n    remove a cache entry. You may safely remove the lastest cache entries, which do not\n    cause any index mismatch.\n    \"\"\"\n    pd.options.display.max_columns = None\n    pd.options.display.max_rows = None\n    pd.set_option(\"display.width\", 200)\n    pd.options.display.max_colwidth = 100\n\n    assert (Path(file_path)).is_file()\n    if node_path == \"\":\n        cache = HDF5Cache(hdf_file_path=file_path)\n    else:\n        cache = HDF5Cache(hdf_file_path=file_path, hdf_node_path=node_path)\n\n    ds = cache.to_dataset()\n\n    if show_scalars_only:\n        names = [\n            name\n            for name, n_dim in ds.variable_names_to_n_components.items()\n            if n_dim == 1\n        ]\n    elif show_metadata_only:\n        names = list(IntegratedModel.get_metadata_names())\n    else:\n        names = ds.variable_names\n\n    # Transform to mono-index dataframe\n    ds = ds.get_view(variable_names=names)\n    df = ds.copy()\n    df.columns = df.get_columns(as_tuple=False)\n\n    # Shorten the job dir path\n    if \"job_dir\" in names:\n        for i, job_dir in enumerate(df[\"job_dir\"].to_numpy()):\n            job_dir_path = Path(job_dir)\n            if len(job_dir_path.parts) &gt; 1:\n                df[\"job_dir\"][i] = Path(*job_dir_path.parts[-2:])\n\n    if error_code is None:\n        print(df)\n    else:\n        return print(df[df[(MetaDataNames.error_code)] == f\"{error_code}\"])\n\n    return df\n</code></pre>"},{"location":"reference/vimseo/utilities/curves/","title":"Curves","text":""},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves","title":"curves","text":""},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve","title":"Curve","text":"<pre><code>Curve(data: Mapping[str, ndarray], abscissa_name='')\n</code></pre> <p>A curve.</p> <p>Construct the curve from a dictionary of 1D arrays.</p> Source code in <code>src/vimseo/utilities/curves.py</code> <pre><code>def __init__(self, data: Mapping[str, ndarray], abscissa_name=\"\"):\n    \"\"\"Construct the curve from a dictionary of 1D arrays.\"\"\"\n    self.__names = list(data.keys())\n    if len(self.__names) != 2:\n        msg = (\n            f\"The curve should be created from a dictionary \"\n            f\"containing exactly two items. But the dictionary \"\n            f\"is {data}.\"\n        )\n        raise ValueError(msg)\n    if abscissa_name != \"\":\n        i = self.__names.index(abscissa_name)\n        self.__names = self.__names[i:] + self.__names[:i]\n        data = {name: data[name] for name in self.__names}\n    self.__data = vstack(list(data.values()))\n    self.__length = len(self.__data[0])\n</code></pre>"},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve.length","title":"length  <code>property</code>","text":"<pre><code>length\n</code></pre> <p>The length of the x-axis (which is equal to the length of the y-axis)</p>"},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve.variable_names","title":"variable_names  <code>property</code>","text":"<pre><code>variable_names\n</code></pre> <p>The (x,y) names of the variables.</p>"},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve.as_dataframe","title":"as_dataframe","text":"<pre><code>as_dataframe()\n</code></pre> <p>The curve as a <code>Pandas.DataFrame</code></p> Source code in <code>src/vimseo/utilities/curves.py</code> <pre><code>def as_dataframe(self):\n    \"\"\"The curve as a ``Pandas.DataFrame``\"\"\"\n    return DataFrame.from_dict(self.as_dict())\n</code></pre>"},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve.as_dict","title":"as_dict","text":"<pre><code>as_dict()\n</code></pre> <p>The curve as a dictionary.</p> Source code in <code>src/vimseo/utilities/curves.py</code> <pre><code>def as_dict(self):\n    \"\"\"The curve as a dictionary.\"\"\"\n    return {\n        self.__names[0]: self.__data[0],\n        self.__names[1]: self.__data[1],\n    }\n</code></pre>"},{"location":"reference/vimseo/utilities/curves/#vimseo.utilities.curves.Curve.plot","title":"plot","text":"<pre><code>plot(\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    file_name: str | Path = \"\",\n    fig: Figure | None = None,\n    label: str = \"\",\n    **options\n)\n</code></pre> <p>Plot the curve.</p> Source code in <code>src/vimseo/utilities/curves.py</code> <pre><code>def plot(\n    self,\n    directory_path: str | Path = \"\",\n    save=False,\n    show=True,\n    file_name: str | Path = \"\",\n    fig: Figure | None = None,\n    label: str = \"\",\n    **options,\n):\n    \"\"\"Plot the curve.\"\"\"\n    properties = [\"color\", \"linestyle\"]\n    dataset = Dataset.from_array(\n        self.__data.T,\n        variable_names=self.__names,\n    )\n    file_name = (\n        f\"curve_{self.__names[1]}_vs_{self.__names[0]}.html\"\n        if file_name == \"\"\n        else file_name\n    )\n    plot = Lines(\n        dataset,\n        abscissa_variable=self.__names[0],\n        variables=[self.__names[1]],\n    )\n    if label != \"\":\n        plot.labels = {self.__names[1]: label}\n    for prop in properties:\n        if prop in options:\n            setattr(plot, prop, options[prop])\n    return plot.execute(\n        save=save,\n        show=show,\n        directory_path=directory_path,\n        file_name=file_name,\n        file_format=\"html\",\n        fig=fig,\n    )[0]\n</code></pre>"},{"location":"reference/vimseo/utilities/curves_generator/","title":"Curves generator","text":""},{"location":"reference/vimseo/utilities/curves_generator/#vimseo.utilities.curves_generator","title":"curves_generator","text":""},{"location":"reference/vimseo/utilities/curves_generator/#vimseo.utilities.curves_generator-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/curves_generator/#vimseo.utilities.curves_generator.get_history","title":"get_history","text":"<pre><code>get_history(\n    list_expressions: Iterable[str] = (),\n    support: ndarray | Iterable[Number] = (),\n    nb_points=50,\n)\n</code></pre> <p>Builds a history (half of a curve) by stacking transformation expressions.</p> Source code in <code>src/vimseo/utilities/curves_generator.py</code> <pre><code>def get_history(\n    list_expressions: Iterable[str] = (),\n    support: np.ndarray | Iterable[Number] = (),\n    nb_points=50,\n):\n    \"\"\"Builds a history (half of a curve) by stacking transformation expressions.\"\"\"\n    if len(support) == 0:\n        support = linspace(0.0, 1.0, nb_points)\n    hist = support.copy()\n    for expression in list_expressions:\n        hist = str_to_func(expression)(hist)\n\n    return hist\n</code></pre>"},{"location":"reference/vimseo/utilities/curves_generator/#vimseo.utilities.curves_generator.str_to_func","title":"str_to_func","text":"<pre><code>str_to_func(expression: str)\n</code></pre> <p>Create a python  function from a string analytical expression.</p> Source code in <code>src/vimseo/utilities/curves_generator.py</code> <pre><code>def str_to_func(expression: str):\n    \"\"\"Create a python  function from a string analytical expression.\"\"\"\n\n    def f(x):\n        # return eval(expression)\n\n        disc = create_discipline(\n            \"AnalyticDiscipline\", name=\"analytic\", expressions={\"y\": expression}\n        )\n\n        x_array = np.atleast_1d(x)\n        y_array = np.zeros(x_array.size)\n        for i in range(len(x_array)):\n            xx = np.atleast_1d(x_array[i])\n            out = disc.execute({\"x\": xx})\n            y_array[i] = out[\"y\"][0]\n\n        return y_array\n\n    return f\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/","title":"Datasets","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets","title":"datasets","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromModel","title":"DatasetAddFromModel","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromModel-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromModel.add_group","title":"add_group  <code>classmethod</code>","text":"<pre><code>add_group(\n    dataset,\n    input_group_name: str,\n    input_variable_names: Iterable[str],\n    model: IntegratedModel,\n    output_group_name: str,\n    output_variable_name: str,\n    bias: float = 0.0,\n) -&gt; None\n</code></pre> <p>Add group based on the outputs of a model, its inputs being contained in the dataset.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>@classmethod\ndef add_group(\n    cls,\n    dataset,\n    input_group_name: str,\n    input_variable_names: Iterable[str],\n    model: IntegratedModel,\n    output_group_name: str,\n    output_variable_name: str,\n    bias: float = 0.0,\n) -&gt; None:\n    \"\"\"Add group based on the outputs of a model, its inputs being contained in the\n    dataset.\"\"\"\n    out = []\n    for i in range(dataset.shape[0]):\n        input_data = {}\n        for name in input_variable_names:\n            input_data[name] = dataset.get_view(\n                group_names=input_group_name,\n                variable_names=name,\n            ).values[i]\n        model.execute(input_data)\n        out.append(model.get_output_data()[output_variable_name])\n    out = array(out)\n    out += bias\n    dataset.add_group(\n        data=out,\n        group_name=output_group_name,\n        variable_names=output_variable_name,\n    )\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromStatistics","title":"DatasetAddFromStatistics","text":"<pre><code>DatasetAddFromStatistics()\n</code></pre> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def __init__(self):\n    self.space_for_sample_generation = ParameterSpace()\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromStatistics-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.DatasetAddFromStatistics.add_group","title":"add_group","text":"<pre><code>add_group(\n    dataset,\n    group_name: str,\n    variable_names: str,\n    distributions: Mapping[str, DistributionParameters],\n    nb_samples: int,\n) -&gt; None\n</code></pre> <p>Add group based on statistical parameters using OpenTurns distributions.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def add_group(\n    self,\n    dataset,\n    group_name: str,\n    variable_names: str,\n    distributions: Mapping[str, DistributionParameters],\n    nb_samples: int,\n) -&gt; None:\n    \"\"\"Add group based on statistical parameters using OpenTurns distributions.\"\"\"\n    from vimseo.tools.space.random_variable_interface import (\n        add_random_variable_interface,\n    )\n\n    for name in variable_names:\n        assert name in distributions\n        add_random_variable_interface(\n            self.space_for_sample_generation,\n            name,\n            distributions[name],\n        )\n    samples = self.space_for_sample_generation.compute_samples(n_samples=nb_samples)\n    measured_dataset = Dataset.from_array(samples, variable_names=variable_names)\n    variable_names_to_n_components = dict.fromkeys(variable_names, 1)\n    dataset.add_group(\n        group_name=group_name,\n        variable_names=variable_names,\n        data=vstack([\n            measured_dataset.get_view(variable_names=name).values.flatten()\n            for name in variable_names\n        ]).T,\n        variable_names_to_n_components=variable_names_to_n_components,\n    )\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.Variable","title":"Variable","text":"<p>               Bases: <code>NamedTuple</code></p> <p>A convenient data class to define a variable to be placed in a Dataset.</p>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.dataframe_to_dataset","title":"dataframe_to_dataset","text":"<pre><code>dataframe_to_dataset(df: DataFrame) -&gt; Dataset\n</code></pre> <p>Compute the GEMSEO Dataset from a DataFrame with a_name[a_group][a_component] convention.</p> <p>For vectors, naming convention is a_name[a_group][0], a_name[a_group][1], ... This naming convention is obtained with <code>dataset_to_dataframe()</code> with argument suffix_by_group=True``.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def dataframe_to_dataset(df: DataFrame) -&gt; Dataset:\n    \"\"\"Compute the GEMSEO Dataset from a DataFrame with a_name[a_group][a_component]\n    convention.\n\n    For vectors, naming convention is a_name[a_group][0], a_name[a_group][1], ...\n    This naming convention is obtained with ``dataset_to_dataframe()`` with argument\n    suffix_by_group=True``.\n    \"\"\"\n\n    def get_group_name(suffixed_name: str) -&gt; str:\n        return (suffixed_name.split(GROUP_SEPARATORS[1])[0]).split(\"[\")[1]\n\n    def get_variable_name(suffixed_name: str) -&gt; str:\n        return suffixed_name.split(GROUP_SEPARATORS[0])[0]\n\n    def get_component(suffixed_name: str) -&gt; str:\n        component_suffix = suffixed_name.split(GROUP_SEPARATORS[1])[1]\n        return (\n            (component_suffix.split(COMPONENT_SEPARATORS[0])[1]).split(\n                COMPONENT_SEPARATORS[1]\n            )[0]\n            if component_suffix\n            else \"0\"\n        )\n\n    unique_names_to_group_names = {}\n    for name in df.columns.values:\n        variable_name = get_variable_name(name)\n        group_name = get_group_name(name)\n        component = get_component(name)\n        unique_names_to_group_names[\n            f\"{variable_name}__group__{group_name}__component__{component}\"\n        ] = group_name\n\n    names_and_groups = [\n        unique_name.split(\"__component__\")[0]\n        for unique_name in unique_names_to_group_names\n    ]\n    unique_names_to_n_components = {}\n    for name in set(names_and_groups):\n        unique_names_to_n_components[name] = names_and_groups.count(name)\n\n    unique_names = list(unique_names_to_n_components.keys())\n    unique_names_to_group_names = {\n        name.split(\"__component__\")[0]: group_name\n        for name, group_name in unique_names_to_group_names.items()\n    }\n\n    reordered_unique_names = []\n    for name in df.columns.values:\n        reordered_unique_names.extend(\n            unique_name\n            for unique_name in unique_names\n            if unique_name.startswith(get_variable_name(name))\n            and unique_name.split(\"__group__\")[1].startswith(get_group_name(name))\n            and get_component(name) == \"0\"\n        )\n\n    dataset = Dataset.from_array(\n        df.to_numpy(),\n        variable_names=reordered_unique_names,\n        variable_names_to_n_components=unique_names_to_n_components,\n        variable_names_to_group_names=unique_names_to_group_names,\n    )\n\n    for group_name in dataset.group_names:\n        for unique_name in dataset.get_variable_names(group_name=group_name):\n            name = unique_name.split(\"__group__\")[0]\n            dataset.rename_variable(unique_name, name, group_name)\n\n    return dataset.astype({col: df.dtypes[i] for i, col in enumerate(dataset.columns)})\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.dataset_to_dataframe","title":"dataset_to_dataframe","text":"<pre><code>dataset_to_dataframe(\n    dataset: Dataset,\n    variable_names: list[str] = (),\n    group_names: list[str] = (),\n    suffix_by_group: bool = False,\n) -&gt; DataFrame\n</code></pre> <p>Extracts variables from a GEMSEO dataset, and store them in a mono-indexed DataFrame with variable naming convention a_name[a_group][a_component] .</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def dataset_to_dataframe(\n    dataset: Dataset,\n    variable_names: list[str] = (),\n    group_names: list[str] = (),\n    suffix_by_group: bool = False,\n) -&gt; DataFrame:\n    \"\"\"Extracts variables from a GEMSEO dataset, and store them in a mono-indexed\n    DataFrame with variable naming convention a_name[a_group][a_component] .\"\"\"\n    sep = \"__group__\"\n    group_names = group_names if len(group_names) &gt; 0 else dataset.group_names\n\n    name_and_groups = []\n    for group_name in group_names:\n        name_and_groups.extend(\n            f\"{name}{sep}{group_name}\"\n            for name in dataset.get_variable_names(group_name=group_name)\n        )\n\n    names = [v.split(sep)[0] for v in name_and_groups]\n    seen = set()\n\n    if suffix_by_group:\n        duplicated_names = names\n    else:\n        duplicated_names = []\n        for x in names:\n            if x not in seen:\n                seen.add(x)\n            else:\n                duplicated_names.append(x)\n\n    variable_names = variable_names if len(variable_names) &gt; 0 else names\n    final_names = [name for name in variable_names if name not in duplicated_names]\n\n    duplicated_name_and_groups = []\n    for name in duplicated_names:\n        duplicated_name_and_groups.extend(\n            v for v in name_and_groups if v.startswith(name)\n        )\n\n    ds = dataset.copy()\n    for v in duplicated_name_and_groups:\n        splitted_name = v.split(sep)\n        name = splitted_name[0]\n        group_name = splitted_name[1]\n        new_name = f\"{name}{GROUP_SEPARATORS[0]}{group_name}{GROUP_SEPARATORS[1]}\"\n        ds.rename_variable(name, new_name, group_name)\n        if name in variable_names:\n            final_names.append(new_name)\n\n    view = ds.get_view(group_names=group_names, variable_names=final_names)\n    df = view.copy()\n    df.columns = view.get_columns(as_tuple=False)\n    df_as_dict = df.to_dict()\n    return DataFrame.from_dict(df_as_dict)\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.decode_vector","title":"decode_vector","text":"<pre><code>decode_vector(vector_as_str: str, separator='_') -&gt; ndarray\n</code></pre> <p>Decode a stringified vector.</p> <p>Parameters:</p> <ul> <li> <code>vector_as_str</code>               (<code>str</code>)           \u2013            <p>A vector as a <code>string</code>, under the form of numerical values</p> </li> <li> <code>separator</code>           \u2013            <p>The separator between ply angles.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>ndarray</code>           \u2013            <p>A vector_as_str as an array of <code>floats</code>, compatible as a model input.</p> </li> </ul> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def decode_vector(vector_as_str: str, separator=\"_\") -&gt; ndarray:\n    \"\"\"Decode a stringified vector.\n\n    Args:\n        vector_as_str: A vector as a ``string``, under the form of numerical values\n        separated by ``separator``. Square brackets at the beginning\n        and the end of the string are allowed\n        (typically if the string is obtained from str(NumPy.array)).\n        separator: The separator between ply angles.\n\n    Returns:\n        A vector_as_str as an array of ``floats``, compatible as a model input.\n    \"\"\"\n    vector_as_str = vector_as_str.strip(\"[]\")\n    splitted_str = vector_as_str.split(separator)\n    splitted_str = [val for val in splitted_str if val != \"\"]\n    return asarray(splitted_str, dtype=float)\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.encode_vector","title":"encode_vector","text":"<pre><code>encode_vector(\n    vector_numerical: ndarray | list[float | int],\n)\n</code></pre> <p>Encode a vector_as_str.</p> Example <p>encode_vector(array([0,90,0])</p> <p>Args:     vector_numerical: [ndarray] A 1D array containing numerical values of plies     angles. Returns:     vector_as_str_str: [ndarray] An array containing a single string of encoded     angle values.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def encode_vector(vector_numerical: ndarray | list[float | int]):\n    \"\"\"Encode a vector_as_str.\n\n    Example:\n        &gt;&gt;&gt; encode_vector(array([0,90,0])\n    Args:\n        vector_numerical: [ndarray] A 1D array containing numerical values of plies\n        angles.\n    Returns:\n        vector_as_str_str: [ndarray] An array containing a single string of encoded\n        angle values.\n    \"\"\"\n    if isinstance(vector_numerical, list):\n        vector_numerical = array(vector_numerical)\n\n    if array(vector_numerical).ndim != 1 or len(vector_numerical) == 0:\n        msg = \"Expecting 1D array but it was given \"\n        raise ValueError(\n            msg,\n            array(vector_numerical).ndim,\n            vector_numerical,\n        )\n    if not (\n        issubdtype(vector_numerical.dtype, integer)\n        or issubdtype(vector_numerical.dtype, float)\n    ):\n        msg = \"vector_as_str to encode is expected to be a numerical array, but not \"\n        raise TypeError(\n            msg,\n            vector_numerical,\n        )\n\n    # [0, 90.1, 0.0] =&gt; [0, 90.1, 0]\n    vector_as_str_interm = [int(a) if a == int(a) else a for a in vector_numerical]\n\n    # [0, 90.1, 0] =&gt; [\"0\", \"90.1\", \"0\"]\n    vector_as_str_interm = asarray(vector_as_str_interm, dtype=str)\n\n    # [\"0\", \"90.1\", \"0\"] =&gt; [\"0_90.1_0\"]\n    return \"_\".join(vector_as_str_interm)\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.get_nb_input_variables","title":"get_nb_input_variables","text":"<pre><code>get_nb_input_variables(dataset: IODataset)\n</code></pre> <p>Compute the number of input variables.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def get_nb_input_variables(dataset: IODataset):\n    \"\"\"Compute the number of input variables.\"\"\"\n    return len(dataset.get_variable_names(group_name=IODataset.INPUT_GROUP))\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.get_values","title":"get_values","text":"<pre><code>get_values(\n    df: DataFrame, variable_name: str, group_name: str = \"\"\n)\n</code></pre> <p>Return the values from a suffixed DataFrame based ont he name of a variable (not suffixed) and an optional group name.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def get_values(df: DataFrame, variable_name: str, group_name: str = \"\"):\n    \"\"\"Return the values from a suffixed DataFrame based ont he name of a variable (not\n    suffixed) and an optional group name.\"\"\"\n    if group_name == \"\":\n        candidate_variable_names = [\n            name_and_group\n            for name_and_group in df.columns.values\n            if name_and_group.split(\"[\")[0] == variable_name\n        ]\n        if len(candidate_variable_names) &gt; 1:\n            msg = (\n                f\"Variable name {variable_name} is ambiguous since it is suffixed \"\n                f\"by more than one group.\"\n            )\n            raise ValueError(msg)\n        return df[candidate_variable_names[0]].to_numpy()\n    return df[\n        f\"{variable_name}{GROUP_SEPARATORS[0]}{group_name}{GROUP_SEPARATORS[1]}\"\n    ].to_numpy()\n</code></pre>"},{"location":"reference/vimseo/utilities/datasets/#vimseo.utilities.datasets.plot_dataset_element","title":"plot_dataset_element","text":"<pre><code>plot_dataset_element(\n    dataset,\n    sample_id,\n    variables,\n    abscissa_variable,\n    file_name: str = \"\",\n    group_name: str = \"\",\n) -&gt; PlotResult\n</code></pre> <p>Visualize row number <code>sample_id</code> of a dataset as a line plot.</p> <p>Useful if the dataset contains vector elements (1D outputs).</p> <p>Parameters:</p> <ul> <li> <code>dataset</code>           \u2013            <p>A dataset containing 1D outputs to visualize.</p> </li> <li> <code>sample_id</code>           \u2013            <p>The id of the row to visualize.</p> </li> <li> <code>variables</code>           \u2013            <p>The variables to be plotted as ordinate.</p> </li> <li> <code>abscissa_variable</code>           \u2013            <p>The abscissa variable.</p> </li> <li> <code>file_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the saved file.</p> </li> <li> <code>group_name</code>               (<code>str</code>, default:                   <code>''</code> )           \u2013            <p>The name of the group to which <code>variables</code> and <code>abscissa_name</code> belong.</p> </li> </ul> <p>Returns:      The plot result.</p> Source code in <code>src/vimseo/utilities/datasets.py</code> <pre><code>def plot_dataset_element(\n    dataset,\n    sample_id,\n    variables,\n    abscissa_variable,\n    file_name: str = \"\",\n    group_name: str = \"\",\n) -&gt; PlotResult:\n    \"\"\"Visualize row number ``sample_id`` of a dataset as a line plot.\n\n     Useful if the dataset contains vector elements (1D outputs).\n\n    Args:\n         dataset: A dataset containing 1D outputs to visualize.\n         sample_id: The id of the row to visualize.\n         variables: The variables to be plotted as ordinate.\n         abscissa_variable: The abscissa variable.\n         file_name: The name of the saved file.\n         group_name: The name of the group to which ``variables`` and\n             ``abscissa_name`` belong.\n\n     Returns:\n         The plot result.\n    \"\"\"\n    group_name = Dataset.DEFAULT_GROUP if group_name == \"\" else group_name\n    all_variables = [*variables, abscissa_variable]\n    dataset_to_plot = Dataset.from_array(\n        vstack([\n            dataset[group_name][name].to_numpy()[sample_id] for name in all_variables\n        ]).T,\n        variable_names=all_variables,\n        variable_names_to_n_components=dict.fromkeys(all_variables, 1),\n    )\n    file_name = (\n        f\"{list_to_str(variables)}_versus_{abscissa_variable}_\"\n        f\"sample_id_{sample_id}.html\"\n    )\n    plot = Lines()\n    plot.execute(\n        dataset_to_plot,\n        variables,\n        abscissa_variable,\n        show=True,\n        file_format=\"html\",\n        file_name=file_name,\n    )\n    return plot.result\n</code></pre>"},{"location":"reference/vimseo/utilities/distribution/","title":"Distribution","text":""},{"location":"reference/vimseo/utilities/distribution/#vimseo.utilities.distribution","title":"distribution","text":""},{"location":"reference/vimseo/utilities/distribution/#vimseo.utilities.distribution-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/distribution/#vimseo.utilities.distribution.DistributionParameters","title":"DistributionParameters","text":"<p>               Bases: <code>DistributionSettings</code></p> <p>Parameters representing a distribution.</p>"},{"location":"reference/vimseo/utilities/distribution_utils/","title":"Distribution utils","text":""},{"location":"reference/vimseo/utilities/distribution_utils/#vimseo.utilities.distribution_utils","title":"distribution_utils","text":""},{"location":"reference/vimseo/utilities/distribution_utils/#vimseo.utilities.distribution_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/distribution_utils/#vimseo.utilities.distribution_utils.check_distribution","title":"check_distribution","text":"<pre><code>check_distribution(\n    parameter_space, var_name, parameters=(), **kwargs\n)\n</code></pre> <p>Check distribution name and min and max values.</p> Source code in <code>src/vimseo/utilities/distribution_utils.py</code> <pre><code>def check_distribution(parameter_space, var_name, parameters=(), **kwargs):\n    \"\"\"Check distribution name and min and max values.\"\"\"\n\n    if len(parameters) &gt; 0:\n        if len(parameter_space.distributions[var_name].marginals) == 1:\n            parameters_from_distribution = (\n                parameter_space.distributions[var_name].marginals[0].settings\n            )\n            assert parameters == parameters_from_distribution[\"parameters\"]\n        else:\n            msg = \"Unhandled case for interfaces distribution of a vector.\"\n            raise ValueError(msg)\n    else:\n        if \"name\" in kwargs and kwargs[\"name\"] == \"Weibull\":\n            kwargs[\"name\"] = \"WeibullMin\"\n        for k, v in kwargs.items():\n            print(\"Parameter name: \", k)\n            print(\"Expected value: \", v)\n            parameters_from_distribution = [\n                parameter_space.distributions[var_name].marginals[i].settings[k]\n                for i in range(len(parameter_space.distributions[var_name].marginals))\n            ]\n            print(\n                \"Value from parameter space distribution: \",\n                parameters_from_distribution,\n            )\n            assert_array_equal(array(v), array(parameters_from_distribution))\n</code></pre>"},{"location":"reference/vimseo/utilities/encoded_to_numerical_vectors/","title":"Encoded to numerical vectors","text":""},{"location":"reference/vimseo/utilities/encoded_to_numerical_vectors/#vimseo.utilities.encoded_to_numerical_vectors","title":"encoded_to_numerical_vectors","text":""},{"location":"reference/vimseo/utilities/encoded_to_numerical_vectors/#vimseo.utilities.encoded_to_numerical_vectors-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/failed_imports/","title":"Failed imports","text":""},{"location":"reference/vimseo/utilities/failed_imports/#vimseo.utilities.failed_imports","title":"failed_imports","text":""},{"location":"reference/vimseo/utilities/fields/","title":"Fields","text":""},{"location":"reference/vimseo/utilities/fields/#vimseo.utilities.fields","title":"fields","text":""},{"location":"reference/vimseo/utilities/fields/#vimseo.utilities.fields-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/fields/#vimseo.utilities.fields.Field","title":"Field  <code>dataclass</code>","text":"<pre><code>Field(\n    path: str | Path = \"\",\n    point_data: ndarray | None = None,\n    cell_data: ndarray | None = None,\n    mesh_points: ndarray | None = None,\n    mesh_cells: ndarray | None = None,\n)\n</code></pre> <p>A field.</p>"},{"location":"reference/vimseo/utilities/file_utils/","title":"File utils","text":""},{"location":"reference/vimseo/utilities/file_utils/#vimseo.utilities.file_utils","title":"file_utils","text":""},{"location":"reference/vimseo/utilities/file_utils/#vimseo.utilities.file_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/file_utils/#vimseo.utilities.file_utils.load_results","title":"load_results","text":"<pre><code>load_results(parent_dir_path: str | Path)\n</code></pre> <p>Load results based on a parent directory.</p> <p>All paths to <code>.pickle</code> file extensions found in the subdirectories of the parent directory are returned.</p> Source code in <code>src/vimseo/utilities/file_utils.py</code> <pre><code>def load_results(parent_dir_path: str | Path):\n    \"\"\"Load results based on a parent directory.\n\n    All paths to ``.pickle`` file extensions found in the subdirectories\n    of the parent directory are returned.\n    \"\"\"\n    pattern = Path(parent_dir_path) / \"**/*.pickle\"\n\n    result_paths = []\n    for file in glob.glob(str(pattern), recursive=True):  # noqa: PTH207\n        file_path = Path(file)\n        if file_path.is_file():\n            result_paths.append(file_path)\n\n    return result_paths\n</code></pre>"},{"location":"reference/vimseo/utilities/file_utils/#vimseo.utilities.file_utils.wait_for_file","title":"wait_for_file","text":"<pre><code>wait_for_file(\n    file_path: Path, timeout: float | None = None\n) -&gt; None\n</code></pre> <p>Wait for a file to appear.</p> <p>Parameters:</p> <ul> <li> <code>file_path</code>               (<code>Path</code>)           \u2013            <p>The path to the file expected to appear.</p> </li> </ul> Source code in <code>src/vimseo/utilities/file_utils.py</code> <pre><code>def wait_for_file(file_path: Path, timeout: float | None = None) -&gt; None:\n    \"\"\"Wait for a file to appear.\n\n    Args:\n        file_path: The path to the file expected to appear.\n\n    Raises:\n        A ``FileNotFoundError`` if the file is not found after the timeout.\n    \"\"\"\n    timeout = WAIT_FILE_TIMEOUT if timeout is None else timeout\n    time_counter = 0\n    while not (file_path).is_file():\n        time.sleep(1)\n        time_counter += 1\n        if time_counter &gt; timeout:\n            msg = f\"File {file_path} was not found after {timeout}s.\"\n            LOGGER.error(msg)\n            raise FileNotFoundError(msg)\n\n    LOGGER.debug(f\"File {file_path} was found after {time_counter}s.\")\n</code></pre>"},{"location":"reference/vimseo/utilities/generate_material_description_table/","title":"Generate material description table","text":""},{"location":"reference/vimseo/utilities/generate_material_description_table/#vimseo.utilities.generate_material_description_table","title":"generate_material_description_table","text":""},{"location":"reference/vimseo/utilities/generate_material_description_table/#vimseo.utilities.generate_material_description_table-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/generate_material_description_table/#vimseo.utilities.generate_material_description_table-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/generate_material_description_table/#vimseo.utilities.generate_material_description_table.create_material_description_table","title":"create_material_description_table","text":"<pre><code>create_material_description_table(\n    material_lib_dir: Path, material_name: str\n) -&gt; DataFrame\n</code></pre> <p>Create a table describing a material.</p> <p>The table are saved as csv files in the material section of the documentation.</p> Source code in <code>src/vimseo/utilities/generate_material_description_table.py</code> <pre><code>def create_material_description_table(\n    material_lib_dir: Path, material_name: str\n) -&gt; pd.DataFrame:\n    \"\"\"Create a table describing a material.\n\n    The table are saved as csv files in the material section of the documentation.\n    \"\"\"\n    grammar = JSONGrammar(\n        material_name, material_lib_dir / f\"{material_name}_grammar.json\"\n    )\n    material = Material.from_json(material_lib_dir / f\"{material_name}.json\")\n\n    name_to_attributes = {}\n    for rel in material.material_relations:\n        for prop in rel.properties:\n            raw_description = grammar.schema[\"properties\"][prop.name][\"description\"]\n            attributes = PropertyAttributes()\n            description = raw_description\n            if \"{{\" in raw_description and \"}}\" in raw_description:\n                attributes.unit = raw_description.split(\"{{\")[1].split(\"}}\")[0]\n                description = description.split(\"{{\")[0]\n            if \"[\" in raw_description and \"]\" in raw_description:\n                attributes.category = raw_description.split(\"[\")[1].split(\"]\")[0]\n                description = description.split(\"]\")[1]\n            attributes.description = description.strip()\n            attributes.material_relation = rel.name\n            attributes.default_value = prop.value\n            if prop.distribution.name != \"\":\n                attributes.distribution = prop.distribution.name\n            name_to_attributes[prop.name] = attributes\n\n    attribute_name_to_value = defaultdict(list)\n    for name, attributes in name_to_attributes.items():\n        attribute_name_to_value[\"name\"].append(name)\n        for name, value in asdict(attributes).items():\n            attribute_name_to_value[name].append(value)\n\n    df = pd.DataFrame.from_dict(attribute_name_to_value)\n    df.to_csv(\n        Path.cwd() / PATH_TO_MATERIAL_DOC_SUBDIR / f\"{material_name}_properties.csv\",\n        sep=SEP,\n    )\n    return df\n</code></pre>"},{"location":"reference/vimseo/utilities/generate_validation_reference/","title":"Generate validation reference","text":""},{"location":"reference/vimseo/utilities/generate_validation_reference/#vimseo.utilities.generate_validation_reference","title":"generate_validation_reference","text":""},{"location":"reference/vimseo/utilities/generate_validation_reference/#vimseo.utilities.generate_validation_reference-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/generate_validation_reference/#vimseo.utilities.generate_validation_reference-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/generate_validation_reference/#vimseo.utilities.generate_validation_reference.generate_reference_from_dataset","title":"generate_reference_from_dataset","text":"<pre><code>generate_reference_from_dataset(\n    model: IntegratedModel,\n    input_dataset: Dataset,\n    df: DataFrame | None = None,\n    specific_inputs: Mapping[str, ndarray] | None = None,\n    input_names: Iterable[str] = (),\n    output_names: Iterable[str] = (),\n    outputs_to_bias: Mapping[str, Bias] | None = None,\n    additional_name_to_data: (\n        Mapping[str, ndarray] | None\n    ) = None,\n    as_dataset=False,\n)\n</code></pre> <p>Generate artificial experimental data from input data and a model.</p> <p>Output data can be biased.</p> Source code in <code>src/vimseo/utilities/generate_validation_reference.py</code> <pre><code>def generate_reference_from_dataset(\n    model: IntegratedModel,\n    input_dataset: Dataset,\n    df: DataFrame | None = None,\n    specific_inputs: Mapping[str, ndarray] | None = None,\n    input_names: Iterable[str] = (),\n    output_names: Iterable[str] = (),\n    outputs_to_bias: Mapping[str, Bias] | None = None,\n    additional_name_to_data: Mapping[str, ndarray] | None = None,\n    as_dataset=False,\n):\n    \"\"\"Generate artificial experimental data from input data and a model.\n\n    Output data can be biased.\n    \"\"\"\n    outputs_to_bias = {} if outputs_to_bias is None else outputs_to_bias\n    if specific_inputs is not None:\n        model.default_input_data.update(specific_inputs)\n\n    dataset = (\n        CustomDOETool()\n        .execute(\n            model=model,\n            input_dataset=input_dataset,\n            input_names=input_names,\n            output_names=(\n                output_names if len(output_names) &gt; 0 else model.get_output_data_names()\n            ),\n        )\n        .dataset\n    )\n    for output_name, bias in outputs_to_bias.items():\n        if isinstance(bias.component, int):\n            dataset.loc[:, (\"outputs\", output_name, bias.component)] = dataset.loc[\n                :, (\"outputs\", output_name, bias.component)\n            ].apply(\n                lambda x: x * bias.mult_factor + bias.shift  # noqa: B023\n            )  # noqa: B023\n        else:\n            for i in bias.component:\n                dataset.loc[:, (\"outputs\", output_name, i)] = dataset.loc[\n                    :, (\"outputs\", output_name, i)\n                ].apply(\n                    lambda x: x * bias.mult_factor + bias.shift  # noqa: B023\n                )  # noqa: B023\n    if not as_dataset:\n        df_ = dataset.copy()\n        df_.columns = dataset.get_columns()\n        df_.dropna(inplace=True)\n        if additional_name_to_data is not None:\n            for additional_name, data in additional_name_to_data.items():\n                df_[additional_name] = data\n        if df is not None:\n            return pd.concat([df, df_], ignore_index=True)\n        return df_\n    if df is not None:\n        msg = \"Concatenation on datasets is not handled.\"\n        raise ValueError(msg)\n    return dataset\n</code></pre>"},{"location":"reference/vimseo/utilities/generate_validation_reference/#vimseo.utilities.generate_validation_reference.generate_reference_from_parameter_space","title":"generate_reference_from_parameter_space","text":"<pre><code>generate_reference_from_parameter_space(\n    model, parameter_space, n_samples, **options\n)\n</code></pre> <p>Create a reference data by sampling a model on a parameter space.</p> Source code in <code>src/vimseo/utilities/generate_validation_reference.py</code> <pre><code>def generate_reference_from_parameter_space(\n    model, parameter_space, n_samples, **options\n):\n    \"\"\"Create a reference data by sampling a model on a parameter space.\"\"\"\n    input_data = parameter_space.compute_samples(n_samples=n_samples, as_dict=False)\n    reference_data = IODataset()\n    reference_data.add_group(\n        IODataset.INPUT_GROUP,\n        input_data,\n        parameter_space.uncertain_variables,\n    )\n\n    # Reference data is a GEMSEO Dataset:\n    return generate_reference_from_dataset(model, reference_data, **options)\n</code></pre>"},{"location":"reference/vimseo/utilities/json_grammar_utils/","title":"Json grammar utils","text":""},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils","title":"json_grammar_utils","text":""},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils.BaseJsonIO","title":"BaseJsonIO","text":"<p>               Bases: <code>BaseModel</code></p> <p>A class adding export and read values from a json file.</p>"},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils.load_default_inputs","title":"load_default_inputs","text":"<pre><code>load_default_inputs(\n    grammar: JSONGrammar,\n) -&gt; Mapping[str, float]\n</code></pre> <p>Loads default inputs from a JSON grammar.</p> Source code in <code>src/vimseo/utilities/json_grammar_utils.py</code> <pre><code>def load_default_inputs(grammar: JSONGrammar) -&gt; Mapping[str, float]:\n    \"\"\"Loads default inputs from a JSON grammar.\"\"\"\n\n    default_inputs = {}\n\n    properties = grammar.schema[\"properties\"]\n    for key in properties:\n        if properties[key][\"type\"] == \"array\":\n            try:\n                default_inputs[key] = array([properties[key][\"items\"][\"default\"]])\n            except KeyError:\n                # no default value defined in Json file\n                LOGGER.debug(f\"Default value is not defined for input key {key}.\")\n        elif properties[key][\"type\"] in [\"string\", \"number\"]:\n            try:\n                default_inputs[key] = properties[key][\"default\"]\n            except KeyError:\n                # no default value defined in Json file\n                LOGGER.debug(f\"Default value is not defined for input key {key}.\")\n\n    return default_inputs\n</code></pre>"},{"location":"reference/vimseo/utilities/json_grammar_utils/#vimseo.utilities.json_grammar_utils.load_input_bounds","title":"load_input_bounds","text":"<pre><code>load_input_bounds(\n    grammar: JSONGrammar,\n) -&gt; tuple[Mapping[str, Number | list[Number]]]\n</code></pre> <p>Return minimum and maximum bounds for variables of type <code>array[number]</code> in a JSON grammar.</p> <p>If no minimum (resp. maximum) is defined, the <code>lower_bounds</code> (resp. <code>upper_bound</code>) are empty dictionaries. This function also returns <code>input_space</code> attribute is also filled, only if the type of item is number. If no minimum (resp. maximum) is defined, -inf (resp. inf) is used as bound.</p> <p>Returns:</p> <ul> <li> <code>tuple[Mapping[str, Number | list[Number]]]</code>           \u2013            <p>Three dictionaries mapping variable name to lower bound, upper bound and input space</p> </li> </ul> Source code in <code>src/vimseo/utilities/json_grammar_utils.py</code> <pre><code>def load_input_bounds(\n    grammar: JSONGrammar,\n) -&gt; tuple[Mapping[str, Number | list[Number]]]:\n    \"\"\"Return minimum and maximum bounds for variables of type ``array[number]`` in a\n    JSON grammar.\n\n    If no minimum (resp. maximum) is defined, the ``lower_bounds``\n    (resp. ``upper_bound``) are empty dictionaries.\n    This function also returns ``input_space`` attribute is also filled,\n    only if the type of item is number.\n    If no minimum (resp. maximum) is defined, -inf (resp. inf) is used as bound.\n\n    Returns:\n        Three dictionaries mapping variable name to lower bound, upper bound\n        and input space\n    \"\"\"\n    input_space = {}\n    lower_bounds = {}\n    upper_bounds = {}\n    properties = grammar.schema[\"properties\"]\n    for key in properties:\n        if properties[key][\"type\"] == \"array\":\n            var_type = properties[key][\"items\"].get(\"type\")\n            lower_bound = properties[key][\"items\"].get(\"minimum\")\n            if lower_bound is not None:\n                lower_bounds[key] = lower_bound\n            if var_type == \"number\":\n                if lower_bound is not None:\n                    input_space[key] = [lower_bound]\n                else:\n                    input_space[key] = [-inf]\n\n            upper_bound = properties[key][\"items\"].get(\"maximum\")\n            if upper_bound is not None:\n                upper_bounds[key] = upper_bound\n            if var_type == \"number\":\n                if upper_bound is not None:\n                    input_space[key].append(upper_bound)\n                else:\n                    input_space[key].append(inf)\n\n    return lower_bounds, upper_bounds, input_space\n</code></pre>"},{"location":"reference/vimseo/utilities/list_utils/","title":"List utils","text":""},{"location":"reference/vimseo/utilities/list_utils/#vimseo.utilities.list_utils","title":"list_utils","text":""},{"location":"reference/vimseo/utilities/list_utils/#vimseo.utilities.list_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/list_utils/#vimseo.utilities.list_utils.rotate_list","title":"rotate_list","text":"<pre><code>rotate_list(a_list: list, first_elt: Any)\n</code></pre> <p>Rotate list element such that the first element matches <code>first_first_elt</code>.</p> Source code in <code>src/vimseo/utilities/list_utils.py</code> <pre><code>def rotate_list(a_list: list, first_elt: Any):\n    \"\"\"Rotate list element such that the first element matches ``first_first_elt``.\"\"\"\n    if first_elt not in a_list:\n        msg = f\"{first_elt} is not in {a_list}.\"\n        raise ValueError(msg)\n\n    i = a_list.index(first_elt)\n    return a_list[i:] + a_list[:i]\n</code></pre>"},{"location":"reference/vimseo/utilities/loading_component_unitcell/","title":"Loading component unitcell","text":""},{"location":"reference/vimseo/utilities/loading_component_unitcell/#vimseo.utilities.loading_component_unitcell","title":"loading_component_unitcell","text":""},{"location":"reference/vimseo/utilities/loading_component_unitcell/#vimseo.utilities.loading_component_unitcell-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/model_data/","title":"Model data","text":""},{"location":"reference/vimseo/utilities/model_data/#vimseo.utilities.model_data","title":"model_data","text":""},{"location":"reference/vimseo/utilities/model_data/#vimseo.utilities.model_data-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/model_data/#vimseo.utilities.model_data.MetricVariableType","title":"MetricVariableType","text":"<p>               Bases: <code>StrEnum</code></p> <p>The type of variable on which calibration is performed.</p>"},{"location":"reference/vimseo/utilities/model_data/#vimseo.utilities.model_data-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/model_data/#vimseo.utilities.model_data.decapsulate_length_one_array","title":"decapsulate_length_one_array","text":"<pre><code>decapsulate_length_one_array(data: Mapping[str, Any])\n</code></pre> <p>Convert length one array to its value.</p> Source code in <code>src/vimseo/utilities/model_data.py</code> <pre><code>def decapsulate_length_one_array(data: Mapping[str, Any]):\n    \"\"\"Convert length one array to its value.\"\"\"\n    data = data.copy()\n\n    # de-capsulate useless arrays to scalars\n    # data = decapsulate_length_one_array(data)\n    for k in data:\n        # TODO use better condition to check for sequence (see mlflow_tracking sandbox)\n        if hasattr(data[k], \"__len__\") and len(data[k]) == 1:\n            data[k] = data[k][0]\n\n    # cast original types into standard JSON serializable\n    for k in data:\n        if isinstance(data[k], dict):\n            # recursivity on encapsulated dicts\n            data[k] = encode_model_data(data[k])  # noqa : F821\n\n    return data\n</code></pre>"},{"location":"reference/vimseo/utilities/plotting_utils/","title":"Plotting utils","text":""},{"location":"reference/vimseo/utilities/plotting_utils/#vimseo.utilities.plotting_utils","title":"plotting_utils","text":""},{"location":"reference/vimseo/utilities/plotting_utils/#vimseo.utilities.plotting_utils-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/plotting_utils/#vimseo.utilities.plotting_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/plotting_utils/#vimseo.utilities.plotting_utils.get_formatted_value","title":"get_formatted_value","text":"<pre><code>get_formatted_value(\n    value, precision: int = FLOAT_PRECISION\n)\n</code></pre> <p>Rounds either a float or a NumPy array.</p> <p>Parameters:</p> <ul> <li> <code>value</code>           \u2013            <p>The data to round.</p> </li> <li> <code>precision</code>               (<code>int</code>, default:                   <code>FLOAT_PRECISION</code> )           \u2013            <p>The rounding precision.</p> </li> </ul> <p>Returns: The rounded data.</p> Source code in <code>src/vimseo/utilities/plotting_utils.py</code> <pre><code>def get_formatted_value(value, precision: int = FLOAT_PRECISION):\n    \"\"\"Rounds either a float or a NumPy array.\n\n    Args:\n        value: The data to round.\n        precision: The rounding precision.\n\n    Returns: The rounded data.\n    \"\"\"\n    is_float = isinstance(value, float)\n    if is_float:\n        return str(round(value, precision))\n    return array_str(atleast_1d(value), precision=precision)\n</code></pre>"},{"location":"reference/vimseo/utilities/portable_path/","title":"Portable path","text":""},{"location":"reference/vimseo/utilities/portable_path/#vimseo.utilities.portable_path","title":"portable_path","text":"<p>A set of functions to handle OS dependent path operations.</p>"},{"location":"reference/vimseo/utilities/portable_path/#vimseo.utilities.portable_path-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/portable_path/#vimseo.utilities.portable_path.to_os_specific","title":"to_os_specific","text":"<pre><code>to_os_specific(\n    path: Path,\n) -&gt; PureWindowsPath | PurePosixPath\n</code></pre> <p>Cast a path to PureWindowsPath on Windows platforms, PurePosixPath otherwise.</p> <p>Parameters:</p> <ul> <li> <code>path</code>               (<code>Path</code>)           \u2013            <p>The path to cast.</p> </li> </ul> <p>Returns:</p> <ul> <li> <code>PureWindowsPath | PurePosixPath</code>           \u2013            <p>The casted path.</p> </li> </ul> Source code in <code>src/vimseo/utilities/portable_path.py</code> <pre><code>def to_os_specific(path: Path) -&gt; PureWindowsPath | PurePosixPath:\n    \"\"\"Cast a path to PureWindowsPath on Windows platforms, PurePosixPath otherwise.\n\n    Args:\n        path: The path to cast.\n\n    Returns:\n        The casted path.\n    \"\"\"\n    if PLATFORM_IS_WINDOWS:\n        return PureWindowsPath(path)\n    return PurePosixPath(path)\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/","title":"Pytest conftest","text":""},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest","title":"pytest_conftest","text":"<p>Pytest helpers.</p> <p>This file has been copied from GEMSEO develop (02/11/2022). It was not available in GEMSEO 3.2.1. If vimseo becomes compatible with more recent GEMSEO, you can import the gemseo.utils.pytest_conftest and delete this file.</p>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.baseline_images","title":"baseline_images","text":"<pre><code>baseline_images(request)\n</code></pre> <p>Return the baseline_images contents.</p> <p>Used when the compare_images decorator has indirect set.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>@pytest.fixture\ndef baseline_images(request):\n    \"\"\"Return the baseline_images contents.\n\n    Used when the compare_images decorator has indirect set.\n    \"\"\"\n    return request.param\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.pyplot_close_all","title":"pyplot_close_all","text":"<pre><code>pyplot_close_all()\n</code></pre> <p>Fixture that prevents figures aggregation with matplotlib pyplot.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>@pytest.fixture\ndef pyplot_close_all():\n    \"\"\"Fixture that prevents figures aggregation with matplotlib pyplot.\"\"\"\n    if version.parse(matplotlib.__version__) &lt; version.parse(\"3.6.0\"):\n        plt.close(\"all\")\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.pytest_sessionfinish","title":"pytest_sessionfinish","text":"<pre><code>pytest_sessionfinish(session)\n</code></pre> <p>Remove file pollution from fortran code.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>def pytest_sessionfinish(session):\n    \"\"\"Remove file pollution from fortran code.\"\"\"\n    # take care of pytest_sessionstart side effects\n    for file_ in Path().glob(\"fort.*\"):\n        file_.unlink()\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.pytest_sessionstart","title":"pytest_sessionstart","text":"<pre><code>pytest_sessionstart(session)\n</code></pre> <p>Bypass console pollution from fortran code.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>def pytest_sessionstart(session):\n    \"\"\"Bypass console pollution from fortran code.\"\"\"\n    # Prevent fortran code (like lbfgs from scipy) from writing to the console\n    # by setting its stdout and stderr units to the standard file descriptors.\n    # As a side effect, the files fort.{0,6} are created with the content of\n    # the console outputs.\n    os.environ[\"GFORTRAN_STDOUT_UNIT\"] = \"1\"\n    os.environ[\"GFORTRAN_STDERR_UNIT\"] = \"2\"\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.reset_factory","title":"reset_factory","text":"<pre><code>reset_factory()\n</code></pre> <p>Reset the factory cache.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>@pytest.fixture\ndef reset_factory():\n    \"\"\"Reset the factory cache.\"\"\"\n    BaseFactory.cache_clear()\n    yield\n    BaseFactory.cache_clear()\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.skip_under_linux","title":"skip_under_linux","text":"<pre><code>skip_under_linux(request)\n</code></pre> <p>Fixture that add a marker to skip under linux.</p> <p>Use it like a usual skip marker.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>@pytest.fixture(autouse=True)\ndef skip_under_linux(request):\n    \"\"\"Fixture that add a marker to skip under linux.\n\n    Use it like a usual skip marker.\n    \"\"\"\n    if request.node.get_closest_marker(\n        \"skip_under_linux\"\n    ) and not sys.platform.startswith(\"win\"):\n        pytest.skip(\"skipped on linux\")\n</code></pre>"},{"location":"reference/vimseo/utilities/pytest_conftest/#vimseo.utilities.pytest_conftest.skip_under_windows","title":"skip_under_windows","text":"<pre><code>skip_under_windows(request)\n</code></pre> <p>Fixture that add a marker to skip under windows.</p> <p>Use it like a usual skip marker.</p> Source code in <code>src/vimseo/utilities/pytest_conftest.py</code> <pre><code>@pytest.fixture(autouse=True)\ndef skip_under_windows(request):\n    \"\"\"Fixture that add a marker to skip under windows.\n\n    Use it like a usual skip marker.\n    \"\"\"\n    if request.node.get_closest_marker(\n        \"skip_under_windows\"\n    ) and sys.platform.startswith(\"win\"):\n        pytest.skip(\"skipped on windows\")\n</code></pre>"},{"location":"reference/vimseo/utilities/sklearn_estimator_wrapper/","title":"Sklearn estimator wrapper","text":""},{"location":"reference/vimseo/utilities/sklearn_estimator_wrapper/#vimseo.utilities.sklearn_estimator_wrapper","title":"sklearn_estimator_wrapper","text":""},{"location":"reference/vimseo/utilities/sklearn_estimator_wrapper/#vimseo.utilities.sklearn_estimator_wrapper-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/sklearn_estimator_wrapper/#vimseo.utilities.sklearn_estimator_wrapper.AlgoWrapperForSklearn","title":"AlgoWrapperForSklearn","text":"<pre><code>AlgoWrapperForSklearn(algo: MLRegressionAlgo, **parameters)\n</code></pre> <p>A class to wrap Gemseo's regression algorithms for usage by Sklearn cross_val_predict method. This method require a wrapper with following methods.</p> <p>implemented: - fit(x, y): the method to fit the algorithm to the data x, y. - predict(x): the method to predict the response for x. - get_params(deep): a getter to the current parameters. - set_params(**parameters): a setter for the parameters of the algo. In addition, the parameters have to be defined as attributes of the wrapper.</p> Source code in <code>src/vimseo/utilities/sklearn_estimator_wrapper.py</code> <pre><code>def __init__(self, algo: MLRegressionAlgo, **parameters) -&gt; None:\n    self.algo = algo\n    self.algo.parameters.update(parameters)\n    self._set_wrapper_params(parameters)\n</code></pre>"},{"location":"reference/vimseo/utilities/test_utils/","title":"Test utils","text":""},{"location":"reference/vimseo/utilities/test_utils/#vimseo.utilities.test_utils","title":"test_utils","text":""},{"location":"reference/vimseo/utilities/test_utils/#vimseo.utilities.test_utils-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/test_utils/#vimseo.utilities.test_utils.get_working_mock_command","title":"get_working_mock_command","text":"<pre><code>get_working_mock_command()\n</code></pre> <p>A command that works on Windows or Linux.</p> Source code in <code>src/vimseo/utilities/test_utils.py</code> <pre><code>def get_working_mock_command():\n    \"\"\"A command that works on Windows or Linux.\"\"\"\n    if sys.platform.startswith(\"win\"):\n        return \"powershell Start-Sleep -m 50\"\n    return \"sleep 0.05\"\n</code></pre>"},{"location":"reference/vimseo/utilities/doc/","title":"Doc","text":""},{"location":"reference/vimseo/utilities/doc/#vimseo.utilities.doc","title":"doc","text":""},{"location":"reference/vimseo/utilities/doc/deactivate_examples/","title":"Deactivate examples","text":""},{"location":"reference/vimseo/utilities/doc/deactivate_examples/#vimseo.utilities.doc.deactivate_examples","title":"deactivate_examples","text":"<p>Deactivate some runnable examples, because they require executables or prerequisites not available locally.</p>"},{"location":"reference/vimseo/utilities/doc/generate_model_gallery/","title":"Generate model gallery","text":""},{"location":"reference/vimseo/utilities/doc/generate_model_gallery/#vimseo.utilities.doc.generate_model_gallery","title":"generate_model_gallery","text":"<p>Utilities to automatically add to the documentation gallery a presentation of each model, with its load cases.</p>"},{"location":"reference/vimseo/utilities/doc/generate_model_gallery/#vimseo.utilities.doc.generate_model_gallery-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/doc/generate_model_gallery/#vimseo.utilities.doc.generate_model_gallery.generate_model_examples","title":"generate_model_examples","text":"<pre><code>generate_model_examples(\n    pkg_name: str,\n    gallery_example_path: str | Path,\n    excluded_models: Iterable[str] = (),\n)\n</code></pre> <p>Generate how_to for each model and load case.</p> <p>Based on a template, generate one example in the documentation per model and load case, to provide an overview of each.</p> Source code in <code>src/vimseo/utilities/doc/generate_model_gallery.py</code> <pre><code>def generate_model_examples(\n    pkg_name: str, gallery_example_path: str | Path, excluded_models: Iterable[str] = ()\n):\n    \"\"\"Generate how_to for each model and load case.\n\n    Based on a template, generate one example in the documentation per model and load\n    case, to provide an overview of each.\n    \"\"\"\n    vims_root = Path(pkgutil.get_loader(\"vimseo\").get_filename()).parent\n    pkg_root = Path(pkgutil.get_loader(pkg_name).get_filename()).parent\n\n    model_names = [\n        model_name\n        for model_name in get_available_models()\n        if model_name not in excluded_models\n    ]\n    for model_name in model_names:\n        for load_case in get_available_load_cases(model_name):\n            filename = (\n                pkg_root / gallery_example_path / f\"plot_{model_name}_{load_case}.py\"\n            )\n\n            environment = Environment(\n                loader=FileSystemLoader(str(vims_root / \"utilities/doc/templates/\"))\n            )\n            template = environment.get_template(\"plot_model.txt\")\n\n            model = create_model(model_name, load_case)\n            LOGGER.info(f\"Created {model_name} with load case {load_case}\")\n            figure_keys = [\n                f\"{curve[1]}_vs_{curve[0]}\"\n                for curve in model.CURVES + model.load_case.plot_parameters.curves\n            ]\n\n            content = template.render(\n                model_name=model_name,\n                load_case=load_case,\n                model_summary=model.description.summary,\n                figure_keys=figure_keys,\n            )\n            Path(filename).write_text(content, encoding=\"utf-8\")\n</code></pre>"},{"location":"reference/vimseo/utilities/metrics/","title":"Metrics","text":""},{"location":"reference/vimseo/utilities/metrics/#vimseo.utilities.metrics","title":"metrics","text":"<p>Metrics to compare two quantities.</p>"},{"location":"reference/vimseo/utilities/metrics/#vimseo.utilities.metrics-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/utilities/metrics/#vimseo.utilities.metrics.EPSILON","title":"EPSILON  <code>module-attribute</code>","text":"<pre><code>EPSILON = 1e-09\n</code></pre> <p>A small value used at denominator of relative metrics to avoid division by zero.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/","title":"Error metrics","text":""},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics","title":"error_metrics","text":"<p>A squared-error metric.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.AbsoluteErrorMetric","title":"AbsoluteErrorMetric","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>The absolute difference between <code>a</code> and <code>b</code>.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.AbsoluteRelativeErrorP90","title":"AbsoluteRelativeErrorP90","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>The relative difference between simulated PDF and reference PDF.</p> <p>This difference is divided by the mean value of <code>b</code>. It assumes normality of the two populations. It is interpreted as the fact that there is 90% chance that the error is less  than the metric value.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.AreaMetric","title":"AreaMetric","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>The area (also called Wasserstein) metric.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.RelativeAreaMetric","title":"RelativeAreaMetric","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>The relative area (also called Wasserstein) metric.</p> <p>The area metric divided by the absolute mean value of <code>b</code>.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.RelativeErrorMetric","title":"RelativeErrorMetric","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>A relative absolute error metric.</p> <p>The absolute value of <code>a - b</code> divided by the absolute value of <code>b</code>.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.RelativeMeanToMean","title":"RelativeMeanToMean","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>The relative difference between mean simulated value and mean reference value.</p> <p>This difference is divided by the absolute mean value of <code>b</code>.</p>"},{"location":"reference/vimseo/utilities/metrics/error_metrics/#vimseo.utilities.metrics.error_metrics.RelativeSquaredErrorMetric","title":"RelativeSquaredErrorMetric","text":"<p>               Bases: <code>BaseMetric[_InputT, _InputT]</code></p> <p>A relative squared error metric.</p> <p>The squared error is divided by the absolute value of <code>a</code>.</p>"},{"location":"reference/vimseo/utilities/sandbox/","title":"Sandbox","text":""},{"location":"reference/vimseo/utilities/sandbox/#vimseo.utilities.sandbox","title":"sandbox","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/","title":"Job bundle","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle","title":"job_bundle","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle-classes","title":"Classes","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.JobBundle","title":"JobBundle","text":"<pre><code>JobBundle(root_archive: Path | str | None = None)\n</code></pre> <p>               Bases: <code>UserList</code></p> Source code in <code>src/vimseo/utilities/sandbox/job_bundle.py</code> <pre><code>def __init__(self, root_archive: Path | str | None = None) -&gt; dict:\n    super().__init__()\n    if root_archive is not None:\n        self.import_archive(root_archive)\n</code></pre>"},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.JobBundle-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.JobBundle.remove_duplicate_jobs","title":"remove_duplicate_jobs","text":"<pre><code>remove_duplicate_jobs(delete_dirs=False)\n</code></pre> <p>Remove the duplicated job_results in the self list, based inputs values.</p> Source code in <code>src/vimseo/utilities/sandbox/job_bundle.py</code> <pre><code>def remove_duplicate_jobs(self, delete_dirs=False):\n    \"\"\"Remove the duplicated job_results in the self list, based inputs values.\"\"\"\n\n    id_to_remove = []\n    for i, job_i in enumerate(self):\n        for _j, job_j in enumerate(self[(i + 1) :]):\n            if job_i[\"inputs\"] == job_j[\"inputs\"]:\n                id_to_remove.append(job_j[\"ID\"])\n    id_to_remove = sorted(set(id_to_remove))  # order and remove duplicates\n\n    # remove duplicate jobs\n    for job in reversed(self):\n        if job[\"ID\"] in id_to_remove:\n            # erase the corresponding archive dir\n            if delete_dirs:\n                d = job[\"dir_archive_job\"]\n                if d.exists():\n                    print(f\"Removing duplicate job_results directory: {d}\")\n                    shutil.rmtree(str(d))\n\n            # remove this job results from self list\n            self.remove(job)\n</code></pre>"},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.JobBundle.report","title":"report","text":"<pre><code>report(\n    by_group=False,\n    differentiate_inputs=False,\n    collapse_vectors=True,\n) -&gt; str\n</code></pre> <p>Prints listed jobs, according to group options.</p> Source code in <code>src/vimseo/utilities/sandbox/job_bundle.py</code> <pre><code>def report(\n    self, by_group=False, differentiate_inputs=False, collapse_vectors=True\n) -&gt; str:\n    # TODO remake solution with job[\"diff_inputs\"] to visualize\n    #  that data with the rest (notably the ID)\n\n    \"\"\"Prints listed jobs, according to group options.\"\"\"\n\n    # TODO major correct : the collapse_vector should only influence the\n    #  plotting, and not destroy the actual values of the self list =&gt; work with\n    #  temporary hard copy\n\n    # def identity(*args, **kwargs):\n    #     return (*args, kwargs)\n\n    if len(self) == 0:\n        msg = \"Empty job bundle\"\n        raise ValueError(msg)\n\n    def identity(*args, **kwargs):\n        \"\"\"Identity function: returns what is fed to it.\"\"\"\n        # TODO Sebastien review, how to do it simplier ?\n        #   def identity(*args, **kwargs):\n        #         #     return (*args, kwargs)\n        #  does not work properly\n        if args and kwargs:\n            return (*args,), kwargs\n        if args:\n            return args[0] if len(args) == 1 else args\n        if kwargs:\n            return kwargs\n        return None\n\n    # Whether do differentiate the jobs to print\n    diff = self._differentiate_list if differentiate_inputs else identity\n\n    if by_group is False:\n        print(self.report(diff(self), collapse_vectors=collapse_vectors))\n    else:\n        group_matrix = {}\n        for group_name in self.grouping_keys:\n            # list group items but remove duplicates and sort alphabetically\n            k_group, k_individual = self._split_namespace(group_name)\n\n            local_vals = [job[k_group][k_individual] for job in self]\n            group_matrix[group_name] = sorted(set(local_vals.copy()))\n\n        def dive_report(\n            remaining_group_keys: list[str],\n            remaining_group_vals: list[str],\n            passed_groups: dict,\n            indent=0,\n        ):\n            recursive_call = dive_report\n\n            if len(remaining_group_keys) == 0:\n                # leaf =&gt; report corresponding jobs\n\n                # list the jobs abiding to passed_groups\n                jobs = []\n                for job in self:\n                    job_is_ok = True\n                    for k, v in passed_groups.items():\n                        k_group, k_individual = self._split_namespace(k)\n                        if job[k_group][k_individual] != v:\n                            job_is_ok = False\n                            break\n                    if job_is_ok:\n                        jobs.append(job)\n\n                # report the listed jobs\n                if len(jobs) &gt; 0:\n                    return see3(\n                        diff(jobs),\n                        indent=indent + 4,\n                        collapse_vectors=collapse_vectors,\n                    )\n                return None\n            first_key = remaining_group_keys[0]\n            first_vals = remaining_group_vals[0]\n            cat = \"\"\n            for group_val in first_vals:\n                new_passed_groups = passed_groups.copy()\n                new_passed_groups.update({first_key: group_val})\n\n                sub_tree_message = recursive_call(\n                    remaining_group_keys[1:],\n                    remaining_group_vals[1:],\n                    new_passed_groups,\n                    indent + 4,\n                )\n\n                if sub_tree_message is not None:\n                    cat += \" \" * indent + f\"{first_key} = {group_val}\\n\"\n                    cat += sub_tree_message\n            return cat\n\n        print(\n            dive_report(\n                list(group_matrix.keys()), list(group_matrix.values()), {}, 0\n            )\n        )\n</code></pre>"},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.JobBundle.to_dataset","title":"to_dataset","text":"<pre><code>to_dataset() -&gt; Dataset\n</code></pre> <p>Returns IO dataset (GEMSEO like) from the current bundle results.</p> Source code in <code>src/vimseo/utilities/sandbox/job_bundle.py</code> <pre><code>def to_dataset(self) -&gt; Dataset:\n    \"\"\"Returns IO dataset (GEMSEO like) from the current bundle results.\"\"\"\n\n    # consider a deep copy of self to avoid muting the original data in the\n    # process, especially the layup input that needs to be encoded\n    jobs = copy.deepcopy(self)\n\n    # checks if bundle is empty\n    if len(jobs) == 0:\n        msg = \"Empty list\"\n        raise ValueError(msg)\n    first_job = jobs[0]\n    # checks mono model/load_case in the bundle\n    for job in jobs:\n        if (\n            jobs[0][\"metadata\"][\"model\"] != job[\"metadata\"][\"model\"]\n            or jobs[0][\"metadata\"][\"load_case\"] != job[\"metadata\"][\"load_case\"]\n        ):\n            msg = (\n                \"The list of jobs to cast into dataset contains different \"\n                \"model or load_case.\"\n            )\n            raise ValueError(msg)\n\n    # checks rectangularity of data\n    for group in [\"inputs\", \"outputs\"]:\n        for job in jobs:\n            if first_job[group].keys() != job[group].keys():\n                msg = (\n                    f\"Data not rectangular: Inconsistent keys between jobs, \"\n                    f\"please check {group} : \"\n                    f\"{set(first_job[group].keys()) ^ set(job[group].keys())}  , \"\n                    f\"for job ID {job['ID']}\"\n                )\n                raise ValueError(msg)\n        for k in first_job[group]:\n            for job in jobs:\n                if np.size(first_job[group][k]) != np.size(job[group][k]):\n                    msg = (\n                        f\"Data not rectangular: job ID {job['ID']} has {group}:\"\n                        f\"{k} of diffrent size than first job {first_job['ID']}  \"\n                    )\n                    raise ValueError(msg)\n    # Checks non-scalar inputs\n    for j in jobs:\n        # encode layup as string\n        if \"layup\" in j[\"inputs\"]:\n            j[\"inputs\"][\"layup\"] = encode_vector(np.array(j[\"inputs\"][\"layup\"]))\n        # checks if other unexpected non-scalar input\n        for k, v in j[\"inputs\"].items():\n            if np.size(v) &gt; 1:\n                msg = (\n                    f\"Non scalar input of job ID {job['ID']} =&gt; not supported for \"\n                    f\"dataset: {k}:{v}\"\n                )\n                raise ValueError(msg)\n\n    # prepare dataset headers\n    map_key_to_group = {}\n    map_key_to_size = {}\n    for group in [\"inputs\", \"outputs\"]:\n        for k, v in first_job[group].items():\n            map_key_to_group.update({k: group})\n            map_key_to_size.update({k: np.size(v)})\n\n    variable_names = list(first_job[\"inputs\"].keys()) + list(\n        first_job[\"outputs\"].keys()\n    )\n\n    # data formatting for dataset creation\n    data = []\n    for j in jobs:\n        inputs = list(j[\"inputs\"].values())\n        a = list(j[\"outputs\"].values())\n        b = []\n        for v in a:\n            if isinstance(v, list):\n                for v_ in v:\n                    b.append(v_)\n            else:\n                b.append(v)\n        data.append(inputs + b)\n\n    return Dataset.from_array(\n        data=np.vstack(data),\n        variable_names=variable_names,\n        variable_names_to_group_names=map_key_to_group,\n        variable_names_to_n_components=map_key_to_size,\n    )\n</code></pre>"},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle-functions","title":"Functions","text":""},{"location":"reference/vimseo/utilities/sandbox/job_bundle/#vimseo.utilities.sandbox.job_bundle.see3","title":"see3","text":"<pre><code>see3(input: dict, indent=0, collapse_vectors=False) -&gt; str\n</code></pre> <p>Prints encapsulated dict and list into a readable format.</p> Source code in <code>src/vimseo/utilities/sandbox/job_bundle.py</code> <pre><code>def see3(input: dict, indent=0, collapse_vectors=False) -&gt; str:\n    \"\"\"Prints encapsulated dict and list into a readable format.\"\"\"\n\n    recursive = see3\n\n    toggle = False\n\n    if isinstance(input, dict):\n        print(\" \" * indent, \"gate dico\", list(input.keys())) if toggle else None\n\n        cat = \"\"\n\n        for k, v in input.items():\n            if k in [\"inputs\", \"outputs\", \"metadata\"]:\n                if collapse_vectors:\n                    # collapse the output vectors for lisibility\n                    if k == \"outputs\":\n                        for kk, vv in v.items():\n                            if isinstance(vv, list) and len(vv) &gt; 1:\n                                v[kk] = [\"collapsed\"]\n\n                cat += f\"{' ' * indent}* {k} = {v}\\n\"\n            elif isinstance(v, (list, dict)):\n                cat += f\"{' ' * indent}* {k} =\"\n                cat += \"\\n\" + recursive(v, indent + 4, collapse_vectors)  # +\"\\n\"\n            else:\n                cat += f\"{' ' * indent}* {k} =\"\n                cat += f\" {v}\\n\"\n        return cat\n\n    if isinstance(input, list):\n        print(\" \" * indent, \"gate list \", len(input)) if toggle else None\n\n        cat = \"\"\n        for i in range(len(input)):\n            info = (\n                f\"  ID #{input[i]['ID']}\"\n                if isinstance(input[i], dict) and \"ID\" in input[i]\n                else \"   yoyo\"\n            )\n            cat += \" \" * (indent + 4) + f\"item {i}/{len(input)}\" + info\n            cat += \"\\n\"\n            cat += recursive(input[i], indent + 8, collapse_vectors) + \"\\n\"\n        return cat\n    print(\" \" * indent, \"gate else: \", type(input), input) if toggle else None\n    return \" \" * (indent + 4) + str(input)  # +\"\\n\"\n</code></pre>"},{"location":"reference/vimseo/utilities/sandbox/save_parser/","title":"Save parser","text":""},{"location":"reference/vimseo/utilities/sandbox/save_parser/#vimseo.utilities.sandbox.save_parser","title":"save_parser","text":""},{"location":"reference/vimseo/workflow/","title":"Workflow","text":""},{"location":"reference/vimseo/workflow/#vimseo.workflow","title":"workflow","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow/","title":"Dashboard workflow","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow/#vimseo.workflow.dashboard_workflow","title":"dashboard_workflow","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow/#vimseo.workflow.dashboard_workflow-classes","title":"Classes","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow/#vimseo.workflow.dashboard_workflow-functions","title":"Functions","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow_model/","title":"Dashboard workflow model","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow_model/#vimseo.workflow.dashboard_workflow_model","title":"dashboard_workflow_model","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow_model/#vimseo.workflow.dashboard_workflow_model-classes","title":"Classes","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow_model/#vimseo.workflow.dashboard_workflow_model-functions","title":"Functions","text":""},{"location":"reference/vimseo/workflow/dashboard_workflow_model/#vimseo.workflow.dashboard_workflow_model.add_unhandled_settings","title":"add_unhandled_settings","text":"<pre><code>add_unhandled_settings(tool, settings)\n</code></pre> <p>Add the settings that are not handled by Streamlit-pydantic.</p> Source code in <code>src/vimseo/workflow/dashboard_workflow_model.py</code> <pre><code>def add_unhandled_settings(tool, settings):\n    \"\"\"Add the settings that are not handled by Streamlit-pydantic.\"\"\"\n    # TODO should be done in workflow step (method to_dict(settings_names)).\n    model = tool._st_settings\n    if model is not None:\n        default_settings = model().model_dump()\n        missing_attrs = set(default_settings.keys()) - set(settings.keys())\n        for attr in missing_attrs:\n            # Handle the case where a settings field is a Pydantic model:\n            if isinstance(model.model_fields[attr].default, BaseModel):\n                sub_settings = pydantic_input(\n                    key=attr,\n                    model=model.model_fields[attr].default,\n                    group_optional_fields=\"sidebar\",\n                    lowercase_labels=True,\n                )\n                settings[attr] = sub_settings\n                settings[attr].update(\n                    get_pydantic_model_item(model.model_fields[attr].default)\n                )\n            else:\n                # Otherwise use the settings default value\n                settings[attr] = default_settings[attr]\n</code></pre>"},{"location":"reference/vimseo/workflow/dashboard_workflow_model/#vimseo.workflow.dashboard_workflow_model.filter_settings","title":"filter_settings","text":"<pre><code>filter_settings(settings, settings_names)\n</code></pre> <p>Filtering, because streamlit pydantic appends all the settings when the pydantic model changes.</p> Source code in <code>src/vimseo/workflow/dashboard_workflow_model.py</code> <pre><code>def filter_settings(settings, settings_names):\n    \"\"\"Filtering, because streamlit pydantic appends all the settings when the pydantic\n    model changes.\"\"\"\n\n    return {name: option for name, option in settings.items() if name in settings_names}\n</code></pre>"},{"location":"reference/vimseo/workflow/entry_point/","title":"Entry point","text":""},{"location":"reference/vimseo/workflow/entry_point/#vimseo.workflow.entry_point","title":"entry_point","text":""},{"location":"reference/vimseo/workflow/workflow/","title":"Workflow","text":""},{"location":"reference/vimseo/workflow/workflow/#vimseo.workflow.workflow","title":"workflow","text":"<p>Chaining GEMSEO wrapped tools to run a workflow of tools.</p>"},{"location":"reference/vimseo/workflow/workflow/#vimseo.workflow.workflow-classes","title":"Classes","text":""},{"location":"reference/vimseo/workflow/workflow/#vimseo.workflow.workflow.Workflow","title":"Workflow","text":"<pre><code>Workflow(steps: Iterable[WorkflowStep])\n</code></pre> <p>A workflow of tools.</p> Source code in <code>src/vimseo/workflow/workflow.py</code> <pre><code>def __init__(self, steps: Iterable[WorkflowStep]):\n    self.__steps = steps\n    self._chain = MDAChain(steps)\n    self._chain.input_grammar._required_names = RequiredNames(\n        self._chain.input_grammar\n    )\n</code></pre>"},{"location":"reference/vimseo/workflow/workflow/#vimseo.workflow.workflow.Workflow-attributes","title":"Attributes","text":""},{"location":"reference/vimseo/workflow/workflow/#vimseo.workflow.workflow.Workflow.steps","title":"steps  <code>property</code>","text":"<pre><code>steps: Mapping[str, WorkflowStep]\n</code></pre> <p>The workflow steps.</p>"},{"location":"reference/vimseo/workflow/workflow_executor/","title":"Workflow executor","text":""},{"location":"reference/vimseo/workflow/workflow_executor/#vimseo.workflow.workflow_executor","title":"workflow_executor","text":""},{"location":"reference/vimseo/workflow/workflow_executor/#vimseo.workflow.workflow_executor-classes","title":"Classes","text":""},{"location":"reference/vimseo/workflow/workflow_executor/#vimseo.workflow.workflow_executor-functions","title":"Functions","text":""},{"location":"reference/vimseo/workflow/workflow_executor/#vimseo.workflow.workflow_executor.workflow_executor","title":"workflow_executor","text":"<pre><code>workflow_executor(\n    file_path: Path | str, input_path: Path | str = \"\"\n)\n</code></pre> <p>Execute a workflow stored in a <code>JSON</code> file.</p> Source code in <code>src/vimseo/workflow/workflow_executor.py</code> <pre><code>def workflow_executor(\n    file_path: Path | str,\n    input_path: Path | str = \"\",\n):\n    \"\"\"Execute a workflow stored in a ``JSON`` file.\"\"\"\n    workflow = Workflow.from_json_path(file_path)\n    with tempfile.TemporaryDirectory() as tmp_dir:\n        with zipfile.ZipFile(input_path, \"r\") as zip_ref:\n            zip_ref.extractall(tmp_dir)\n        workflow._set_input_file_dir_path(Path(tmp_dir) / \"workflow_data\")\n        workflow.execute()\n        LOGGER.info(f\"Workflow results: {workflow._chain.get_output_data()}\")\n</code></pre>"},{"location":"reference/vimseo/workflow/workflow_step/","title":"Workflow step","text":""},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step","title":"workflow_step","text":"<p>A wrapping of a <code>BaseTool</code> in a GEMSEO Discipline to enable running workflows of tools.</p>"},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step-classes","title":"Classes","text":""},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step.Input","title":"Input  <code>dataclass</code>","text":"<pre><code>Input(name: str = '', option_key: str = '')\n</code></pre> <p>Input(name: 'str' = '', option_key: 'str' = '')</p>"},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step.Output","title":"Output  <code>dataclass</code>","text":"<pre><code>Output(name: str = '', attr_name: str = '')\n</code></pre> <p>Output(name: 'str' = '', attr_name: 'str' = '')</p>"},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step.WorkflowStep","title":"WorkflowStep","text":"<pre><code>WorkflowStep(\n    name: str,\n    tool_name: str,\n    tool_settings: BaseSettings,\n    tool_constructor_options: dict | None = None,\n    inputs: Iterable[Input] = (),\n    outputs: Iterable[Output] = (),\n)\n</code></pre> <p>               Bases: <code>Discipline</code></p> <p>The base class for disciplines.</p> <p>The :meth:<code>.execute</code> method is used to do compute output data from input data. The :meth:<code>.linearize</code> method can be used to compute the Jacobian of the differentiable outputs with respect to differentiated inputs. The :attr:<code>.jac</code> stores this Jacobian. This method can evaluate the true derivatives (default) if the :meth:<code>_compute_jacobian</code> method is implemented or approximated the derivatives, depending on the :attr:<code>.linearization_mode</code> (one of :attr:<code>.LinearizationMode</code>).</p> <p>Initialize self.  See help(type(self)) for accurate signature.</p> <p>Parameters:</p> <ul> <li> <code>name</code>               (<code>str</code>)           \u2013            <p>The name of the discipline. If empty, use the name of the class.</p> </li> <li> <code>tool_name</code>               (<code>str</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>tool_settings</code>               (<code>BaseSettings</code>)           \u2013            <p>The description is missing.</p> </li> <li> <code>tool_constructor_options</code>               (<code>dict | None</code>, default:                   <code>None</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>inputs</code>               (<code>Iterable[Input]</code>, default:                   <code>()</code> )           \u2013            <p>The description is missing.</p> </li> <li> <code>outputs</code>               (<code>Iterable[Output]</code>, default:                   <code>()</code> )           \u2013            <p>The description is missing.</p> </li> </ul> Source code in <code>src/vimseo/workflow/workflow_step.py</code> <pre><code>def __init__(\n    self,\n    name: str,\n    tool_name: str,\n    tool_settings: BaseSettings,\n    tool_constructor_options: dict | None = None,\n    inputs: Iterable[Input] = (),\n    outputs: Iterable[Output] = (),\n):\n    super().__init__(name)\n    self._tool_name = tool_name\n    self._tool_constructor_options = tool_constructor_options or {}\n    tool = ToolsFactory().create(tool_name, **self._tool_constructor_options)\n    tool.update_options(**tool_settings.model_dump())\n    self._tool = tool\n    self._inputs = inputs\n    self._outputs = outputs\n    self._tool_settings = tool_settings\n\n    for i in self._inputs:\n        data = self._tool._options[i.option_key]\n        if data is None:\n            self.input_grammar.update_from_types({i.name: None})\n        else:\n            self.input_grammar.update_from_data({i.name: data})\n\n    for output in self._outputs:\n        output_data = (\n            self._tool.result\n            if output.attr_name == \"result\"\n            else getattr(self._tool.result, output.attr_name)\n        )\n        if output_data is None:\n            self.output_grammar.update_from_types({output.name: None})\n        else:\n            self.output_grammar.update_from_data({output.name: output_data})\n</code></pre>"},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step-functions","title":"Functions","text":""},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step.deserialize_pydantic_settings","title":"deserialize_pydantic_settings","text":"<pre><code>deserialize_pydantic_settings(\n    input_settings: Mapping[str, Any],\n)\n</code></pre> <p>Reconstruct the fields of a <code>BaseSettings</code> as Pydantic model instance if they are of this type.</p> <p>Only the case of nested Pydantic model fields in dictionaries is handled:</p> <pre><code>class MySettings(BaseSettings):\n    pydantic_field: MyPydanticField = MyPydanticField\n    nested_pydantic_field: Mapping[str, MyPydanticField] = {}\n    double_nested_pydantic_field: Mapping[str, Mapping[str, MyPydanticField]] = {}\n</code></pre> <p>The case of lists of Pydantic fields is not handled.</p> Source code in <code>src/vimseo/workflow/workflow_step.py</code> <pre><code>def deserialize_pydantic_settings(input_settings: Mapping[str, Any]):\n    \"\"\"Reconstruct the fields of a ``BaseSettings`` as Pydantic model instance if they\n    are of this type.\n\n    Only the case of nested Pydantic model fields in dictionaries is handled:\n\n    ```\n    class MySettings(BaseSettings):\n        pydantic_field: MyPydanticField = MyPydanticField\n        nested_pydantic_field: Mapping[str, MyPydanticField] = {}\n        double_nested_pydantic_field: Mapping[str, Mapping[str, MyPydanticField]] = {}\n    ```\n\n    The case of lists of Pydantic fields is not handled.\n    \"\"\"\n    settings = deepcopy(input_settings)\n    for name, value in settings.items():\n        if isinstance(value, dict):\n            if \"__pydantic_model__\" in value:\n                create_pydantic_model(name, value, settings)\n            else:\n                for name_, value_ in value.items():\n                    if isinstance(value_, dict):\n                        if \"__pydantic_model__\" in value_:\n                            create_pydantic_model(name_, value_, settings[name])\n                        else:\n                            for name__, value__ in value_.items():\n                                if (\n                                    isinstance(value__, dict)\n                                    and \"__pydantic_model__\" in value__\n                                ):\n                                    create_pydantic_model(\n                                        name__,\n                                        value__,\n                                        settings[name][name_],\n                                    )\n    return settings\n</code></pre>"},{"location":"reference/vimseo/workflow/workflow_step/#vimseo.workflow.workflow_step.serialize_pydantic_settings","title":"serialize_pydantic_settings","text":"<pre><code>serialize_pydantic_settings(\n    input_settings: BaseSettings,\n    attr_names: Iterable[str] = (),\n)\n</code></pre> <p>Serialize (JSON compatible) a <code>BaseSettings</code> Pydantic model defining a tool settings.</p> <p>It handles the case where a field of <code>BaseSettings</code> is a Pydantic model. This field is serialized as a dictionary obtained with <code>my_field.model_dump()</code>, and the item {'pydantic_model': <code>field_module.field_class_name</code>} is added to this dictionary. It allows to be able to reconstruct the field as a Pydantic model instance later.</p> Source code in <code>src/vimseo/workflow/workflow_step.py</code> <pre><code>def serialize_pydantic_settings(\n    input_settings: BaseSettings, attr_names: Iterable[str] = ()\n):\n    \"\"\"Serialize (JSON compatible) a ``BaseSettings`` Pydantic model defining a tool\n    settings.\n\n    It handles the case where a field of ``BaseSettings`` is a Pydantic model.\n    This field is serialized as a dictionary obtained with ``my_field.model_dump()``,\n    and the item {'__pydantic_model__': ``field_module.field_class_name``} is added to\n    this dictionary.\n    It allows to be able to reconstruct the field as a Pydantic model instance later.\n    \"\"\"\n    settings = {}\n    default_settings = input_settings.model_dump()\n    attr_names = default_settings.keys() if len(attr_names) == 0 else attr_names\n    for attr in attr_names:\n        # Handle the case where a settings field is a Pydantic model:\n        if isinstance(input_settings.model_fields[attr].default, BaseModel):\n            settings[attr] = get_pydantic_model_item(\n                input_settings.model_fields[attr].default\n            )\n            settings[attr].update(\n                input_settings.model_fields[attr].default.model_dump()\n            )\n        else:\n            # Otherwise use the settings default value\n            settings[attr] = default_settings[attr]\n    return settings\n</code></pre>"},{"location":"references/abaqus_wrapper/","title":"Abaqus wrapper","text":""},{"location":"references/abaqus_wrapper/#abaqus_wrapper","title":"Abaqus wrapper","text":"<p>VIMSEO proposes a wrapper dedicated to Abaqus models. It is built on the following mechanisms:</p> <p>The pre-processor:   - generates a unique job directory in the current working directory.   - writes a file called <code>job_arguments.json</code> in the job directory     containing the input data for the pre-processing script.   - executes a script file with Abaqus CAE. The script file must be     contained in the VIMSEO package, typically under     the <code>lib_vims</code> directory. (or plugin package in case of a plugin).     The path to the script file is defined by: - The name of the     package (class attribute <code>_PACKAGE_NAME</code>) - the path to the     directory containing the script, relative to the package root     (class attribute <code>_LIBRARY_DIR_NAME</code>). - the name of the script     file (class attribute <code>_ABAQUS_SCRIPT</code>).</p> <p>The run component executes a subprocess with the command line defined in the configuration file (typically a text file with extension <code>.config</code> in the working directory). This class is expected to be generic. Only the command line to launch Abaqus is specific.</p> <p>The post-processor:   - executes a script file with Abaqus CAE. The same attributes as in     pre-processor are used to define its path. The script file must     write a <code>job_outputs.csv</code> or <code>job_outputs.json</code> file containing     the output data.</p> <ul> <li> <p>Reads the job output file and fills the output data of the     post-processor.</p> <p>Note</p> <p>Monitoring variables (see class attribute MONITORING_VARIABLES of <code>vimseo.core.base_integratde_model.BaseIntegratedModel</code>) are automatically added to the output grammar of the post-processor and model. It is the responsability of the post-processor to set the value of <code>ERROR_CODE</code> in the output data.</p> </li> </ul> <p>The model orchestrates the successive executions of these three components.</p>"},{"location":"references/acronyms/","title":"Acronyms","text":"<p>General</p> <ul> <li>QoI: Quantity of Interest</li> <li> <p>MDO:     Multi-Disciplinary Optimization.</p> </li> <li> <p>Coupon tests:     Tests mechanical properties of a material on standard shapes and TODO sollicitation</p> </li> </ul> <p>Verification:</p> <ul> <li>\\(GCI\\): Grid Convergence Index</li> <li>RDE: Relative Discretization Error</li> </ul> <p>Composites:</p> <ul> <li>PS: Plain Strength</li> <li>OH: Open Hole</li> </ul> <p>Load cases:</p> <ul> <li>LC: Load Case</li> <li>PST: Plain Strength Tension</li> <li>PSC: Plain Strength Compression</li> <li>OHT: Open Hole Tension</li> <li>OHC: Open Hole Compression</li> </ul> <p>Material:</p> <ul> <li>material grade:     Can be titanium or steel for example</li> </ul> <p>Uncertainty Quantification</p> <ul> <li>b-value     Material tests are subjected to uncertainties     due to variability in material properties     or test bench.     In general, several tests are repeated on a batch of material.     B-value is an estimator of a ten percent quantile of a material property.     It takes into account the fact that the number of tests     may not be sufficient to obtain converged statistics.     The tests may measure deformation against applied force.     Based on several curves, the maximum force value above which plastic deformation occurs     can be estimated.     Different values of this maximum force are obtained on a batch.     B-value allows to estimated a conservative maximum force value     taking into account variability in testing and material properties.</li> </ul>"},{"location":"references/component_based_model/","title":"Component based Model","text":""},{"location":"references/component_based_model/#components_of_model","title":"Components of a model","text":"<p>The following scheme represents the concept of a model and its components:</p> <p></p> <p>In VIMSEO, models derived from <code>vimseo.core.base_integrated_model.PreRunPostModel</code> are linking components deriving from a generic class <code>vimseo.core.base_component.BaseComponent</code>. Three kinds of components are already specialised to play the role of model pre-processor, run and post-processor, respectively classes <code>vimseo.core.components.pre.PreProcessor</code>, <code>~.ModelRun</code> and <code>~.PostProcessor</code>.</p>"},{"location":"references/component_based_model/#preprocessors-of-a-model","title":"Preprocessors of a model","text":"<p>The preprocessor of a model is the component which is executed first and prepares data (like meshes) and configuration files for the solver component. A model can have several preprocessors depending on the considered load case.</p>"},{"location":"references/component_based_model/#solver-of-a-model","title":"Solver of a model","text":"<p>The solver of a model is basically the component that puts the problem defined by the preprocessor into an equation and solves it.</p>"},{"location":"references/component_based_model/#postprocessors-of-a-model","title":"Postprocessors of a model","text":"<p>The post-processor is a component in charge of applying some treatments to raw results of the solver and return the outputs to be stored at the level of the model. A model can have several preprocessors depending on the considered load case.</p>"},{"location":"references/materials/","title":"Materials","text":""},{"location":"references/materials/#materials","title":"Materials","text":"<p>Material</p>"},{"location":"references/state_of_the_art/","title":"State of the Art","text":""},{"location":"references/state_of_the_art/#state-of-the-art","title":"State of the art","text":""},{"location":"references/state_of_the_art/#vvuq-concepts","title":"VVUQ concepts","text":"<p>https://www.researchgate.net/publication/343511775_Unified_Framework_and_Survey_for_Model_Verification_Validation_and_Uncertainty_Quantification</p> <p>https://www.aoe.vt.edu/content/dam/aoe_vt_edu/people/faculty/cjroy/Publications-Articles/VVUQ-CMAME.Final-Accepted-FIGURES.pdf</p> <p>https://link.springer.com/article/10.1007/s11831-020-09473-7</p> <p>https://ir.vanderbilt.edu/handle/1803/17891</p> <p>https://cstools.asme.org/csconnect/FileUpload.cfm?View=yes&amp;ID=73615</p> <p>Notation and uncertainty intervals are taken from https://asmedigitalcollection.asme.org/verification/article/7/3/031005/1146443/Confidence-Intervals-for-Richardson-Extrapolation <sup>1</sup></p> <p>The Relative Discretization Error (RDE) is taken from <sup>2</sup></p> <p>https://eikosim.com/en/technical-articles/vvuq-references-aerospace-solid-mechanics/</p> <p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2024/87769/V001T05A002/1201226</p>"},{"location":"references/state_of_the_art/#vvuq-software-and-platforms","title":"VVUQ software and platforms","text":"<p>https://github.com/snl-dakota/dakota</p> <p>https://easyvvuq.readthedocs.io/en/dev/</p> <p>https://www.seavea-project.org/seaveatk/</p> <p>https://services.excellerat.eu/</p> <p>https://uranie.cea.fr/</p> <p>https://persalys.fr/define_modele.php</p>"},{"location":"references/state_of_the_art/#relative-area-metric","title":"Relative Area Metric","text":"<p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2022/85765/V001T05A001/1143094</p> <p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2022/85765/V001T05A001/1143094</p> <p>https://www.mdpi.com/2227-7390/11/11/2511</p> <p>https://asmedigitalcollection.asme.org/verification/article-abstract/7/4/041005/1154440/On-the-Failure-of-the-Area-Metric-for-Validation?redirectedFrom=PDF</p> <p>https://ontonixqcm.blog/2021/10/30/on-stochastic-model-validation/</p>"},{"location":"references/state_of_the_art/#bayesian-approach","title":"Bayesian approach","text":"<p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2023/86748/V001T08A002/1164354</p> <p>https://www.sciencedirect.com/science/article/abs/pii/S0029549319302092</p>"},{"location":"references/state_of_the_art/#misc-for-the-culture","title":"Misc for the culture","text":"<p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2023/86748/V001T04A001/1164351</p> <p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2022/85765/V001T08A001/1143090</p> <p>https://asmedigitalcollection.asme.org/VVS/proceedings/VVUQ2024/87769/V001T01A001/1201232</p>"},{"location":"references/state_of_the_art/#applications-to-composite-damage","title":"Applications to composite damage","text":"<p>https://www.sciencedirect.com/science/article/pii/S0266353824000320?dgcid=raven_sd_recommender_email</p> <p>https://www.sciencedirect.com/science/article/pii/S1359836824007212</p>"},{"location":"references/state_of_the_art/#application-to-lattice-structures","title":"Application to Lattice structures","text":"<p>https://link.springer.com/article/10.1007/s00366-024-02091-y</p> <ol> <li> <p>Petr Krysl. Confidence intervals for richardson extrapolation in solid mechanics. J. Verif. Valid. Uncert., 7(3):031005, 2022. doi:https://doi.org/10.1115/1.4055728.\u00a0\u21a9</p> </li> <li> <p>Christopher J. Roy. Review of code and solution verification procedures for computational simulation. Journal of Computational Physics, 205(1):131\u2013156, 2005. URL: https://www.sciencedirect.com/science/article/pii/S0021999104004619, doi:https://doi.org/10.1016/j.jcp.2004.10.036.\u00a0\u21a9</p> </li> </ol>"},{"location":"references/materials/","title":"Index","text":""},{"location":"references/materials/#material-description","title":"Material description","text":"<p>Ta6v</p> <p>Link to model gallery</p>"},{"location":"references/materials/ta6v/","title":"Ta6v","text":""},{"location":"references/materials/ta6v/#ta6v","title":"Ta6v","text":"name description unit category material_relation default_value distribution young_modulus nan none Undefined Ta6v_elastic_iso 210000 Normal nu_p nan none Undefined Ta6v_elastic_iso 0.3 Normal"},{"location":"references/solution_verification/solution_verification_method/","title":"Solution Verification","text":""},{"location":"references/solution_verification/solution_verification_method/#solution-verification","title":"Solution verification","text":"<p>Solution verification can be carried out by analyzing model results on progressively refined meshes. The two main indicators to assess mesh convergence are the Relative Discretization Error (RDE) <sup>1</sup> and the Richardson extrapolation. The latter is mostly used in Computation Fluid Dynamics, and assumes that the model is in the asymptotic range regarding the mesh size. In <sup>2</sup>, it is shown that using four meshes allows to estimate the confidence in Richardson extapolation.</p> <p>Note</p> <p>The time (for explicit models) or pseudo-time integration scheme could also be verified.</p> <p>These two methods are implemented in VIMSEO, in the tool named <code>DiscretizationSolutionVerification</code>. and can be displayed by the dashboard <code>dashboard_verification</code>. Solution verification is performed through a convergence study of the solution on four progressively refined meshes (only three meshes would be strictly necessary), which allows to compute some uncertainties on the \\(GCI\\), RDE and Richardson extrapolation.</p> <p>An example of Python script setting up the solution verification for the <code>OpfmPlate</code> model with load case <code>PST</code> can be found here.</p>"},{"location":"references/solution_verification/solution_verification_method/#mesh-convergence-indicators","title":"Mesh Convergence Indicators","text":"<p>Several indicators are used to help decision-making on the approriate mesh element size.</p>"},{"location":"references/solution_verification/solution_verification_method/#notations","title":"Notations","text":"<p>\\(\\gamma_0\\) to \\(\\gamma_3\\) are element sizes, from coarsest to finest. \\(q_{\\gamma_i}\\) is the solution obtained on the mesh with element size \\(\\gamma_i\\). \\(E_q = q_{exact} - q_{\\gamma}\\) is the true error of the solution.</p>"},{"location":"references/solution_verification/solution_verification_method/#richardson-extrapolation","title":"Richardson extrapolation","text":"<p>Considering \\(\\gamma\\) is a continuous variable, the true error on the simulation result \\(q\\) can be expanded in \\(\\gamma\\):</p> \\[ E_q(\\gamma) = q_{exact} - q_{\\gamma} \\approx C {\\gamma}^{\\beta} \\] <p>\\(\\beta\\) can be obtained by solving a non-linear equation involving solutions on three progressively refined meshes. Note that a solution for \\(\\beta\\) cannot always be found.</p> <p>Once \\(\\beta\\) is found, \\(C\\) can be obtained by considering the solution on two meshes (by subtracting the above equation, which cancels \\(q_{exact})\\). Finally, the Richardson extrapoled value \\(q_{exact}\\) can be computed from \\(C\\) and \\(\\beta\\).</p>"},{"location":"references/solution_verification/solution_verification_method/#grid-convergence-index","title":"Grid Convergence Index","text":"<p>The \\(GCI\\) is an indicator of the solution convergence on the mesh. It requires to know the order of convergence of the solution, based on the computation of the extrapoled value with Richardson method. The \\(GCI\\) requires the solution on two meshes. Thus different values for the \\(GCI\\) can be obtained from four meshes. For the two fines meshes, the \\(GCI\\) is:</p> \\[ GCI_{finest} = F_s \\frac{q_{\\gamma_3} - q_{\\gamma_2}}{q_{\\gamma_3}} \\frac{1}{(\\gamma_2 / \\gamma_3)^{\\beta} - 1} \\] <p>An error band can be computed for the \\(GCI\\)<sup>2</sup>:</p> <p>\\(E_b(GCI_{finest}) = q_{\\gamma_3} (1 \\pm GCI_{finest})\\)</p> <p>However, it is often the case that Richardson extrapolation cannot be computed (for instance, if the solution oscillates between consecutive refined meshes). In such case, we can still provide a value of the \\(GCI\\) by assuming a convergence order. Note also that two meshes must be selected to compute this indicator. Currently, the \\(GCI\\) is computed on the two finest meshes and the two coarsest meshes. The solution verification dashboard shows these two \\(GCI\\) values for:</p> <ul> <li>the computed order of convergence, if possible</li> <li>an assumed order of convergence of one and two.</li> </ul>"},{"location":"references/solution_verification/solution_verification_method/#relative-discretization-error","title":"Relative Discretization Error","text":"<p>The RDE is another indicator of the numerical error due to the mesh discretization. It can be computed from two meshes. Thus three RDE values can be computed from the four simulated meshes. Note that it also requires that the extrapolated value with Richardson method is computed.</p> \\[ RDE_3 = \\frac{q_{\\gamma_3} - q_{exact}}{q_{exact}} = \\frac{q_{\\gamma_2} - q_{\\gamma_1}}{q_{exact} ({\\gamma}^{\\beta} - 1)} \\] <p>and similarly as for the \\(GCI\\):</p> <p>\\(E_b(RDE) = q_{\\gamma_3} (1 \\pm RDE)\\)</p> <p>TODO: refer to vimseo doc once ported to mkdocs and deployed</p> <p>TODO: add a synthetic uncertainty indicator, that can be used for decision making.</p>"},{"location":"references/solution_verification/solution_verification_method/#element-size-choice","title":"Element size choice","text":"<p>At least three progressively refined meshes are necessary to compute the above indicators. According to <sup>2</sup>, running four meshes allows to get some confidence intervals on the indicators. The <code>DiscretizationSolutionVerification</code> implements this approach, where four element sizes must be specified in strictly decreasing order.</p> <p>In the following application, the element sizes are \\([dx_0 \\times r, dx_0, dx_0 \\times r^{-1}, dx_0 \\times r^{-2}]\\). They become \\([CF \\times r, CF, CF \\times r^{-1}, CF \\times r^{-2}]\\) if the model input controlling the mesh size is the \\(coarsening\\_factor\\) (\\(CF\\)). We choose \\(r=1.2\\).</p> <p>Note</p> <p>Some models have their element size controlled by the input <code>coarsening_factor</code>. The relationship with the element size \\(dx\\) is \\(dx = dx_0 \\times coarsening\\_factor\\), with \\(dx_0\\) is the nominal element size.  </p> <ol> <li> <p>Christopher J. Roy. Review of code and solution verification procedures for computational simulation. Journal of Computational Physics, 205(1):131\u2013156, 2005. URL: https://www.sciencedirect.com/science/article/pii/S0021999104004619, doi:https://doi.org/10.1016/j.jcp.2004.10.036.\u00a0\u21a9</p> </li> <li> <p>Petr Krysl. Confidence intervals for richardson extrapolation in solid mechanics. J. Verif. Valid. Uncert., 7(3):031005, 2022. doi:https://doi.org/10.1115/1.4055728.\u00a0\u21a9\u21a9\u21a9</p> </li> </ol>"},{"location":"tutorials/vvuq_study/introduction/","title":"VVUQ study","text":""},{"location":"tutorials/vvuq_study/introduction/#some-key-steps-of-a-vvuq-study","title":"Some key steps of a VV&amp;UQ study","text":"<p>In this tutorial you will learn about key steps in any VV&amp;UQ workflow:</p> <ul> <li>code verification</li> <li>solution (convergence) verification</li> <li>sensitivity analysis</li> </ul> <p>Code verification Solution verification Sensitivity analysis</p>"},{"location":"tutorials/vvuq_study/code_verification/","title":"Index","text":""},{"location":"tutorials/vvuq_study/code_verification/#code-verification","title":"Code Verification","text":"<p>Code verification for Opfm damage law</p>"},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/","title":"Code verification opfm","text":""},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/#verification-of-the-opfm-material-law","title":"Verification of the Opfm material law","text":"<p>TODO replace OpfmCUbe by OpfmUnitcell</p> <p>To verify that the expected model form is correctly implemented, the <code>OpfmCube</code> model is used. Indeed, this model uses the same <code>run-processor</code> processor component (and thus the same material subroutine) as the <code>OpfmPlate</code> model. It differs from the latter by its <code>pre-processor</code> and <code>post-processor</code> components, in which an RVE approach is used instead of a meshed model of a plate. Thus, it allows the verification of the implementation of the model dataflow, the call to <code>Abaqus</code> with proper options, and the interfacing with the subroutine. The verification is based on the relationship between the material properties defined as inputs and the model's outputs such as max_strength. For instance, when considering the response simulated with the OpfmCube model under a pure longitudinal load (PST on 0\u00b0 laminate), the material property Xt should be equal to the max_strength output. The code verification relies on the VIMSEO <code>CodeVerificationAgainstData</code> tool, where an example is given here.</p> <p>The error between <code>Xt</code> and <code>max_strength</code> is computed for two values of the numerical parameter <code>nb_intervals</code>, which controls the convergence of the subroutine. The reference dataset that needs to be specified to the <code>CodeVerificationAgainstData</code> tool is composed of three variables:   - the inputs <code>Xt</code> and <code>nb_intervals</code>   - the output <code>max_strength</code></p> <p>Several metrics of comparison can be specified to evaluate the error between the reference output and the corresponding simulated value.</p> <p></p> <p>Here, the relative error is found to be negligible.</p>"},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/#matrix","title":"Matrix","text":"Unnamed: 1 Unnamed: 2 Unnamed: 3 Unnamed: 4 OpfmPlate OpfmUnitCell OpfmCube rel_tol PST, [0] PST0 PST0 0.2 PST, [0, 0] PST0 PST0 0.2 PST, [90] PST90 PST90 0.2 PST, [90, 90] PST90 PST90 0.2 PSC, [0] PSC0 PSC0 0.2 PSC, [0, 0] PSC0 PSC0 0.2 PSC, [90] PSC90 PSC90 0.2 PSC, [90, 90] PSC90 PSC90 0.2 PST, [45, -45]s IPS IPS 0.2 nan nan nan nan nan nan nan nan PgPlate nan nan nan OHT VATool nan 0.2 PST VATool nan 0.2 nan nan nan nan nan nan nan nan nan nan nan nan OpfmCube nan nan nan PST0 max_strength=Xt nan epsilon PSC0 max_strength=Xc nan epsilon PST90 max_strength=Yt nan epsilon PSC90 max_strength=Yc nan epsilon"},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/#verification-of-the-integration-of-the-opfm-material-law-with-abaqus","title":"Verification of the integration of the Opfm material law with Abaqus","text":"<p>Repeat above verif for OpfmCUbe</p> <p>Then, the integration of the Opfm law with Abaqus, which is done through VIMSEO <code>RunAbaqusWrapper</code> can be performed. First, we can check that the OpfmCube and OpfmUnitCell models return results that are close on load cases with uniform stress distribution. By close, we mean \\(10 \\%\\) error, because the boundary conditions between the two models are not strictly the same.</p> <p>TODO add link to deployed doc</p>"},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/#code-verification-for-opfmplate-model-pst","title":"Code verification for OpfmPlate model PST","text":"<p>Secondly, we can check that the OpfmPlate and OpfmCube model also return close results.</p> <p>The following test matrix is used:</p> OpfmPlate layup OpfmUnitCell OpfmCube rel_tol PST [0] PST0 PST0 0.1 PST [0, 0] PST0 PST0 0.1 PST [90] PST90 PST90 0.1 PST [90, 90] PST90 PST90 0.1 PSC [0] PSC0 PSC0 0.1 PSC [0, 0] PSC0 PSC0 0.1 PSC [90] PSC90 PSC90 0.1 PSC [90, 90] PSC90 PSC90 0.1 <p>The OpfmPlate PST model is verified against OpfmCube PST. The variables of the parameter space on which the models are sampled correspond to input variables to which the <code>max_strength</code> output is the most sensitive for the OpfmCube PST model, which are:</p> <ul> <li>\\(E1\\)</li> <li>\\(E1t\\)</li> <li>\\(G12\\)</li> <li>\\(Xt\\)</li> </ul> <p>The geometrical parameters:</p> <ul> <li>\\(width\\)</li> <li>\\(length\\)</li> <li>\\(thickness\\)</li> </ul> <p>are also added. Triangular distributions are defined for each variable, ranging over the bounds defined in the Opfm material of <code>vims-composites</code>.</p> <p>TODO link to example</p>"},{"location":"tutorials/vvuq_study/code_verification/code_verification_opfm/#layup-0","title":"Layup \\([0]\\)","text":"<p>The input parameter space is represented in the following figure: </p> <p>One way to represent how the error range and their distribution is to plot a histogram of the errors (one for each error metric). Thus, in abscissa we have error band values, and in ordinate we have the number of error values within a given band. We observe that the relative error on \\(max\\_strength\\) between the two models can reach \\(10 \\%\\): </p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/","title":"Index","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/#sensitvity-study","title":"Sensitvity study","text":"<p>Sensitivity analysis methodology OpfmCube sensitivity analysis OpfmPlate OH sensitivity analysis</p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/methodology/","title":"Methodology","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/methodology/#sensitivity-analysis","title":"Sensitivity Analysis","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/methodology/#methodology","title":"Methodology","text":"<p>Two parameter spaces are generated to assess the influence of the parameter space on the sensitivity analysis:</p> <ul> <li> <p>The first one (named \\(cov=5 \\%\\)) defines triangular distribution   with the mode being the model default input values,   and the minimum and maximum computed by a coefficient of variation of \\(5\\%\\) around the mode.   The choice of this coefficient of variation is based on material expert knowledge and   is expected to be a representative of the material variability.   If the model default value is zero, then the mode becomes zero and the minimum and maximum   are respectively \\(-0.05\\) and \\(0.05\\), unless this variable has a bound within this interval.   In this case, the minimum or maximum is set to the bound value.</p> </li> <li> <p>The second one (named \\(cov=20 \\%\\)) is defined using the same procedure, but with uniform distribution   and a coefficient of variation of \\(20 \\%\\).</p> </li> </ul> <p>Using these two parameter spaces will allow to determine how the sensitivities change for different assumptions on the variability of the uncertain inputs. We are in particular interested in the robustness of the ranking of the sensitive inputs.</p> <p>Three layups are considered. They are expected to reveal different influent parameters on the model outputs:</p> <ul> <li>\\([30, 90, -30, 90, -30, -30, 90, -30, 90, 30]\\)</li> <li>\\([-60, 0, 60, 0, -60, 60, 60, -60, 0, 60, 0, -60]\\)</li> <li>\\([45, -45, 0, 45, -45, -45, 45, 0, -45, 45]\\)</li> </ul> <p>Morris sensitivity analysis is performed. Its cost is larger than a One-at-a-time analysis, but much lower than a Sobol analysis. It provides richer information than a One-at-a-time analysis for a reasonable computational cost increase. Morris method can be defined either from:</p> <ul> <li>a number of replicates. Default value is 5. Each replicate involves \\(N+1\\) model evaluation,     where \\(N\\) is the dimension of the input space.</li> <li>a number of samples</li> </ul> <p>Morris has two drawbacks:</p> <ul> <li>Both indicator \\(\\mu^*\\) and \\(\\sigma\\) must be analyzed, since looking only at \\(\\mu^*\\)     may lead to underpredict the sensitivity</li> <li>A lack of robustness to a model failure: if a model evaluation fails, the whole analysis is broken</li> </ul> <p>Note</p> <p>As for other sensitivity analysis based on finite differences, Morris sensitivity requires to define a step value to compute the finite differences. This step is defined as a ratio, which is multiplied by the range of the input variable to obtain the distance between the two points used to compute the finite difference. The default value for this ratio is \\(0.05\\). If we define distributions of the input variable with a coefficient of variation of \\(0.05\\), then the step used to compute the finite difference relative to input \\(x_1\\) is \\(Mean(x_1) \\times 0.05 \\times 0.05\\). As a result, this step parameter is expected to have a direct impact on the sensitivity results. It would be interesting to run the sensitivity analysis for two values of this parameter.</p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/methodology/#matrix","title":"Matrix","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/","title":"Sensitivity","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#results-for-opfmcube","title":"Results for OpfmCube","text":"<p>The results for the OpfmCube model are presented based on the sensitivity viewer dashboard, which can be obtained by typing <code>dashboard_sensitivity</code> in a console where VIMSEO is installed:</p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#opfmcube-pst","title":"OpfmCube PST","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-30-90-30-90-30-30-90-30-90-30","title":"Layup \\([30, 90, -30, 90, -30, -30, 90, -30, 90, 30]\\)","text":"<p>We present the plots available in the <code>dashboard_sensitivity</code>. These plots are specialized for a Morris analysis. Other type of sensitivity analysis would be visualized through specific plots. First, a bar plot summarizes the sensitivity of one or several outputs to all inputs. A <code>standardize</code> option can be used to scale the highest sensitivity to one. For a Morris analysis, the \\(\\mu^*\\) indicator is shown.</p> \\(cov=5 \\%\\) <p>A radar plot representation for \\(\\mu^*\\) index is also available. Based on the max strength, the most sensitive variables are \\(X_t\\), \\(E_{1t}\\) and \\(E_1\\).</p> <p>Finally, more details about the sensitivities can be obtained with the \\(\\sigma\\) versus \\(\\mu^*\\) plots. A single output is selected on each plot. The value of \\(\\sigma\\) represents how much the relationship of the output versus an input is non-linear.</p> \\(cov=5 \\%\\)"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-60-0-60-0-60-60-60-60-0-60-0-60","title":"Layup \\([-60, 0, 60, 0, -60, 60, 60, -60, 0, 60, 0, -60]\\)","text":"\\(cov=5 \\%\\) <p>Based on the max strength, the most sensitive variables is \\(X_t\\).</p> <p>Finally, more details about the sensitivities can be obtained with the \\(\\sigma\\) versus \\(\\mu^*\\) plots.</p> \\(cov=5 \\%\\)"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-45-45-0-45-45-45-45-0-45-45","title":"Layup \\([45, -45, 0, 45, -45, -45, 45, 0, -45, 45]\\)","text":"\\(cov=5 \\%\\) <p>Based on the max strength, the most sensitive variables is \\(X_t\\) and \\(S_{12}\\).</p> <p>Finally, more details about the sensitivities can be obtained with the \\(\\sigma\\) versus \\(\\mu^*\\) plots.</p> \\(cov=5 \\%\\)"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#opfmcube-psc","title":"OpfmCube PSC","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-30-90-30-90-30-30-90-30-90-30_1","title":"Layup \\([30, 90, -30, 90, -30, -30, 90, -30, 90, 30]\\)","text":"\\(cov=5 \\%\\) \\(cov = 5 \\%\\) <p>Based on the max strength, the most sensitive variables are \\(X_c\\), \\(S_{12}\\), \\(E_1\\), \\(G_{12}\\) and \\(E_{1c}\\).</p> <p>Finally, more details about the sensitivities can be obtained with the \\(\\sigma\\) versus \\(\\mu^*\\) plots.</p> \\(cov=5 \\%\\)"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-60-0-60-0-60-60-60-60-0-60-0-60_1","title":"Layup \\([-60, 0, 60, 0, -60, 60, 60, -60, 0, 60, 0, -60]\\)","text":"<p>The same plots are now shown for another layup.</p> \\(cov=5 \\%\\) \\(cov=20 \\%\\) <p>We note that the sensitivities are very close for the two parameter spaces. Thus, for this layup, the sensitivities are mostly independent of the width of the distribution around the default input values. Based on the max strength, the most sensitivity variables are \\(X_c\\), \\(E_1\\).</p> <p>TODO: why the variable names are not shown on some plots?</p> \\(cov=5 \\%\\) \\(cov=20\\%\\)"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_cube/sensitivity/#layup-45-45-0-45-45-45-45-0-45-45_1","title":"Layup \\([45, -45, 0, 45, -45, -45, 45, 0, -45, 45]\\)","text":"\\(cov=5 \\%\\) \\(cov=20 \\%\\) <p>Again, the \\(\\mu^*\\) indicator is mostly independent of the two chosen parameter spaces. Based on the max strength, the most sensitivity variables are \\(X_c\\), \\(G_{12}\\) and \\(E_1\\).</p> \\(cov=5 \\%\\) \\(cov=20\\%\\) <p>However, the non-linearity magnitude are very different between the two parameter spaces.</p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_plate_oh/sensitivity/","title":"Sensitivity","text":""},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_plate_oh/sensitivity/#results-for-opfmplate-oht","title":"Results for OpfmPlate OHT","text":"<p>Layup \\([45, 0, 135, 90, 90, 135, 0, 45]\\)</p> \\(cov=5 \\%\\) \\(cov=20 \\%\\) <p>Based on the max force, the most sensitive inputs are \\(E_1\\), \\(X_t\\), \\(E_{1t}\\) and \\(def_{1t}\\).</p> \\(cov=5 \\%\\) \\(cov=20 \\%\\) <p>Interestingly, based on the max force, the sensitivity ranking of the inputs is different on the two parameter spaces.</p>"},{"location":"tutorials/vvuq_study/sensitivity_analysis/opfm_plate_oh/sensitivity/#opfmplate-ohc-model","title":"OpfmPlate OHC model","text":""},{"location":"tutorials/vvuq_study/solution_verification/","title":"Index","text":""},{"location":"tutorials/vvuq_study/solution_verification/#solution-verification","title":"Solution  Verification","text":"<p>OpfmPlate PST OpfmPlate OHT</p>"},{"location":"tutorials/vvuq_study/solution_verification/opfm_plate_oht/solution_verification_opfm_plate_oht/","title":"Solution verification opfm plate oht","text":""},{"location":"tutorials/vvuq_study/solution_verification/opfm_plate_oht/solution_verification_opfm_plate_oht/#solution-verification-of-opfmplate-model-oht","title":"Solution verification of OpfmPlate model OHT","text":"<p>The above figure shows that the solution oscillates with respect to the number of degrees of freedom of the mesh, which is far from the ideal behaviour of asymptotic convergence. It is thus not possible to obtain the classical indicators for mesh convergence, like Richardson extrapolation (which would be the converged solution, i.e. the one obtained for an element size of zero), or the convergence order.</p> <p>However, we can still compute the largest difference between the four solutions relatively to the median value, which is around \\(1 \\%\\). It is similar to the Grid Convergence Index, which can be computed with the assumption of a convergence order. Here, for a convergence order one and two, the \\(GCI\\) does not exceed \\(2 \\%\\) either for the two finest or two coarsest meshes. It indicates that the solution is reasonably converged, though the numerical error is not negligible.</p> Unnamed: 0 value gci order 1 / GCI-based-ErrBand (coarsest) 0.011272 / [8648.244 8845.433] gci order 2 / GCI-based-ErrBand (coarsest) 0.004656 / [8706.118 8787.56 ] gci order 1 / GCI-based-ErrBand (finest) 0.021827 / [8528.051 8908.641] gci order 2 / GCI-based-ErrBand (finest) 0.009021 / [8639.698 8796.994] <p>It would be interesting to systematize this kind of analysis for any new layup under analysis. In addition, it would be interesting to explore higher mesh coarsening to estimate if simulations with this model can be reliably run for coarser mesh than the default one (which is currently the one for <code>coarsening_factor=1</code>.) A database would be very useful to store these verification results.</p>"},{"location":"tutorials/vvuq_study/solution_verification/opfm_plate_pst/solution_verification_opfm_plate_pst/","title":"Solution verification opfm plate pst","text":""},{"location":"tutorials/vvuq_study/solution_verification/opfm_plate_pst/solution_verification_opfm_plate_pst/#solution-verification-for-opfmplate-model-pst","title":"Solution verification for OpfmPlate model PST","text":"<p>The Opfm-based models are verified for the following inputs:</p> <pre><code>PLY_THICKNESS = 0.2\nLAYUP = array([-45, 90, 45, 0, 0, 45, 90, -45])\nSPECIFIC_INPUTS = {\n    \"def1c\": array([0.005]),\n    \"def1t\": array([0.005]),\n    \"E1t\": array([1.333 * 150000]),\n    \"E1c\": array([0.667 * 150000]),\n    \"fcv_d_c\": array([2.0]),\n    \"fcv_d_t\": array([2.0]),\n    \"beta22\": array([0.2]),\n    \"element_size\": array([2 * PLY_THICKNESS]),\n}\n</code></pre> <p>The main indicators of grid convergence for OpfmPlate PST are summarized below.</p> Unnamed: 0 value Extrapolation / 95pctErrBand 761.686 / [761.005 762.367] CV order / 95pctErrBand 4.788 / [-2.752 12.328] gci / GCI-based-ErrBand (coarsest) 0.000209 / [762.443 762.761] gci order 1 / GCI-based-ErrBand (coarsest) 0.002121 / [760.985 764.219] gci order 2 / GCI-based-ErrBand (coarsest) 0.000881 / [761.93  763.274] gci / GCI-based-ErrBand (finest) 3e-05 / [761.755 761.801] gci order 1 / GCI-based-ErrBand (finest) 0.000317 / [761.537 762.02 ] gci order 2 / GCI-based-ErrBand (finest) 0.00013 / [761.679 761.877] RDE (coarsest to finest) [0.002 0.002 0.   ] RDE-based-ErrBand (coarsest) [761.777 761.779] <p>First, if Richardson extrapolation can be computed:</p> <ul> <li>its value is given with a \\(95 \\%\\) error band.</li> <li>The convergence order is given, together with a \\(95 \\%\\) error band.</li> <li>The Grid Convergence Index is given, together with a \\(95 \\%\\) error band,     both for the two finest meshes (\\(GCI\\) requires only two meshes to be computed),     and the two coarsest. Indeed, if the user wants to make on decision on the use     of the coarser mesh (which leads to the lowest computational time),     having indicators on the coarsest meshes is interesting.</li> <li>The RDE on the two coarsest meshes, the two medium meshes and the two finest meshes,     and the error band on the RDE, computed in the less favourable case     the two coarsest meshes).</li> </ul> <p>If Richardson extrapolation is not available, the user still has the following indicators:</p> <ul> <li>The \\(GCI\\) for an assumed convergence order of two, and the \\(GCI\\) for an assumed     convergence order of one, both given for the two finest and coarsest meshes.</li> </ul> <p>Here, the RDE is very small, the Grid Convergence Index is close to zero, and the \\(95 \\%\\) confidence interval on Richardson extrapolation is around 1 Mpa, which is very small compared to the absolute value of 762 MPa.</p> <p>Then, more details on the Richardson extrapolation can be found in the following figure.</p> <p></p> <p>The extrapolation can be computed from three meshes. The four computed meshes are aranged in folds of three meshes, and for each fold an extrapolation is computed. For a given fold, the extrapolated value corresponds to the intersection of the curve with the \\(x = 0\\) axis. The median value for the four extrapolated values and the \\(95 \\%\\) convergence interval are reported along the \\(x = 0\\) axis in orange.</p> <p>Finally, the following figure shows that the convergence order is roughly two.</p> <p></p> <p>Raw model input and output data are also available:</p> Unnamed: 0 coarsening_factor N_dof_coarsest / N_dof Ref[max_strength] cpu_time datetime degrees_of_freedom error_code failure_mode job_dir max_strength modulus_10_50 modulus_e005_e025 strain_history[0] strain_history[1] strain_history[2] strain_history[3] strain_history[4] strain_history[5] strain_history[6] strain_history[7] strain_history[8] strain_history[9] strain_history[10] strain_history[11] strain_history[12] strain_history[13] strain_history[14] strain_history[15] strain_history[16] strain_history[17] strain_history[18] strain_history[19] strain_history[20] strain_history[21] strain_history[22] strain_history[23] strain_history[24] strain_history[25] strain_history[26] strain_history[27] strain_history[28] strain_history[29] strain_history[30] strain_history[31] strain_history[32] strain_history[33] strain_history[34] strain_history[35] strain_history[36] strain_history[37] strain_history[38] strain_history[39] strain_history[40] strain_history[41] strain_history[42] strain_history[43] strain_history[44] strain_history[45] strain_history[46] strain_history[47] strain_history[48] strain_history[49] strain_history[50] strain_history[51] strain_history[52] strain_history[53] strain_history[54] strain_history[55] strain_history[56] strain_history[57] strain_history[58] strain_history[59] strain_history[60] strain_history[61] strain_history[62] strain_history[63] strain_history[64] strain_history[65] strain_history[66] strain_history[67] strain_history[68] strain_history[69] strain_history[70] strain_history[71] strain_history[72] strain_history[73] strain_history[74] strain_history[75] strain_history[76] strain_history[77] strain_history[78] strain_history[79] strain_history[80] strain_history[81] strain_history[82] strain_history[83] strain_history[84] strain_history[85] strain_history[86] strain_history[87] strain_history[88] strain_history[89] strain_history[90] strain_history[91] strain_history[92] strain_history[93] strain_history[94] strain_history[95] strain_history[96] strain_history[97] strain_history[98] strain_history[99] stress_history[0] stress_history[1] stress_history[2] stress_history[3] stress_history[4] stress_history[5] stress_history[6] stress_history[7] stress_history[8] stress_history[9] stress_history[10] stress_history[11] stress_history[12] stress_history[13] stress_history[14] stress_history[15] stress_history[16] stress_history[17] stress_history[18] stress_history[19] stress_history[20] stress_history[21] stress_history[22] stress_history[23] stress_history[24] stress_history[25] stress_history[26] stress_history[27] stress_history[28] stress_history[29] stress_history[30] stress_history[31] stress_history[32] stress_history[33] stress_history[34] stress_history[35] stress_history[36] stress_history[37] stress_history[38] stress_history[39] stress_history[40] stress_history[41] stress_history[42] stress_history[43] stress_history[44] stress_history[45] stress_history[46] stress_history[47] stress_history[48] stress_history[49] stress_history[50] stress_history[51] stress_history[52] stress_history[53] stress_history[54] stress_history[55] stress_history[56] stress_history[57] stress_history[58] stress_history[59] stress_history[60] stress_history[61] stress_history[62] stress_history[63] stress_history[64] stress_history[65] stress_history[66] stress_history[67] stress_history[68] stress_history[69] stress_history[70] stress_history[71] stress_history[72] stress_history[73] stress_history[74] stress_history[75] stress_history[76] stress_history[77] stress_history[78] stress_history[79] stress_history[80] stress_history[81] stress_history[82] stress_history[83] stress_history[84] stress_history[85] stress_history[86] stress_history[87] stress_history[88] stress_history[89] stress_history[90] stress_history[91] stress_history[92] stress_history[93] stress_history[94] stress_history[95] stress_history[96] stress_history[97] stress_history[98] stress_history[99] 0 1.2 1 761.686 285.368 \u26a0\ufe0f 2024-10-21 18:38:22.222167 55258 0 \u26a0\ufe0f fibre_failure_tension \u26a0\ufe0f /home/sebastien.bocquet/PycharmProjects/vims_composites_only/docs/examples/solution_verification/OpfmPlate_PST/CodeConvergenceVerification/runs/1 763.13 56929.1 55802.5 0 7.66941e-05 0.000153388 0.000230082 0.000306749 0.0003833 0.000459852 0.000536403 0.000627577 0.000742145 0.000856714 0.000971282 0.00110762 0.00125992 0.00141221 0.00156451 0.00171643 0.00186824 0.00202004 0.00217184 0.00232321 0.00247457 0.00262592 0.00277721 0.00292815 0.0030791 0.00323004 0.00338086 0.00353145 0.00368204 0.00383263 0.00398307 0.00413338 0.00428368 0.00443399 0.00458415 0.00473426 0.00488436 0.00503447 0.00518457 0.00533467 0.00548477 0.00563493 0.00578547 0.00593601 0.00608655 0.00623712 0.00638774 0.00653837 0.00668899 0.00683998 0.00699135 0.00714271 0.00729408 0.00744619 0.00759864 0.00775109 0.00790354 0.0080562 0.0082089 0.00836159 0.00851433 0.0086676 0.00882087 0.00897414 0.0091282 0.00928437 0.00944055 0.00959672 0.00975284 0.0099089 0.010065 0.010221 0.0103769 0.0105327 0.0106885 0.0108442 0.0109999 0.0111555 0.0113111 0.0114667 0.0116221 0.0117775 0.011933 0.0120883 0.0122436 0.0123989 0.0125541 0.0127093 0.0128645 0.0130196 0.0131747 0.0133297 0.0134847 0.0136396 0.0137946 0.0138211 0.0138169 0.0138128 0.0138087 0 4.19463 8.38926 12.5839 16.7804 20.9846 25.1888 29.393 34.4124 40.7361 47.0598 53.3836 60.9413 69.4039 77.8665 86.3292 94.8174 103.313 111.809 120.305 128.83 137.357 145.883 154.414 162.968 171.523 180.077 188.64 197.218 205.797 214.376 222.964 231.56 240.156 248.752 257.356 265.962 274.568 283.174 291.782 300.39 308.998 317.606 326.208 334.811 343.414 352.015 360.613 369.211 377.809 386.384 394.937 403.49 412.042 420.543 429.021 437.499 445.977 454.441 462.902 471.364 479.822 488.249 496.676 505.103 513.484 521.741 529.998 538.255 546.516 554.781 563.046 571.311 579.587 587.868 596.149 604.43 612.721 621.013 629.306 637.599 645.902 654.206 662.509 670.815 679.129 687.443 695.756 704.074 712.398 720.721 729.045 737.374 745.707 754.039 762.372 763.795 763.573 763.351 763.13 1 1 0.710312 761.686 759.547 \u26a0\ufe0f 2024-10-21 18:38:22.222167 77794 0 \u26a0\ufe0f fibre_failure_tension \u26a0\ufe0f /home/sebastien.bocquet/PycharmProjects/vims_composites_only/docs/examples/solution_verification/OpfmPlate_PST/CodeConvergenceVerification/runs/2 762.602 56677.9 55615.9 0 7.66455e-05 0.000153291 0.000229936 0.000306577 0.000383092 0.000459607 0.000536122 0.000615678 0.000730214 0.00084475 0.000959285 0.00107835 0.00123065 0.00138294 0.00153523 0.00168746 0.0018393 0.00199115 0.00214299 0.00229475 0.00244619 0.00259762 0.00274906 0.00290041 0.00305148 0.00320254 0.00335361 0.00350459 0.00365535 0.0038061 0.00395685 0.00410753 0.00425805 0.00440857 0.00455909 0.00470961 0.00486012 0.00501064 0.00516115 0.00531184 0.0054628 0.00561376 0.00576471 0.00591568 0.00606666 0.00621764 0.00636862 0.00651966 0.00667076 0.00682187 0.00697297 0.00712475 0.00727716 0.00742957 0.00758197 0.00773462 0.00788746 0.0080403 0.00819314 0.00834613 0.00849922 0.00865231 0.0088054 0.00895988 0.00911515 0.00927041 0.00942567 0.00958147 0.00973752 0.00989357 0.0100496 0.0102055 0.0103614 0.0105172 0.0106731 0.0108288 0.0109844 0.0111401 0.0112958 0.0114513 0.0116068 0.0117623 0.0119179 0.0120732 0.0122286 0.012384 0.0125393 0.0126946 0.0128498 0.0130051 0.0131603 0.0133154 0.0134705 0.0136256 0.0137807 0.0138084 0.0138308 0.0138531 0.0138755 0 4.17575 8.3515 12.5272 16.7034 20.8899 25.0763 29.2628 33.6183 39.9174 46.2165 52.5156 59.0708 67.5042 75.9375 84.3709 92.8102 101.281 109.751 118.221 126.698 135.203 143.707 152.211 160.723 169.258 177.793 186.328 194.87 203.431 211.993 220.554 229.121 237.698 246.275 254.852 263.431 272.014 280.597 289.18 297.761 306.339 314.918 323.497 332.075 340.654 349.233 357.812 366.386 374.957 383.528 392.098 400.618 409.09 417.563 426.035 434.487 442.924 451.36 459.796 468.22 476.634 485.049 493.463 501.783 510.049 518.316 526.582 534.809 543.018 551.227 559.435 567.655 575.879 584.103 592.327 600.562 608.8 617.038 625.276 633.524 641.774 650.024 658.275 666.535 674.796 683.058 691.32 699.591 707.864 716.137 724.409 732.691 740.974 749.257 757.54 759.018 760.213 761.407 762.602 2 0.833333 0.4963 761.686 1488.46 \u26a0\ufe0f 2024-10-21 18:38:22.222167 111340 0 \u26a0\ufe0f fibre_failure_tension \u26a0\ufe0f /home/sebastien.bocquet/PycharmProjects/vims_composites_only/docs/examples/solution_verification/OpfmPlate_PST/CodeConvergenceVerification/runs/3 761.862 56421 55451.4 0 7.65506e-05 0.000153101 0.000229652 0.000306202 0.000382649 0.000459082 0.000535514 0.000611947 0.000716881 0.000831315 0.00094575 0.00106018 0.00119822 0.00135042 0.00150262 0.00165482 0.00180682 0.00195862 0.00211042 0.00226221 0.00241387 0.0025653 0.00271673 0.00286816 0.00301951 0.00317062 0.00332173 0.00347284 0.00362391 0.00377475 0.00392558 0.00407642 0.00422725 0.00437808 0.0045289 0.00467972 0.00483055 0.00498175 0.005133 0.00528426 0.00543551 0.00558678 0.00573806 0.00588934 0.00604062 0.00619193 0.00634326 0.00649459 0.00664592 0.00679753 0.00694942 0.00710131 0.0072532 0.00740549 0.00755843 0.00771138 0.00786432 0.00801731 0.00817043 0.00832354 0.00847666 0.00862991 0.00878408 0.00893825 0.00909242 0.00924659 0.00940254 0.0095585 0.00971445 0.0098704 0.0100263 0.0101821 0.0103379 0.0104938 0.0106495 0.0108051 0.0109608 0.0111164 0.011272 0.0114275 0.011583 0.0117385 0.011894 0.0120494 0.0122048 0.0123602 0.0125156 0.0126708 0.0128261 0.0129814 0.0131367 0.0132919 0.0134471 0.0136022 0.0137441 0.0137925 0.0138408 0.0138892 0.0139376 0 4.1559 8.31179 12.4677 16.6236 20.7899 24.9576 29.1254 33.2932 39.04 45.3132 51.5864 57.8595 65.4635 73.866 82.2685 90.671 99.0939 107.537 115.981 124.424 132.881 141.362 149.843 158.323 166.812 175.326 183.84 192.354 200.871 209.412 217.954 226.496 235.037 243.588 252.139 260.689 269.24 277.789 286.337 294.885 303.433 311.985 320.539 329.093 337.647 346.199 354.75 363.302 371.853 380.382 388.889 397.397 405.904 414.373 422.78 431.186 439.593 447.995 456.384 464.773 473.162 481.54 489.846 498.152 506.458 514.764 522.913 531.063 539.212 547.361 555.522 563.684 571.846 580.008 588.183 596.363 604.543 612.723 620.911 629.104 637.297 645.49 653.69 661.896 670.101 678.307 686.518 694.735 702.953 711.171 719.391 727.62 735.849 744.078 751.599 754.164 756.73 759.296 761.862 3 0.694444 0.346454 761.686 2653.42 \u26a0\ufe0f 2024-10-21 18:38:22.222167 159496 0 \u26a0\ufe0f fibre_failure_tension \u26a0\ufe0f /home/sebastien.bocquet/PycharmProjects/vims_composites_only/docs/examples/solution_verification/OpfmPlate_PST/CodeConvergenceVerification/runs/4 761.778 56145.1 55303.4 0 7.59719e-05 0.000151944 0.000227916 0.000303888 0.000379787 0.000455654 0.000531522 0.000607389 0.000698026 0.000811638 0.00092525 0.00103886 0.00115574 0.00130689 0.00145804 0.00160918 0.00176033 0.0019112 0.002062 0.00221279 0.00236359 0.00251423 0.0026647 0.00281518 0.00296565 0.00311608 0.00326628 0.00341648 0.00356667 0.00371687 0.00386697 0.00401705 0.00416714 0.00431722 0.00446756 0.00461809 0.00476862 0.00491915 0.00506971 0.00522034 0.00537097 0.00552161 0.00567224 0.00582289 0.00597354 0.00612419 0.00627485 0.00642559 0.00657639 0.00672719 0.00687799 0.00702913 0.00718089 0.00733265 0.0074844 0.00763618 0.0077884 0.00794063 0.00809285 0.00824507 0.00839753 0.00855007 0.00870261 0.00885515 0.0090085 0.00916292 0.00931734 0.00947175 0.00962623 0.00978107 0.00993591 0.0100907 0.0102456 0.0104003 0.010555 0.0107097 0.0108644 0.011019 0.0111736 0.0113282 0.0114828 0.0116373 0.0117918 0.0119463 0.0121008 0.0122553 0.0124097 0.0125641 0.0127185 0.0128729 0.0130272 0.0131816 0.0133359 0.0134902 0.0136268 0.0137229 0.0138191 0.0139152 0.0140113 0 4.11143 8.22286 12.3343 16.4457 20.5662 24.6905 28.8149 32.9393 37.8798 44.0897 50.2997 56.5097 62.9033 71.2248 79.5463 87.8679 96.1894 104.546 112.911 121.277 129.643 138.028 146.434 154.84 163.246 171.658 180.1 188.541 196.983 205.424 213.886 222.35 230.814 239.279 247.743 256.206 264.67 273.134 281.6 290.072 298.544 307.016 315.488 323.963 332.438 340.914 349.389 357.858 366.323 374.788 383.253 391.686 400.056 408.427 416.797 425.165 433.478 441.791 450.105 458.418 466.707 474.988 483.268 491.549 499.751 507.849 515.948 524.047 532.139 540.189 548.24 556.29 564.34 572.406 580.474 588.543 596.611 604.688 612.772 620.856 628.941 637.028 645.126 653.224 661.322 669.419 677.529 685.64 693.751 701.862 709.98 718.103 726.225 734.348 741.539 746.598 751.658 756.718 761.778 <p>These figures and other information about the model can be explored interactively in a dashboard. The dashboard can be opened by typing <code>dashboard_verification</code> in a console where VIMSEO environment is activated. The second tab allows to explore code verification and the third tab is for solution verification exploration.</p>"}]}